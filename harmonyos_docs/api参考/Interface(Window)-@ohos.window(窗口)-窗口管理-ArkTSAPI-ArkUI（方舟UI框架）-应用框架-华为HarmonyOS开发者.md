<h1 _ngcontent-fmc-c119="" class="doc-title ng-star-inserted" title="Interface (Window)"> Interface (Window) </h1>

<div _ngcontent-fmc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 6开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>     </div></div></div>    <p>当前窗口实例，窗口管理器管理的基本单元。</p>    <p>下列API示例中都需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-f#windowgetlastwindow9">getLastWindow()</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-f#windowcreatewindow9">createWindow()</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-f#windowfindwindow9">findWindow()</a>中的任一方法获取到Window实例（windowClass），再通过此实例调用对应方法。</p>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 2053px;">     <h2 id="showwindow9" device-type="phone,2in1,tablet,wearable,tv">showWindow<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showwindow9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showWindow(callback: AsyncCallback&lt;void&gt;): void</p>     <p>显示当前窗口，使用callback异步回调，仅支持系统窗口与应用子窗口，或将已显示的应用主窗口层级提升至顶部。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用该接口前，建议先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">loadContent</a>方法或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9-1">setUIContent</a>方法完成页面加载。如果应用主窗口没有完成页面加载，直接调用该接口，界面会一直显示启动界面；如果系统窗口与应用子窗口没有完成页面加载，直接调用该接口，窗口会处于前台，但不可见。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-comment">// 创建子窗</span></li><li>        windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">"testSubWindow"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create the subWindow. Cause: The data is empty'</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          subWindow.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the subWindow content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the subWindow content.'</span>);</li><li>            <span class="hljs-keyword">try</span> {</li><li>              subWindow.<span class="hljs-title function_">showWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>                <span class="hljs-keyword">if</span> (errCode) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show the window. Error code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing the window.'</span>);</li><li>              });</li><li>            } <span class="hljs-keyword">catch</span> (exception) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>            }</li><li>          })</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the sub window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>  });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2025px;">     <h2 id="showwindow9-1" device-type="phone,2in1,tablet,wearable,tv">showWindow<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showwindow9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showWindow(): Promise&lt;void&gt;</p>     <p>显示当前窗口，使用Promise异步回调，仅支持系统窗口与应用子窗口，或将已显示的应用主窗口层级提升至顶部。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用该接口前，建议优先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">loadContent</a>方法或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9-1">setUIContent</a>方法完成页面加载。如果应用主窗口没有完成页面加载，直接调用该接口，界面会一直显示启动界面；如果系统窗口与应用子窗口没有完成页面加载，直接调用该接口，窗口会处于前台，但不可见。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-comment">// 创建子窗</span></li><li>        windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">"testSubWindow"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create the subWindow. Cause: The data is empty'</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          subWindow.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the subWindow content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the subWindow content.'</span>);</li><li>            <span class="hljs-keyword">try</span> {</li><li>              <span class="hljs-keyword">let</span> promise = subWindow.<span class="hljs-title function_">showWindow</span>();</li><li>              promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing the window.'</span>);</li><li>              }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show the window. Error code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              });</li><li>            } <span class="hljs-keyword">catch</span> (exception) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>            }</li><li>          });</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the sub window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2581px;">     <h2 id="showwindow20" device-type="phone,2in1,tablet,wearable,tv">showWindow<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showwindow20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>showWindow(options: ShowWindowOptions): Promise&lt;void&gt;</p>     <p>显示当前窗口，使用Promise异步回调，仅支持系统窗口及应用子窗口，或将已显示的应用主窗口的层级提升至顶部。支持传入参数来控制窗口显示的行为。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>调用该接口前，建议优先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#loadcontent9">loadContent</a>方法或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9-1">setUIContent</a>方法完成页面加载。如果应用主窗口没有完成页面加载，直接调用该接口，界面会一直显示启动界面；如果系统窗口与应用子窗口没有完成页面加载，直接调用该接口，窗口会处于前台，但不可见。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#showwindowoptions20">ShowWindowOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">显示子窗口或系统窗口时的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function showWindow can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter validation error. Possible cause: 1. The value of the parameter is out of the allowed range; 2. The length of the parameter exceeds the allowed length; 3. The parameter format is incorrect.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      <span class="hljs-comment">// 创建子窗</span></li><li>      <span class="hljs-keyword">try</span> {</li><li>        windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">'subWindow'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (data == <span class="hljs-literal">null</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create the subWindow. Cause: The data is empty'</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          data.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the subWindow content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the subWindow content.'</span>);</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">options</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">ShowWindowOptions</span> = {</li><li>              <span class="hljs-attr">focusOnShow</span>: <span class="hljs-literal">false</span></li><li>            };</li><li>            <span class="hljs-keyword">try</span> {</li><li>              data.<span class="hljs-title function_">showWindow</span>(options).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing window'</span>);</li><li>              }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show window. Error code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>              });</li><li>            } <span class="hljs-keyword">catch</span> (exception) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>            }</li><li>          });</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the sub window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1073px;">     <h2 id="destroywindow9" device-type="phone,2in1,tablet,wearable,tv">destroyWindow<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroywindow9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>destroyWindow(callback: AsyncCallback&lt;void&gt;): void</p>     <p>销毁当前窗口，使用callback异步回调，支持系统窗口及应用子窗口，全局悬浮窗和模态窗。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">destroyWindow</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to destroy the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in destroying the window.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;">     <h2 id="destroywindow9-1" device-type="phone,2in1,tablet,wearable,tv">destroyWindow<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroywindow9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>destroyWindow(): Promise&lt;void&gt;</p>     <p>销毁当前窗口，使用Promise异步回调，支持系统窗口及应用子窗口，全局悬浮窗和模态窗。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">destroyWindow</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in destroying the window.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to destroy the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1925px;">     <h2 id="movewindowto9" device-type="phone,2in1,tablet,wearable,tv">moveWindowTo<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movewindowto9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveWindowTo(x: number, y: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>移动窗口位置，使用callback异步回调。调用成功即返回，但返回后无法立即获取最终生效结果。如需立即获取，请使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowtoasync12">moveWindowToAsync()</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>不建议在除自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）外的其他窗口模式下使用。</p></li>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口相对于屏幕移动；在非自由窗口状态下，窗口相对于父窗口移动。</p></li>        <li>         <p>若需在非自由窗口状态下实现相对于屏幕的移动，请使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowtoglobal15">moveWindowToGlobal()</a>。</p></li>        <li>         <p>该方法对非自由窗口状态下的主窗口无效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在x轴方向移动到的坐标位置，单位为px，值为正表示位置在x轴右侧；值为负表示位置在x轴左侧；值为0表示位置在x轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在y轴方向移动到的坐标位置，单位为px，值为正表示位置在y轴下侧；值为负表示位置在y轴上侧；值为0表示位置在y轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">moveWindowTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2003px;">     <h2 id="movewindowto9-1" device-type="phone,2in1,tablet,wearable,tv">moveWindowTo<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movewindowto9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveWindowTo(x: number, y: number): Promise&lt;void&gt;</p>     <p>移动窗口位置，使用Promise异步回调。调用成功即返回，但返回后无法立即获取最终生效结果。如需立即获取，请使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowtoasync12">moveWindowToAsync()</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>不建议在除自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）外的其他窗口模式下使用。</p></li>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口相对于屏幕移动；在非自由窗口状态下，窗口相对于父窗口移动。</p></li>        <li>         <p>若需在非自由窗口状态下实现相对于屏幕的移动，请使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowtoglobal15">moveWindowToGlobal()</a>。</p></li>        <li>         <p>该方法对非自由窗口状态下的主窗口无效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在x轴方向移动到的坐标位置，单位为px，值为正表示位置在x轴右侧；值为负表示位置在x轴左侧；值为0表示位置在x轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在y轴方向移动到的坐标位置，单位为px，值为正表示位置在y轴下侧；值为负表示位置在y轴上侧；值为0表示位置在y轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">moveWindowTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2177px;">     <h2 id="movewindowtoasync12" device-type="phone,2in1,tablet,wearable,tv">moveWindowToAsync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movewindowtoasync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveWindowToAsync(x: number, y: number): Promise&lt;void&gt;</p>     <p>移动窗口位置，使用Promise异步回调。调用生效后返回，回调中可使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>（见示例）立即获取最终生效结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300010。</p></li>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口相对于屏幕移动；在非自由窗口状态下，窗口相对于主窗口移动。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在x轴方向移动到的坐标位置，单位为px，值为正表示位置在x轴右侧；值为负表示位置在x轴左侧；值为0表示位置在x轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在y轴方向移动到的坐标位置，单位为px，值为正表示位置在y轴下侧；值为负表示位置在y轴上侧；值为0表示位置在y轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">moveWindowToAsync</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>    <span class="hljs-keyword">let</span> rect = windowClass?.<span class="hljs-title function_">getWindowProperties</span>().<span class="hljs-property">windowRect</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get window rect: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rect));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2198px;">     <h2 id="movewindowtoasync15" device-type="phone,2in1,tablet,wearable,tv">moveWindowToAsync<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movewindowtoasync15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveWindowToAsync(x: number, y: number, moveConfiguration?: MoveConfiguration): Promise&lt;void&gt;</p>     <p>移动窗口位置，支持配置moveConfiguration参数指定窗口移动的目标屏幕ID，使用Promise异步回调。调用生效后返回，回调中可使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>（见示例）立即获取最终生效结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300010。</p></li>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口相对于屏幕移动；在非自由窗口状态下，窗口相对于主窗口移动。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在x轴方向移动的值，值为正表示右移，单位为px，该参数应该为整数，非整数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在y轴方向移动的值，值为正表示下移，单位为px，该参数应该为整数，非整数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">moveConfiguration</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#moveconfiguration15">MoveConfiguration</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">窗口移动选项，未设置将默认保持为当前屏幕。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">moveConfiguration</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">MoveConfiguration</span> = {</li><li>    <span class="hljs-attr">displayId</span>: <span class="hljs-number">0</span></li><li>  };</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">moveWindowToAsync</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, moveConfiguration);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>    <span class="hljs-keyword">let</span> rect = windowClass?.<span class="hljs-title function_">getWindowProperties</span>().<span class="hljs-property">windowRect</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get window rect: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rect));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2097px;">     <h2 id="movewindowtoglobal13" device-type="phone,2in1,tablet,wearable,tv">moveWindowToGlobal<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movewindowtoglobal13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveWindowToGlobal(x: number, y: number): Promise&lt;void&gt;</p>     <p>基于屏幕坐标移动窗口位置，使用Promise异步回调。调用生效后返回，回调中可使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>（见示例）立即获取最终生效结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300010。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以屏幕左上角为起点，窗口在x轴方向移动的值，单位为px。值为正表示右移，值为负表示左移。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以屏幕左上角为起点，窗口在y轴方向移动的值，单位为px。值为正表示下移，值为负表示上移。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">moveWindowToGlobal</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>    <span class="hljs-keyword">let</span> rect = windowClass?.<span class="hljs-title function_">getWindowProperties</span>().<span class="hljs-property">windowRect</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get window rect: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rect));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2262px;">     <h2 id="movewindowtoglobal15" device-type="phone,2in1,tablet,wearable,tv">moveWindowToGlobal<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movewindowtoglobal15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveWindowToGlobal(x: number, y: number, moveConfiguration?: MoveConfiguration): Promise&lt;void&gt;</p>     <p>基于屏幕坐标移动窗口位置，支持配置moveConfiguration参数指定窗口移动的目标屏幕ID，使用Promise异步回调。调用生效后返回，回调中可使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>（见示例）立即获取最终生效结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300010。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以目标屏幕左上角为起点，窗口在x轴方向移动的值，单位为px。值为正表示右移，值为负表示左移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以目标屏幕左上角为起点，窗口在y轴方向移动的值，单位为px。值为正表示下移，值为负表示上移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">moveConfiguration</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#moveconfiguration15">MoveConfiguration</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">窗口移动选项，未设置将默认保持为当前屏幕。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">moveConfiguration</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">MoveConfiguration</span> = {</li><li>    <span class="hljs-attr">displayId</span>: <span class="hljs-number">0</span></li><li>  };</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">moveWindowToGlobal</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, moveConfiguration);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>    <span class="hljs-keyword">let</span> rect = windowClass?.<span class="hljs-title function_">getWindowProperties</span>().<span class="hljs-property">windowRect</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get window rect: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rect));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1953px;">     <h2 id="movewindowtoglobaldisplay20" device-type="phone,2in1,tablet,wearable,tv">moveWindowToGlobalDisplay<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movewindowtoglobaldisplay20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveWindowToGlobalDisplay(x: number, y: number): Promise&lt;void&gt;</p>     <p>基于全局坐标系（扩展屏场景下，以主屏幕左上角为原点）移动窗口位置，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300010。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以主屏幕左上角为起点，窗口在x轴方向移动的值，单位为px。值为正表示右移，值为负表示左移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以主屏幕左上角为起点，窗口在y轴方向移动的值，单位为px。值为正表示下移，值为负表示上移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Invalid parameter range.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">moveWindowToGlobalDisplay</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window in global display.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window in global display. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window in global display. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1646px;">     <h2 id="clienttoglobaldisplay20" device-type="phone,2in1,tablet,wearable,tv">clientToGlobalDisplay<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clienttoglobaldisplay20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clientToGlobalDisplay(winX: number, winY: number): Position</p>     <p>将相对于当前窗口左上角的坐标转换为相对于主屏幕左上角的全局坐标。</p>     <p>不支持在经过显示缩放的窗口中调用，例如手机或平板设备在非自由多窗模式下的悬浮窗场景。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">winX</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以当前窗口左上角为起点，组件在x轴方向移动的值，单位为px。值为正表示右移，值为负表示左移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">winY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以当前窗口左上角为起点，组件在y轴方向移动的值，单位为px。值为正表示下移，值为负表示上移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#position20">Position</a></td>         <td class="cellrowborder" width="50%">返回转换后的坐标。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Invalid parameter range.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> position = windowClass.<span class="hljs-title function_">clientToGlobalDisplay</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in converting the position in the current window to the position in global display. Position: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(position));</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to convert the position. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1646px;">     <h2 id="globaldisplaytoclient20" device-type="phone,2in1,tablet,wearable,tv">globalDisplayToClient<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="globaldisplaytoclient20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>globalDisplayToClient(globalDisplayX: number, globalDisplayY: number): Position</p>     <p>将相对于主屏幕左上角的全局坐标转换为相对于当前窗口左上角的坐标。</p>     <p>不支持在经过显示缩放的窗口中调用，例如手机或平板设备在非自由多窗模式下的悬浮窗场景。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">globalDisplayX</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以主屏幕左上角为起点，组件在x轴方向移动的值，单位为px。值为正表示右移，值为负表示左移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">globalDisplayY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示以主屏幕左上角为起点，组件在y轴方向移动的值，单位为px。值为正表示下移，值为负表示上移。该参数应该为整数，非整数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#position20">Position</a></td>         <td class="cellrowborder" width="50%">返回转换后的坐标。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Invalid parameter range.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> position = windowClass.<span class="hljs-title function_">globalDisplayToClient</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in converting in the position in global display to the position in the current window. Position: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(position));</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to convert the position. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2029px;">     <h2 id="resize9" device-type="phone,2in1,tablet,wearable,tv">resize<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resize9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resize(width: number, height: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>基于窗口左上角顶点改变当前窗口大小，使用callback异步回调。</p>     <p>调用成功即返回，该接口返回后无法立即获取最终生效结果，如需立即获取，建议使用接口<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resizeasync12">resizeAsync()</a>。</p>     <p>窗口存在大小限制<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>，具体尺寸限制范围可以通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowlimits11">getWindowLimits</a>接口进行查询。</p>     <p>调用该接口设置的宽度与高度受到此限制约束，规则：</p>     <p>若所设置的窗口宽/高尺寸小于窗口最小宽/高限制值，则窗口最小宽/高限制值生效，系统窗口和全局悬浮窗设置最小值不受窗口最小宽/高限制值限制；</p>     <p>若所设置的窗口宽/高尺寸大于窗口最大宽/高限制值，则窗口最大宽/高限制值生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300002。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标宽度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码401）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标高度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码401）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.16.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.16.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">resize</span>(<span class="hljs-number">500</span>, <span class="hljs-number">1000</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing the window size.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2107px;">     <h2 id="resize9-1" device-type="phone,2in1,tablet,wearable,tv">resize<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resize9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resize(width: number, height: number): Promise&lt;void&gt;</p>     <p>基于窗口左上角顶点改变当前窗口大小，使用Promise异步回调。</p>     <p>调用成功即返回，该接口返回后无法立即获取最终生效结果，如需立即获取，建议使用接口<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resizeasync12">resizeAsync()</a>。</p>     <p>窗口存在大小限制<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>，具体尺寸限制范围可以通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowlimits11">getWindowLimits</a>接口进行查询。</p>     <p>调用该接口设置的宽度与高度受到此限制约束，规则：</p>     <p>若所设置的窗口宽/高尺寸小于窗口最小宽/高限制值，则窗口最小宽/高限制值生效，系统窗口和全局悬浮窗设置最小值不受窗口最小宽/高限制值限制；</p>     <p>若所设置的窗口宽/高尺寸大于窗口最大宽/高限制值，则窗口最大宽/高限制值生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300002。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标宽度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码401）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标高度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码401）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.15.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.15.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.18.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.18.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">resize</span>(<span class="hljs-number">500</span>, <span class="hljs-number">1000</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing the window size.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2289px;">     <h2 id="resizeasync12" device-type="phone,2in1,tablet,wearable,tv">resizeAsync<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resizeasync12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resizeAsync(width: number, height: number): Promise&lt;void&gt;</p>     <p>基于窗口左上角顶点改变当前窗口大小，使用Promise异步回调。</p>     <p>调用生效后返回，回调中可使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>（见示例）立即获取最终生效结果。</p>     <p>窗口存在大小限制<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>，具体尺寸限制范围可以通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowlimits11">getWindowLimits</a>接口进行查询。</p>     <p>调用该接口设置的宽度与高度受到此限制约束，规则：</p>     <p>若所设置的窗口宽/高尺寸小于窗口最小宽/高限制值，则窗口最小宽/高限制值生效，系统窗口和全局悬浮窗设置最小值不受窗口最小宽/高限制值限制；</p>     <p>若所设置的窗口宽/高尺寸大于窗口最大宽/高限制值，则窗口最大宽/高限制值生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，窗口为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING，WindowStatusType可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowstatus12">getWindowStatus()</a>获取）时调用生效，否则抛出错误码1300010。</p></li>        <li>         <p>在非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，主窗口调用不生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标宽度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码401）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标高度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码401）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.15.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.15.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.18.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.18.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300010</td>         <td class="cellrowborder" width="50%">The operation in the current window status is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">resizeAsync</span>(<span class="hljs-number">500</span>, <span class="hljs-number">1000</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing the window size.'</span>);</li><li>    <span class="hljs-keyword">let</span> rect = windowClass?.<span class="hljs-title function_">getWindowProperties</span>().<span class="hljs-property">windowRect</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Get window rect: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rect));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 973px;">     <h2 id="getwindowproperties9" device-type="phone,2in1,tablet,wearable,tv">getWindowProperties<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowproperties9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowProperties(): WindowProperties</p>     <p>获取当前窗口的属性。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowproperties">WindowProperties</a></td>         <td class="cellrowborder" width="50%">当前窗口属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> properties = windowClass.<span class="hljs-title function_">getWindowProperties</span>();</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window properties. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1076px;">     <h2 id="getwindowdensityinfo15" device-type="phone,2in1,tablet,wearable,tv">getWindowDensityInfo<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowdensityinfo15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowDensityInfo(): WindowDensityInfo</p>     <p>获取当前窗口所在屏幕的系统显示大小缩放系数、系统默认显示大小缩放系数和自定义显示大小缩放系数信息。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowdensityinfo15">WindowDensityInfo</a></td>         <td class="cellrowborder" width="50%">当前窗口的显示大小缩放系数信息。当返回值为[-1, -1, -1]时，表示当前设备不支持使用该接口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> densityInfo = windowClass.<span class="hljs-title function_">getWindowDensityInfo</span>();</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window densityInfo. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2267px;">     <h2 id="setwindowcontainercolor20" device-type="phone,2in1,tablet,wearable,tv">setWindowContainerColor<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowcontainercolor20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowContainerColor(activeColor: string, inactiveColor: string): void</p>     <p>设置主窗口容器在焦点态和非焦点态时的背景色。在Stage模型下，该接口需在调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>后使用。</p>     <p>窗口容器背景色覆盖整个窗口区域，包括标题栏和内容区域。当同时使用该接口和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowbackgroundcolor9">setWindowBackgroundColor()</a>设置背景色时，内容区域显示窗口背景色，标题栏显示窗口容器背景色。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>需要权限：</strong> ohos.permission.SET_WINDOW_TRANSPARENT</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">activeColor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口容器处于焦点态时的背景色，为十六进制RGB或ARGB颜色，不区分大小写，例如'#00FF00'或'#FF00FF00'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">inactiveColor</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口容器处于非焦点态时的背景色，为十六进制RGB颜色或ARGB颜色（透明度固定为'FF'），不区分大小写，例如'#00FF00'或'#FF00FF00'。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/page2"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      <span class="hljs-comment">// 获取应用主窗口。</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>      windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        windowClass = data;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">activeColor</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'#00000000'</span>;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">inactiveColor</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'#FF000000'</span>;</li><li>        <span class="hljs-keyword">try</span> {</li><li>          windowClass.<span class="hljs-title function_">setWindowContainerColor</span>(activeColor, inactiveColor);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window container color.'</span>);</li><li>        } <span class="hljs-keyword">catch</span> (exception) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window container color. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>        };</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1203px;">     <h2 id="getglobalrect13" device-type="phone,2in1,tablet,wearable,tv">getGlobalRect<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getglobalrect13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getGlobalRect(): Rect</p>     <p>获取窗口在其所在物理屏幕上的真实显示区域，同步接口。</p>     <p>在某些设备上，窗口显示时可能经过了缩放，此接口可以获取缩放后窗口在屏幕上的真实位置和大小。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rect7">Rect</a></td>         <td class="cellrowborder" width="50%">四元组分别表示距离屏幕左上角的x坐标、距离屏幕左上角的y坐标、缩放后的窗口宽度和缩放后的窗口高度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> rect = windowClass.<span class="hljs-title function_">getGlobalRect</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting window rect: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rect));</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get window rect. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1531px;">     <h2 id="getwindowavoidarea9" device-type="phone,2in1,tablet,wearable,tv">getWindowAvoidArea<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowavoidarea9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowAvoidArea(type: AvoidAreaType): AvoidArea</p>     <p>获取当前窗口避让区域。</p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，调用此接口获取避让区域为空。</p>     <p>非自由窗口状态下，仅当子窗口的位置和大小与主窗口一致时，子窗口调用此接口才能获取准确的避让区域，否则获取避让区域为空。其他类型窗口可以获取准确的避让区域。</p>     <p>该接口一般适用于三种场景：</p>     <ul>      <li>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-uiability#onwindowstagecreate">onWindowStageCreate()</a>方法中，获取应用启动时的初始布局避让区域时可调用该接口。</li>      <li>当应用内子窗需要临时显示，对显示内容做布局避让时可调用该接口。</li>      <li>全局悬浮窗、模态窗或系统窗口，调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setsystemavoidareaenabled18">setSystemAvoidAreaEnabled</a>方法使能后，才能调用此接口获取正确的避让区域。</li>     </ul>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#avoidareatype7">AvoidAreaType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示避让区域类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a></td>         <td class="cellrowborder" width="50%">窗口内容避让区域。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.16.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.16.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-keyword">type</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_SYSTEM</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> avoidArea = windowClass.<span class="hljs-title function_">getWindowAvoidArea</span>(<span class="hljs-keyword">type</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the area. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2393px;">     <h2 id="setsystemavoidareaenabled18" device-type="phone,2in1,tablet,wearable,tv">setSystemAvoidAreaEnabled<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsystemavoidareaenabled18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSystemAvoidAreaEnabled(enabled: boolean): Promise&lt;void&gt;</p>     <p>创建全局悬浮窗、模态窗或WindowType窗口类型为系统窗口时，调用该接口使能后才可以通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowavoidarea9">getWindowAvoidArea()</a>获取窗口避让区信息或通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onavoidareachange9">on('avoidAreaChange')</a>监听窗口避让区变化。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否可以获取到避让区。</p>          <p>true表示可以获取避让区；false表示不可以获取避让区。默认值是false。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Configuration</span> = {</li><li>        <span class="hljs-attr">name</span>: <span class="hljs-string">"test"</span>,</li><li>        <span class="hljs-attr">windowType</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowType</span>.<span class="hljs-property">TYPE_DIALOG</span>,</li><li>        <span class="hljs-attr">decorEnabled</span>: <span class="hljs-literal">true</span>,</li><li>        <span class="hljs-attr">ctx</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span></li><li>      };</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">createWindow</span>(config, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>          <span class="hljs-keyword">if</span> (errCode) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the system window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          windowClass = data;</li><li>          windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">"pages/Test"</span>);</li><li>          <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">true</span>;</li><li>          <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setSystemAvoidAreaEnabled</span>(enabled);</li><li>          promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-keyword">type</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_SYSTEM</span>;</li><li>            <span class="hljs-keyword">let</span> avoidArea = windowClass?.<span class="hljs-title function_">getWindowAvoidArea</span>(<span class="hljs-keyword">type</span>);</li><li>          }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the system window avoid area. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          });</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the system window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1762px;">     <h2 id="issystemavoidareaenabled18" device-type="phone,2in1,tablet,wearable,tv">isSystemAvoidAreaEnabled<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="issystemavoidareaenabled18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSystemAvoidAreaEnabled(): boolean</p>     <p>获取悬浮窗、模态窗或WindowType为系统类型的窗口是否可以获取窗口内容的避让区<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>是否可以获取窗口内容的避让区。</p>          <p>true表示可以获取避让区；false表示不可以获取避让区。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Configuration</span> = {</li><li>  <span class="hljs-attr">name</span>: <span class="hljs-string">"test"</span>,</li><li>  <span class="hljs-attr">windowType</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowType</span>.<span class="hljs-property">TYPE_DIALOG</span>,</li><li>  <span class="hljs-attr">decorEnabled</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">ctx</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">createWindow</span>(config, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the system window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    windowClass = data;</li><li>    windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">"pages/Test"</span>);</li><li>    <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">true</span>;</li><li>    <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setSystemAvoidAreaEnabled</span>(enabled);</li><li>    promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> enable = windowClass?.<span class="hljs-title function_">isSystemAvoidAreaEnabled</span>();</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain whether the system window can get avoid area. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the system window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2191px;">     <h2 id="settitleanddockhovershown14" device-type="phone,2in1,tablet,wearable,tv">setTitleAndDockHoverShown<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settitleanddockhovershown14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTitleAndDockHoverShown(isTitleHoverShown?: boolean, isDockHoverShown?: boolean): Promise&lt;void&gt;</p>     <p>设置主窗口进入全屏模式时鼠标Hover到热区上是否显示窗口标题栏和dock栏，使用Promise异步回调。</p>     <p><strong>系统能力</strong>：SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isTitleHoverShown</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否显示窗口标题栏。</p>          <p>true表示显示窗口标题栏；false表示不显示窗口标题栏。默认值是true。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isDockHoverShown</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否显示dock栏。</p>          <p>true表示显示dock栏；false表示不显示dock栏。默认值是true。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 加载主窗口对应的页面。</span></li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">mainWindow</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>      <span class="hljs-comment">// 获取应用主窗口。</span></li><li>      windowStage.<span class="hljs-title function_">getMainWindow</span>().<span class="hljs-title function_">then</span>(</li><li>        <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (!data) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get main window. Cause: The data is undefined.'</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          mainWindow = data;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in obtaining the main window. Data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>          <span class="hljs-comment">// 调用maximize接口，设置窗口进入全屏模式。</span></li><li>          mainWindow.<span class="hljs-title function_">maximize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">MaximizePresentation</span>.<span class="hljs-property">ENTER_IMMERSIVE</span>);</li><li>          <span class="hljs-comment">// 调用setTitleAndDockHoverShown接口，隐藏标题栏和dock栏。</span></li><li>          mainWindow.<span class="hljs-title function_">setTitleAndDockHoverShown</span>(<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);</li><li>        }</li><li>      ).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span>(err.<span class="hljs-property">code</span>){</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          }</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2218px;">     <h2 id="setwindowlayoutfullscreen9" device-type="phone,2in1,tablet,wearable,tv">setWindowLayoutFullScreen<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowlayoutfullscreen9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowLayoutFullScreen(isLayoutFullScreen: boolean): Promise&lt;void&gt;</p>     <p>设置主窗口或子窗口的布局是否为沉浸式布局，使用Promise异步回调。系统窗口调用不生效。</p>     <p>沉浸式布局生效时，布局不避让状态栏与底部导航区域，组件可能产生与其重叠的情况。</p>     <p>非沉浸式布局生效时，布局避让状态栏与底部导航区域，组件不会与其重叠。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 14之前，该接口在所有设备中可正常调用。</p>     <p>从API version 14开始，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错，切换到非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态时生效；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.12.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.12.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.12.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.12.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isLayoutFullScreen</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口的布局是否为沉浸式布局（该沉浸式布局状态栏、底部导航区域仍然显示）。true表示沉浸式布局；false表示非沉浸式布局。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.14.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.14.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.17.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.17.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> isLayoutFullScreen = <span class="hljs-literal">true</span>;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowLayoutFullScreen</span>(isLayoutFullScreen);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window layout to full-screen mode.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1382px;">     <h2 id="setimmersivemodeenabledstate12" device-type="phone,2in1,tablet,wearable,tv">setImmersiveModeEnabledState<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setimmersivemodeenabledstate12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setImmersiveModeEnabledState(enabled: boolean): void</p>     <p>设置当前窗口是否开启沉浸式布局，该调用不会改变窗口模式和窗口大小。仅主窗口和子窗口可调用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 14之前，该接口在所有设备中可正常调用。</p>     <p>从API version 14开始，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否开启沉浸式布局。</p>          <p>true表示开启，false表示关闭。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">false</span>;</li><li>  windowClass.<span class="hljs-title function_">setImmersiveModeEnabledState</span>(enabled);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window immersive mode enabled status. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1179px;">     <h2 id="getimmersivemodeenabledstate12" device-type="phone,2in1,tablet,wearable,tv">getImmersiveModeEnabledState<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getimmersivemodeenabledstate12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getImmersiveModeEnabledState(): boolean</p>     <p>查询当前窗口是否开启沉浸式布局。</p>     <p>返回值与<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setimmersivemodeenabledstate12">setImmersiveModeEnabledState()</a>以及<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9">setWindowLayoutFullScreen()</a>设置结果一致，若未调用上述两个接口则默认返回false。</p>     <p><strong>系统能力</strong>：SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>是否设置开启沉浸式布局。</p>          <p>true表示开启沉浸式布局，false表示关闭沉浸式布局。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> isEnabled = windowClass.<span class="hljs-title function_">getImmersiveModeEnabledState</span>();</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the window immersive mode enabled status. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1028px;">     <h2 id="isimmersivelayout20" device-type="phone,2in1,tablet,wearable,tv">isImmersiveLayout<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isimmersivelayout20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isImmersiveLayout(): boolean</p>     <p>查询当前窗口是否处于沉浸式布局状态。</p>     <p><strong>系统能力</strong>：SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">是否处于沉浸式布局状态。true表示处于沉浸式布局状态，false表示不处于沉浸式布局状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> isEnabled = windowClass.<span class="hljs-title function_">isImmersiveLayout</span>();</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check if the window layout is in immersive mode. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1296px;">     <h2 id="setwindowdelayraiseondrag19" device-type="phone,2in1,tablet,wearable,tv">setWindowDelayRaiseOnDrag<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowdelayraiseondrag19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowDelayRaiseOnDrag(isEnabled: boolean): void</p>     <p>设置窗口是否使能延迟抬升，仅主窗和子窗可设置。</p>     <p>不调用此接口或传入false，主窗和子窗在鼠标左键按下时，默认立即抬升。</p>     <p>调用此接口使能延迟抬升后，在跨窗拖拽场景，可拖拽组件所在窗口在鼠标左键按下时不会立即抬升，直到鼠标左键抬起。</p>     <p><strong>系统能力</strong>：SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用； 在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isEnabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否使能延迟抬升。</p>          <p>true表示使能窗口延迟抬升；false表示不使能窗口延迟抬升。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.function setWindowDelayRaiseOnDrag can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setWindowDelayRaiseOnDrag</span>(<span class="hljs-literal">true</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window delay raise. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2112px;">     <h2 id="setdragkeyframepolicy20" device-type="phone,2in1,tablet,wearable,tv">setDragKeyFramePolicy<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdragkeyframepolicy20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDragKeyFramePolicy(keyFramePolicy: KeyFramePolicy): Promise&lt;KeyFramePolicy&gt;</p>     <p>设置主窗口拖拽的关键帧策略，并使用Promise处理异步回调。</p>     <p>非主窗口调用时，返回1300004错误码。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备可正常调用，在其他设备中返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">keyFramePolicy</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyframepolicy20">KeyFramePolicy</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">用于设置拖拽的关键帧策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyframepolicy20">KeyFramePolicy</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回实际生效的关键帧策略。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Invalid parameter range; 2. The parameter format is incorrect.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">keyFramePolicy</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">KeyFramePolicy</span> = {</li><li>        <span class="hljs-attr">enable</span>: <span class="hljs-literal">true</span></li><li>      }</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setDragKeyFramePolicy</span>(keyFramePolicy);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">ret: <span class="hljs-variable language_">window</span>.KeyFramePolicy</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting key frame: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(ret)}</span>`</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set key frame. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set key frame. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2290px;">     <h2 id="setwindowsystembarenable9" device-type="phone,2in1,tablet,wearable,tv">setWindowSystemBarEnable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowsystembarenable9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowSystemBarEnable(names: Array&lt;'status' | 'navigation'&gt;): Promise&lt;void&gt;</p>     <p>设置主窗口状态栏、底部导航（根据用户设置，可表现为导航条或三键导航栏）的可见模式，状态栏和底部导航通过status控制、navigation参数无效果，使用Promise异步回调。</p>     <p>调用生效后返回并不表示状态栏和底部导航区域的显示或隐藏已完成。主窗口在非全屏/最大化模式（悬浮窗、分屏等场景）下配置不生效，进入全屏/最大化模式后配置生效。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 12之前，该接口在所有设备中可正常调用。</p>     <p>从API version 12开始，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">names</td>         <td class="cellrowborder" width="25%">Array&lt;'status'|'navigation'&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置窗口全屏模式时状态栏、底部导航区域是否显示。</p>          <p>例如，需全部显示，该参数设置为['status', 'navigation']；设置为[]，则不显示。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.16.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.16.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 此处以状态栏等均不显示为例</span></li><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">names</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-string">'status'</span> | <span class="hljs-string">'navigation'</span>&gt; = [];</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowSystemBarEnable</span>(names);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar to be invisible.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2356px;">     <h2 id="setspecificsystembarenabled11" device-type="phone,2in1,tablet,wearable,tv">setSpecificSystemBarEnabled<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setspecificsystembarenabled11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSpecificSystemBarEnabled(name: SpecificSystemBar, enable: boolean, enableAnimation?: boolean): Promise&lt;void&gt;</p>     <p>设置主窗口状态栏、底部导航区域的显示和隐藏，使用Promise异步回调。</p>     <p>调用生效后返回并不表示状态栏和底部导航区域的显示或隐藏已完成。子窗口调用后不生效。主窗口在非全屏/最大化模式（悬浮窗、分屏等场景）下配置不生效，进入全屏/最大化模式后配置生效。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 12之前，该接口在所有设备中可正常调用。</p>     <p>从API version 12开始，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-t#specificsystembar11">SpecificSystemBar</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置窗口全屏模式时，显示或隐藏的系统栏类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置窗口全屏模式时状态栏或底部导航区域是否显示，true表示显示， false表示隐藏。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">enableAnimation<sup>12+</sup></td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">设置状态栏或底部导航区域显示状态变化时是否使用动画，true表示使用， false表示不使用，默认值为false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.16.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.16.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 此处以隐藏状态栏为例</span></li><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setSpecificSystemBarEnabled</span>(<span class="hljs-string">'status'</span>, <span class="hljs-literal">false</span>);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar to be invisible.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2201px;">     <h2 id="setwindowsystembarproperties9" device-type="phone,2in1,tablet,wearable,tv">setWindowSystemBarProperties<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowsystembarproperties9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowSystemBarProperties(systemBarProperties: SystemBarProperties): Promise&lt;void&gt;</p>     <p>设置主窗口状态栏的属性，使用Promise异步回调。</p>     <p>子窗口调用后不生效。主窗口在非全屏/最大化模式（悬浮窗、分屏等场景）下配置不生效，进入全屏/最大化模式后配置生效。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">systemBarProperties</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#systembarproperties">SystemBarProperties</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">状态栏的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-title class_">SystemBarProperties</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">SystemBarProperties</span> = {</li><li>        <span class="hljs-attr">statusBarColor</span>: <span class="hljs-string">'#ff00ff'</span>,</li><li>        <span class="hljs-attr">navigationBarColor</span>: <span class="hljs-string">'#00ff00'</span>,</li><li>        <span class="hljs-comment">//以下两个属性从API Version8开始支持</span></li><li>        <span class="hljs-attr">statusBarContentColor</span>: <span class="hljs-string">'#ffffff'</span>,</li><li>        <span class="hljs-attr">navigationBarContentColor</span>: <span class="hljs-string">'#00ffff'</span></li><li>      };</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowSystemBarProperties</span>(<span class="hljs-title class_">SystemBarProperties</span>);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar properties.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar properties. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar properties. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1563px;">     <h2 id="getwindowsystembarproperties12" device-type="phone,2in1,tablet,wearable,tv">getWindowSystemBarProperties<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowsystembarproperties12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowSystemBarProperties(): SystemBarProperties</p>     <p>主窗口获取状态栏的属性。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#systembarproperties">SystemBarProperties</a></td>         <td class="cellrowborder" width="50%">当前状态栏属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> systemBarProperty = windowClass.<span class="hljs-title function_">getWindowSystemBarProperties</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Success in obtaining system bar properties. Property: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(systemBarProperty));</li><li>      } <span class="hljs-keyword">catch</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get system bar properties. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2081px;">     <h2 id="setstatusbarcolor18" device-type="phone,2in1,tablet,wearable,tv">setStatusBarColor<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setstatusbarcolor18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setStatusBarColor(color: ColorMetrics): Promise&lt;void&gt;</p>     <p>设置主窗口状态栏的文字颜色，使用Promise异步回调。</p>     <p>子窗口不支持设置状态栏文字颜色，调用无效果。主窗口在非全屏/最大化模式（悬浮窗、分屏等场景）下配置不生效，进入全屏/最大化模式后配置生效。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#colormetrics12">ColorMetrics</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的状态栏颜色值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported on this device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ColorMetrics</span>, <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setStatusBarColor</span>(<span class="hljs-title class_">ColorMetrics</span>.<span class="hljs-title function_">numeric</span>(<span class="hljs-number">0x112233</span>));</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the status bar color.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Set the status bar color failed. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the status bar color. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1556px;">     <h2 id="getstatusbarproperty18" device-type="phone,2in1,tablet,wearable,tv">getStatusBarProperty<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getstatusbarproperty18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getStatusBarProperty(): StatusBarProperty</p>     <p>获取主窗口状态栏的属性，如状态栏文字颜色。</p>     <p>子窗口不支持查询，调用会返回错误码1300002。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#statusbarproperty18">StatusBarProperty</a></td>         <td class="cellrowborder" width="50%">当前状态栏属性，如状态栏颜色。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported on this device.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> statusBarProperty = windowClass.<span class="hljs-title function_">getStatusBarProperty</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining system bar properties. Property: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(statusBarProperty));</li><li>      } <span class="hljs-keyword">catch</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get system bar properties. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1869px;">     <h2 id="setpreferredorientation9" device-type="phone,2in1,tablet,wearable,tv">setPreferredOrientation<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setpreferredorientation9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPreferredOrientation(orientation: Orientation, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口的显示方向属性，使用callback异步回调。相关横竖屏开发实践查询<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-landscape-and-portrait-development" target="_blank">横竖屏切换</a>。子窗口调用后不生效。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong> 该接口在支持sensor旋转但不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用且生效； 在支持sensor旋转和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态，但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用，切换为非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态时生效；在其他情况的设备上调用不生效也不报错。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">orientation</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#orientation9">Orientation</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口显示方向的属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。该回调函数返回调用结果是否成功，非应用旋转动效结束。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> orientation = <span class="hljs-variable language_">window</span>.<span class="hljs-property">Orientation</span>.<span class="hljs-property">AUTO_ROTATION</span>;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        windowClass.<span class="hljs-title function_">setPreferredOrientation</span>(orientation, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>          <span class="hljs-keyword">if</span> (errCode) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window orientation. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window orientation.'</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window orientation. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1899px;">     <h2 id="setpreferredorientation9-1" device-type="phone,2in1,tablet,wearable,tv">setPreferredOrientation<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setpreferredorientation9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPreferredOrientation(orientation: Orientation): Promise&lt;void&gt;</p>     <p>设置主窗口的显示方向属性，使用Promise异步回调。子窗口调用后不生效。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong> 该接口在支持sensor旋转但不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用且生效； 在支持sensor旋转和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态，但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用，切换为非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态时生效；在其他情况的设备上调用不生效也不报错。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">orientation</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#orientation9">Orientation</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口显示方向的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.43.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> orientation = <span class="hljs-variable language_">window</span>.<span class="hljs-property">Orientation</span>.<span class="hljs-property">AUTO_ROTATION</span>;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setPreferredOrientation</span>(orientation);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window orientation.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window orientation. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window orientation. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1429px;">     <h2 id="getpreferredorientation12" device-type="phone,2in1,tablet,wearable,tv">getPreferredOrientation<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpreferredorientation12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPreferredOrientation(): Orientation</p>     <p>获取窗口的显示方向属性。未指定方向时，返回window.Orientation.UNSPECIFIED。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#orientation9">Orientation</a></td>         <td class="cellrowborder" width="50%">窗口显示方向的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> orientation = windowClass.<span class="hljs-title function_">getPreferredOrientation</span>();</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get window orientation. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1669px;">     <h2 id="getuicontext10" device-type="phone,2in1,tablet,wearable,tv">getUIContext<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuicontext10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUIContext(): UIContext</p>     <p>获取UIContext实例。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td>         <td class="cellrowborder" width="50%">返回UIContext实例对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-comment">// 为主窗口加载对应的目标页面。</span></li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/page2"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      <span class="hljs-comment">// 获取应用主窗口。</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>      windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        windowClass = data;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining the main window. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>        <span class="hljs-comment">// 获取UIContext实例。</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>        uiContext = windowClass.<span class="hljs-title function_">getUIContext</span>();</li><li>      });</li><li>    });</li><li>  }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1413px;">     <h2 id="setuicontent9" device-type="phone,2in1,tablet,wearable,tv">setUIContent<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setuicontent9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setUIContent(path: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>根据当前工程中指定的某个页面路径为窗口加载具体页面内容，使用callback异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要加载到窗口中的页面内容的路径，Stage模型下该路径需添加到工程的main_pages.json文件中，FA模型下该路径需添加到工程的config.json文件中。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/page2/page3'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1491px;">     <h2 id="setuicontent9-1" device-type="phone,2in1,tablet,wearable,tv">setUIContent<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setuicontent9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setUIContent(path: string): Promise&lt;void&gt;</p>     <p>根据当前工程中指定的某个页面路径为窗口加载具体页面内容，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要加载到窗口中的页面内容的路径，Stage模型下该路径需添加到工程的main_pages.json文件中，FA模型下该路径需添加到工程的config.json文件中。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/page2/page3'</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1530px;">     <h2 id="loadcontent9" device-type="phone,2in1,tablet,wearable,tv">loadContent<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadcontent9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadContent(path: string, storage: LocalStorage, callback: AsyncCallback&lt;void&gt;): void</p>     <p>根据当前工程中指定的页面路径为窗口加载具体页面内容，通过LocalStorage传递状态属性给加载的页面，使用callback异步回调。建议在UIAbility启动过程中使用该接口，重复调用将先销毁旧的页面内容（即UIContent）再加载新的页面内容，请谨慎使用。当前UI的执行上下文可能不明确，所以不建议在回调函数中做UI相关的操作。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要加载到窗口中的页面内容的路径，该路径需添加到工程的main_pages.json文件中。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">storage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-localstorage" target="_blank">LocalStorage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">页面级UI状态存储单元，这里用于为加载到窗口的页面内容传递状态属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Invalid path parameter.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();</li><li>storage.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'storageSimpleProp'</span>, <span class="hljs-number">121</span>);</li><li>windowClass.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/page2'</span>, storage, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1608px;">     <h2 id="loadcontent9-1" device-type="phone,2in1,tablet,wearable,tv">loadContent<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadcontent9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadContent(path: string, storage: LocalStorage): Promise&lt;void&gt;</p>     <p>根据当前工程中指定的页面路径为窗口加载具体页面内容，通过LocalStorage传递状态属性给加载的页面，使用Promise异步回调。建议在UIAbility启动过程中使用该接口，重复调用将先销毁旧的页面内容（即UIContent）再加载新的页面内容，请谨慎使用。当前UI的执行上下文可能不明确，所以不建议在回调函数中做UI相关的操作。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要加载到窗口中的页面内容的路径，该路径需添加到工程的main_pages.json文件中。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">storage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-localstorage" target="_blank">LocalStorage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">页面级UI状态存储单元，这里用于为加载到窗口的页面内容传递状态属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.49.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Invalid path parameter.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();</li><li>storage.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'storageSimpleProp'</span>, <span class="hljs-number">121</span>);</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/page2'</span>, storage);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2437px;">     <h2 id="loadcontentbyname11" device-type="phone,2in1,tablet,wearable,tv">loadContentByName<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadcontentbyname11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadContentByName(name: string, storage: LocalStorage, callback: AsyncCallback&lt;void&gt;): void</p>     <p>根据指定路由页面名称为当前窗口加载<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-routing#命名路由" target="_blank">命名路由</a>页面，通过LocalStorage传递状态属性至加载页面，使用callback异步回调。建议在UIAbility启动过程中使用该接口，重复调用该接口将先销毁旧的页面内容（即UIContent）再加载新的页面内容，请谨慎使用。当前UI的执行上下文可能不明确，所以不建议在回调函数中做UI相关的操作。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">命名路由页面的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">storage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-localstorage" target="_blank">LocalStorage</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">页面级UI状态存储单元，这里用于为加载到窗口的页面内容传递状态属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Index'</span>; <span class="hljs-comment">// 导入命名路由页面</span></li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">newValue</span>: <span class="hljs-title class_">Number</span> = <span class="hljs-number">121</span>;</li><li>    storage.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'storageSimpleProp'</span>, newValue);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      <span class="hljs-keyword">if</span> (!windowClass) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get main window.'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass.<span class="hljs-title function_">loadContentByName</span>(<span class="hljs-title class_">Index</span>.<span class="hljs-property">entryName</span>, storage, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err?.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err?.code}</span>, message: <span class="hljs-subst">${err?.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ets/pages/Index.ets</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> entryName : <span class="hljs-built_in">string</span> = <span class="hljs-string">'Index'</span>;</li><li><span class="hljs-meta">@Entry</span>({<span class="hljs-attr">routeName</span>: entryName, <span class="hljs-attr">useSharedStorage</span>: <span class="hljs-literal">true</span>})</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span></li><li>  <span class="hljs-meta">@LocalStorageLink</span>(<span class="hljs-string">'storageSimpleProp'</span>) <span class="hljs-attr">storageSimpleProp</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1984px;">     <h2 id="loadcontentbyname11-1" device-type="phone,2in1,tablet,wearable,tv">loadContentByName<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadcontentbyname11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadContentByName(name: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>根据指定路由页面名称为当前窗口加载<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-routing#命名路由" target="_blank">命名路由</a>页面，使用callback异步回调。建议在UIAbility启动过程中使用该接口，重复调用该接口将先销毁旧的页面内容（即UIContent）再加载新的页面内容，请谨慎使用。当前UI的执行上下文可能不明确，所以不建议在回调函数中做UI相关的操作。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">命名路由页面的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Index'</span>; <span class="hljs-comment">// 导入命名路由页面</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  (windowClass <span class="hljs-keyword">as</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span>).<span class="hljs-title function_">loadContentByName</span>(<span class="hljs-title class_">Index</span>.<span class="hljs-property">entryName</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ets/pages/Index.ets</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> entryName : <span class="hljs-built_in">string</span> = <span class="hljs-string">'Index'</span>;</li><li><span class="hljs-meta">@Entry</span>({<span class="hljs-attr">routeName</span>: entryName})</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span></li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2227px;">     <h2 id="loadcontentbyname11-2" device-type="phone,2in1,tablet,wearable,tv">loadContentByName<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadcontentbyname11-2" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadContentByName(name: string, storage?: LocalStorage): Promise&lt;void&gt;</p>     <p>根据指定路由页面名称为当前窗口加载<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-routing#命名路由" target="_blank">命名路由</a>页面，通过LocalStorage传递状态属性至加载页面，使用Promise异步回调。建议在UIAbility启动过程中使用该接口，重复调用该接口将先销毁旧的页面内容（即UIContent）再加载新的页面内容，请谨慎使用。当前UI的执行上下文可能不明确，所以不建议在回调函数中做UI相关的操作。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">命名路由页面的名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">storage</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-localstorage" target="_blank">LocalStorage</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">页面级UI状态存储单元，这里用于为加载到窗口的页面内容传递状态属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.52.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Index'</span>; <span class="hljs-comment">// 导入命名路由页面</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();</li><li>storage.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'storageSimpleProp'</span>, <span class="hljs-number">121</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = (windowClass <span class="hljs-keyword">as</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span>).<span class="hljs-title function_">loadContentByName</span>(<span class="hljs-title class_">Index</span>.<span class="hljs-property">entryName</span>, storage);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ets/pages/Index.ets</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> entryName : <span class="hljs-built_in">string</span> = <span class="hljs-string">'Index'</span>;</li><li><span class="hljs-meta">@Entry</span>({<span class="hljs-attr">routeName</span>: entryName, <span class="hljs-attr">useSharedStorage</span>: <span class="hljs-literal">true</span>})</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span></li><li>  <span class="hljs-meta">@LocalStorageLink</span>(<span class="hljs-string">'storageSimpleProp'</span>) <span class="hljs-attr">storageSimpleProp</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1021px;">     <h2 id="iswindowshowing9" device-type="phone,2in1,tablet,wearable,tv">isWindowShowing<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iswindowshowing9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isWindowShowing(): boolean</p>     <p>判断当前窗口是否已显示。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">当前窗口是否已显示。true表示当前窗口已显示，false则表示当前窗口未显示。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> data = windowClass.<span class="hljs-title function_">isWindowShowing</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in checking whether the window is showing. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window is showing. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1166px;">     <h2 id="onwindowsizechange7" device-type="phone,2in1,tablet,wearable,tv">on('windowSizeChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowsizechange7" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowSizeChange', callback: Callback&lt;Size&gt;): void</p>     <p>开启窗口尺寸变化的监听。仅在主线程调用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowSizeChange'，即窗口尺寸变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#size7">Size</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口尺寸。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowSizeChange'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the listener for window size changes. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the listener for window size changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1358px;">     <h2 id="offwindowsizechange7" device-type="phone,2in1,tablet,wearable,tv">off('windowSizeChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowsizechange7" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowSizeChange', callback?: Callback&lt;Size&gt;): void</p>     <p>关闭窗口尺寸变化的监听。仅在主线程调用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowSizeChange'，即窗口尺寸变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#size7">Size</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口尺寸。如果传入参数，则关闭该监听。如果未传入参数，则关闭窗口尺寸变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">size: <span class="hljs-variable language_">window</span>.Size</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowSizeChange'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowSizeChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowSizeChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the listener for window size changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1382px;">     <h2 id="onavoidareachange9" device-type="phone,2in1,tablet,wearable,tv">on('avoidAreaChange')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onavoidareachange9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'avoidAreaChange', callback: Callback&lt;AvoidAreaOptions&gt;): void</p>     <p>开启当前应用窗口系统规避区变化的监听。</p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，触发避让区回调时，该接口直接回调空的避让区。</p>     <p>非自由窗口状态下，触发避让区回调时，仅当子窗口的位置和大小与主窗口一致时，子窗口调用该接口才能计算避让区并返回，否则直接返回空的避让区。</p>     <p>常见的触发避让区回调的场景如下：应用窗口在全屏模式、悬浮模式、分屏模式之间的切换；应用窗口旋转；多折叠设备在屏幕折叠态和展开态之间的切换；应用窗口在多设备之间的流转。实现沉浸式布局可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-develop-apply-immersive-effects" target="_blank">开发应用沉浸式效果</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'avoidAreaChange'，即系统规避区变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidareaoptions12">AvoidAreaOptions</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前规避区以及规避区类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.56.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'avoidAreaChange'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the listener for system avoid area changes. type:'</span> +</li><li>    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data.<span class="hljs-property">type</span>) + <span class="hljs-string">', area: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data.<span class="hljs-property">area</span>));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the listener for system avoid area changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1430px;">     <h2 id="offavoidareachange9" device-type="phone,2in1,tablet,wearable,tv">off('avoidAreaChange')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offavoidareachange9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'avoidAreaChange', callback?: Callback&lt;AvoidAreaOptions&gt;): void</p>     <p>关闭当前窗口系统规避区变化的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'avoidAreaChange'，即系统规避区变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidareaoptions12">AvoidAreaOptions</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前规避区以及规避区类型。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有系统规避区变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Param</span> {</li><li>  <span class="hljs-attr">type</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>,</li><li>  <span class="hljs-attr">area</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidArea</span></li><li>}</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">data: Param</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'avoidAreaChange'</span>, callback);</li><li>
</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'avoidAreaChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'avoidAreaChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable or disable the listener for system avoid area changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1262px;">     <h2 id="onkeyboardheightchange7" device-type="phone,2in1,tablet,wearable,tv">on('keyboardHeightChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onkeyboardheightchange7" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'keyboardHeightChange', callback: Callback&lt;number&gt;): void</p>     <p>开启固定态软键盘高度变化的监听。当软键盘从本窗口唤出且与窗口有重叠区域时，通知键盘高度变化。从API version 10开始，有关将软键盘设置为固定态或悬浮态的方法，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardHeightChange'，即键盘高度变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的键盘高度。返回值为整数，单位为px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardHeightChange'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the listener for keyboard height changes. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the listener for keyboard height changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1430px;">     <h2 id="offkeyboardheightchange7" device-type="phone,2in1,tablet,wearable,tv">off('keyboardHeightChange')<sup>7+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offkeyboardheightchange7" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'keyboardHeightChange', callback?: Callback&lt;number&gt;): void</p>     <p>关闭固定态软键盘高度变化的监听，使应用程序不再接收键盘高度变化的通知。从API version 10开始，有关将软键盘设置为固定态或悬浮态的方法，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardHeightChange'，即键盘高度变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的键盘高度，返回值为整数，单位为px。若传入参数，则关闭该监听；未传入参数，则关闭所有固定态软键盘高度变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">height: <span class="hljs-built_in">number</span></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardHeightChange'</span>, callback);</li><li>
</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardHeightChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardHeightChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the listener for keyboard height changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1365px;">     <h2 id="onkeyboardwillshow20" device-type="phone,2in1,tablet,wearable,tv">on('keyboardWillShow')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onkeyboardwillshow20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'keyboardWillShow', callback: Callback&lt;KeyboardInfo&gt;): void</p>     <p>开启固定态软键盘即将开始显示的监听。此监听在固定态软键盘即将开始显示或软键盘由悬浮态切换为固定态时触发。</p>     <p>改变软键盘为固定态或者悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardWillShow'，即固定态软键盘即将开始显示的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.60.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardWillShow can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">keyboardInfo: <span class="hljs-variable language_">window</span>.KeyboardInfo</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Keyboard will show animation. keyboardInfo: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(keyboardInfo));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardWillShow'</span>, callback);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Register keyboard will show animation success`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1461px;">     <h2 id="offkeyboardwillshow20" device-type="phone,2in1,tablet,wearable,tv">off('keyboardWillShow')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offkeyboardwillshow20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'keyboardWillShow', callback?: Callback&lt;KeyboardInfo&gt;): void</p>     <p>关闭固定态软键盘即将开始显示的监听。改变输入法窗口为固定态或者悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardWillShow'，即固定态软键盘即将开始显示的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。若传入参数，则关闭该监听。如果未传入参数，则关闭所有固定态软键盘即将开始显示的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardWillShow can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">keyboardInfo: <span class="hljs-variable language_">window</span>.KeyboardInfo</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Keyboard will show animation. keyboardInfo: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(keyboardInfo));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardWillShow'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardWillShow'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardWillShow'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Unregister keyboard will show animation success`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1365px;">     <h2 id="onkeyboardwillhide20" device-type="phone,2in1,tablet,wearable,tv">on('keyboardWillHide')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onkeyboardwillhide20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'keyboardWillHide', callback: Callback&lt;KeyboardInfo&gt;): void</p>     <p>开启固定态软键盘即将开始隐藏的监听。此监听在固定态软键盘即将开始隐藏或软键盘由固定态切换为悬浮态时触发。</p>     <p>改变软键盘为固定态或者悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardWillHide'，即固定态软键盘即将开始隐藏的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardWillHide can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">keyboardInfo: <span class="hljs-variable language_">window</span>.KeyboardInfo</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Keyboard will hide animation. keyboardInfo: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(keyboardInfo));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardWillHide'</span>, callback);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Register keyboard will hide animation success`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1461px;">     <h2 id="offkeyboardwillhide20" device-type="phone,2in1,tablet,wearable,tv">off('keyboardWillHide')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offkeyboardwillhide20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'keyboardWillHide', callback?: Callback&lt;KeyboardInfo&gt;): void</p>     <p>关闭固定态软键盘即将开始隐藏的监听。改变输入法窗口为固定态切换至悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardWillHide'，即固定态软键盘即将开始隐藏的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。若传入参数，则关闭该监听。如果未传入参数，则关闭所有固定态软键盘即将开始隐藏的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardWillHide can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">keyboardInfo: <span class="hljs-variable language_">window</span>.KeyboardInfo</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Keyboard will hide animation. keyboardInfo: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(keyboardInfo));</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardWillHide'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardWillHide'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardWillHide'</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Unregister keyboard will hide animation success`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1317px;">     <h2 id="onkeyboarddidshow18" device-type="phone,2in1,tablet,wearable,tv">on('keyboardDidShow')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onkeyboarddidshow18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'keyboardDidShow', callback: Callback&lt;KeyboardInfo&gt;): void</p>     <p>开启固定态软键盘显示动画完成的监听。此监听在固定态软键盘显示动画完成或软键盘由悬浮态切换至固定态时触发。</p>     <p>改变软键盘为固定态或者悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardDidShow'，即固定态软键盘显示动画完成事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardDidShow can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardDidShow'</span>, <span class="hljs-function">(<span class="hljs-params">keyboardInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'keyboard show animation completion. keyboardInfo: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(keyboardInfo));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1437px;">     <h2 id="offkeyboarddidshow18" device-type="phone,2in1,tablet,wearable,tv">off('keyboardDidShow')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offkeyboarddidshow18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'keyboardDidShow', callback?: Callback&lt;KeyboardInfo&gt;): void</p>     <p>关闭固定态软键盘显示动画完成的监听。改变输入法窗口为固定态或者悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardDidShow'，即固定态软键盘显示动画完成事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。若传入参数，则关闭该监听。如果未传入参数，则关闭所有固定态软键盘显示动画完成的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardDidShow can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">keyboardInfo: <span class="hljs-variable language_">window</span>.KeyboardInfo</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardDidShow'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardDidShow'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardDidShow'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1317px;">     <h2 id="onkeyboarddidhide18" device-type="phone,2in1,tablet,wearable,tv">on('keyboardDidHide')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onkeyboarddidhide18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'keyboardDidHide', callback: Callback&lt;KeyboardInfo&gt;): void</p>     <p>开启固定态软键盘隐藏动画完成的监听。此监听在固定态软键盘隐藏动画完成或软键盘由固定态切换至悬浮态时触发。</p>     <p>改变软键盘为固定态或者悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardDidHide'，即固定态软键盘隐藏动画完成事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.66.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardDidHide can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardDidHide'</span>, <span class="hljs-function">(<span class="hljs-params">keyboardInfo</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'keyboard hide animation completion. keyboardInfo: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(keyboardInfo));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1437px;">     <h2 id="offkeyboarddidhide18" device-type="phone,2in1,tablet,wearable,tv">off('keyboardDidHide')<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offkeyboarddidhide18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'keyboardDidHide', callback?: Callback&lt;KeyboardInfo&gt;): void</p>     <p>关闭固定态软键盘隐藏动画完成的监听。改变输入法窗口为固定态切换至悬浮态方法详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#changeflag10">输入法服务</a>。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'keyboardDidHide'，即固定态软键盘隐藏动画完成事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#keyboardinfo18">KeyboardInfo</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回软键盘窗口信息。若传入参数，则关闭该监听。如果未传入参数，则关闭所有固定态软键盘隐藏动画完成的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function keyboardDidHide can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">keyboardInfo: <span class="hljs-variable language_">window</span>.KeyboardInfo</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'keyboardDidHide'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardDidHide'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'keyboardDidHide'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1166px;">     <h2 id="ontouchoutside11" device-type="phone,2in1,tablet,wearable,tv">on('touchOutside')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ontouchoutside11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'touchOutside', callback: Callback&lt;void&gt;): void</p>     <p>开启本窗口区域范围外的点击事件的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'touchOutside'，即本窗口范围外的点击事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当点击事件发生在本窗口范围之外的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'touchOutside'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'touch outside'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1334px;">     <h2 id="offtouchoutside11" device-type="phone,2in1,tablet,wearable,tv">off('touchOutside')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offtouchoutside11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'touchOutside', callback?: Callback&lt;void&gt;): void</p>     <p>关闭本窗口区域范围外的点击事件的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'touchOutside'，即本窗口范围外的点击事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当点击事件发生在本窗口范围之外的回调。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有本窗口区域范围外的点击事件的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'touchOutside'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'touchOutside'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'touchOutside'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1214px;">     <h2 id="onscreenshot9" device-type="phone,2in1,tablet,wearable,tv">on('screenshot')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscreenshot9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'screenshot', callback: Callback&lt;void&gt;): void</p>     <p>开启截屏事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'screenshot'，即截屏事件，对控制中心截屏、hdc命令截屏、整屏截屏接口生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。发生截屏事件时的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'screenshot'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'screenshot happened'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1310px;">     <h2 id="offscreenshot9" device-type="phone,2in1,tablet,wearable,tv">off('screenshot')<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offscreenshot9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'screenshot', callback?: Callback&lt;void&gt;): void</p>     <p>关闭截屏事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'screenshot'，即截屏事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。发生截屏事件时的回调。若传入参数，则关闭该监听。若未传入参数，则关闭所有截屏事件的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'screenshot happened'</span>);</li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'screenshot'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'screenshot'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'screenshot'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1197px;">     <h2 id="onscreenshotappevent20" device-type="phone,2in1,tablet,wearable,tv">on('screenshotAppEvent')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onscreenshotappevent20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'screenshotAppEvent', callback: Callback&lt;ScreenshotEventType&gt;): void</p>     <p>开启屏幕截屏事件类型的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'screenshotAppEvent'，即屏幕截屏的事件类型，对控制中心截屏、快捷键截屏以及滚动截屏生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#screenshoteventtype20">ScreenshotEventType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回触发的截屏事件类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">eventType: <span class="hljs-variable language_">window</span>.ScreenshotEventType</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`screenshotAppEvent happened. Event: <span class="hljs-subst">${eventType}</span>`</span>);</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'screenshotAppEvent'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1341px;">     <h2 id="offscreenshotappevent20" device-type="phone,2in1,tablet,wearable,tv">off('screenshotAppEvent')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offscreenshotappevent20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'screenshotAppEvent', callback?: Callback&lt;ScreenshotEventType&gt;): void</p>     <p>关闭屏幕截屏事件类型的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'screenshotAppEvent'，即屏幕截屏的事件类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#screenshoteventtype20">ScreenshotEventType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回触发的截屏事件类型。若传入参数，则关闭该监听。若未传入参数，则关闭所有窗口截图事件的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">eventType: <span class="hljs-variable language_">window</span>.ScreenshotEventType</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'screenshotAppEvent'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'screenshotAppEvent'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'screenshotAppEvent'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1214px;">     <h2 id="ondialogtargettouch10" device-type="phone,2in1,tablet,wearable,tv">on('dialogTargetTouch')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondialogtargettouch10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'dialogTargetTouch', callback: Callback&lt;void&gt;): void</p>     <p>开启模态窗口所遮盖窗口的点击或触摸事件的监听，除模态窗口以外其他窗口调用此接口不生效。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'dialogTargetTouch'，即模态窗口所遮盖窗口的点击或触摸事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当点击或触摸事件发生在模态窗口所遮盖窗口的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.74.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'dialogTargetTouch'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'touch dialog target'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1358px;">     <h2 id="offdialogtargettouch10" device-type="phone,2in1,tablet,wearable,tv">off('dialogTargetTouch')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdialogtargettouch10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'dialogTargetTouch', callback?: Callback&lt;void&gt;): void</p>     <p>关闭模态窗口目标窗口的点击事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'dialogTargetTouch'，即模态窗口目标窗口的点击事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当点击事件发生在模态窗口目标窗口的回调。若传入参数，则关闭该监听。若未传入参数，则关闭所有模态窗口目标窗口的点击事件的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'dialogTargetTouch'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'dialogTargetTouch'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'dialogTargetTouch'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1166px;">     <h2 id="onwindowevent10" device-type="phone,2in1,tablet,wearable,tv">on('windowEvent')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowevent10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowEvent', callback: Callback&lt;WindowEventType&gt;): void</p>     <p>开启窗口生命周期变化的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowEvent'，即窗口生命周期变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windoweventtype10">WindowEventType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口生命周期状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowEvent'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Window event happened. Event:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1358px;">     <h2 id="offwindowevent10" device-type="phone,2in1,tablet,wearable,tv">off('windowEvent')<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowevent10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowEvent', callback?: Callback&lt;WindowEventType&gt;): void</p>     <p>关闭窗口生命周期变化的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowEvent'，即窗口生命周期变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windoweventtype10">WindowEventType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口生命周期状态。若传入参数，则关闭该监听。若未传入参数，则关闭所有窗口生命周期变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">windowEventType: <span class="hljs-variable language_">window</span>.WindowEventType</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowEvent'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowEvent'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowEvent'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1372px;">     <h2 id="ondisplayidchange14" device-type="phone,2in1,tablet,wearable,tv">on('displayIdChange')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondisplayidchange14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'displayIdChange', callback: Callback&lt;number&gt;): void</p>     <p>开启本窗口所处屏幕变化事件的监听。比如，当前窗口移动到其他屏幕时，可以从此接口监听到这个行为。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'displayIdChange'，即本窗口所处屏幕变化的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口所处屏幕发生变化后的回调。回调函数返回number类型参数，表示窗口所处屏幕的displayId。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'displayIdChange'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Window displayId changed, displayId='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1516px;">     <h2 id="offdisplayidchange14" device-type="phone,2in1,tablet,wearable,tv">off('displayIdChange')<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offdisplayidchange14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'displayIdChange', callback?: Callback&lt;number&gt;): void</p>     <p>关闭本窗口所处屏幕变化事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'displayIdChange'，即本窗口所处屏幕变化的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口所处屏幕发生变化时的回调。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有本窗口所处屏幕变化事件的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">displayId: <span class="hljs-built_in">number</span></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'displayIdChange'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'displayIdChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'displayIdChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1475px;">     <h2 id="onwindowvisibilitychange11" device-type="phone,2in1,tablet,wearable,tv">on('windowVisibilityChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowvisibilitychange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowVisibilityChange', callback: Callback&lt;boolean&gt;): void</p>     <p>开启本窗口可见状态变化事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowVisibilityChange'，即本窗口可见状态变化的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口可见状态发生变化后的回调。回调函数返回boolean类型参数，当返回参数为true时表示窗口可见，否则表示窗口不可见。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowVisibilityChange'</span>, <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Window visibility changed, isVisible='</span> + <span class="hljs-built_in">boolean</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1595px;">     <h2 id="offwindowvisibilitychange11" device-type="phone,2in1,tablet,wearable,tv">off('windowVisibilityChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowvisibilitychange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowVisibilityChange', callback?: Callback&lt;boolean&gt;): void</p>     <p>关闭本窗口可见状态变化事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowVisibilityChange'，即本窗口可见状态变化的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口可见状态发生变化时的回调。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有本窗口可见状态变化事件的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">bool: <span class="hljs-built_in">boolean</span></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowVisibilityChange'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowVisibilityChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowVisibilityChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1612px;">     <h2 id="onsystemdensitychange15" device-type="phone,2in1,tablet,wearable,tv">on('systemDensityChange')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsystemdensitychange15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'systemDensityChange', callback: Callback&lt;number&gt;): void</p>     <p>开启本窗口所处屏幕的系统显示大小缩放系数变化事件的监听。比如，当调整窗口所处屏幕的显示大小缩放系数时，可以从此接口监听到这个行为。</p>     <p>在接口回调函数中，建议直接使用返回值进行vp和px的转换。例如，若返回值为density，计算px可使用vp * density = px。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'systemDensityChange'，即本窗口所处屏幕的系统显示大小缩放系数变化的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口所处屏幕的系统显示大小缩放系数发生变化后的回调。回调函数返回number类型参数，表示当前窗口所处屏幕的系统显示大小缩放系数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">density: <span class="hljs-built_in">number</span></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'System density changed, density='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(density));</li><li>  <span class="hljs-comment">// 通过回调返回值计算px</span></li><li>  <span class="hljs-keyword">let</span> vp = <span class="hljs-number">100</span>;</li><li>  <span class="hljs-keyword">let</span> px = vp * density;</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'systemDensityChange'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1660px;">     <h2 id="offsystemdensitychange15" device-type="phone,2in1,tablet,wearable,tv">off('systemDensityChange')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsystemdensitychange15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'systemDensityChange', callback?: Callback&lt;number&gt;): void</p>     <p>关闭本窗口所处屏幕的系统显示大小缩放系数变化事件的监听。</p>     <p>在接口回调函数中，建议直接使用返回值进行vp和px的转换。例如，若返回值为density，计算px可使用vp * density = px。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'systemDensityChange'，即本窗口所处屏幕的系统显示大小缩放系数变化的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口所处屏幕的系统显示大小缩放系数发生变化后的回调。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有本窗口所处屏幕的系统显示大小缩放系数变化事件的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.83.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">density: <span class="hljs-built_in">number</span></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'systemDensityChange'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'systemDensityChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'systemDensityChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1520px;">     <h2 id="onnointeractiondetected12" device-type="phone,2in1,tablet,wearable,tv">on('noInteractionDetected')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onnointeractiondetected12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'noInteractionDetected', timeout: number, callback: Callback&lt;void&gt;): void</p>     <p>开启本窗口在指定超时时间内无交互事件的监听，交互事件支持物理键盘输入事件和屏幕触控点击事件，不支持软键盘输入事件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'noInteractionDetected'，即本窗口在指定超时时间内无交互的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">timeout</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定本窗口在多长时间内无交互即回调，单位为秒(s)。该参数仅支持整数输入，负数和小数为非法参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口在指定超时时间内无交互事件时的回调。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'noInteractionDetected'</span>, <span class="hljs-number">60</span>, <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'no interaction in 60s'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1571px;">     <h2 id="offnointeractiondetected12" device-type="phone,2in1,tablet,wearable,tv">off('noInteractionDetected')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offnointeractiondetected12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'noInteractionDetected', callback?: Callback&lt;void&gt;): void</p>     <p>关闭本窗口在指定超时时间内无交互事件的监听，交互事件支持物理键盘输入事件和屏幕触控点击事件，不支持软键盘输入事件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'noInteractionDetected'，即本窗口在指定超时时间内无交互的事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，当本窗口在指定超时时间内无交互事件时的回调。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有本窗口在指定超时时间内无交互事件的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'noInteractionDetected'</span>, <span class="hljs-number">60</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'noInteractionDetected'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'noInteractionDetected'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1409px;">     <h2 id="onwindowstatuschange11" device-type="phone,2in1,tablet,wearable,tv">on('windowStatusChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowstatuschange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowStatusChange', callback: Callback&lt;WindowStatusType&gt;): void</p>     <p>开启窗口模式变化的监听，当窗口windowStatus发生变化时进行通知（此时窗口属性可能还没有更新）。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签" target="_blank">targetAPIVersion</a>设置小于14时，在窗口最大化状态（窗口铺满整个屏幕，2in1设备会有dock栏和状态栏，Tablet设备会有状态栏）时返回值对应为WindowStatusType::FULL_SCREEN。应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签" target="_blank">targetAPIVersion</a>设置大于等于14时，在窗口最大化状态（窗口铺满整个屏幕，2in1设备会有dock栏和状态栏，Tablet设备会有状态栏）时返回值对应为WindowStatusType::MAXIMIZE。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowStatusChange'，即窗口模式变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowstatustype11">WindowStatusType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>    windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowStatusChange'</span>, <span class="hljs-function">(<span class="hljs-params">WindowStatusType</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the listener for window status changes. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">WindowStatusType</span>));</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1389px;">     <h2 id="offwindowstatuschange11" device-type="phone,2in1,tablet,wearable,tv">off('windowStatusChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowstatuschange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowStatusChange', callback?: Callback&lt;WindowStatusType&gt;): void</p>     <p>关闭窗口模式变化的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowStatusChange'，即窗口模式变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowstatustype11">WindowStatusType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口模式。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有窗口模式变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">windowStatusType: <span class="hljs-variable language_">window</span>.WindowStatusType</span>) =&gt; {</li><li>    <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowStatusChange'</span>, callback);</li><li>    windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowStatusChange'</span>, callback);</li><li>    <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>    windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowStatusChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1173px;">     <h2 id="onwindowstatusdidchange20" device-type="phone,2in1,tablet,wearable,tv">on('windowStatusDidChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowstatusdidchange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowStatusDidChange', callback: Callback&lt;WindowStatusType&gt;): void</p>     <p>开启窗口模式变化的监听，当窗口windowStatus发生变化后进行通知（此时窗口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rect7">Rect</a>属性已经完成更新）。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowStatusDidChange'，即窗口模式变化完成事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowstatustype11">WindowStatusType</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.88.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>    windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowStatusDidChange'</span>, <span class="hljs-function">(<span class="hljs-params">WindowStatusType</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in enabling the listener for window status changes. Data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(WindowStatusType)}</span>`</span>);</li><li>    });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1341px;">     <h2 id="offwindowstatusdidchange20" device-type="phone,2in1,tablet,wearable,tv">off('windowStatusDidChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowstatusdidchange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowStatusDidChange', callback?: Callback&lt;WindowStatusType&gt;): void</p>     <p>关闭窗口模式变化的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowStatusDidChange'，即窗口模式变化完成事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowstatustype11">WindowStatusType</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口模式。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有窗口模式变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.89.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">windowStatusType: <span class="hljs-variable language_">window</span>.WindowStatusType</span>) =&gt; {</li><li>    <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>    windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowStatusDidChange'</span>, callback);</li><li>    windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowStatusDidChange'</span>, callback);</li><li>    <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>    windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowStatusDidChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1889px;">     <h2 id="setwindowgrayscale12" device-type="phone,2in1,tablet,wearable,tv">setWindowGrayScale<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowgrayscale12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowGrayScale(grayScale: number): Promise&lt;void&gt;</p>     <p>设置窗口灰阶，使用Promise异步回调。该接口需要在调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>使窗口加载页面内容后调用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">grayScale</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口灰阶。该参数为浮点数，取值范围为[0.0, 1.0]。0.0表示窗口图像无变化，1.0表示窗口图像完全转为灰度图像，0.0至1.0之间时效果呈线性变化。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass?.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (error.<span class="hljs-property">code</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the content. Cause code: <span class="hljs-subst">${error.code}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the content.'</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">grayScale</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.5</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">canIUse</span>(<span class="hljs-string">"SystemCapability.Window.SessionManager"</span>)) {</li><li>      <span class="hljs-keyword">let</span> promise = windowClass?.<span class="hljs-title function_">setWindowGrayScale</span>(grayScale);</li><li>      promise?.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the grayScale.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the grayScale. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    }</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the grayScale. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1444px;">     <h2 id="onwindowtitlebuttonrectchange11" device-type="phone,2in1,tablet,wearable,tv">on('windowTitleButtonRectChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowtitlebuttonrectchange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowTitleButtonRectChange', callback: Callback&lt;TitleButtonRect&gt;): void</p>     <p>开启窗口标题栏上的最小化、最大化、关闭按钮矩形区域变化的监听，对存在标题栏和三键区的窗口形态生效。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowTitleButtonRectChange'，即标题栏上的最小化、最大化、关闭按钮矩形区域变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#titlebuttonrect11">TitleButtonRect</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前标题栏上的最小化、最大化、关闭按钮矩形区域。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.91.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/WindowPage'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    windowClass?.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowTitleButtonRectChange'</span>, <span class="hljs-function">(<span class="hljs-params">titleButtonRect</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the listener for window title buttons area changes. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(titleButtonRect));</li><li>    });</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the listener for window title buttons area changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1684px;">     <h2 id="offwindowtitlebuttonrectchange11" device-type="phone,2in1,tablet,wearable,tv">off('windowTitleButtonRectChange')<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowtitlebuttonrectchange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowTitleButtonRectChange', callback?: Callback&lt;TitleButtonRect&gt;): void</p>     <p>关闭窗口标题栏上的最小化、最大化、关闭按钮矩形区域变化的监听，对存在标题栏和三键区的窗口形态生效。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowTitleButtonRectChange'，即标题栏上的最小化、最大化、关闭按钮矩形区域变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#titlebuttonrect11">TitleButtonRect</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前标题栏上的最小化、最大化、关闭按钮矩形区域。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有标题栏上的最小化、最大化、关闭按钮矩形区域变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/WindowPage'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">titleButtonRect: <span class="hljs-variable language_">window</span>.TitleButtonRect</span>) =&gt; {</li><li>        <span class="hljs-comment">// ...</span></li><li>    }</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// 通过on接口开启监听</span></li><li>    windowClass?.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowTitleButtonRectChange'</span>, callback);</li><li>    <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>    windowClass?.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowTitleButtonRectChange'</span>, callback);</li><li>    <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>    windowClass?.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowTitleButtonRectChange'</span>);</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the listener for window title buttons area changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1355px;">     <h2 id="onwindowrectchange12" device-type="phone,2in1,tablet,wearable,tv">on('windowRectChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowrectchange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowRectChange', callback: Callback&lt;RectChangeOptions&gt;): void</p>     <p>开启窗口矩形（窗口位置及窗口大小）变化的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowRectChange'，即窗口矩形变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rectchangeoptions12">RectChangeOptions</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前窗口矩形变化值及变化原因。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.93.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowRectChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-variable language_">window</span>.RectChangeOptions</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in enabling the listener for window rect changes. Data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the listener for window rect changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1523px;">     <h2 id="offwindowrectchange12" device-type="phone,2in1,tablet,wearable,tv">off('windowRectChange')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowrectchange12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowRectChange', callback?: Callback&lt;RectChangeOptions&gt;): void</p>     <p>关闭窗口矩形（窗口位置及窗口大小）变化的监听。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowRectChange'，即窗口矩形变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rectchangeoptions12">RectChangeOptions</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口矩形及变化原因。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有窗口矩形变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.94.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">rectChangeOptions: <span class="hljs-variable language_">window</span>.RectChangeOptions</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowRectChange'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowRectChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowRectChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the listener for window rect changes. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1276px;">     <h2 id="onrectchangeinglobaldisplay20" device-type="phone,2in1,tablet,wearable,tv">on('rectChangeInGlobalDisplay')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onrectchangeinglobaldisplay20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'rectChangeInGlobalDisplay', callback: Callback&lt;RectChangeOptions&gt;): void</p>     <p>开启全局坐标系（扩展屏场景下，以主屏左上角为原点）下窗口矩形（窗口位置及窗口大小）变化的监听事件。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'rectChangeInGlobalDisplay'，即全局坐标系下窗口矩形变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rectchangeoptions12">RectChangeOptions</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前窗口矩形变化值及变化原因。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.95.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">rectChangeOptions: <span class="hljs-variable language_">window</span>.RectChangeOptions</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in enabling the listener for window rect changes in global display. Data: `</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rectChangeOptions));</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'rectChangeInGlobalDisplay'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the listener for window rect changes in global display. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1444px;">     <h2 id="offrectchangeinglobaldisplay20" device-type="phone,2in1,tablet,wearable,tv">off('rectChangeInGlobalDisplay')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offrectchangeinglobaldisplay20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'rectChangeInGlobalDisplay', callback?: Callback&lt;RectChangeOptions&gt;): void</p>     <p>关闭全局坐标系（扩展屏场景下，以主屏左上角为原点）下窗口矩形（窗口位置及窗口大小）变化的监听事件。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'rectChangeInGlobalDisplay'，即全局坐标系下窗口矩形变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rectchangeoptions12">RectChangeOptions</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前的窗口矩形及变化原因。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有全局坐标系下窗口矩形变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.96.9.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.96.9.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">rectChangeOptions: <span class="hljs-variable language_">window</span>.RectChangeOptions</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'rectChangeInGlobalDisplay'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'rectChangeInGlobalDisplay'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'rectChangeInGlobalDisplay'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the listener for window rect changes in global display. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1691px;">     <h2 id="onsubwindowclose12" device-type="phone,2in1,tablet,wearable,tv">on('subWindowClose')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsubwindowclose12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'subWindowClose', callback: Callback&lt;void&gt;): void</p>     <p>开启子窗口关闭事件的监听。此监听仅在点击系统提供的右上角关闭按钮关闭子窗时触发，其余关闭方式不触发回调。</p>     <p>当重复注册窗口关闭事件的监听时，最后一次注册成功的监听事件生效。</p>     <p>该接口触发的窗口关闭事件监听回调函数是同步执行，子窗口的异步关闭事件监听参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowwillclose15">on('windowWillClose')</a>方法。</p>     <p>如果存在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowwillclose15">on('windowWillClose')</a>监听事件，只响应<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowwillclose15">on('windowWillClose')</a>接口。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.97.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'subWindowClose'，即子窗口关闭事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当点击子窗口右上角关闭按钮事件发生时的回调。该回调函数不返回任何参数。回调函数内部逻辑的返回值决定当前子窗是否继续关闭，如果返回boolean类型的true表示不关闭子窗，返回false或者其他非boolean类型表示关闭子窗。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.97.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'subWindowClose'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1691px;">     <h2 id="offsubwindowclose12" device-type="phone,2in1,tablet,wearable,tv">off('subWindowClose')<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsubwindowclose12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'subWindowClose', callback?: Callback&lt;void&gt;): void</p>     <p>关闭子窗口关闭事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'subWindowClose'，即子窗口关闭事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当点击子窗口右上角关闭按钮事件发生时的回调。该回调函数不返回任何参数。回调函数内部逻辑的返回值决定当前子窗是否继续关闭，如果返回boolean类型的true表示不关闭子窗，返回false或者其他非boolean类型表示关闭子窗。如果传入参数，则关闭该监听。如果未传入参数，则关闭所有子窗口关闭的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.98.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'subWindowClose'</span>, callback);</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'subWindowClose'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'subWindowClose'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register or unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2123px;">     <h2 id="onwindowwillclose15" device-type="phone,2in1,tablet,wearable,tv">on('windowWillClose')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowwillclose15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowWillClose', callback: Callback&lt;void, Promise&lt;boolean&gt;&gt;): void</p>     <p>开启主窗口或子窗口关闭事件的监听。此监听仅能通过系统提供的窗口标题栏关闭按键触发，其余关闭窗口的方式不触发回调。</p>     <p>该接口触发的回调函数是异步执行。子窗口的同步关闭事件监听参考<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onsubwindowclose12">on('subWindowClose')</a>方法。主窗口的同步关闭事件监听参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-windowstage#onwindowstageclose14">on('windowStageClose')</a>方法。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowWillClose'，即窗口关闭事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void, Promise&lt;boolean&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当点击窗口系统提供的右上角关闭按钮事件发生时的回调。该回调函数不返回任何参数。回调函数内部逻辑需要有Promise&lt;boolean&gt;类型的返回值。在返回的Promise函数里，执行resolve(true) 方法表示不关闭当前窗口，执行resolve(false) 方法或者reject方法均表示关闭当前窗口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.99.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>      <span class="hljs-comment">// ...</span></li><li>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>        <span class="hljs-comment">// 是否关闭该窗口</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>        <span class="hljs-title function_">resolve</span>(result);</li><li>      });</li><li>    }</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowWillClose'</span>, callback);</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2123px;">     <h2 id="offwindowwillclose15" device-type="phone,2in1,tablet,wearable,tv">off('windowWillClose')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowwillclose15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowWillClose', callback?: Callback&lt;void, Promise&lt;boolean&gt;&gt;): void</p>     <p>用于关闭主窗口或子窗口关闭事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowWillClose'，即窗口关闭事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void, Promise&lt;boolean&gt;&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当点击窗口系统提供的右上角关闭按钮事件发生时的回调。该回调函数不返回任何参数。回调函数内部逻辑需要有Promise&lt;boolean&gt;类型的返回值。在返回的Promise函数里，执行resolve(true) 方法表示不关闭当前窗口，执行resolve(false) 方法或者reject方法均表示关闭当前窗口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.100.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Incorrect parameter types; 2. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>          <span class="hljs-comment">// 是否关闭该窗口</span></li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>          <span class="hljs-title function_">resolve</span>(result);</li><li>        });</li><li>      }</li><li>      <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowWillClose'</span>, callback);</li><li>      windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowWillClose'</span>, callback);</li><li>      <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>      windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowWillClose'</span>);</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1427px;">     <h2 id="onwindowhighlightchange15" device-type="phone,2in1,tablet,wearable,tv">on('windowHighlightChange')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwindowhighlightchange15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'windowHighlightChange', callback: Callback&lt;boolean&gt;): void</p>     <p>开启窗口激活态变化事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowHighlightChange'，即窗口激活态变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口的激活态发生变化时的回调。回调函数返回boolean类型参数。当返回参数为true表示激活态；false表示非激活态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.101.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowHighlightChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Window highlight Change: <span class="hljs-subst">${data}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1571px;">     <h2 id="offwindowhighlightchange15" device-type="phone,2in1,tablet,wearable,tv">off('windowHighlightChange')<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offwindowhighlightchange15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'windowHighlightChange', callback?: Callback&lt;boolean&gt;): void</p>     <p>关闭窗口激活态变化事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'windowHighlightChange'，即窗口激活态变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。当本窗口的激活态发生变化时的回调。若传入参数，则关闭该监听。若未传入参数，则关闭所有窗口激活态变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.102.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">data: <span class="hljs-built_in">boolean</span></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowHighlightChange'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowHighlightChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'windowHighlightChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2164px;">     <h2 id="onrotationchange19" device-type="phone,2in1,tablet,wearable,tv">on('rotationChange')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onrotationchange19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'rotationChange', callback: RotationChangeCallback&lt;RotationChangeInfo, RotationChangeResult | void&gt;): void</p>     <p>开启窗口旋转变化的监听。<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeinfo19">RotationChangeInfo</a>中窗口旋转事件类型为窗口即将旋转时，必须返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeresult19">RotationChangeResult</a>。窗口旋转事件类型为窗口旋转结束时返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeresult19">RotationChangeResult</a>不生效。</p>     <p>该函数只允许在主线程注册。同一个窗口多次注册同类型回调函数，只生效最新注册的同类型回调函数返回值。系统提供了超时保护机制，若20ms内窗口未返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeresult19">RotationChangeResult</a>，系统不处理该返回值。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持sensor旋转但不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用且立即生效； 在支持sensor旋转和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态，但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用，切换为非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态时生效；在其他情况的设备上调用不生效也不报错。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'rotationChange'，即窗口旋转变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">RotationChangeCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeinfo19">RotationChangeInfo</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeresult19">RotationChangeResult</a> | void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回窗口旋转信息<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeinfo19">RotationChangeInfo</a>，应用返回当前窗口变化结果<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeresult19">RotationChangeResult</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.103.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">calculateRect</span>(<span class="hljs-params">info: <span class="hljs-variable language_">window</span>.RotationChangeInfo</span>): <span class="hljs-variable language_">window</span>.<span class="hljs-property">Rect</span> {</li><li>    <span class="hljs-comment">// calculate result with info</span></li><li>    <span class="hljs-keyword">let</span> rect : <span class="hljs-variable language_">window</span>.<span class="hljs-property">Rect</span> = {</li><li>      <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">width</span>: <span class="hljs-number">500</span>,</li><li>      <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>,</li><li>    }</li><li>    <span class="hljs-keyword">return</span> rect;</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> callback = (<span class="hljs-attr">info</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">RotationChangeInfo</span>): <span class="hljs-variable language_">window</span>.<span class="hljs-property">RotationChangeResult</span> | <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">RotationChangeResult</span> = {</li><li>    <span class="hljs-attr">rectType</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">RectType</span>.<span class="hljs-property">RELATIVE_TO_SCREEN</span>,</li><li>    <span class="hljs-attr">windowRect</span>: {</li><li>      <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,</li><li>      <span class="hljs-attr">height</span>: <span class="hljs-number">0</span>,</li><li>    }</li><li>  };</li><li>  <span class="hljs-keyword">if</span> (info.<span class="hljs-property">type</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">RotationChangeType</span>.<span class="hljs-property">WINDOW_WILL_ROTATE</span>) {</li><li>      result.<span class="hljs-property">rectType</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">RectType</span>.<span class="hljs-property">RELATIVE_TO_SCREEN</span>;</li><li>      result.<span class="hljs-property">windowRect</span> = <span class="hljs-title function_">calculateRect</span>(info);</li><li>      <span class="hljs-keyword">return</span> result;</li><li>  } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-comment">// do something after rotate</span></li><li>      <span class="hljs-keyword">return</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'rotationChange'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1468px;">     <h2 id="offrotationchange19" device-type="phone,2in1,tablet,wearable,tv">off('rotationChange')<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offrotationchange19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'rotationChange', callback?: RotationChangeCallback&lt;RotationChangeInfo, RotationChangeResult | void&gt;): void</p>     <p>关闭窗口旋转变化的监听。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持sensor旋转但不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用且立即生效； 在支持sensor旋转和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态，但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用，切换为非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态时生效；在其他情况的设备上调用不生效也不报错。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'rotationChange'，即窗口旋转变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">RotationChangeCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeinfo19">RotationChangeInfo</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#rotationchangeresult19">RotationChangeResult</a> | void&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。如果传入参数，则关闭该监听。如果未传入参数，则关闭该窗口的所有监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.104.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> callback = (<span class="hljs-attr">info</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">RotationChangeInfo</span>): <span class="hljs-variable language_">window</span>.<span class="hljs-property">RotationChangeResult</span> | <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-keyword">return</span>;</li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'rotationChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听。</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'rotationChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1612px;">     <h2 id="onuiextensionsecurelimitchange20" device-type="phone,2in1,tablet,wearable,tv">on('uiExtensionSecureLimitChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onuiextensionsecurelimitchange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(eventType: 'uiExtensionSecureLimitChange', callback: Callback&lt;boolean&gt;): void</p>     <p>开启窗口内uiExtension安全限制变化事件的监听, 建议在窗口创建后立即监听。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">eventType</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'uiExtensionSecureLimitChange'，即窗口内uiExtension安全限制变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当窗口内uiExtension安全限制变化时触发回调。当返回参数为true表示窗口内uiExtension开启了隐藏不安全窗口；当返回参数为false表示窗口内uiExtension关闭了隐藏不安全窗口。若窗口内存在多个uiExtension，当返回参数为true表示窗口内至少一个uiExtension开启了隐藏不安全窗口；当返回参数为false表示窗口内所有uiExtension关闭了隐藏不安全窗口。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Function on('uiExtensionSecureLimitChange') can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'uiExtensionSecureLimitChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Window secure limit Change: <span class="hljs-subst">${data}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to register callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1516px;">     <h2 id="offuiextensionsecurelimitchange20" device-type="phone,2in1,tablet,wearable,tv">off('uiExtensionSecureLimitChange')<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offuiextensionsecurelimitchange20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(eventType: 'uiExtensionSecureLimitChange', callback?: Callback&lt;boolean&gt;): void</p>     <p>关闭窗口内uiextension安全限制变化事件的监听。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">eventType</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'uiExtensionSecureLimitChange'，即窗口内uiExtension安全限制变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。若传入参数，则关闭该监听。若未传入参数，则关闭所有窗口安全限制变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.106.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Function off('uiExtensionSecureLimitChange') can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">data: <span class="hljs-built_in">boolean</span></span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 通过on接口开启监听</span></li><li>  windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'uiExtensionSecureLimitChange'</span>, callback);</li><li>  <span class="hljs-comment">// 关闭指定callback的监听</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'uiExtensionSecureLimitChange'</span>, callback);</li><li>  <span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>  windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'uiExtensionSecureLimitChange'</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unregister callback. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1145px;">     <h2 id="iswindowsupportwidegamut9" device-type="phone,2in1,tablet,wearable,tv">isWindowSupportWideGamut<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iswindowsupportwidegamut9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isWindowSupportWideGamut(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>判断当前窗口是否支持广色域模式，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回true表示当前窗口支持广色域模式，返回false表示当前窗口不支持广色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.107.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">isWindowSupportWideGamut</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window support WideGamut. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in checking whether the window support WideGamut Data: <span class="hljs-subst">${data}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1069px;">     <h2 id="iswindowsupportwidegamut9-1" device-type="phone,2in1,tablet,wearable,tv">isWindowSupportWideGamut<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iswindowsupportwidegamut9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isWindowSupportWideGamut(): Promise&lt;boolean&gt;</p>     <p>判断当前窗口是否支持广色域模式，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示当前窗口支持广色域模式，返回false表示当前窗口不支持广色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.108.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">isWindowSupportWideGamut</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in checking whether the window support WideGamut. Data: <span class="hljs-subst">${data}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window support WideGamut. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1317px;">     <h2 id="setwindowcolorspace9" device-type="phone,2in1,tablet,wearable,tv">setWindowColorSpace<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowcolorspace9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowColorSpace(colorSpace:ColorSpace, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置当前窗口为广色域模式或默认色域模式，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">colorSpace</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#colorspace8">ColorSpace</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置色域模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.109.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setWindowColorSpace</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">ColorSpace</span>.<span class="hljs-property">WIDE_GAMUT</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window colorspace. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window colorspace.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window colorspace. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1395px;">     <h2 id="setwindowcolorspace9-1" device-type="phone,2in1,tablet,wearable,tv">setWindowColorSpace<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowcolorspace9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowColorSpace(colorSpace:ColorSpace): Promise&lt;void&gt;</p>     <p>设置当前窗口为广色域模式或默认色域模式，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">colorSpace</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#colorspace8">ColorSpace</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.110.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowColorSpace</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">ColorSpace</span>.<span class="hljs-property">WIDE_GAMUT</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window colorspace.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window colorspace. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window colorspace. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1045px;">     <h2 id="getwindowcolorspace9" device-type="phone,2in1,tablet,wearable,tv">getWindowColorSpace<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowcolorspace9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowColorSpace(): ColorSpace</p>     <p>获取当前窗口色域模式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#colorspace8">ColorSpace</a></td>         <td class="cellrowborder" width="50%">当前色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.111.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> colorSpace = windowClass.<span class="hljs-title function_">getWindowColorSpace</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the window color space. ColorSpace: <span class="hljs-subst">${colorSpace}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the window color space. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1656px;">     <h2 id="setwindowbackgroundcolor9" device-type="phone,2in1,tablet,wearable,tv">setWindowBackgroundColor<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowbackgroundcolor9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowBackgroundColor(color: string | ColorMetrics): void</p>     <p>设置窗口的背景色。</p>     <p>未调用该接口时，窗口在浅色模式默认背景色为'#FFF0F0F0'，在深色模式默认背景色为'#FF1A1A1A'。</p>     <p>Stage模型下，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%">string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#colormetrics12">ColorMetrics</a><sup>18+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要设置的背景色，为十六进制RGB或ARGB颜色，不区分大小写，例如'#00FF00'或'#FF00FF00'。</p>          <p>从API version 18开始，此参数支持ColorMetrics类型。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ColorMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();</li><li>storage.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'storageSimpleProp'</span>, <span class="hljs-number">121</span>);</li><li>windowClass.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/page2"</span>, storage, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">color1</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'#00FF33'</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">color2</span>: <span class="hljs-title class_">ColorMetrics</span> = <span class="hljs-title class_">ColorMetrics</span>.<span class="hljs-title function_">numeric</span>(<span class="hljs-number">0xff112233</span>);</li><li>  <span class="hljs-keyword">try</span> {</li><li>    windowClass?.<span class="hljs-title function_">setWindowBackgroundColor</span>(color1);</li><li>    windowClass?.<span class="hljs-title function_">setWindowBackgroundColor</span>(color2);</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the background color. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  };</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2160px;">     <h2 id="setwindowshadowenabled20" device-type="phone,2in1,tablet,wearable,tv">setWindowShadowEnabled<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowshadowenabled20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowShadowEnabled(enable: boolean): Promise&lt;void&gt;</p>     <p>设置主窗口是否显示阴影，使用Promise异步回调。未调用该接口时，主窗口默认显示阴影。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>需要权限：</strong> ohos.permission.SET_WINDOW_TRANSPARENT</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置主窗口是否显示阴影。true表示显示阴影，false表示不显示阴影。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.113.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/page2"</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>      <span class="hljs-comment">// 获取应用主窗口。</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>      windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        windowClass = data;</li><li>        <span class="hljs-keyword">let</span> enable = <span class="hljs-literal">true</span>;</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowShadowEnabled</span>(enable);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window shadow.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window shadow. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2128px;">     <h2 id="setwindowbrightness9" device-type="phone,2in1,tablet,wearable,tv">setWindowBrightness<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowbrightness9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowBrightness(brightness: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>主窗口设置当前设备屏幕亮度，无法设置虚拟屏（如投屏所在的屏幕）的屏幕亮度，使用callback异步回调。</p>     <p>当窗口退至后台时，系统会恢复至设置窗口亮度前的系统控制中心亮度。不建议同时调用此接口，否则可能引发时序问题。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>针对非2in1设备，窗口设置当前窗口亮度生效时，控制中心不可以调整系统屏幕亮度。当接口入参为-1或当前窗口退至后台时，窗口亮度恢复为系统屏幕亮度，控制中心可以调整系统屏幕亮度。</li>        <li>针对2in1设备，在API version 14之前，窗口设置屏幕亮度生效时，控制中心和快捷键不可以调整系统屏幕亮度。当接口入参为-1或当前窗口退至后台时，窗口亮度恢复为系统屏幕亮度，控制中心和快捷键可以调整系统屏幕亮度。从API version 14开始，窗口亮度与系统屏幕亮度保持一致，可以通过本接口、控制中心或者快捷键设置系统屏幕亮度。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">brightness</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">屏幕亮度值。该参数为浮点数，取值范围为[0.0, 1.0]或-1.0。1.0表示最亮，-1.0表示恢复成设置窗口亮度前的系统控制中心亮度。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.114.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">brightness</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1.0</span>;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        windowClass.<span class="hljs-title function_">setWindowBrightness</span>(brightness, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>          <span class="hljs-keyword">if</span> (errCode) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the brightness. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the brightness.'</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the brightness. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2206px;">     <h2 id="setwindowbrightness9-1" device-type="phone,2in1,tablet,wearable,tv">setWindowBrightness<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowbrightness9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowBrightness(brightness: number): Promise&lt;void&gt;</p>     <p>主窗口设置当前设备屏幕亮度，无法设置虚拟屏（如投屏所在的屏幕）的屏幕亮度，使用Promise异步回调。</p>     <p>当窗口退至后台时，系统会恢复至设置窗口亮度前的系统控制中心亮度。不建议同时调用此接口，否则可能引发时序问题。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>针对非2in1设备，窗口设置当前窗口亮度生效时，控制中心不可以调整系统屏幕亮度。当接口入参为-1或当前窗口退至后台时，窗口亮度恢复为系统屏幕亮度，控制中心可以调整系统屏幕亮度。</li>        <li>针对2in1设备，在API version 14之前，窗口设置屏幕亮度生效时，控制中心和快捷键不可以调整系统屏幕亮度。当接口入参为-1或当前窗口退至后台时，窗口亮度恢复为系统屏幕亮度，控制中心和快捷键可以调整系统屏幕亮度。从API version 14开始，窗口亮度与系统屏幕亮度保持一致，可以通过本接口、控制中心或者快捷键设置系统屏幕亮度。</li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.115.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">brightness</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">屏幕亮度值。该参数为浮点数，取值范围为[0.0, 1.0]或-1.0。1.0表示最亮，-1.0表示恢复成设置窗口亮度前的系统控制中心亮度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.115.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">brightness</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1.0</span>;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowBrightness</span>(brightness);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the brightness.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the brightness. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the brightness. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1516px;">     <h2 id="setwindowfocusable9" device-type="phone,2in1,tablet,wearable,tv">setWindowFocusable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowfocusable9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowFocusable(isFocusable: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置窗口是否具有获得焦点的能力，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isFocusable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否可获焦。true表示支持；false表示不支持。设置为false时，该窗口不支持绑定输入法和接收键盘事件，如需处理输入逻辑，建议参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-inputmethod-in-not-focusable-window" target="_blank">不可获焦窗口中输入框与输入法交互指南</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.116.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isFocusable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setWindowFocusable</span>(isFocusable, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be focusable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be focusable.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be focusable. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1594px;">     <h2 id="setwindowfocusable9-1" device-type="phone,2in1,tablet,wearable,tv">setWindowFocusable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowfocusable9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowFocusable(isFocusable: boolean): Promise&lt;void&gt;</p>     <p>设置窗口是否具有获得焦点的能力，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.117.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isFocusable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否可获焦。true表示支持；false表示不支持。设置为false时，该窗口不支持绑定输入法和接收键盘事件，如需处理输入逻辑，建议参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-inputmethod-in-not-focusable-window" target="_blank">不可获焦窗口中输入框与输入法交互指南</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.117.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isFocusable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowFocusable</span>(isFocusable);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be focusable.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be focusable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be focusable. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1516px;">     <h2 id="setwindowkeepscreenon9" device-type="phone,2in1,tablet,wearable,tv">setWindowKeepScreenOn<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowkeepscreenon9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowKeepScreenOn(isKeepScreenOn: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置屏幕是否为常亮状态，使用callback异步回调。</p>     <p>规范使用该接口：仅在必要场景（导航、视频播放、绘画、游戏等场景）下，设置该属性为true；退出上述场景后，应当重置该属性为false；其他场景（无屏幕互动、音频播放等）下，不使用该接口；系统检测到非规范使用该接口时，可能会恢复自动灭屏功能。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isKeepScreenOn</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置屏幕是否为常亮状态。true表示常亮；false表示不常亮。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isKeepScreenOn</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setWindowKeepScreenOn</span>(isKeepScreenOn, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the screen to be always on. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the screen to be always on.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the screen to be always on. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1594px;">     <h2 id="setwindowkeepscreenon9-1" device-type="phone,2in1,tablet,wearable,tv">setWindowKeepScreenOn<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowkeepscreenon9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowKeepScreenOn(isKeepScreenOn: boolean): Promise&lt;void&gt;</p>     <p>设置屏幕是否为常亮状态，使用Promise异步回调。</p>     <p>规范使用该接口：仅在必要场景（导航、视频播放、绘画、游戏等场景）下，设置该属性为true；退出上述场景后，应当重置该属性为false；其他场景（无屏幕互动、音频播放等）下，不使用该接口；系统检测到非规范使用该接口时，可能会恢复自动灭屏功能。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.119.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isKeepScreenOn</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置屏幕是否为常亮状态。true表示常亮；false表示不常亮。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.119.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.119.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isKeepScreenOn</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowKeepScreenOn</span>(isKeepScreenOn);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the screen to be always on.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the screen to be always on. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the screen to be always on. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1588px;">     <h2 id="setwindowprivacymode9" device-type="phone,2in1,tablet,wearable,tv">setWindowPrivacyMode<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowprivacymode9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowPrivacyMode(isPrivacyMode: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置窗口是否为隐私模式，使用callback异步回调。</p>     <p>设置为隐私模式的窗口，窗口内容将无法被截屏或录屏。此接口可用于禁止截屏/录屏的场景。</p>     <p>未调用此接口时，窗口默认不开启隐私模式，可以被截屏或录屏。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限：</strong> ohos.permission.PRIVACY_WINDOW</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.120.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isPrivacyMode</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为隐私模式。true表示为隐私模式，false表示为非隐私模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.120.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isPrivacyMode</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setWindowPrivacyMode</span>(isPrivacyMode, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to privacy mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to privacy mode.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to privacy mode. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1594px;">     <h2 id="setwindowprivacymode9-1" device-type="phone,2in1,tablet,wearable,tv">setWindowPrivacyMode<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowprivacymode9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowPrivacyMode(isPrivacyMode: boolean): Promise&lt;void&gt;</p>     <p>设置窗口是否为隐私模式，使用Promise异步回调。设置为隐私模式的窗口，窗口内容将无法被截屏或录屏。此接口可用于禁止截屏/录屏的场景。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>需要权限：</strong> ohos.permission.PRIVACY_WINDOW</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isPrivacyMode</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为隐私模式。true表示为隐私模式，false表示为非隐私模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.121.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.121.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isPrivacyMode</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowPrivacyMode</span>(isPrivacyMode);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to privacy mode.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to privacy mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to privacy mode. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1420px;">     <h2 id="setwindowtouchable9" device-type="phone,2in1,tablet,wearable,tv">setWindowTouchable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowtouchable9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowTouchable(isTouchable: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置窗口是否为可触状态，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isTouchable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为可触状态。true表示可触；false表示不可触。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.122.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> isTouchable = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setWindowTouchable</span>(isTouchable, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>    <span class="hljs-keyword">if</span> (errCode) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be touchable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be touchable.'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be touchable. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1498px;">     <h2 id="setwindowtouchable9-1" device-type="phone,2in1,tablet,wearable,tv">setWindowTouchable<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowtouchable9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowTouchable(isTouchable: boolean): Promise&lt;void&gt;</p>     <p>设置窗口是否为可触状态，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isTouchable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为可触状态。true表示可触；false表示不可触。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.123.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isTouchable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowTouchable</span>(isTouchable);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be touchable.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be touchable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be touchable. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1169px;">     <h2 id="snapshot9" device-type="phone,2in1,tablet,wearable,tv">snapshot<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="snapshot9" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>snapshot(callback: AsyncCallback&lt;image.PixelMap&gt;): void</p>     <p>获取窗口截图，使用callback异步回调。若当前窗口设置为隐私模式（可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowprivacymode9">setWindowPrivacyMode</a>接口设置），截图结果为白屏。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.124.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">snapshot</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, pixelMap: image.PixelMap</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to snapshot window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in snapshotting window. Pixel bytes number: '</span> + pixelMap.<span class="hljs-title function_">getPixelBytesNumber</span>());</li><li>  pixelMap.<span class="hljs-title function_">release</span>(); <span class="hljs-comment">// PixelMap使用完后及时释放内存</span></li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h2 id="snapshot9-1" device-type="phone,2in1,tablet,wearable,tv">snapshot<sup>9+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="snapshot9-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>snapshot(): Promise&lt;image.PixelMap&gt;</p>     <p>获取当前窗口截图。若当前窗口设置为隐私模式（可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowprivacymode9">setWindowPrivacyMode</a>接口设置），截图结果为白屏。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前窗口截图。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.125.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">snapshot</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">pixelMap: image.PixelMap</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in snapshotting window. Pixel bytes number: '</span> + pixelMap.<span class="hljs-title function_">getPixelBytesNumber</span>());</li><li>  pixelMap.<span class="hljs-title function_">release</span>(); <span class="hljs-comment">// PixelMap使用完后及时释放内存</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to snapshot window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1227px;">     <h2 id="snapshotsync20" device-type="phone,2in1,tablet,wearable,tv">snapshotSync<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="snapshotsync20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>snapshotSync(): image.PixelMap</p>     <p>获取当前窗口截图，此接口为同步接口。若当前窗口设置为隐私模式（<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowprivacymode9">setWindowPrivacyMode</a>接口设置），截图结果为白屏。</p>     <p>Stage模型下，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a></td>         <td class="cellrowborder" width="50%">返回当前窗口截图。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.126.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300018</td>         <td class="cellrowborder" width="50%">Timeout.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> pixelMap = windowClass.<span class="hljs-title function_">snapshotSync</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in snapshotting window`</span>);</li><li>  pixelMap.<span class="hljs-title function_">release</span>(); <span class="hljs-comment">// PixelMap使用完后及时释放内存</span></li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to snapshot window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1196px;">     <h2 id="snapshotignoreprivacy18" device-type="phone,2in1,tablet,wearable,tv">snapshotIgnorePrivacy<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="snapshotignoreprivacy18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>snapshotIgnorePrivacy(): Promise&lt;image.PixelMap&gt;</p>     <p>获取当前窗口截图。即使当前窗口设置为隐私模式（可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowprivacymode9">setWindowPrivacyMode</a>接口设置），仍可调用本接口返回当前窗口截图。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.127.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">image.PixelMap</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前窗口截图。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.127.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function snapshotIgnorePrivacy can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">snapshotIgnorePrivacy</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">pixelMap: image.PixelMap</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in snapshotting window. Pixel bytes number: '</span> + pixelMap.<span class="hljs-title function_">getPixelBytesNumber</span>());</li><li>  pixelMap.<span class="hljs-title function_">release</span>(); <span class="hljs-comment">// PixelMap使用完后及时释放内存</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to snapshot window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2430px;">     <h2 id="setaspectratio10" device-type="phone,2in1,tablet,wearable,tv">setAspectRatio<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setaspectratio10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAspectRatio(ratio: number): Promise&lt;void&gt;</p>     <p>设置窗口内容布局（不含边框和标题栏等装饰）的比例，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>通过其他接口如<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resize9">resize</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resizeasync12">resizeAsync</a>设置窗口大小时，不受ratio约束。</p></li>        <li>         <p>仅主窗可设置，且仅在自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）下生效。此比例参数将持久化保存，关闭应用或重启设备后，切换到自由悬浮窗口模式时，设置的比例仍然生效。</p></li>        <li>         <p>当同一应用的某个主窗口调用此接口设置宽高比生效后，后续打开的主窗口均会沿用该宽高比。若需为单个主窗口单独设置宽高比，请使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setcontentaspectratio21">setContentAspectRatio</a>。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ratio</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口内容布局（不含边框和标题栏等装饰）的宽高比。该参数为浮点数，受窗口最大最小尺寸限制，比例值下限为最小宽度/最大高度，上限为最大宽度/最小高度。窗口最大最小尺寸由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>和系统限制的交集决定，系统限制优先级高于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>。ratio的有效范围会随<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>变化而变化。如果先设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>，后设置的ratio与其冲突，会返回错误码；如果先设置了ratio，后设置的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>与其冲突，窗口的宽高比可能会不跟随设置的宽高比（ratio）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.128.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.128.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.128.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>
</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>(); <span class="hljs-comment">// 获取应用主窗口</span></li><li>    <span class="hljs-keyword">if</span> (!windowClass) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'windowClass is null'</span>);</li><li>    }</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> ratio = <span class="hljs-number">1.0</span>;</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setAspectRatio</span>(ratio);</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting aspect ratio of window.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the aspect ratio of window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the aspect ratio of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2352px;">     <h2 id="setaspectratio10-1" device-type="phone,2in1,tablet,wearable,tv">setAspectRatio<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setaspectratio10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setAspectRatio(ratio: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置窗口内容布局（不含边框和标题栏等装饰）的比例，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>通过其他接口如<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resize9">resize</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resizeasync12">resizeAsync</a>设置窗口大小时，不受ratio约束。</p></li>        <li>         <p>仅主窗可设置，且仅在自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）下生效。此比例参数将持久化保存，关闭应用或重启设备后，切换到自由悬浮窗口模式时，设置的比例仍然生效。</p></li>        <li>         <p>当同一应用的某个主窗口调用此接口设置宽高比生效后，后续打开的主窗口均会沿用该宽高比。若需为单个主窗口单独设置宽高比，请使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setcontentaspectratio21">setContentAspectRatio</a>。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.129.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ratio</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口内容布局（不含边框和标题栏等装饰）的宽高比。该参数为浮点数，受窗口最大最小尺寸限制，比例值下限为最小宽度/最大高度，上限为最大宽度/最小高度。窗口最大最小尺寸由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>和系统限制的交集决定，系统限制优先级高于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>。ratio的有效范围会随<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>变化而变化。如果先设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>，后设置的ratio与其冲突，会返回错误码；如果先设置了ratio，后设置的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>与其冲突，窗口的宽高比可能会不跟随设置的宽高比（ratio）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.129.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.129.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>
</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>(); <span class="hljs-comment">// 获取应用主窗口</span></li><li>    <span class="hljs-keyword">if</span> (!windowClass) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Failed to load the content. Cause: windowClass is null'</span>);</li><li>    }</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> ratio = <span class="hljs-number">1.0</span>;</li><li>      windowClass.<span class="hljs-title function_">setAspectRatio</span>(ratio, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the aspect ratio of window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the aspect ratio of window.'</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the aspect ratio of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2926px;">     <h2 id="setcontentaspectratio21" device-type="phone,2in1,tablet,wearable,tv">setContentAspectRatio<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcontentaspectratio21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setContentAspectRatio(ratio: number, isPersistent?: boolean, needUpdateRect?: boolean): Promise&lt;void&gt;</p>     <p>设置窗口内容布局（不含边框和标题栏等装饰）的比例，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>根据相同的ratio参数调整窗口宽高时，窗口宽高会跟随窗口边框装饰尺寸或可见性变化而调整。</p></li>        <li>         <p>通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowdecorvisible11">setWindowDecorVisible</a>将窗口标题栏设置为不可见时，窗口内容区域将占据原本标题栏的高度空间。</p></li>        <li>         <p>通过其他接口如<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resize9">resize</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resizeasync12">resizeAsync</a>设置窗口大小时，不受ratio约束。</p></li>        <li>         <p>仅主窗可设置，且仅在自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）下生效。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">ratio</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口内容布局（不含边框和标题栏等装饰）的宽高比。该参数为浮点数，受窗口最大最小尺寸限制，比例值下限为最小宽度/最大高度，上限为最大宽度/最小高度。窗口最大最小尺寸由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>和系统限制的交集决定，系统限制优先级高于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>。ratio的有效范围会随<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>变化而变化。如果先设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>，后设置的ratio与其冲突，会返回错误码；如果先设置了ratio，后设置的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>与其冲突，窗口的宽高比可能会不跟随设置的宽高比（ratio）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isPersistent</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否持久化保存该比例参数。</p>          <p>如为true，比例参数会持久化保存，销毁窗口、关闭应用或重启设备后，当再次切换到自由悬浮窗口模式时仍然生效。可通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resetaspectratio10">resetAspectRatio</a>清除持久化保存的比例参数。</p>          <p>如为false，比例参数仅对当前窗口生效，窗口销毁后清除该数据。</p>          <p>默认值为true。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">needUpdateRect</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否立即根据当前比例更新窗口大小。</p>          <p>如为true，立即根据当前比例更新窗口大小。</p>          <p>如为false，窗口将在拖拽缩放时根据当前比例更新，也可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resize9">resize</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resizeasync12">resizeAsync</a>进行主动更新。</p>          <p>默认值为true。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.130.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.130.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.130.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Invaild parameter range. 2. Invalid parameter length.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      <span class="hljs-keyword">let</span> ratio = <span class="hljs-number">1.0</span>;</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setContentAspectRatio</span>(ratio, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>);</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting aspect ratio of window.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the aspect ratio of window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the aspect ratio of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1556px;">     <h2 id="resetaspectratio10" device-type="phone,2in1,tablet,wearable,tv">resetAspectRatio<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resetaspectratio10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resetAspectRatio(): Promise&lt;void&gt;</p>     <p>取消设置窗口内容布局的比例，使用Promise异步回调。</p>     <p>仅主窗可设置，调用后将清除持久化储存的比例信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.131.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.131.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.131.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>
</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>(); <span class="hljs-comment">// 获取应用主窗口</span></li><li>    <span class="hljs-keyword">if</span> (!windowClass) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Failed to load the content. Cause: windowClass is null'</span>);</li><li>    }</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">resetAspectRatio</span>();</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in resetting aspect ratio of window.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to reset the aspect ratio of window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to reset the aspect ratio of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1584px;">     <h2 id="resetaspectratio10-1" device-type="phone,2in1,tablet,wearable,tv">resetAspectRatio<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resetaspectratio10-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resetAspectRatio(callback: AsyncCallback&lt;void&gt;): void</p>     <p>取消设置窗口内容布局的比例，使用callback异步回调。</p>     <p>仅主窗可设置，调用后将清除持久化储存的比例信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.132.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.132.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>
</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowStage.<span class="hljs-title function_">getMainWindowSync</span>(); <span class="hljs-comment">// 获取应用主窗口</span></li><li>    <span class="hljs-keyword">if</span> (!windowClass) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Failed to load the content. Cause: windowClass is null'</span>);</li><li>    }</li><li>    <span class="hljs-keyword">try</span> {</li><li>      windowClass.<span class="hljs-title function_">resetAspectRatio</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to reset the aspect ratio of window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in resetting aspect ratio of window.'</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to reset the aspect ratio of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1335px;">     <h2 id="minimize11" device-type="phone,2in1,tablet,wearable,tv">minimize<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="minimize11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>minimize(callback: AsyncCallback&lt;void&gt;): void</p>     <p>此接口根据调用对象不同，实现不同的功能：</p>     <ul>      <li>       <p>当调用对象为主窗口时，实现最小化功能，可在Dock栏中还原，2in1 设备上可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#restore14">restore()</a>进行还原。</p></li>      <li>       <p>当调用对象为子窗口或全局悬浮窗时，实现隐藏功能，不可在Dock栏中还原，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#showwindow9">showWindow()</a>进行还原。</p></li>     </ul>     <p>该接口仅支持主窗口、子窗口或全局悬浮窗，其它窗口调用返回1300002错误码，使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.133.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.133.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.133.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">minimize</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to minimize the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in minimizing the window.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1307px;">     <h2 id="minimize11-1" device-type="phone,2in1,tablet,wearable,tv">minimize<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="minimize11-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>minimize(): Promise&lt;void&gt;</p>     <p>此接口根据调用对象不同，实现不同的功能：</p>     <ul>      <li>       <p>当调用对象为主窗口时，实现最小化功能，可在Dock栏中还原，2in1 设备上可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#restore14">restore()</a>进行还原。</p></li>      <li>       <p>当调用对象为子窗口或全局悬浮窗时，实现隐藏功能，不可在Dock栏中还原，可以使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#showwindow9">showWindow()</a>进行还原。</p></li>     </ul>     <p>该接口仅支持主窗口、子窗口或全局悬浮窗，其它窗口调用返回1300002错误码，使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.134.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.134.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">minimize</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in minimizing the window.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to minimize the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2033px;">     <h2 id="maximize12" device-type="phone,2in1,tablet,wearable,tv">maximize<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="maximize12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>maximize(presentation?: MaximizePresentation): Promise&lt;void&gt;</p>     <p>实现最大化功能。主窗口可调用此接口实现最大化功能；子窗口需在创建时设置子窗口参数maximizeSupported为true，再调用此接口可实现最大化功能。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.135.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">presentation</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#maximizepresentation12">MaximizePresentation</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">主窗口或子窗口最大化时的布局枚举。默认值window.MaximizePresentation.ENTER_IMMERSIVE，即默认最大化时进入全屏模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.135.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.135.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.135.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function maximize can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">maximize</span>();</li><li>      <span class="hljs-comment">// let promise = windowClass.maximize(window.MaximizePresentation.ENTER_IMMERSIVE);</span></li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in maximizing the window.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to maximize the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>};</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1427px;">     <h2 id="setresizebydragenabled14" device-type="phone,2in1,tablet,wearable,tv">setResizeByDragEnabled<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setresizebydragenabled14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setResizeByDragEnabled(enable: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>禁止/使能通过拖拽方式缩放主窗口或启用装饰的子窗口的功能。使用callback异步回调。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置窗口是否使能通过拖拽进行缩放，true表示使能，false表示禁止。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.136.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.136.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">false</span>;</li><li>  windowClass.<span class="hljs-title function_">setResizeByDragEnabled</span>(enabled, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the function of disabling the resize by drag window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting the function of disabling the resize by drag window.`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the function of disabling the resize by drag window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1577px;">     <h2 id="setresizebydragenabled14-1" device-type="phone,2in1,tablet,wearable,tv">setResizeByDragEnabled<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setresizebydragenabled14-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setResizeByDragEnabled(enable: boolean): Promise&lt;void&gt;</p>     <p>禁止/使能通过拖拽方式缩放主窗口或启用装饰的子窗口的功能。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置窗口是否使能通过拖拽进行缩放，true表示使能，false表示禁止。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.137.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.137.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setResizeByDragEnabled</span>(enabled);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting the function of disabling the resize by drag window.`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the function of disabling the resize by drag window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the function of disabling the resize by drag window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1683px;">     <h2 id="recover11" device-type="phone,2in1,tablet,wearable,tv">recover<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="recover11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>recover(): Promise&lt;void&gt;</p>     <p>将主窗口从全屏、最大化、分屏模式下还原为自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING），并恢复到进入该模式之前的大小和位置，已经是自由悬浮窗口模式不可再还原。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.138.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.138.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.138.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300001</td>         <td class="cellrowborder" width="50%">Repeated operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      <span class="hljs-keyword">if</span> (!windowClass) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get main window.'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">recover</span>();</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in recovering the window.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to recover the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to recover the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1714px;">     <h2 id="restore14" device-type="phone,2in1,tablet,wearable,tv">restore<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restore14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>restore(): Promise&lt;void&gt;</p>     <p>主窗口为最小化状态且UIAbility生命周期为onForeground时，将主窗口从最小化状态，恢复到前台显示，并恢复到进入最小化状态之前的大小和位置。使用Promise异步回调。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.139.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.139.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.139.11.1.3.1.1" width="50%"><strong>错误码ID</strong></th>         <th align="left" class="cellrowborder" id="mcps1.3.139.11.1.3.1.2" width="50%"><strong>错误信息</strong></th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      <span class="hljs-comment">// 调用minimize, 使主窗最小化</span></li><li>      windowClass.<span class="hljs-title function_">minimize</span>();</li><li>      <span class="hljs-comment">//设置延时函数延时5秒钟后对主窗进行恢复。</span></li><li>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>        <span class="hljs-comment">//调用restore()函数对主窗进行恢复。</span></li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">restore</span>();</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in restoring the window.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to restore the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      }, <span class="hljs-number">5000</span>);</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to restore the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1052px;">     <h2 id="getwindowlimits11" device-type="phone,2in1,tablet,wearable,tv">getWindowLimits<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowlimits11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowLimits(): WindowLimits</p>     <p>获取当前应用窗口的尺寸限制，单位为物理像素px。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a></td>         <td class="cellrowborder" width="50%">当前窗口尺寸限制。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.140.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.140.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> windowLimits = windowClass.<span class="hljs-title function_">getWindowLimits</span>();</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window limits of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1848px;">     <h2 id="setwindowlimits11" device-type="phone,2in1,tablet,wearable,tv">setWindowLimits<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowlimits11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowLimits(windowLimits: WindowLimits): Promise&lt;WindowLimits&gt;</p>     <p>设置当前应用窗口的尺寸限制，使用Promise异步回调。</p>     <p>默认存在一个系统尺寸限制，系统尺寸限制由产品配置决定，不可修改。</p>     <p>未调用setWindowLimits配置过WindowLimits时，使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowlimits11">getWindowLimits</a>可获取系统限制。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.141.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">windowLimits</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标窗口的尺寸限制，单位为px。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.141.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回设置后的尺寸限制，为入参与系统尺寸限制的交集。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.141.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.141.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowLimits</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowLimits</span> = {</li><li>    <span class="hljs-attr">maxWidth</span>: <span class="hljs-number">1500</span>,</li><li>    <span class="hljs-attr">maxHeight</span>: <span class="hljs-number">1000</span>,</li><li>    <span class="hljs-attr">minWidth</span>: <span class="hljs-number">500</span>,</li><li>    <span class="hljs-attr">minHeight</span>: <span class="hljs-number">400</span></li><li>  };</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowLimits</span>(windowLimits);</li><li>    promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing the window limits. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window limits. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window limits. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2277px;">     <h2 id="setwindowlimits15" device-type="phone,2in1,tablet,wearable,tv">setWindowLimits<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowlimits15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowLimits(windowLimits: WindowLimits, isForcible: boolean): Promise&lt;WindowLimits&gt;</p>     <p>设置当前应用窗口的尺寸限制，使用Promise异步回调。</p>     <p>默认存在一个系统尺寸限制，系统尺寸限制由产品配置决定，不可修改。</p>     <p>未调用setWindowLimits配置过WindowLimits时，使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowlimits11">getWindowLimits</a>可获取系统限制。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 19之前，该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p>从API version 19开始，接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.142.12.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.12.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.12.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.12.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">windowLimits</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">目标窗口的尺寸限制，单位为px。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isForcible</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否强制设置窗口的尺寸限制。</p>          <p>设置为true，表示窗口宽高最小值以系统限制值和40vp两者中的低数值为准，窗口宽高的最大值仍取决于系统限制。</p>          <p>设置为false，表示窗口宽高的最小值和最大值都取决于系统限制。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.142.14.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.14.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowlimits11">WindowLimits</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回设置后的窗口尺寸限制。根据isForcible判断为入参与系统默认窗口尺寸限制的交集。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.142.17.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.142.17.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowLimits</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowLimits</span> = {</li><li>    <span class="hljs-attr">maxWidth</span>: <span class="hljs-number">1500</span>,</li><li>    <span class="hljs-attr">maxHeight</span>: <span class="hljs-number">1000</span>,</li><li>    <span class="hljs-attr">minWidth</span>: <span class="hljs-number">100</span>,</li><li>    <span class="hljs-attr">minHeight</span>: <span class="hljs-number">100</span></li><li>  };</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowLimits</span>(windowLimits, <span class="hljs-literal">true</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in changing the window limits. Cause: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window limits. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window limits. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1992px;">     <h2 id="setwindowmask12" device-type="phone,2in1,tablet,wearable,tv">setWindowMask<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowmask12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowMask(windowMask: Array&lt;Array&lt;number&gt;&gt;): Promise&lt;void&gt;;</p>     <p>设置异形窗口的掩码，使用Promise异步回调。异形窗口为非常规形状的窗口，掩码用于描述异形窗口的形状。此接口仅限子窗和全局悬浮窗可用。</p>     <p>当异形窗口大小发生变化时，实际的显示内容为掩码大小和窗口大小的交集部分。</p>     <p>该接口只在多个线程操作同一个窗口时可能返回错误码1300002。窗口被销毁场景下错误码返回401。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">windowMask</td>         <td class="cellrowborder" width="25%">Array&lt;Array&lt;number&gt;&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">异形窗口的掩码，该参数仅支持宽高为窗口宽高、取值为整数0和整数1的二维数组输入，整数0代表所在像素透明，整数1代表所在像素不透明，宽高不符合的二维数组或二维数组取值不为整数0和整数1的二维数组为非法参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.143.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.143.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.143.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowMask</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;&gt; = [</li><li>      [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],</li><li>      [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],</li><li>      [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>],</li><li>      [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]</li><li>    ];</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowMask</span>(windowMask);</li><li>    promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window mask.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window mask. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window mask. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1214px;">     <h2 id="keepkeyboardonfocus11" device-type="phone,2in1,tablet,wearable,tv">keepKeyboardOnFocus<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keepkeyboardonfocus11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>keepKeyboardOnFocus(keepKeyboardFlag: boolean): void</p>     <p>窗口获焦时保留由其他窗口创建的软键盘，仅支持系统窗口与应用子窗口。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">keepKeyboardFlag</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否保留其他窗口创建的软键盘。true表示保留；false表示不保留。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.144.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.144.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">keepKeyboardOnFocus</span>(<span class="hljs-literal">true</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to keep keyboard onFocus. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1543px;">     <h2 id="setwindowdecorvisible11" device-type="phone,2in1,tablet,wearable,tv">setWindowDecorVisible<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowdecorvisible11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowDecorVisible(isVisible: boolean): void</p>     <p>设置窗口标题栏是否可见，对存在标题栏和三键区的窗口形态生效。Stage模型下，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p>设置窗口标题栏不可见后，当主窗口进入全屏沉浸状态时，此时鼠标Hover到上方窗口标题栏热区上会显示悬浮标题栏。若想禁用悬浮标题栏显示，请使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#settitleanddockhovershown14">setTitleAndDockHoverShown()</a>接口。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.145.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isVisible</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置标题栏是否可见，true为可见，false为隐藏。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.145.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.145.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">storage</span>: <span class="hljs-title class_">LocalStorage</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();</li><li>storage.<span class="hljs-title function_">setOrCreate</span>(<span class="hljs-string">'storageSimpleProp'</span>, <span class="hljs-number">121</span>);</li><li>windowClass.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/page2"</span>, storage, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>  <span class="hljs-keyword">let</span> isVisible = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-comment">// 调用setWindowDecorVisible接口</span></li><li>  <span class="hljs-keyword">try</span> {</li><li>      windowClass?.<span class="hljs-title function_">setWindowDecorVisible</span>(isVisible);</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the visibility of window decor. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1220px;">     <h2 id="getwindowdecorvisible18" device-type="phone,2in1,tablet,wearable,tv">getWindowDecorVisible<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowdecorvisible18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowDecorVisible(): boolean</p>     <p>查询窗口标题栏是否可见。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.146.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回当前窗口标题栏是否可见，true表示可见，false表示不可见。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.146.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.146.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isVisible</span>: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/WindowPage'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    isVisible = windowClass?.<span class="hljs-title function_">getWindowDecorVisible</span>();</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the window decor visibility. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1618px;">     <h2 id="setwindowtitle15" device-type="phone,2in1,tablet,wearable,tv">setWindowTitle<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowtitle15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowTitle(titleName: string): Promise&lt;void&gt;</p>     <p>设置窗口标题，存在标题栏的窗口形态生效，若不存在标题栏则返回1300002错误码，使用Promise异步回调。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回1300002或801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">titleName</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口标题。标题显示区域最右端不超过系统三键区域最左端，超过部分以省略号表示。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.147.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.147.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.147.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> title = <span class="hljs-string">"title"</span>;</li><li>  windowClass.<span class="hljs-title function_">setWindowTitle</span>(title).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window title.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window title. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window title. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1646px;">     <h2 id="setwindowtitlemoveenabled14" device-type="phone,2in1,tablet,wearable,tv">setWindowTitleMoveEnabled<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowtitlemoveenabled14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowTitleMoveEnabled(enabled: boolean): void</p>     <p>禁止/使能主窗或子窗标题栏默认移动窗口和双击最大化的功能，当禁用标题栏默认移动窗口和双击最大化的功能时，可使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#startmoving14">startMoving()</a>在应用热区中发起拖拽移动，使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#maximize12">maximize()</a>实现最大化功能。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.148.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否使能标题栏默认移动窗口和双击最大化功能，true表示使能，false表示不使能。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.148.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.148.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/Index"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span>{</li><li>        <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>        <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">false</span>;</li><li>        windowClass.<span class="hljs-title function_">setWindowTitleMoveEnabled</span>(enabled);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting the the window title move enabled: <span class="hljs-subst">${enabled}</span>`</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window title move enabled. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2160px;">     <h2 id="setsubwindowmodal12" device-type="phone,2in1,tablet,wearable,tv">setSubWindowModal<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsubwindowmodal12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSubWindowModal(isModal: boolean): Promise&lt;void&gt;</p>     <p>设置子窗的模态属性是否启用，使用Promise异步回调。</p>     <p>子窗口调用该接口时，设置子窗口模态属性是否启用。启用子窗口模态属性后，其父级窗口不能响应用户操作，直到子窗口关闭或者子窗口的模态属性被禁用。</p>     <p>子窗口之外的窗口调用该接口时，会报错。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.149.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isModal</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置子窗口模态属性是否启用，true为启用，false为不启用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.149.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.149.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.149.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    <span class="hljs-comment">// 创建子窗</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> subWindow = windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">"testSubWindow"</span>);</li><li>      subWindow.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (data == <span class="hljs-literal">null</span>) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to create the subWindow. Cause: The data is empty"</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        windowClass = data;</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setSubWindowModal</span>(<span class="hljs-literal">true</span>);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting subwindow modal'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set subwindow modal. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the subWindow. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2349px;">     <h2 id="setsubwindowmodal14" device-type="phone,2in1,tablet,wearable,tv">setSubWindowModal<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsubwindowmodal14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSubWindowModal(isModal: boolean, modalityType: ModalityType): Promise&lt;void&gt;</p>     <p>设置子窗的模态类型，使用Promise异步回调。</p>     <p>当子窗口模态类型为模窗口子窗时，其父级窗口不能响应用户操作，直到子窗口关闭或者子窗口的模态类型被禁用。</p>     <p>当子窗口模态类型为模应用子窗时，其父级窗口与该应用其他实例的窗口不能响应用户操作，直到子窗口关闭或者子窗口的模态类型被禁用。</p>     <p>此接口仅支持设置子窗口模态类型，当需要禁用子窗口模态属性时，建议使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setsubwindowmodal12">setSubWindowModal<sup>12+</sup></a>。</p>     <p>子窗口之外的窗口调用该接口时，会报错。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.150.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isModal</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置子窗口模态属性是否启用，true为启用，false为不启用。当前仅支持设置为true。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">modalityType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#modalitytype14">ModalityType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子窗口模态类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.150.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.150.16.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.150.16.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    <span class="hljs-comment">// 创建子窗</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> subWindow = windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">"testSubWindow"</span>);</li><li>      subWindow.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (!data) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to create the subWindow. Cause: The data is empty"</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        windowClass = data;</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setSubWindowModal</span>(<span class="hljs-literal">true</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">ModalityType</span>.<span class="hljs-property">WINDOW_MODALITY</span>);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting subwindow modal'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set subwindow modal. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the subWindow. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1543px;">     <h2 id="setwindowdecorheight11" device-type="phone,2in1,tablet,wearable,tv">setWindowDecorHeight<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowdecorheight11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowDecorHeight(height: number): void</p>     <p>设置窗口的标题栏高度，对存在标题栏和三键区的窗口形态生效。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p>针对Tablet设备，非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由多窗模式" target="_blank">自由多窗模式</a>下调用此接口后，当设备切换到自由多窗模式时生效；在自由多窗模式下调用此接口后，立刻生效。</p>     <p>当主窗口进入全屏沉浸状态时，此时鼠标Hover到窗口标题栏热区时，会显示悬浮标题栏，悬浮标题栏高度固定为37vp。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.151.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置的窗口标题栏高度，仅支持具有窗口标题栏的窗口。该参数为整数，浮点数输入将向下取整，取值范围为[37,112]，范围外为非法参数，单位为vp。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.151.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.151.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/WindowPage'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">50</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    windowClass?.<span class="hljs-title function_">setWindowDecorHeight</span>(height);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting the height of window decor: <span class="hljs-subst">${height}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the height of window decor. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1862px;">     <h2 id="setdecorbuttonstyle14" device-type="phone,2in1,tablet,wearable,tv">setDecorButtonStyle<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdecorbuttonstyle14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDecorButtonStyle(dectorStyle: DecorButtonStyle): void</p>     <p>设置装饰栏按钮样式，仅对主窗和子窗生效。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 18之前，该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p>从API version 18开始，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.152.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dectorStyle</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#decorbuttonstyle14">DecorButtonStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要设置的装饰栏按钮样式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.152.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.152.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConfigurationConstant</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">"pages/Index"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span>{</li><li>        <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>        <span class="hljs-keyword">let</span> colorMode : <span class="hljs-title class_">ConfigurationConstant</span>.<span class="hljs-property">ColorMode</span> = <span class="hljs-title class_">ConfigurationConstant</span>.<span class="hljs-property">ColorMode</span>.<span class="hljs-property">COLOR_MODE_LIGHT</span>;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">style</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">DecorButtonStyle</span> = {</li><li>          <span class="hljs-attr">colorMode</span>: colorMode,</li><li>          <span class="hljs-attr">buttonBackgroundSize</span>: <span class="hljs-number">28</span>,</li><li>          <span class="hljs-attr">spacingBetweenButtons</span>: <span class="hljs-number">12</span>,</li><li>          <span class="hljs-attr">closeButtonRightMargin</span>: <span class="hljs-number">20</span>,</li><li>          <span class="hljs-attr">buttonIconSize</span>: <span class="hljs-number">20</span>,</li><li>          <span class="hljs-attr">buttonBackgroundCornerRadius</span>: <span class="hljs-number">4</span></li><li>        };</li><li>        windowClass.<span class="hljs-title function_">setDecorButtonStyle</span>(style);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting the style of button. Data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(style)}</span>`</span>);</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the style of button. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1378px;">     <h2 id="getdecorbuttonstyle14" device-type="phone,2in1,tablet,wearable,tv">getDecorButtonStyle<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdecorbuttonstyle14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDecorButtonStyle(): DecorButtonStyle</p>     <p>获取装饰栏按钮样式，仅对主窗和子窗生效。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 18之前，该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p>从API version 18开始，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.153.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#decorbuttonstyle14">DecorButtonStyle</a></td>         <td class="cellrowborder" width="50%">返回当前窗口装饰栏上的按钮样式，窗口装饰按钮区域位于窗口的右上角。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.153.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.153.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> decorButtonStyle = windowClass.<span class="hljs-title function_">getDecorButtonStyle</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the style of button. Data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(decorButtonStyle)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the style of button. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1220px;">     <h2 id="getwindowdecorheight11" device-type="phone,2in1,tablet,wearable,tv">getWindowDecorHeight<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowdecorheight11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowDecorHeight(): number</p>     <p>对存在标题栏和三键区的窗口形态生效，用于获取窗口的标题栏高度。如果使用Stage模型，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.154.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">返回的窗口标题栏高度。该参数为整数，取值范围为[37,112]，单位为vp。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.154.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.154.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">'pages/WindowPage'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">let</span> height = windowClass?.<span class="hljs-title function_">getWindowDecorHeight</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the height of window decor: <span class="hljs-subst">${height}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (exception) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the height of window decor. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>  }</li><li>})</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1556px;">     <h2 id="gettitlebuttonrect11" device-type="phone,2in1,tablet,wearable,tv">getTitleButtonRect<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettitlebuttonrect11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getTitleButtonRect(): TitleButtonRect</p>     <p>获取主窗口或启用装饰的子窗口的标题栏上的最小化、最大化、关闭按钮矩形区域。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.155.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#titlebuttonrect11">TitleButtonRect</a></td>         <td class="cellrowborder" width="50%">标题栏上的最小化、最大化、关闭按钮矩形区域，该区域位置坐标相对窗口右上角。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.155.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.155.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> titleButtonArea = windowClass.<span class="hljs-title function_">getTitleButtonRect</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining the area of title buttons. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(titleButtonArea));</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the area of title buttons. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1216px;">     <h2 id="getwindowstatus12" device-type="phone,2in1,tablet,wearable,tv">getWindowStatus<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowstatus12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowStatus(): WindowStatusType</p>     <p>获取当前应用窗口的模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签" target="_blank">targetAPIVersion</a>设置小于14时，在窗口最大化状态（窗口铺满整个屏幕，2in1设备会有dock栏和状态栏，Tablet设备会有状态栏）时返回值对应为WindowStatusType::FULL_SCREEN。应用的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#配置文件标签" target="_blank">targetAPIVersion</a>设置大于等于14时，在窗口最大化状态（窗口铺满整个屏幕，2in1设备会有dock栏和状态栏，Tablet设备会有状态栏）时返回值对应为WindowStatusType::MAXIMIZE。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.156.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowstatustype11">WindowStatusType</a></td>         <td class="cellrowborder" width="50%">当前窗口模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.156.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.156.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> windowStatusType = windowClass.<span class="hljs-title function_">getWindowStatus</span>();</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window status of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1021px;">     <h2 id="isfocused12" device-type="phone,2in1,tablet,wearable,tv">isFocused<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isfocused12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isFocused(): boolean</p>     <p>判断当前窗口是否已获焦。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">当前窗口是否已获焦。true表示当前窗口已获焦，false则表示当前窗口未获焦。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.157.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.157.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> focus = windowClass.<span class="hljs-title function_">isFocused</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in checking whether the window is focused. Data: JSON.stringify(focus)`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window is focused. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1941px;">     <h2 id="createsubwindowwithoptions12" device-type="phone,2in1,tablet,wearable,tv">createSubWindowWithOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createsubwindowwithoptions12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSubWindowWithOptions(name: string, options: SubWindowOptions): Promise&lt;Window&gt;</p>     <p>创建主窗口、子窗口或悬浮窗下的子窗口，使用Promise异步回调。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回undefined。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.158.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子窗口的名字。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#subwindowoptions11">SubWindowOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子窗口参数。decorEnabled为true时，子窗口为非<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#沉浸式布局" target="_blank">沉浸式布局</a>；decorEnabled为false时，子窗口为沉浸式布局。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.158.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window">Window</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前Window下创建的子窗口对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.158.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.158.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> options : <span class="hljs-variable language_">window</span>.<span class="hljs-property">SubWindowOptions</span> = {</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">'title'</span>,</li><li>    <span class="hljs-attr">decorEnabled</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">isModal</span>: <span class="hljs-literal">true</span></li><li>  };</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">createSubWindowWithOptions</span>(<span class="hljs-string">'mySubWindow'</span>, options);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating the subwindow. Data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the subwindow. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the subwindow. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1824px;">     <h2 id="setparentwindow19" device-type="phone,2in1,tablet,wearable,tv">setParentWindow<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setparentwindow19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setParentWindow(windowId: number): Promise&lt;void&gt;</p>     <p>更改子窗口的父窗口，该父窗口仅支持同进程下的主窗口、子窗口或悬浮窗，使用Promise异步回调。</p>     <p>如果该子窗口处于获焦状态，且新的父窗口处于前台，则会抬升父窗口的层级。</p>     <p>如果该子窗口处于获焦状态，且新的父窗口的子窗口存在层级更高的模态子窗口，则焦点会转移给该模态子窗口。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.159.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">windowId</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">父窗口id，该参数应为整数。推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>方法获取父窗口id属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.159.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.159.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.159.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300009</td>         <td class="cellrowborder" width="50%">The parent window is invaild.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">"subWindow"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">newParentWindow</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">"newParentWindow"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">newParentWindowId</span>: <span class="hljs-built_in">number</span> = newParentWindow.<span class="hljs-title function_">getWindowProperties</span>().<span class="hljs-property">id</span>;</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setParentWindow</span>(newParentWindowId);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the new parent window.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the new parent window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the new parent window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1282px;">     <h2 id="getparentwindow19" device-type="phone,2in1,tablet,wearable,tv">getParentWindow<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getparentwindow19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getParentWindow(): Window</p>     <p>获取子窗口的父窗口。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.160.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window">Window</a></td>         <td class="cellrowborder" width="50%">子窗口的父窗口对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.160.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.160.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300009</td>         <td class="cellrowborder" width="50%">The parent window is invaild.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">"subWindow"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">parentWindow</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = windowClass.<span class="hljs-title function_">getParentWindow</span>();</li><li>  <span class="hljs-keyword">let</span> properties = parentWindow.<span class="hljs-title function_">getWindowProperties</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in obtaining parent window properties. Property: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(properties)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the parent window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2120px;">     <h2 id="setwindowtitlebuttonvisible14" device-type="phone,2in1,tablet,wearable,tv">setWindowTitleButtonVisible<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowtitlebuttonvisible14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowTitleButtonVisible(isMaximizeButtonVisible: boolean, isMinimizeButtonVisible: boolean, isCloseButtonVisible?: boolean): void</p>     <p>设置主窗标题栏上的最大化、最小化、关闭按钮是否可见。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isMaximizeButtonVisible</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置最大化按钮是否可见，true为可见，false为隐藏。如果最大化按钮隐藏，那么在最大化场景下，也隐藏对应的还原按钮。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isMinimizeButtonVisible</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置最小化按钮是否可见，true为可见，false为隐藏。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">isCloseButtonVisible</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">设置关闭按钮是否可见，true为可见，false为隐藏，默认值true。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.161.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.161.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 加载主窗口对应的页面</span></li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">mainWindow</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>      <span class="hljs-comment">// 获取应用主窗口。</span></li><li>      windowStage.<span class="hljs-title function_">getMainWindow</span>().<span class="hljs-title function_">then</span>(</li><li>        <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (!data) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get main window. Cause: The data is undefined.'</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          mainWindow = data;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining the main window. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>          <span class="hljs-comment">// 调用setWindowTitleButtonVisible接口，隐藏主窗标题栏最大化、最小化、关闭按钮。</span></li><li>          mainWindow.<span class="hljs-title function_">setWindowTitleButtonVisible</span>(<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);</li><li>        }</li><li>      ).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span>(err.<span class="hljs-property">code</span>){</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          }</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2736px;">     <h2 id="setwindowtopmost14" device-type="phone,2in1,tablet,wearable,tv">setWindowTopmost<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowtopmost14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowTopmost(isWindowTopmost: boolean): Promise&lt;void&gt;</p>     <p>应用主窗口调用，用于实现将窗口置于其他应用窗口之上不被遮挡，使用Promise异步回调。</p>     <p>应用可通过自定义快捷键实现主窗口的置顶和取消置顶。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>需要权限：</strong> ohos.permission.WINDOW_TOPMOST</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isWindowTopmost</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置主窗口置顶，true为置顶，false为取消置顶。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.162.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.162.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.162.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">201</td>         <td class="cellrowborder" width="50%">Permission verification failed. The application does not have the permission required to call the API.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ets/pages/Index.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">keyUpEventAry</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> context = (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>);</li><li>  <span class="hljs-keyword">private</span> windowStage = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">windowStage</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"窗口置顶"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">try</span> {</li><li>            windowClass = <span class="hljs-variable language_">this</span>.<span class="hljs-property">windowStage</span>.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>            <span class="hljs-comment">//  true:窗口置顶，false:取消窗口置顶</span></li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">isWindowTopmost</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>            <span class="hljs-keyword">let</span> promiseTopmost = windowClass.<span class="hljs-title function_">setWindowTopmost</span>(isWindowTopmost);</li><li>            promiseTopmost.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the main window to be topmost.'</span>);</li><li>            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the main window to be topmost. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            });</li><li>          } <span class="hljs-keyword">catch</span> (exception) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the top window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>)</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">onKeyEvent</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span>(event) {</li><li>        <span class="hljs-keyword">if</span>(event.<span class="hljs-property">type</span> === <span class="hljs-title class_">KeyType</span>.<span class="hljs-property">Down</span>) {</li><li>          keyUpEventAry = [];</li><li>        }</li><li>        <span class="hljs-keyword">if</span>(event.<span class="hljs-property">type</span> === <span class="hljs-title class_">KeyType</span>.<span class="hljs-property">Up</span>) {</li><li>          keyUpEventAry.<span class="hljs-title function_">push</span>(event.<span class="hljs-property">keyText</span>);</li><li>          <span class="hljs-comment">// 自定义快捷键 ctrl+T 执行主窗口置顶、取消置顶的操作</span></li><li>          <span class="hljs-keyword">if</span>(windowClass &amp;&amp; keyUpEventAry.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'KEYCODE_CTRL_LEFT'</span>) &amp;&amp; keyUpEventAry.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'KEYCODE_T'</span>)) {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">isWindowTopmost</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>            windowClass.<span class="hljs-title function_">setWindowTopmost</span>(isWindowTopmost);</li><li>          }</li><li>        }</li><li>      }</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1642px;">     <h2 id="raisetoapptop14" device-type="phone,2in1,tablet,wearable,tv">raiseToAppTop<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="raisetoapptop14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>raiseToAppTop(): Promise&lt;void&gt;</p>     <p>应用子窗口调用，提升应用子窗口到顶层，只在当前应用同一个父窗口下的相同类型子窗范围内生效，对于自定义了zLevel属性的子窗口，只在当前应用同一个父窗口下相同zLevel值的子窗范围内生效。使用Promise异步回调。</p>     <p>使用该接口需要先创建子窗口，并确保该子窗口调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#showwindow9">showWindow()</a>并执行完毕。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.163.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.163.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300009</td>         <td class="cellrowborder" width="50%">The parent window is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-comment">// 创建子窗</span></li><li>    windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">'testSubWindow'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create the subWindow. Cause: The data is empty'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      subWindow.<span class="hljs-title function_">showWindow</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        subWindow.<span class="hljs-title function_">raiseToAppTop</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in raising window to app top'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>)=&gt;</span>{</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to raise window to app top. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2167px;">     <h2 id="setraisebyclickenabled14" device-type="phone,2in1,tablet,wearable,tv">setRaiseByClickEnabled<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setraisebyclickenabled14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setRaiseByClickEnabled(enable: boolean): Promise&lt;void&gt;</p>     <p>禁止/使能子窗点击抬升功能。使用Promise异步回调。</p>     <p>通常来说，点击一个子窗口，会将该子窗口显示抬升到应用内同一个父窗口下同类型子窗口的最上方，如果设置为false，那么点击子窗口的时候，不会将该子窗口进行抬升，而是保持不变。</p>     <p>使用该接口需要先创建子窗口，并确保该子窗口调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#showwindow9">showWindow()</a>并执行完毕。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置子窗口点击抬升功能是否使能，true表示使能，false表示禁止。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.164.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.164.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.164.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300009</td>         <td class="cellrowborder" width="50%">The parent window is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-comment">// 创建子窗</span></li><li>    windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">"testSubWindow"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create the subWindow. Cause: The data is empty'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      subWindow.<span class="hljs-title function_">showWindow</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">try</span> {</li><li>          <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">false</span>;</li><li>          subWindow.<span class="hljs-title function_">setRaiseByClickEnabled</span>(enabled).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in disabling the raise-by-click function.'</span>);</li><li>          }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the raise-by-click function. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          });</li><li>        } <span class="hljs-keyword">catch</span> (err) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to disable the raise-by-click function. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        }</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1604px;">     <h2 id="enablelandscapemultiwindow12" device-type="phone,2in1,tablet,wearable,tv">enableLandscapeMultiWindow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablelandscapemultiwindow12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableLandscapeMultiWindow(): Promise&lt;void&gt;</p>     <p>应用部分界面支持横向布局时，在进入该界面时使能，使能后可支持进入横向多窗。不建议竖向布局界面使用。</p>     <p>此接口只对应用主窗口生效，且需要在module.json5配置文件中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#abilities标签" target="_blank">abilities</a>标签中配置preferMultiWindowOrientation属性为"landscape_auto"。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.165.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.165.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.165.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">enableLandscapeMultiWindow</span>();</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in making multi-window become landscape.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to make multi-window become landscape. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1604px;">     <h2 id="disablelandscapemultiwindow12" device-type="phone,2in1,tablet,wearable,tv">disableLandscapeMultiWindow<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="disablelandscapemultiwindow12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disableLandscapeMultiWindow(): Promise&lt;void&gt;</p>     <p>应用部分界面支持横向布局时，在退出该界面时去使能，去使能后不支持进入横向多窗。</p>     <p>此接口只对应用主窗口生效，且需要在module.json5配置文件中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#abilities标签" target="_blank">abilities</a>标签中配置preferMultiWindowOrientation属性为"landscape_auto"。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.166.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.166.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.166.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">disableLandscapeMultiWindow</span>();</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in making multi-window become not landscape.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to make multi-window become not landscape. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2820px;">     <h2 id="setdialogbackgestureenabled12" device-type="phone,2in1,tablet,wearable,tv">setDialogBackGestureEnabled<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdialogbackgestureenabled12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDialogBackGestureEnabled(enabled: boolean): Promise&lt;void&gt;</p>     <p>设置模态窗口是否响应手势返回事件，非模态窗口调用返回错误码。</p>     <p><strong>系统能力</strong>：SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否响应手势返回事件。</p>          <p>true表示响应手势返回事件，触发onBackPress回调；false表示不响应手势返回事件，不触发onBackPress回调。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.167.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.167.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.167.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">config</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Configuration</span> = {</li><li>      <span class="hljs-attr">name</span>: <span class="hljs-string">"test"</span>,</li><li>      <span class="hljs-attr">windowType</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowType</span>.<span class="hljs-property">TYPE_DIALOG</span>,</li><li>      <span class="hljs-attr">ctx</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span></li><li>    };</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">createWindow</span>(config, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        windowClass = data;</li><li>        windowClass.<span class="hljs-title function_">setUIContent</span>(<span class="hljs-string">"pages/Index"</span>);</li><li>        <span class="hljs-keyword">let</span> enabled = <span class="hljs-literal">true</span>;</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setDialogBackGestureEnabled</span>(enabled);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting dialog window to respond back gesture.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set dialog window to respond back gesture. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ets/pages/Index.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span></li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">RelativeContainer</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">'HelloWorld'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onBackPress</span>(): <span class="hljs-built_in">boolean</span> | <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting dialog window to respond back gesture.'</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1553px;">     <h2 id="enabledrag20" device-type="phone,2in1,tablet,wearable,tv">enableDrag<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enabledrag20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableDrag(enable: boolean): Promise&lt;void&gt;</p>     <p>使能/禁止拖拽窗口，仅对系统窗口、应用子窗口、全局悬浮窗和模态窗口生效。使用Promise异步回调。</p>     <p>使能后，将允许通过鼠标操作或触摸对窗口进行拉伸操作。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在Phone设备、Tablet设备和2in1设备上可正常调用，在其他设备中返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.168.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否允许拖拽。</p>          <p>true表示允许，false表示不允许。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.168.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.168.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.168.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">enableDrag</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'succeeded in setting window draggable'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window draggable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window draggable. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2873px;">     <h2 id="startmoving14" device-type="phone,2in1,tablet,wearable,tv">startMoving<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startmoving14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startMoving(): Promise&lt;void&gt;</p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，对系统窗口、应用主窗口、应用子窗口、全局悬浮窗和模态窗口生效。非自由窗口状态下，仅对系统窗口、应用子窗口、全局悬浮窗和模态窗口生效。用于开始移动窗口，使用Promise异步回调。</p>     <p>仅在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-touch#touchevent对象说明">onTouch</a>事件（其中，事件类型必须为TouchType.Down）的回调方法中调用此接口才会有移动效果，成功调用此接口后，窗口将跟随鼠标或触摸点移动。</p>     <p>在点击拖拽场景下，若不期望在按下时触发拖拽事件，则可以在事件类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#touchtype">TouchType.Move</a>（需要保证当前行为已经触发TouchType.Down事件）时调用此接口，触发移动效果。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong> 该接口在Phone设备、2in1设备和Tablet设备上可正常调用，在其他设备中返回801错误码。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.169.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.169.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.169.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300001</td>         <td class="cellrowborder" width="50%">Repeated operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ets/pages/Index.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">isTouchDown</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Blank</span>(<span class="hljs-string">'160'</span>)</li><li>          .<span class="hljs-title function_">color</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>)</li><li>          .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>) {</li><li>              <span class="hljs-keyword">try</span> {</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">"subWindow"</span>);</li><li>                <span class="hljs-keyword">if</span> (!windowClass) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to find window.'</span>);</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                windowClass.<span class="hljs-title function_">startMoving</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in starting moving window.'</span>)</li><li>                }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                });</li><li>              } <span class="hljs-keyword">catch</span> (exception) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>              }</li><li>            }</li><li>          })</li><li>        <span class="hljs-title class_">Blank</span>(<span class="hljs-string">'160'</span>)</li><li>          .<span class="hljs-title function_">color</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>          .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span>(event.<span class="hljs-property">type</span> == <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>){</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isTouchDown</span> = <span class="hljs-literal">true</span>;</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Move</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">isTouchDown</span>) {</li><li>              <span class="hljs-keyword">try</span> {</li><li>                <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">getHostContext</span>();</li><li>                <span class="hljs-keyword">if</span> (!context) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get host context.'</span>);</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getLastWindow</span>(context).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>{</li><li>                  <span class="hljs-keyword">if</span> (!data) {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get last window.'</span>);</li><li>                    <span class="hljs-keyword">return</span>;</li><li>                  }</li><li>                  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = data;</li><li>                  windowClass.<span class="hljs-title function_">startMoving</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in starting moving window.'</span>)</li><li>                  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                  });</li><li>                });</li><li>              } <span class="hljs-keyword">catch</span> (exception) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>              }</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isTouchDown</span> = <span class="hljs-literal">false</span>;</li><li>            }</li><li>          })</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3460px;">     <h2 id="startmoving15" device-type="phone,2in1,tablet,wearable,tv">startMoving<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startmoving15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>startMoving(offsetX: number, offsetY: number): Promise&lt;void&gt;</p>     <p>指定鼠标在窗口内的位置并移动窗口，使用Promise异步回调。</p>     <p>在同应用内窗口分合后，且鼠标保持按下状态直接移动新窗口，如果此时鼠标快速移动，窗口移动时鼠标可能会在窗口外。可以使用本接口指定窗口移动时鼠标在窗口内的位置，先移动窗口到鼠标位置，再开始移动窗口。</p>     <p>仅在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-touch#touchevent对象说明">onTouch</a>事件（其中，事件类型必须为TouchType.Down）的回调方法中调用此接口才会有移动效果，成功调用此接口后，窗口将跟随鼠标移动。</p>     <p>在点击拖拽场景下，若不期望在按下时触发拖拽事件，则可以在事件类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#touchtype">TouchType.Move</a>（需要保证当前行为已经触发TouchType.Down事件）时调用此接口，触发移动效果。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.170.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">offsetX</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口移动时预期鼠标位置相对窗口左上角的x轴偏移量，单位为px，该参数仅支持整数输入，浮点数向下取整。负值为非法参数，大于窗口宽度为非法参数，窗口宽度可以在窗口属性<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowproperties">WindowProperties</a>中获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offsetY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口移动时预期鼠标位置相对窗口左上角的y轴偏移量，单位为px，该参数仅支持整数输入，浮点数向下取整。负值为非法参数，大于窗口高度为非法参数，窗口高度可以在窗口属性<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowproperties">WindowProperties</a>中获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.170.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.170.16.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.170.16.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300001</td>         <td class="cellrowborder" width="50%">Repeated operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ets/pages/Index.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">isTouchDown</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Blank</span>(<span class="hljs-string">'160'</span>)</li><li>          .<span class="hljs-title function_">color</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>)</li><li>          .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>) {</li><li>              <span class="hljs-keyword">try</span> {</li><li>                <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">"subWindow"</span>);</li><li>                <span class="hljs-keyword">if</span> (!windowClass) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to find window.'</span>);</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                windowClass.<span class="hljs-title function_">startMoving</span>(<span class="hljs-number">100</span>, <span class="hljs-number">50</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in starting moving window.'</span>)</li><li>                }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                });</li><li>              } <span class="hljs-keyword">catch</span> (exception) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>              }</li><li>            }</li><li>          })</li><li>        <span class="hljs-title class_">Blank</span>(<span class="hljs-string">'160'</span>)</li><li>          .<span class="hljs-title function_">color</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>          .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event: TouchEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span>(event.<span class="hljs-property">type</span> == <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>){</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isTouchDown</span> = <span class="hljs-literal">true</span>;</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Move</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">isTouchDown</span>) {</li><li>              <span class="hljs-keyword">try</span> {</li><li>                <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()?.<span class="hljs-title function_">getHostContext</span>();</li><li>                <span class="hljs-keyword">if</span> (!context) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get host context.'</span>);</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getLastWindow</span>(context).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>{</li><li>                  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = data;</li><li>                  windowClass.<span class="hljs-title function_">startMoving</span>(<span class="hljs-number">100</span>, <span class="hljs-number">50</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in starting moving window.'</span>)</li><li>                  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>                  });</li><li>                });</li><li>              } <span class="hljs-keyword">catch</span> (exception) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start moving window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>              }</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isTouchDown</span> = <span class="hljs-literal">false</span>;</li><li>            }</li><li>          })</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1690px;">     <h2 id="stopmoving15" device-type="phone,2in1,tablet,wearable,tv">stopMoving<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopmoving15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopMoving(): Promise&lt;void&gt;</p>     <p>在窗口拖拽移动过程中，通过此接口来停止窗口移动，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.171.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.171.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.171.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>
</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> windowClass = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();</li><li>      windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'windowRectChange'</span>, <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-variable language_">window</span>.RectChangeOptions</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (data.<span class="hljs-property">reason</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">RectChangeReason</span>.<span class="hljs-property">MOVE</span>) {</li><li>          windowClass.<span class="hljs-title function_">stopMoving</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in stopping moving window.'</span>)</li><li>          }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop moving. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          });</li><li>        }</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (exception) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop moving window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2208px;">     <h2 id="setgesturebackenabled13" device-type="phone,2in1,tablet,wearable,tv">setGestureBackEnabled<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setgesturebackenabled13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setGestureBackEnabled(enabled: boolean): Promise&lt;void&gt;</p>     <p>设置当前窗口是否启用返回手势功能，仅主窗全屏模式下生效，2in1设备下不生效。</p>     <p>禁用返回手势功能后，当前应用会禁用手势热区，侧滑返回功能失效；切换到其他应用或者回到桌面后，手势热区恢复，侧滑返回功能正常。</p>     <p>开启返回手势功能后，当前应用会恢复手势热区，侧滑返回功能正常。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.172.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">true时开启返回手势功能，false时禁用返回手势功能。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.172.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.172.14.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.172.14.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>
</li><li>      <span class="hljs-comment">// 设置当前窗口禁用返回手势功能</span></li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">gestureBackEnabled</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setGestureBackEnabled</span>(gestureBackEnabled);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting gesture back disabled`</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set gesture back disabled, Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span>(exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set gesture back disabled, Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1738px;">     <h2 id="isgesturebackenabled13" device-type="phone,2in1,tablet,wearable,tv">isGestureBackEnabled<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isgesturebackenabled13" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isGestureBackEnabled(): boolean</p>     <p>获取当前窗口是否启用返回手势功能，仅主窗全屏模式下生效，2in1设备不生效。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">是否已经启用返回手势。true表示已启用返回手势功能，false表示已禁用返回手势功能。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.173.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.173.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>
</li><li>      <span class="hljs-comment">// 获取当前窗口是否禁用返回手势功能</span></li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">gestureBackEnabled</span>: <span class="hljs-built_in">boolean</span> = windowClass.<span class="hljs-title function_">isGestureBackEnabled</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in obtaining gesture back enabled status: <span class="hljs-subst">${gestureBackEnabled}</span>`</span>);</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get gesture back enabled status. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1334px;">     <h2 id="setwindowshadowradius17" device-type="phone,2in1,tablet,wearable,tv">setWindowShadowRadius<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowshadowradius17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowShadowRadius(radius: number): void</p>     <p>设置子窗或悬浮窗窗口边缘阴影的模糊半径。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备、Tablet设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示窗口边缘阴影的模糊半径。该参数为浮点数，单位为px，取值范围为[0.0, +∞)，取值为0.0时表示关闭窗口边缘阴影。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.174.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.174.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  windowClass.<span class="hljs-title function_">setWindowShadowRadius</span>(<span class="hljs-number">4.0</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set shadow. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1944px;">     <h2 id="setwindowcornerradius17" device-type="phone,2in1,tablet,wearable,tv">setWindowCornerRadius<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowcornerradius17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowCornerRadius(cornerRadius: number): Promise&lt;void&gt;</p>     <p>设置子窗或悬浮窗的圆角半径值，使用Promise异步回调。</p>     <p>圆角半径值过大将会导致三键（最大化、最小化、关闭按钮）位置被裁切，且会导致热区不易识别，请根据窗口大小设置合适的圆角半径值。</p>     <p>在调用此接口之前调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowcornerradius17">getWindowCornerRadius()</a>接口可以获得窗口默认圆角半径值。</p>     <p><strong>系统能力</strong>：SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong></p>     <p>在HarmonyOS 6.0.0之前，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p>从HarmonyOS 6.0.0开始，该接口在Phone设备、Tablet设备和2in1设备下可正常调用。</p>     <p><strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.175.12.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.12.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.12.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.12.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cornerRadius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示窗口圆角的半径值。该参数为浮点数，单位为vp，取值范围为[0.0, +∞)，取值为0.0时表示没有窗口圆角。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.175.14.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.14.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.175.17.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.175.17.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowCornerRadius</span>(<span class="hljs-number">1.0</span>);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window corner radius.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window corner radius. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set corner radius. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1203px;">     <h2 id="getwindowcornerradius17" device-type="phone,2in1,tablet,wearable,tv">getWindowCornerRadius<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowcornerradius17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowCornerRadius(): number</p>     <p>该接口用于获取子窗或悬浮窗的圆角半径值，在未调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowcornerradius17">setWindowCornerRadius()</a>接口设置窗口圆角半径值时，调用此接口可获取窗口默认圆角半径值。</p>     <p><strong>系统能力</strong>：SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.176.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前子窗或悬浮窗的圆角半径值，单位为vp。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.176.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.176.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> cornerRadius = windowClass.<span class="hljs-title function_">getWindowCornerRadius</span>();</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get corner radius. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1728px;">     <h2 id="setexclusivelyhighlighted15" device-type="phone,2in1,tablet,wearable,tv">setExclusivelyHighlighted<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setexclusivelyhighlighted15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setExclusivelyHighlighted(exclusivelyHighlighted: boolean): Promise&lt;void&gt;</p>     <p>设置窗口独占激活态属性。独占激活态表示窗口获焦时，会导致当前父子窗口链中处于激活态的其他窗口失去激活态。使用Promise异步回调。</p>     <p>此接口对主窗、模态窗不生效。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">exclusivelyHighlighted</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否独占激活态。true表示独占激活态；false表示不独占激活态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.177.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.177.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.177.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">exclusivelyHighlighted</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setExclusivelyHighlighted</span>(exclusivelyHighlighted);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be exclusively highlight.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be exclusively highlight. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be exclusively highlight. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1196px;">     <h2 id="iswindowhighlighted18" device-type="phone,2in1,tablet,wearable,tv">isWindowHighlighted<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="iswindowhighlighted18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isWindowHighlighted(): boolean</p>     <p>获取当前窗口是否为激活态。为准确获取激活态，需要在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windoweventtype10">WindowEventType</a>生命周期处于WINDOW_ACTIVE之后调用。</p>     <p>可使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onwindowhighlightchange15">on('windowHighlightChange')</a>监听对应状态变更，再执行对应具体业务。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.178.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">当前窗口是否为激活态。true表示当前窗口为激活态，false表示当前窗口非激活态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.178.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.178.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> isHighlighted = windowClass.<span class="hljs-title function_">isWindowHighlighted</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the window highlight status: <span class="hljs-subst">${isHighlighted}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get the window highlight status.. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1944px;">     <h2 id="setfollowparentmultiscreenpolicy17" device-type="phone,2in1,tablet,wearable,tv">setFollowParentMultiScreenPolicy<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfollowparentmultiscreenpolicy17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFollowParentMultiScreenPolicy(enabled: boolean): Promise&lt;void&gt;</p>     <p>设置子窗口在其父窗口处于拖拽移动或拖拽缩放过程时，该子窗口是否支持跨多个屏幕同时显示。使用Promise异步回调。</p>     <p>通过监听父窗口大小位置变化，对子窗口调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowto9">moveWindowTo()</a>等接口实现子窗口跟随父窗口布局时，此时子窗口默认不支持跨多个屏幕同时显示。</p>     <p>对子窗口调用此接口后可以使能子窗口在跟随父窗口布局过程中跨多个屏幕同时显示。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用返回801错误码。</p>     <p><strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.179.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置子窗口在其父窗口处于拖拽移动或拖拽缩放过程时，该子窗口是否支持跨多个屏幕同时显示。true表示支持；false表示不支持。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.179.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.179.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.179.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Function setFollowParentMultiScreenPolicy can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">findWindow</span>(<span class="hljs-string">"subWindow"</span>);</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">enabled</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-keyword">let</span> promise = windowClass?.<span class="hljs-title function_">setFollowParentMultiScreenPolicy</span>(enabled);</li><li>  promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the sub window supports multi-screen simultaneous display'</span>)</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the sub window supports multi-screen simultaneous display. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (exception) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the sub window supports multi-screen simultaneous display. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2376px;">     <h2 id="setfollowparentwindowlayoutenabled17" device-type="phone,2in1,tablet,wearable,tv">setFollowParentWindowLayoutEnabled<sup>17+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfollowparentwindowlayoutenabled17" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFollowParentWindowLayoutEnabled(enabled: boolean): Promise&lt;void&gt;</p>     <p>设置子窗或模态窗口（即WindowType为TYPE_DIALOG的窗口）的布局信息（position和size）是否跟随主窗，使用Promise异步回调。</p>     <p>1、只支持主窗的一级子窗或模态窗口使用该接口。</p>     <p>2、当子窗或模态窗口调用该接口后，立即使其布局信息与主窗完全一致并保持，除非传入false再次调用该接口，否则效果将持续。</p>     <p>3、当子窗或模态窗口调用该接口后，再调用moveTo、resize等修改布局信息的接口将不生效。</p>     <p>4、当子窗或模态窗口不再使用该功能后，不保证子窗或模态窗口的布局信息（position和size）为确定的值，需要应用重新进行设置。</p>     <p>该接口调用生效后，<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setrelativepositiontoparentwindowenabled20">setRelativePositionToParentWindowEnabled()</a>接口调用不生效。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong> 从API version 17开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.180.13.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.13.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.13.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.13.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置是否启用跟随主窗布局。true表示启用，false表示不启用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.180.15.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.15.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.180.18.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.180.18.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">loadError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (loadError.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${loadError.code}</span>, message: <span class="hljs-subst">${loadError.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in loading the content."</span>);</li><li>      windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">"subWindow"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow: <span class="hljs-variable language_">window</span>.Window</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to create the subWindow. Cause: The data is empty"</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        subWindow.<span class="hljs-title function_">setFollowParentWindowLayoutEnabled</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"after set follow parent window layout"</span>)</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setFollowParentWindowLayoutEnabled failed. <span class="hljs-subst">${error.code}</span> <span class="hljs-subst">${error.message}</span>`</span>);</li><li>        })</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`createSubWindow failed. <span class="hljs-subst">${error.code}</span> <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      })</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2672px;">     <h2 id="setrelativepositiontoparentwindowenabled20" device-type="phone,2in1,tablet,wearable,tv">setRelativePositionToParentWindowEnabled<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setrelativepositiontoparentwindowenabled20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setRelativePositionToParentWindowEnabled(enabled: boolean, anchor?: WindowAnchor, offsetX?: number, offsetY?: number): Promise&lt;void&gt;</p>     <p>该接口仅在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下生效，用于设置一级子窗是否支持与主窗保持相对位置不变。使用Promise异步回调。</p>     <p>该相对位置通过一级子窗与主窗之间锚点的偏移量表示，子窗和主窗使用的窗口锚点相同。</p>     <p>1、只支持非最大化一级子窗使用该接口。</p>     <p>2、当子窗调用该接口后，立即使其显示位置跟随主窗并保持相对位置不变，除非传入false再次调用该接口，否则效果将持续。</p>     <p>3、当子窗调用该接口后，再调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowto9">moveWindowTo()</a>、<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#maximize12">maximize()</a>修改窗口位置或大小的接口将不生效。</p>     <p>该接口调用生效后，<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setfollowparentwindowlayoutenabled17">setFollowParentWindowLayoutEnabled()</a>接口调用不生效。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备、Tablet设备中可正常调用，在其他设备中返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.181.12.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.12.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.12.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.12.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">一级子窗是否支持与主窗保持相对位置不变。true表示支持；false表示不支持。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">anchor</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowanchor20">WindowAnchor</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">一级子窗与主窗保持相对位置不变时的窗口锚点枚举。该参数仅在enabled为true时生效，默认值为window.WindowAnchor.TopStart，即默认锚点为窗口左上角。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offsetX</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">一级子窗锚点与主窗锚点位置的x轴偏移量，单位为px。该参数仅在enabled为true时生效，仅支持整数输入，浮点数向下取整，默认值为0。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">offsetY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">一级子窗锚点与主窗锚点位置的y轴偏移量，单位为px。该参数仅在enabled为true时生效，仅支持整数输入，浮点数向下取整，默认值为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.181.14.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.14.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.181.17.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.181.17.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported.Function setRelativePositionToParentWindowEnabled can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">loadError: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (loadError.<span class="hljs-property">code</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${loadError.code}</span>, message: <span class="hljs-subst">${loadError.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Succeeded in loading the content."</span>);</li><li>      windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">"subWindow"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow: <span class="hljs-variable language_">window</span>.Window</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to create the subWindow. Cause: The data is empty"</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        subWindow.<span class="hljs-title function_">setRelativePositionToParentWindowEnabled</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"after set relative position to parent window enabled"</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`setRelativePositionToParentWindowEnabled failed. <span class="hljs-subst">${error.code}</span> <span class="hljs-subst">${error.message}</span>`</span>);</li><li>        })</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`createSubWindow failed. <span class="hljs-subst">${error.code}</span> <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      })</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2397px;">     <h2 id="setwindowtransitionanimation20" device-type="phone,2in1,tablet,wearable,tv">setWindowTransitionAnimation<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowtransitionanimation20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowTransitionAnimation(transitionType: WindowTransitionType, animation: TransitionAnimation): Promise&lt;void&gt;</p>     <p>该接口仅在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>模式下生效，用于给特定场景下的窗口增加转场动画。</p>     <p>当前只支持在应用主窗下使用。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备、Tablet设备中可正常调用，在其他设备类型中返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.182.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">transitionType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowtransitiontype20">WindowTransitionType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次转场动画场景。当前只支持销毁场景。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">animation</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#transitionanimation20">TransitionAnimation</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次转场动画配置。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.182.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.182.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.182.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Invalid parameter range; 2. Invalid parameter length.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">animationConfig</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowAnimationConfig</span> = {</li><li>          <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,</li><li>          <span class="hljs-attr">curve</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowAnimationCurve</span>.<span class="hljs-property">LINEAR</span>,</li><li>        };</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">transitionAnimation</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">TransitionAnimation</span> = {</li><li>          <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.5</span>,</li><li>          <span class="hljs-attr">config</span>: animationConfig</li><li>        };</li><li>        <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setWindowTransitionAnimation</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowTransitionType</span>.<span class="hljs-property">DESTROY</span>, transitionAnimation);</li><li>        promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window transition animation. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window transition animation. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window status of window. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2088px;">     <h2 id="getwindowtransitionanimation20" device-type="phone,2in1,tablet,wearable,tv">getWindowTransitionAnimation<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getwindowtransitionanimation20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getWindowTransitionAnimation(transitionType: WindowTransitionType): TransitionAnimation | undefined</p>     <p>该接口仅在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>模式下生效，用于获取特定场景下的窗口转场动画配置。</p>     <p>当前只支持在应用主窗下使用。</p>     <p><strong>模型约束：</strong> 此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>设备行为差异：</strong> 该接口在2in1设备、Tablet设备中可正常调用，在其他设备类型中返回801错误码。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.183.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">transitionType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#windowtransitiontype20">WindowTransitionType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">本次转场动画场景。当前只支持销毁场景。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.183.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#transitionanimation20">TransitionAnimation</a> | undefined</td>         <td class="cellrowborder" width="50%">对应场景下的转场动画配置。当未使用过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowtransitionanimation20">setWindowTransitionAnimation</a>接口时，返回undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.183.15.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.183.15.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300016</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Invalid parameter range.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        <span class="hljs-keyword">let</span> transitionAnimationResult = windowClass.<span class="hljs-title function_">getWindowTransitionAnimation</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowTransitionType</span>.<span class="hljs-property">DESTROY</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting window transition animation: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(transitionAnimationResult));</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window transition animation. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2167px;">     <h2 id="setsubwindowzlevel18" device-type="phone,2in1,tablet,wearable,tv">setSubWindowZLevel<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsubwindowzlevel18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSubWindowZLevel(zLevel: number): Promise&lt;void&gt;</p>     <p>设置当前子窗口层级级别，设置了模态属性的子窗不支持。使用Promise异步回调。</p>     <p>通过该接口改变子窗口的显示层级时，不会发生焦点切换。推荐使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-f#windowshiftappwindowfocus11">shiftAppWindowFocus()</a>进行焦点切换。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.184.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">zLevel</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子窗口层级级别。默认值为0，取值范围为[-10000, 10000]，该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.184.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.184.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.184.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function setSubWindowZLevel can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300009</td>         <td class="cellrowborder" width="50%">The parent window is invalid.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">zLevel</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>    <span class="hljs-comment">// 创建子窗</span></li><li>    <span class="hljs-keyword">try</span> {</li><li>      windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">'testSubWindow'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create the sub window. Cause: The sub window is null'</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        subWindow.<span class="hljs-title function_">setSubWindowZLevel</span>(zLevel).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting sub window zLevel.'</span>);</li><li>        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set sub window zLevel. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        });</li><li>      });</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create the sub window or set zLevel. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1563px;">     <h2 id="getsubwindowzlevel18" device-type="phone,2in1,tablet,wearable,tv">getSubWindowZLevel<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getsubwindowzlevel18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSubWindowZLevel(): number</p>     <p>获取当前子窗口层级级别。不支持主窗、系统窗调用。</p>     <p><strong>系统能力：</strong> SystemCapability.Window.SessionManager</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.185.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前子窗口层级级别。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.185.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.185.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Function getSubWindowZLevel can not work correctly due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300004</td>         <td class="cellrowborder" width="50%">Unauthorized operation.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> subWindowZLevel = -<span class="hljs-number">1</span>;</li><li>    <span class="hljs-comment">// 创建子窗</span></li><li>    windowStage.<span class="hljs-title function_">createSubWindow</span>(<span class="hljs-string">'testSubWindow'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">subWindow</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (subWindow == <span class="hljs-literal">null</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to create the sub window. Cause: The sub window is null'</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">try</span> {</li><li>        subWindowZLevel = subWindow.<span class="hljs-title function_">getSubWindowZLevel</span>();</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in obtaining sub window zLevel: <span class="hljs-subst">${subWindowZLevel}</span>`</span>);</li><li>      } <span class="hljs-keyword">catch</span> (err) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the sub window zLevel. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2191px;">     <h2 id="setwindowsystembarpropertiesdeprecated" device-type="phone,2in1,tablet,wearable,tv">setWindowSystemBarProperties<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowsystembarpropertiesdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowSystemBarProperties(systemBarProperties: SystemBarProperties, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口状态栏的属性，使用callback异步回调，该接口在2in1设备上调用不生效，其他设备在分屏模式（即窗口模式为window.WindowStatusType.SPLIT_SCREEN）、自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）、自由多窗模式（可点击设备控制中心中的自由多窗按钮开启）下调用不会立刻生效，只有进入全屏主窗口才会生效。</p>     <p>子窗口调用后不生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃，推荐使用Promise方式的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarproperties9">setWindowSystemBarProperties</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">systemBarProperties</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#systembarproperties">SystemBarProperties</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">状态栏的属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.186.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.186.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">801</td>         <td class="cellrowborder" width="50%">Capability not supported. Failed to call the API due to limited device capabilities.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-title class_">SystemBarProperties</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">SystemBarProperties</span> = {</li><li>        <span class="hljs-attr">statusBarColor</span>: <span class="hljs-string">'#ff00ff'</span>,</li><li>        <span class="hljs-attr">navigationBarColor</span>: <span class="hljs-string">'#00ff00'</span>,</li><li>        <span class="hljs-comment">//以下两个属性从API Version8开始支持</span></li><li>        <span class="hljs-attr">statusBarContentColor</span>: <span class="hljs-string">'#ffffff'</span>,</li><li>        <span class="hljs-attr">navigationBarContentColor</span>: <span class="hljs-string">'#00ffff'</span></li><li>      };</li><li>      <span class="hljs-keyword">try</span> {</li><li>        windowClass.<span class="hljs-title function_">setWindowSystemBarProperties</span>(<span class="hljs-title class_">SystemBarProperties</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>          <span class="hljs-keyword">if</span> (errCode) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar properties. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar properties.'</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar properties. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2208px;">     <h2 id="setwindowsystembarenabledeprecated" device-type="phone,2in1,tablet,wearable,tv">setWindowSystemBarEnable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowsystembarenabledeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowSystemBarEnable(names: Array&lt;'status' | 'navigation'&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口状态栏、底部导航（根据用户设置，可表现为导航条或三键导航栏）的可见模式，状态栏和底部导航通过status控制、navigation参数无效果，使用callback异步回调。</p>     <p>从API version 12开始，该接口在2in1设备上调用不生效，其他设备在分屏模式（即窗口模式为window.WindowStatusType.SPLIT_SCREEN）、自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）、自由多窗模式（可点击设备控制中心中的自由多窗按钮开启）下调用不会立刻生效，只有进入全屏主窗口才会生效。</p>     <p>调用生效后返回并不表示状态栏和底部导航区域的显示或隐藏已完成。子窗口调用后不生效。非全屏模式（悬浮窗、分屏等场景）下配置不生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃，推荐使用Promise方式的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarenable9">setWindowSystemBarEnable</a>。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.187.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">names</td>         <td class="cellrowborder" width="25%">Array&lt;'status'|'navigation'&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置窗口全屏模式时状态栏和底部导航区域是否显示。</p>          <p>例如，需全部显示，该参数设置为['status', 'navigation']；设置为[]，则不显示。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.187.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.187.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 此处以状态栏等均不显示为例</span></li><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">names</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-string">'status'</span> | <span class="hljs-string">'navigation'</span>&gt; = [];</li><li>      <span class="hljs-keyword">try</span> {</li><li>        windowClass.<span class="hljs-title function_">setWindowSystemBarEnable</span>(names, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>          <span class="hljs-keyword">if</span> (errCode) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar to be invisible.'</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2232px;">     <h2 id="setwindowlayoutfullscreendeprecated" device-type="phone,2in1,tablet,wearable,tv">setWindowLayoutFullScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setwindowlayoutfullscreendeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setWindowLayoutFullScreen(isLayoutFullScreen: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口或子窗口的布局是否为沉浸式布局，使用callback异步回调。系统窗口调用不生效。</p>     <p>沉浸式布局生效时，布局不避让状态栏与底部导航区域，组件可能产生与其重叠的情况。</p>     <p>非沉浸式布局生效时，布局避让状态栏与底部导航区域，组件不会与其重叠。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 12开始废弃，推荐使用Promise方式的<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9">setWindowLayoutFullScreen</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>设备行为差异：</strong></p>     <p>API version 14之前，该接口在所有设备中可正常调用。</p>     <p>从API version 14开始，该接口在支持并处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上调用不生效也不报错；在支持但不处于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备及不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态的设备上可正常调用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.188.13.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.13.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.13.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.13.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isLayoutFullScreen</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口的布局是否为沉浸式布局（该沉浸式布局状态栏、底部导航区域仍然显示）。true表示沉浸式布局；false表示非沉浸式布局。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-window">窗口错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.188.16.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.188.16.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">Parameter error. Possible cause: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300002</td>         <td class="cellrowborder" width="50%">This window state is abnormal.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">1300003</td>         <td class="cellrowborder" width="50%">This window manager service works abnormally.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> isLayoutFullScreen = <span class="hljs-literal">true</span>;</li><li>      <span class="hljs-keyword">try</span> {</li><li>        windowClass.<span class="hljs-title function_">setWindowLayoutFullScreen</span>(isLayoutFullScreen, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>          <span class="hljs-keyword">if</span> (errCode) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>            <span class="hljs-keyword">return</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window layout to full-screen mode.'</span>);</li><li>        });</li><li>      } <span class="hljs-keyword">catch</span> (exception) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Cause code: <span class="hljs-subst">${exception.code}</span>, message: <span class="hljs-subst">${exception.message}</span>`</span>);</li><li>      }</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 898px;">     <h2 id="showdeprecated" device-type="phone,2in1,tablet,wearable,tv">show<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>show(callback: AsyncCallback&lt;void&gt;): void</p>     <p>显示当前窗口，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#showwindow9">showWindow()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.189.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">show</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing the window.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h2 id="showdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">show<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="showdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>show(): Promise&lt;void&gt;</p>     <p>显示当前窗口，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#showwindow9-1">showWindow()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.190.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">show</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in showing the window.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to show the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 898px;">     <h2 id="destroydeprecated" device-type="phone,2in1,tablet,wearable,tv">destroy<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroydeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>destroy(callback: AsyncCallback&lt;void&gt;): void</p>     <p>销毁当前窗口，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#destroywindow9">destroyWindow()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">destroy</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to destroy the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in destroying the window.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h2 id="destroydeprecated-1" device-type="phone,2in1,tablet,wearable,tv">destroy<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroydeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>destroy(): Promise&lt;void&gt;</p>     <p>销毁当前窗口，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#destroywindow9-1">destroyWindow()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.192.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.192.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">destroy</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in destroying the window.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to destroy the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1324px;">     <h2 id="movetodeprecated" device-type="phone,2in1,tablet,wearable,tv">moveTo<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movetodeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveTo(x: number, y: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>移动窗口位置，使用callback异步回调。</p>     <p>全屏模式窗口不支持该操作。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowto9">moveWindowTo()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.193.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.193.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在x轴方向移动到的坐标位置，单位为px，值为正表示位置在x轴右侧；值为负表示位置在x轴左侧；值为0表示位置在x轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在y轴方向移动到的坐标位置，单位为px，值为正表示位置在y轴下侧；值为负表示位置在y轴上侧；值为0表示位置在x轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1402px;">     <h2 id="movetodeprecated-1" device-type="phone,2in1,tablet,wearable,tv">moveTo<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="movetodeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveTo(x: number, y: number): Promise&lt;void&gt;</p>     <p>移动窗口位置，使用Promise异步回调。</p>     <p>全屏模式窗口不支持该操作。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#movewindowto9-1">moveWindowTo()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在x轴方向移动到的坐标位置，单位为px，值为正表示位置在x轴右侧；值为负表示位置在x轴左侧；值为0表示位置在x轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口在y轴方向移动到的坐标位置，单位为px，值为正表示位置在y轴下侧；值为负表示位置在y轴上侧；值为0表示位置在y轴坐标原点。该参数仅支持整数输入，浮点数输入将向下取整。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.194.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.194.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in moving the window.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to move the window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1540px;">     <h2 id="resetsizedeprecated" device-type="phone,2in1,tablet,wearable,tv">resetSize<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resetsizedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resetSize(width: number, height: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>基于窗口左上角顶点改变当前窗口大小，使用callback异步回调。</p>     <p>应用主窗口与子窗口存在大小限制，默认宽度范围：[320, 1920]，默认高度范围：[240, 1920]，单位为vp。</p>     <p>应用主窗口与子窗口的最小宽度与最小高度可由产品端进行配置，配置后的最小宽度与最小高度以产品段配置值为准，具体尺寸限制范围可以通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowlimits11">getWindowLimits</a>接口进行查询。</p>     <p>系统窗口存在大小限制，宽度范围：(0, 1920]，高度范围：(0, 1920]，单位为vp。</p>     <p>设置的宽度与高度受到此限制约束，规则：</p>     <p>若所设置的窗口宽/高尺寸小于窗口最小宽/高限制值，则窗口最小宽/高限制值生效；</p>     <p>若所设置的窗口宽/高尺寸大于窗口最大宽/高限制值，则窗口最大宽/高限制值生效。</p>     <p>全屏模式窗口不支持该操作。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resize9">resize()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.195.14.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.14.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.14.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.195.14.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标宽度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败">401</a>）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标高度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败">401</a>）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">resetSize</span>(<span class="hljs-number">500</span>, <span class="hljs-number">1000</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing the window size.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1618px;">     <h2 id="resetsizedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">resetSize<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resetsizedeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resetSize(width: number, height: number): Promise&lt;void&gt;</p>     <p>基于窗口左上角顶点改变当前窗口大小，使用Promise异步回调。</p>     <p>应用主窗口与子窗口存在大小限制，默认宽度范围：[320, 1920]，默认高度范围：[240, 1920]，单位为vp。</p>     <p>应用主窗口与子窗口的最小宽度与最小高度可由产品端进行配置，配置后的最小宽度与最小高度以产品段配置值为准，具体尺寸限制范围可以通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowlimits11">getWindowLimits</a>接口进行查询。</p>     <p>系统窗口存在大小限制，宽度范围：(0, 1920]，高度范围：(0, 1920]，单位为vp。</p>     <p>设置的宽度与高度受到此限制约束，规则：</p>     <p>若所设置的窗口宽/高尺寸小于窗口最小宽/高限制值，则窗口最小宽/高限制值生效；</p>     <p>若所设置的窗口宽/高尺寸大于窗口最大宽/高限制值，则窗口最大宽/高限制值生效。</p>     <p>全屏模式窗口不支持该操作。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#resize9-1">resize()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.196.14.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.14.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.14.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.14.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标宽度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败">401</a>）。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当前窗口的目标高度，单位为px，该参数仅支持整数输入，浮点数输入将向下取整，负值为非法参数（抛出错误码<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败">401</a>）。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.196.16.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.196.16.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">resetSize</span>(<span class="hljs-number">500</span>, <span class="hljs-number">1000</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in changing the window size.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to change the window size. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 922px;">     <h2 id="getpropertiesdeprecated" device-type="phone,2in1,tablet,wearable,tv">getProperties<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpropertiesdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProperties(callback: AsyncCallback&lt;WindowProperties&gt;): void</p>     <p>获取当前窗口的属性，使用callback异步回调，返回WindowProperties。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.197.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.197.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowproperties">WindowProperties</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前窗口属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">getProperties</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window properties. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining the window properties. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h2 id="getpropertiesdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getProperties<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpropertiesdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getProperties(): Promise&lt;WindowProperties&gt;</p>     <p>获取当前窗口的属性，使用Promise异步回调，返回WindowProperties。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowproperties9">getWindowProperties()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.198.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#windowproperties">WindowProperties</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前窗口属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">getProperties</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining the window properties. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the window properties. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1135px;">     <h2 id="getavoidareadeprecated" device-type="phone,2in1,tablet,wearable,tv">getAvoidArea<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getavoidareadeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAvoidArea(type: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#avoidareatype7">AvoidAreaType</a>, callback: AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a>&gt;): void</p>     <p>获取当前窗口内容规避的区域；如系统栏区域、刘海屏区域、手势区域、软键盘区域等与窗口内容重叠时，需要窗口内容避让的区域。</p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，当前窗口调用该接口获取到空的避让区。</p>     <p>非自由窗口状态下，仅当子窗口的位置和大小与主窗口一致时，子窗口调用该接口才能计算避让区并返回，否则直接返回空的避让区。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowavoidarea9">getWindowAvoidArea()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#avoidareatype7">AvoidAreaType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示规避区类型。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回窗口内容规避区域。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-keyword">type</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_SYSTEM</span>;</li><li>windowClass.<span class="hljs-title function_">getAvoidArea</span>(<span class="hljs-keyword">type</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the area. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining the area. Data:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1189px;">     <h2 id="getavoidareadeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getAvoidArea<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getavoidareadeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getAvoidArea(type: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#avoidareatype7">AvoidAreaType</a>): Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a>&gt;</p>     <p>获取当前窗口内容规避的区域；如系统栏区域、刘海屏区域、手势区域、软键盘区域等与窗口内容重叠时，需要窗口内容避让的区域。</p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/window-terminology#自由窗口" target="_blank">自由窗口</a>状态下，当前窗口调用该接口获取到空的避让区。</p>     <p>非自由窗口状态下，仅当子窗口的位置和大小与主窗口一致时，子窗口调用该接口才能计算避让区并返回，否则直接返回空的避让区。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowavoidarea9">getWindowAvoidArea()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.200.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#avoidareatype7">AvoidAreaType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示规避区类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.200.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.200.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回窗口内容规避区域。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-keyword">type</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">AvoidAreaType</span>.<span class="hljs-property">TYPE_SYSTEM</span>;</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">getAvoidArea</span>(<span class="hljs-keyword">type</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in obtaining the area. Data:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the area. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1567px;">     <h2 id="setfullscreendeprecated" device-type="phone,2in1,tablet,wearable,tv">setFullScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfullscreendeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFullScreen(isFullScreen: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口或子窗口的布局是否为全屏布局，使用callback异步回调。</p>     <p>全屏布局生效时，布局不避让状态栏与底部导航区域，组件可能产生与其重叠的情况。</p>     <p>非全屏布局生效时，布局避让状态栏与底部导航区域，组件不会与其重叠。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐联合使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarenable9">setWindowSystemBarEnable()</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9">setWindowLayoutFullScreen()</a>实现全屏。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.201.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.201.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isFullScreen</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否设为全屏布局（该全屏布局影响状态栏、底部导航区域显示）。true表示全屏；false表示非全屏。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">isFullScreen</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>      windowClass.<span class="hljs-title function_">setFullScreen</span>(isFullScreen, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the full-screen mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the full-screen mode.'</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1645px;">     <h2 id="setfullscreendeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setFullScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfullscreendeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFullScreen(isFullScreen: boolean): Promise&lt;void&gt;</p>     <p>设置主窗口或子窗口的布局是否为全屏布局，使用Promise异步回调。</p>     <p>全屏布局生效时，布局不避让状态栏与底部导航区域，组件可能产生与其重叠的情况。</p>     <p>非全屏布局生效时，布局避让状态栏与底部导航区域，组件不会与其重叠。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐联合使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarenable9">setWindowSystemBarEnable()</a>和<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9">setWindowLayoutFullScreen()</a>实现全屏。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.202.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isFullScreen</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">是否设为全屏布局（该全屏布局影响状态栏、底部导航区域显示）。true表示全屏；false表示非全屏。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.202.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.202.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">isFullScreen</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setFullScreen</span>(isFullScreen);</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the full-screen mode.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable the full-screen mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1591px;">     <h2 id="setlayoutfullscreendeprecated" device-type="phone,2in1,tablet,wearable,tv">setLayoutFullScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setlayoutfullscreendeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLayoutFullScreen(isLayoutFullScreen: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口或子窗口的布局是否为沉浸式布局，使用callback异步回调。</p>     <p>沉浸式布局生效时，布局不避让状态栏与底部导航区域，组件可能产生与其重叠的情况。</p>     <p>非沉浸式布局生效时，布局避让状态栏与底部导航区域，组件不会与其重叠。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9">setWindowLayoutFullScreen()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.203.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.203.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isLayoutFullScreen</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口的布局是否为沉浸式布局（该沉浸式布局不影响状态栏、底部导航区域显示）。true表示沉浸式布局；false表示非沉浸式布局。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">isLayoutFullScreen</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>      windowClass.<span class="hljs-title function_">setLayoutFullScreen</span>(isLayoutFullScreen, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window layout to full-screen mode.'</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1669px;">     <h2 id="setlayoutfullscreendeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setLayoutFullScreen<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setlayoutfullscreendeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setLayoutFullScreen(isLayoutFullScreen: boolean): Promise&lt;void&gt;</p>     <p>设置主窗口或子窗口的布局是否为沉浸式布局，使用Promise异步回调。</p>     <p>沉浸式布局生效时，布局不避让状态栏与底部导航区域，组件可能产生与其重叠的情况。</p>     <p>非沉浸式布局生效时，布局避让状态栏与底部导航区域，组件不会与其重叠。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9">setWindowLayoutFullScreen()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.204.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isLayoutFullScreen</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口的布局是否为沉浸式布局（该沉浸式布局不影响状态栏、底部导航区域显示）。true表示沉浸式布局；false表示非沉浸式布局。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.204.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.204.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">isLayoutFullScreen</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setLayoutFullScreen</span>(isLayoutFullScreen);</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window layout to full-screen mode.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window layout to full-screen mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1711px;">     <h2 id="setsystembarenabledeprecated" device-type="phone,2in1,tablet,wearable,tv">setSystemBarEnable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsystembarenabledeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSystemBarEnable(names: Array&lt;'status' | 'navigation'&gt;, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口状态栏、底部导航（根据用户设置，可表现为导航条或三键导航栏）的可见模式，状态栏和底部导航通过status控制、navigation参数无效果，使用callback异步回调。</p>     <p>从API version 12开始，该接口在2in1设备上调用不生效，其他设备在分屏模式（即窗口模式为window.WindowStatusType.SPLIT_SCREEN）、自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）、自由多窗模式（可点击设备控制中心中的自由多窗按钮开启）下调用不会立刻生效，只有进入全屏主窗口才会生效。</p>     <p>调用生效后返回并不表示状态栏和底部导航区域的显示或隐藏已完成。子窗口调用后不生效。非全屏模式（悬浮窗、分屏等场景）下配置不生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarenable9">setWindowSystemBarEnable()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.205.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.205.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">names</td>         <td class="cellrowborder" width="25%">Array&lt;'status'|'navigation'&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置窗口全屏模式时状态栏和底部导航区域是否显示。</p>          <p>例如，需全部显示，该参数设置为['status', 'navigation']；设置为[]，则不显示。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 此处以状态栏等均不显示为例</span></li><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">names</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-string">'status'</span> | <span class="hljs-string">'navigation'</span>&gt; = [];</li><li>      windowClass.<span class="hljs-title function_">setSystemBarEnable</span>(names, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar to be invisible.'</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1789px;">     <h2 id="setsystembarenabledeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setSystemBarEnable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsystembarenabledeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSystemBarEnable(names: Array&lt;'status' | 'navigation'&gt;): Promise&lt;void&gt;</p>     <p>设置主窗口状态栏、底部导航（根据用户设置，可表现为导航条或三键导航栏）的可见模式，状态栏和底部导航通过status控制、navigation参数无效果，使用Promise异步回调。</p>     <p>从API version 12开始，该接口在2in1设备上调用不生效，其他设备在分屏模式（即窗口模式为window.WindowStatusType.SPLIT_SCREEN）、自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）、自由多窗模式（可点击设备控制中心中的自由多窗按钮开启）下调用不会立刻生效，只有进入全屏主窗口才会生效。</p>     <p>调用生效后返回并不表示状态栏和底部导航区域的显示或隐藏已完成。子窗口调用后不生效。非全屏模式（悬浮窗、分屏等场景）下配置不生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarenable9">setWindowSystemBarEnable()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.206.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">names</td>         <td class="cellrowborder" width="25%">Array&lt;'status'|'navigation'&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置窗口全屏模式时状态栏和底部导航区域是否显示。</p>          <p>例如，需全部显示，该参数设置为['status', 'navigation']；设置为[]，则不显示。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.206.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.206.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 此处以状态栏等均不显示为例</span></li><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">names</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-string">'status'</span> | <span class="hljs-string">'navigation'</span>&gt; = [];</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setSystemBarEnable</span>(names);</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar to be invisible.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar to be invisible. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1615px;">     <h2 id="setsystembarpropertiesdeprecated" device-type="phone,2in1,tablet,wearable,tv">setSystemBarProperties<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsystembarpropertiesdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSystemBarProperties(systemBarProperties: SystemBarProperties, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置主窗口状态栏的属性，使用callback异步回调，该接口在2in1设备上调用不生效，其他设备在分屏模式（即窗口模式为window.WindowStatusType.SPLIT_SCREEN）、自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）、自由多窗模式（可点击设备控制中心中的自由多窗按钮开启）下调用不会立刻生效，只有进入全屏主窗口才会生效。</p>     <p>子窗口调用后不生效。非全屏模式（悬浮窗、分屏等场景）下配置不生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarproperties9">setWindowSystemBarProperties()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.207.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.207.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">systemBarProperties</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#systembarproperties">SystemBarProperties</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">状态栏的属性。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-title class_">SystemBarProperties</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">SystemBarProperties</span> = {</li><li>        <span class="hljs-attr">statusBarColor</span>: <span class="hljs-string">'#ff00ff'</span>,</li><li>        <span class="hljs-attr">navigationBarColor</span>: <span class="hljs-string">'#00ff00'</span>,</li><li>        <span class="hljs-comment">//以下两个属性从API Version8开始支持</span></li><li>        <span class="hljs-attr">statusBarContentColor</span>: <span class="hljs-string">'#ffffff'</span>,</li><li>        <span class="hljs-attr">navigationBarContentColor</span>: <span class="hljs-string">'#00ffff'</span></li><li>      };</li><li>      windowClass.<span class="hljs-title function_">setSystemBarProperties</span>(<span class="hljs-title class_">SystemBarProperties</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>        <span class="hljs-keyword">if</span> (errCode) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar properties. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar properties.'</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1693px;">     <h2 id="setsystembarpropertiesdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setSystemBarProperties<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setsystembarpropertiesdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSystemBarProperties(systemBarProperties: SystemBarProperties): Promise&lt;void&gt;</p>     <p>设置主窗口状态栏的属性，使用Promise异步回调，该接口在2in1设备上调用不生效，其他设备在分屏模式（即窗口模式为window.WindowStatusType.SPLIT_SCREEN）、自由悬浮窗口模式（即窗口模式为window.WindowStatusType.FLOATING）、自由多窗模式（可点击设备控制中心中的自由多窗按钮开启）下调用不会立刻生效，只有进入全屏主窗口才会生效。</p>     <p>子窗口调用后不生效。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowsystembarproperties9">setWindowSystemBarProperties()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">systemBarProperties</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#systembarproperties">SystemBarProperties</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">状态栏的属性。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.208.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.208.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onWindowStageCreate'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">windowClass</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">Window</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>    windowStage.<span class="hljs-title function_">getMainWindow</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>      <span class="hljs-keyword">if</span> (errCode) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to obtain the main window. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      windowClass = data;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-title class_">SystemBarProperties</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">SystemBarProperties</span> = {</li><li>        <span class="hljs-attr">statusBarColor</span>: <span class="hljs-string">'#ff00ff'</span>,</li><li>        <span class="hljs-attr">navigationBarColor</span>: <span class="hljs-string">'#00ff00'</span>,</li><li>        <span class="hljs-comment">//以下两个属性从API Version8开始支持</span></li><li>        <span class="hljs-attr">statusBarContentColor</span>: <span class="hljs-string">'#ffffff'</span>,</li><li>        <span class="hljs-attr">navigationBarContentColor</span>: <span class="hljs-string">'#00ffff'</span></li><li>      };</li><li>      <span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setSystemBarProperties</span>(<span class="hljs-title class_">SystemBarProperties</span>);</li><li>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the system bar properties.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the system bar properties. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      });</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1111px;">     <h2 id="loadcontentdeprecated" device-type="phone,2in1,tablet,wearable,tv">loadContent<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadcontentdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadContent(path: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>为当前窗口加载具体页面内容，使用callback异步回调。建议在UIAbility启动过程中使用该接口，多次调用该接口会先销毁旧的页面内容（即UIContent）再加载新的页面内容，请谨慎使用。当前UI的执行上下文可能不明确，所以不建议在回调函数中做UI相关的操作。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.209.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要加载到窗口中的页面内容的路径，Stage模型下该路径需添加到工程的main_pages.json文件中，FA模型下该路径需添加到工程的config.json文件中。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/page2/page3'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1189px;">     <h2 id="loadcontentdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">loadContent<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadcontentdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadContent(path: string): Promise&lt;void&gt;</p>     <p>为当前窗口加载具体页面内容，使用Promise异步回调。建议在UIAbility启动过程中使用该接口，多次调用该接口会先销毁旧的页面内容（即UIContent）再加载新的页面内容，请谨慎使用。当前UI的执行上下文可能不明确，所以不建议在回调函数中做UI相关的操作。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9-1">setUIContent()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要加载到窗口中的页面内容的路径，Stage模型下该路径需添加到工程的main_pages.json文件中，FA模型下该路径需添加到工程的config.json文件中。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.210.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.210.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/page2/page3'</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in loading the content.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to load the content. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 946px;">     <h2 id="isshowingdeprecated" device-type="phone,2in1,tablet,wearable,tv">isShowing<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isshowingdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isShowing(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>判断当前窗口是否已显示，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#iswindowshowing9">isWindowShowing()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.211.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回true表示当前窗口已显示，返回false表示当前窗口未显示。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">isShowing</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window is showing. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in checking whether the window is showing. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 894px;">     <h2 id="isshowingdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">isShowing<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isshowingdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isShowing(): Promise&lt;boolean&gt;</p>     <p>判断当前窗口是否已显示，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#iswindowshowing9">isWindowShowing()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.212.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.212.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示当前窗口已显示，返回false表示当前窗口未显示。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">isShowing</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in checking whether the window is showing. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window is showing. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 847px;">     <h2 id="onsystemavoidareachangedeprecated" device-type="phone,2in1,tablet,wearable,tv">on('systemAvoidAreaChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsystemavoidareachangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'systemAvoidAreaChange', callback: Callback&lt;AvoidArea&gt;): void</p>     <p>开启当前窗口系统规避区变化的监听。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#onavoidareachange9">on('avoidAreaChange')</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.213.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'systemAvoidAreaChange'，即系统规避区变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回当前规避区。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'systemAvoidAreaChange'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling the listener for system avoid area changes. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;">     <h2 id="offsystemavoidareachangedeprecated" device-type="phone,2in1,tablet,wearable,tv">off('systemAvoidAreaChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offsystemavoidareachangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'systemAvoidAreaChange', callback?: Callback&lt;AvoidArea&gt;): void</p>     <p>关闭当前窗口系统规避区变化的监听。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#offavoidareachange9">off('avoidAreaChange')</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.214.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'systemAvoidAreaChange'，即系统规避区变化事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-i#avoidarea7">AvoidArea</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数。返回当前规避区。若传入参数，则关闭该监听。若未传入参数，则关闭所有系统规避区变化的监听。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">avoidArea: <span class="hljs-variable language_">window</span>.AvoidArea</span>) =&gt; {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>windowClass.<span class="hljs-title function_">on</span>(<span class="hljs-string">'systemAvoidAreaChange'</span>, callback);</li><li>windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'systemAvoidAreaChange'</span>, callback);</li><li><span class="hljs-comment">// 如果通过on开启多个callback进行监听，同时关闭所有监听：</span></li><li>windowClass.<span class="hljs-title function_">off</span>(<span class="hljs-string">'systemAvoidAreaChange'</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 970px;">     <h2 id="issupportwidegamutdeprecated" device-type="phone,2in1,tablet,wearable,tv">isSupportWideGamut<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="issupportwidegamutdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSupportWideGamut(callback: AsyncCallback&lt;boolean&gt;): void</p>     <p>判断当前窗口是否支持广色域模式，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#iswindowsupportwidegamut9">isWindowSupportWideGamut()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.215.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。返回true表示当前窗口支持广色域模式，返回false表示当前窗口不支持广色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">isSupportWideGamut</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window support WideGamut. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in checking whether the window support WideGamut Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 894px;">     <h2 id="issupportwidegamutdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">isSupportWideGamut<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="issupportwidegamutdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isSupportWideGamut(): Promise&lt;boolean&gt;</p>     <p>判断当前窗口是否支持广色域模式，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#iswindowsupportwidegamut9-1">isWindowSupportWideGamut()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.216.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.216.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回true表示当前窗口支持广色域模式，返回false表示当前窗口不支持广色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">isSupportWideGamut</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in checking whether the window support WideGamut. Data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to check whether the window support WideGamut. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 943px;">     <h2 id="setcolorspacedeprecated" device-type="phone,2in1,tablet,wearable,tv">setColorSpace<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcolorspacedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setColorSpace(colorSpace:ColorSpace, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置当前窗口为广色域模式或默认色域模式，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowcolorspace9">setWindowColorSpace()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">colorSpace</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#colorspace8">ColorSpace</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置色域模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">setColorSpace</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">ColorSpace</span>.<span class="hljs-property">WIDE_GAMUT</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window colorspace. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window colorspace.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1021px;">     <h2 id="setcolorspacedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setColorSpace<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcolorspacedeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setColorSpace(colorSpace:ColorSpace): Promise&lt;void&gt;</p>     <p>设置当前窗口为广色域模式或默认色域模式，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowcolorspace9-1">setWindowColorSpace()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">colorSpace</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#colorspace8">ColorSpace</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.218.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.218.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setColorSpace</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">ColorSpace</span>.<span class="hljs-property">WIDE_GAMUT</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting window colorspace.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set window colorspace. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 946px;">     <h2 id="getcolorspacedeprecated" device-type="phone,2in1,tablet,wearable,tv">getColorSpace<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcolorspacedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getColorSpace(callback: AsyncCallback&lt;ColorSpace&gt;): void</p>     <p>获取当前窗口色域模式，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowcolorspace9">getWindowColorSpace()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#colorspace8">ColorSpace</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当获取成功，err为undefined，data为当前色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">getColorSpace</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError, data</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get window colorspace. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting window colorspace. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 870px;">     <h2 id="getcolorspacedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">getColorSpace<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcolorspacedeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getColorSpace(): Promise&lt;ColorSpace&gt;</p>     <p>获取当前窗口色域模式，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 8开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#getwindowcolorspace9">getWindowColorSpace()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-e#colorspace8">ColorSpace</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象。返回当前色域模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">getColorSpace</span>();</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in getting window color space. Cause:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get window colorspace. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1063px;">     <h2 id="setbackgroundcolordeprecated" device-type="phone,2in1,tablet,wearable,tv">setBackgroundColor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setbackgroundcolordeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBackgroundColor(color: string, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置窗口的背景色，使用callback异步回调。Stage模型下，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowbackgroundcolor9">setWindowBackgroundColor()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的背景色，为十六进制RGB或ARGB颜色，不区分大小写，例如'#00FF00'或'#FF00FF00'。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'#00ff33'</span>;</li><li>windowClass.<span class="hljs-title function_">setBackgroundColor</span>(color, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the background color. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the background color.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1141px;">     <h2 id="setbackgroundcolordeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setBackgroundColor<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setbackgroundcolordeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBackgroundColor(color: string): Promise&lt;void&gt;</p>     <p>设置窗口的背景色，使用Promise异步回调。Stage模型下，该接口需要在<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#loadcontent9">loadContent()</a>或<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setuicontent9">setUIContent()</a>调用生效后使用。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowbackgroundcolor9">setWindowBackgroundColor()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的背景色，为十六进制RGB或ARGB颜色，不区分大小写，例如'#00FF00'或'#FF00FF00'。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.222.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.222.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'#00ff33'</span>;</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setBackgroundColor</span>(color);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the background color.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the background color. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1135px;">     <h2 id="setbrightnessdeprecated" device-type="phone,2in1,tablet,wearable,tv">setBrightness<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setbrightnessdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBrightness(brightness: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>允许应用窗口设置屏幕亮度值，使用callback异步回调。</p>     <p>当前屏幕亮度规格：窗口设置屏幕亮度生效时，控制中心不可以调整系统屏幕亮度，窗口恢复默认系统亮度之后，控制中心可以调整系统屏幕亮度。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowbrightness9">setWindowBrightness()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.223.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.223.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">brightness</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">屏幕亮度值。该参数为浮点数，取值范围为[0.0, 1.0]或-1.0。1.0表示最亮，-1.0表示恢复成设置窗口亮度前的系统控制中心亮度。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">brightness</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>windowClass.<span class="hljs-title function_">setBrightness</span>(brightness, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the brightness. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the brightness.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1213px;">     <h2 id="setbrightnessdeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setBrightness<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setbrightnessdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setBrightness(brightness: number): Promise&lt;void&gt;</p>     <p>允许应用窗口设置屏幕亮度值，使用Promise异步回调。</p>     <p>当前屏幕亮度规格：窗口设置屏幕亮度生效时，控制中心不可以调整系统屏幕亮度，窗口恢复默认系统亮度之后，控制中心可以调整系统屏幕亮度。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowbrightness9-1">setWindowBrightness()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.224.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">brightness</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">屏幕亮度值。该参数为浮点数，取值范围为[0.0, 1.0]或-1.0。1.0表示最亮，-1.0表示恢复成设置窗口亮度前的系统控制中心亮度。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.224.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.224.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">brightness</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setBrightness</span>(brightness);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the brightness.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the brightness. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 991px;">     <h2 id="setdimbehinddeprecated" device-type="phone,2in1,tablet,wearable,tv">setDimBehind<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdimbehinddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDimBehind(dimBehindValue: number, callback: AsyncCallback&lt;void&gt;): void</p>     <p>窗口叠加时，设备有子窗口的情况下设置靠后的窗口的暗度值，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持使用。从API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dimBehindValue</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示靠后的窗口的暗度值，取值范围为[0.0, 1.0]，取1.0时表示最暗。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">setDimBehind</span>(<span class="hljs-number">0.5</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the dimness. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the dimness.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1069px;">     <h2 id="setdimbehinddeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setDimBehind<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setdimbehinddeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setDimBehind(dimBehindValue: number): Promise&lt;void&gt;</p>     <p>窗口叠加时，设备有子窗口的情况下设置靠后的窗口的暗度值，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持使用。从API version 7开始支持，从API version 9开始废弃。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">dimBehindValue</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示靠后的窗口的暗度值，取值范围为0-1，1表示最暗。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.226.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.226.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setDimBehind</span>(<span class="hljs-number">0.5</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the dimness.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the dimness. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1159px;">     <h2 id="setfocusabledeprecated" device-type="phone,2in1,tablet,wearable,tv">setFocusable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfocusabledeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFocusable(isFocusable: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置使用点击或其他方式使该窗口获焦的场景时，该窗口是否支持窗口焦点从操作前的获焦窗口切换到该窗口，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowfocusable9">setWindowFocusable()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.227.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isFocusable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">点击时是否支持切换焦点窗口。true表示支持；false表示不支持。设置为false时，该窗口不支持绑定输入法和接收键盘事件，如需处理输入逻辑，建议参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-inputmethod-in-not-focusable-window" target="_blank">不可获焦窗口中输入框与输入法交互指南</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isFocusable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>windowClass.<span class="hljs-title function_">setFocusable</span>(isFocusable, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be focusable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be focusable.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1237px;">     <h2 id="setfocusabledeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setFocusable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfocusabledeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setFocusable(isFocusable: boolean): Promise&lt;void&gt;</p>     <p>设置使用点击或其他方式使该窗口获焦的场景时，该窗口是否支持窗口焦点从点击前的获焦窗口切换到该窗口，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowfocusable9-1">setWindowFocusable()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isFocusable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">点击时是否支持切换焦点窗口。true表示支持；false表示不支持。设置为false时，该窗口不支持绑定输入法和接收键盘事件，如需处理输入逻辑，建议参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-inputmethod-in-not-focusable-window" target="_blank">不可获焦窗口中输入框与输入法交互指南</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.228.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.228.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isFocusable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setFocusable</span>(isFocusable);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be focusable.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be focusable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;">     <h2 id="setkeepscreenondeprecated" device-type="phone,2in1,tablet,wearable,tv">setKeepScreenOn<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setkeepscreenondeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setKeepScreenOn(isKeepScreenOn: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置屏幕是否为常亮状态，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowkeepscreenon9">setWindowKeepScreenOn()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.229.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isKeepScreenOn</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置屏幕是否为常亮状态。true表示常亮；false表示不常亮。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isKeepScreenOn</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>windowClass.<span class="hljs-title function_">setKeepScreenOn</span>(isKeepScreenOn, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the screen to be always on. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the screen to be always on.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h2 id="setkeepscreenondeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setKeepScreenOn<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setkeepscreenondeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setKeepScreenOn(isKeepScreenOn: boolean): Promise&lt;void&gt;</p>     <p>设置屏幕是否为常亮状态，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 6开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowkeepscreenon9-1">setWindowKeepScreenOn()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isKeepScreenOn</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置屏幕是否为常亮状态。true表示常亮；false表示不常亮。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.230.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.230.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isKeepScreenOn</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setKeepScreenOn</span>(isKeepScreenOn);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the screen to be always on.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Failed to set the screen to be always on. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;">     <h2 id="setoutsidetouchabledeprecated" device-type="phone,2in1,tablet,wearable,tv">setOutsideTouchable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setoutsidetouchabledeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setOutsideTouchable(touchable: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置是否允许可点击子窗口之外的区域，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃。</p>       <p>从API version 9开始，系统默认允许点击子窗口之外的区域，此接口不再支持使用，也不再提供替代接口。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.231.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">touchable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置是否可点击。true表示可点击；false表示不可点击。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li>windowClass.<span class="hljs-title function_">setOutsideTouchable</span>(<span class="hljs-literal">true</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the area to be touchable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the area to be touchable.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h2 id="setoutsidetouchabledeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setOutsideTouchable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setoutsidetouchabledeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setOutsideTouchable(touchable: boolean): Promise&lt;void&gt;</p>     <p>设置是否允许可点击子窗口之外的区域，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃。</p>       <p>从API version 9开始，系统默认允许点击子窗口之外的区域，此接口不再支持使用，也不再提供替代接口。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">touchable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置是否可点击。true表示可点击；false表示不可点击。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.232.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.232.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setOutsideTouchable</span>(<span class="hljs-literal">true</span>);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the area to be touchable.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the area to be touchable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1111px;">     <h2 id="setprivacymodedeprecated" device-type="phone,2in1,tablet,wearable,tv">setPrivacyMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setprivacymodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPrivacyMode(isPrivacyMode: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置窗口是否为隐私模式，使用callback异步回调。</p>     <p>设置为隐私模式的窗口，窗口内容将无法被截屏或录屏。此接口可用于禁止截屏/录屏的场景。</p>     <p>未调用此接口时，窗口默认不开启隐私模式，可以被截屏或录屏。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowprivacymode9">setWindowPrivacyMode()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.233.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isPrivacyMode</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为隐私模式。true表示模式开启；false表示模式关闭。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isPrivacyMode</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>windowClass.<span class="hljs-title function_">setPrivacyMode</span>(isPrivacyMode, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to privacy mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to privacy mode.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1117px;">     <h2 id="setprivacymodedeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setPrivacyMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setprivacymodedeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPrivacyMode(isPrivacyMode: boolean): Promise&lt;void&gt;</p>     <p>设置窗口是否为隐私模式，使用Promise异步回调。设置为隐私模式的窗口，窗口内容将无法被截屏或录屏。此接口可用于禁止截屏/录屏的场景。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowprivacymode9-1">setWindowPrivacyMode()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isPrivacyMode</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为隐私模式。true表示模式开启；false表示模式关闭。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.234.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.234.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isPrivacyMode</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setPrivacyMode</span>(isPrivacyMode);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to privacy mode.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to privacy mode. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1015px;">     <h2 id="settouchabledeprecated" device-type="phone,2in1,tablet,wearable,tv">setTouchable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settouchabledeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTouchable(isTouchable: boolean, callback: AsyncCallback&lt;void&gt;): void</p>     <p>设置窗口是否为可触状态，使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowtouchable9">setWindowTouchable()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.235.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isTouchable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为可触状态。true表示可触；false表示不可触。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> isTouchable = <span class="hljs-literal">true</span>;</li><li>windowClass.<span class="hljs-title function_">setTouchable</span>(isTouchable, <span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">errCode</span>: <span class="hljs-built_in">number</span> = err.<span class="hljs-property">code</span>;</li><li>  <span class="hljs-keyword">if</span> (errCode) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be touchable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be touchable.'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1093px;">     <h2 id="settouchabledeprecated-1" device-type="phone,2in1,tablet,wearable,tv">setTouchable<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settouchabledeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTouchable(isTouchable: boolean): Promise&lt;void&gt;</p>     <p>设置窗口是否为可触状态，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 7开始支持，从API version 9开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowtouchable9-1">setWindowTouchable()</a>。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.WindowManager.WindowManager.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.236.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isTouchable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">窗口是否为可触状态。true表示可触；false表示不可触。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.236.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.236.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">无返回结果的Promise对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-fmc-c106="" class="highlight-div"><div _ngcontent-fmc-c106="" class="highlight-div-header"><div _ngcontent-fmc-c106="" class="highlight-div-header-left"><div _ngcontent-fmc-c106="" class="handle-button expand-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fmc-c106="" class="highlight-div-header-right"><div _ngcontent-fmc-c106="" class="handle-button ai-button"></div><div _ngcontent-fmc-c106="" class="handle-button line-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fmc-c106="" class="handle-button theme-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fmc-c106="" class="handle-button copy-button"><div _ngcontent-fmc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fmc-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> isTouchable = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">let</span> promise = windowClass.<span class="hljs-title function_">setTouchable</span>(isTouchable);</li><li>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting the window to be touchable.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set the window to be touchable. Cause code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div>    </div>   </div>   <div></div></div>