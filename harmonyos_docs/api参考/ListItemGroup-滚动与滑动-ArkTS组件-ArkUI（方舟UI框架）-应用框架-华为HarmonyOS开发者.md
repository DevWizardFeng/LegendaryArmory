<h1 _ngcontent-eyx-c119="" class="doc-title ng-star-inserted" title="ListItemGroup"> ListItemGroup </h1>

<div _ngcontent-eyx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>该组件用来展示列表item分组，宽度默认充满<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>组件，必须配合List组件来使用。</p>    <p>ListItemGroup的懒加载是指组件按需加载可见区域可见的子组件。相比全量加载，使用懒加载可以提升应用启动速度，减少内存消耗。ListItemGroup和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">ForEach</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>结合，懒加载能力存在差异：</p>    <ul>     <li>      <p>当ListItemGroup和ForEach结合，会一次性创建所有的子节点，在需要的时候布局和渲染屏幕范围内的节点。当用户滑动时，划出屏幕范围的节点不会下树销毁，划入屏幕范围的节点会布局和渲染。</p></li>     <li>      <p>当ListItemGroup和LazyForEach结合，会一次性创建、布局、渲染屏幕范围的节点。当用户滑动时，划出屏幕范围的节点会下树销毁，划入屏幕范围的节点会创建、布局、渲染。</p></li>     <li>      <p>当ListItemGroup和带<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-repeat#virtualscroll">virtualScroll</a>的Repeat结合，它的懒加载行为和LazyForEach一致。当ListItemGroup和不带virtualScroll的Repeat结合，它的懒加载行为和ForEach一致。</p></li>    </ul>    <p>ListItemGroup的预加载是指除了加载显示区域可见区域外子组件外，还支持空闲时隙提前加载部分显示区域外不可见的子组件。使用预加载可以减少滚动丢帧，提升流畅性。预加载需要结合懒加载才会生效。ListItemGroup和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">ForEach</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>结合，预加载能力存在差异：</p>    <ul>     <li>      <p>当ListItemGroup和ForEach结合，如果设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#cachedcount">cachedCount</a>，除了会布局显示区域内子组件外，还会在空闲时隙根据List组件的cachedCount属性预布局显示区域外cachedCount范围内的子节点。</p></li>     <li>      <p>当ListItemGroup和LazyForEach结合，如果设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#cachedcount">cachedCount</a>，除了会创建和布局显示区域内子组件外，还会在空闲时隙根据List组件的cachedCount属性预创建和预布局显示区域外cachedCount范围内的子节点。</p></li>     <li>      <p>当ListItemGroup和带<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-repeat#virtualscroll">virtualScroll</a>的Repeat结合，它的预加载行为和LazyForEach一致。当ListItemGroup和不带virtualScroll的Repeat结合，它的预加载行为和ForEach一致。</p></li>    </ul>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>该组件从API version 9开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</li>       <li>该组件的父组件只能是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list">List</a>。</li>       <li>ListItemGroup组件不支持设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-layout-constraints#aspectratio">通用属性aspectRatio</a>。</li>       <li>当ListItemGroup的父组件List的listDirection属性为Axis.Vertical时，设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#height">通用属性height</a>属性不生效。ListItemGroup的高度为header高度、footer高度和所有ListItem布局后总高度之和。</li>       <li>当父组件List的listDirection属性为Axis.Horizontal时，设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#width">通用属性width</a>属性不生效。ListItemGroup的宽度为header宽度、footer宽度和所有ListItem布局后总宽度之和。</li>       <li>当前ListItemGroup内部的ListItem组件不支持编辑、拖拽功能，即ListItem组件的editable属性不生效。</li>       <li>ListItemGroup使用direction属性设置布局方向不生效，ListItemGroup组件布局方向跟随父容器List组件的布局方向。</li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="子组件" device-type="phone,2in1,tablet,wearable,tv">子组件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="子组件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem">ListItem</a>子组件。支持通过渲染控制类型（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-ifelse" target="_blank">if/else</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-foreach" target="_blank">ForEach</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>）动态生成子组件，更推荐使用LazyForEach或Repeat以优化性能。</p>    </div>    <div class="tiledSection">     <h2 id="接口" device-type="phone,2in1,tablet,wearable,tv">接口<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="接口" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ListItemGroup(options?: ListItemGroupOptions)</p>     <p>创建ListItemGroup组件。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-listitemgroup#listitemgroupoptions对象说明">ListItemGroupOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">列表item分组组件参数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="listitemgroupoptions对象说明" device-type="phone,2in1,tablet,wearable,tv">ListItemGroupOptions对象说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listitemgroupoptions对象说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ListItemGroup组件参数。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">header</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置ListItemGroup头部组件。</p>          <p><strong>说明：</strong></p>          <p>可以放单个子组件或不放子组件。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">headerComponent<sup>13+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>使用ComponentContent类型参数设置ListItemGroup头部组件。</p>          <p><strong>说明：</strong></p>          <p>可以放单个子组件或不放子组件。 该参数的优先级高于参数header。即同时设置header和headerComponent时，以headerComponent设置的值为准。</p>          <p>同一个headerComponent不推荐同时给不同的ListItemGroup使用，否则会导致显示问题。</p>          <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">footer</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置ListItemGroup尾部组件。</p>          <p><strong>说明：</strong></p>          <p>可以放单个子组件或不放子组件。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">footerComponent<sup>13+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent">ComponentContent</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>使用ComponentContent类型参数设置ListItemGroup尾部组件。</p>          <p><strong>说明：</strong></p>          <p>可以放单个子组件或不放子组件。该参数的优先级高于参数footer。 即同时设置footer和footerComponent时，以footerComponent设置的值为准。</p>          <p>同一个footerComponent不推荐同时给不同的ListItemGroup使用，否则会导致显示问题。</p>          <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">space</td>         <td class="cellrowborder" width="20%">number | string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>列表项间距。只作用于ListItem与ListItem之间，不作用于header与ListItem、footer与ListItem之间。</p>          <p>默认值：0</p>          <p>单位：vp</p>          <p><strong>说明：</strong></p>          <p>设置为负数或者大于等于List内容区长度时，按默认值显示。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">style<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-listitemgroup#listitemgroupstyle10枚举说明">ListItemGroupStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置List组件卡片样式。</p>          <p>默认值：ListItemGroupStyle.NONE</p>          <p>设置为ListItemGroupStyle.NONE时无样式。</p>          <p>设置为ListItemGroupStyle.CARD时，建议配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-listitem">ListItem</a>的ListItemStyle.CARD同时使用，显示默认卡片样式。</p>          <p>卡片样式下，ListItemGroup默认规格：左右外边距12vp，上下左右内边距4vp。</p>          <p>卡片样式下，为卡片内的列表选项提供了默认的focus、hover、press、selected和disable样式。</p>          <p><strong>说明：</strong></p>          <p>当设置为ListItemStyle.CARD时，List的listDirection属性值须为Axis.Vertical，如果设置为Axis.Horizontal，会导致显示混乱；List属性alignListItem默认为ListItemAlign.Center，居中对齐显示。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="divider" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">divider<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="divider" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>divider(value: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#listdivideroptions18对象说明">ListDividerOptions</a> | null)</p>     <p>设置ListItem分割线样式，默认无分割线。</p>     <p>strokeWidth，startMargin和endMargin不支持设置百分比。</p>     <p>ListItem设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-polymorphic-style">多态样式</a>时，被按压的子组件上下的分割线不绘制。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#listdivideroptions18对象说明">ListDividerOptions</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>ListItem分割线样式。</p>          <p>默认值：null</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="childrenmainsize12" device-type="phone,2in1,tablet,wearable,tv">childrenMainSize<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="childrenmainsize12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>childrenMainSize(value: ChildrenMainSize)</p>     <p>设置ListItemGroup组件的子组件在主轴方向的大小信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>必须同时给所在的List组件设置childrenMainSize属性才可以正常生效。</li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scrollable-common#childrenmainsize12对象说明">ChildrenMainSize</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">该对象用来维护子组件在主轴方向的大小信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="listitemgroupstyle10枚举说明" device-type="phone,2in1,tablet,wearable,tv">ListItemGroupStyle<sup>10+</sup>枚举说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="listitemgroupstyle10枚举说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>List组件卡片样式枚举。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">无样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CARD</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">显示默认卡片样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="示例1设置吸顶吸底" class="firsth2">示例1（设置吸顶/吸底）<i class="anchor-icon anchor-icon-link" anchorid="示例1设置吸顶吸底" tips="复制节点链接"></i></h3>          <p>该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#sticky9">sticky</a>实现了Header吸顶和Footer吸底的效果。</p>     <p>ListDataSource实现了LazyForEach数据源接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-rendering-control-lazyforeach#idatasource">IDataSource</a>，用于通过LazyForEach给List和ListItemGroup提供子组件。</p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// ListDataSource.ets</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeTableDataSource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">list</span>: <span class="hljs-title class_">TimeTable</span>[] = [];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">listeners</span>: <span class="hljs-title class_">DataChangeListener</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">list: TimeTable[]</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = list;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">TimeTable</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">registerDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener) &lt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">push</span>(listener);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">unregisterDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">const</span> pos = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(listener);</li><li>    <span class="hljs-keyword">if</span> (pos &gt;= <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">splice</span>(pos, <span class="hljs-number">1</span>);</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 通知控制器数据变化</span></li><li>  <span class="hljs-title function_">notifyDataChange</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> {</li><li>      listener.<span class="hljs-title function_">onDataChange</span>(index);</li><li>    });</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 修改第一个元素</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">change1stItem</span>(<span class="hljs-attr">temp</span>: <span class="hljs-title class_">TimeTable</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[<span class="hljs-number">0</span>] = temp;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyDataChange</span>(<span class="hljs-number">0</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProjectsDataSource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">string</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">list: <span class="hljs-built_in">string</span>[]</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = list;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[index];</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">registerDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">unregisterDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">TimeTable</span> {</li><li>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;</li><li>  <span class="hljs-attr">projects</span>: <span class="hljs-built_in">string</span>[];</li><li>}</li></ol></pre></div></div>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TimeTable</span>, <span class="hljs-title class_">ProjectsDataSource</span>, <span class="hljs-title class_">TimeTableDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ListDataSource'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ListItemGroupExample</span> {</li><li>  <span class="hljs-attr">itemGroupArray</span>: <span class="hljs-title class_">TimeTableDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeTableDataSource</span>([]);</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">timeTable</span>: <span class="hljs-title class_">TimeTable</span>[] = [</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期一'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'语文'</span>, <span class="hljs-string">'数学'</span>, <span class="hljs-string">'英语'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期二'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'物理'</span>, <span class="hljs-string">'化学'</span>, <span class="hljs-string">'生物'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期三'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'历史'</span>, <span class="hljs-string">'地理'</span>, <span class="hljs-string">'政治'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期四'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'美术'</span>, <span class="hljs-string">'音乐'</span>, <span class="hljs-string">'体育'</span>]</li><li>      }</li><li>    ];</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemGroupArray</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeTableDataSource</span>(timeTable);</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">itemHead</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-title class_">Text</span>(text)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAABBCC</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">itemFoot</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'共'</span> + num + <span class="hljs-string">'节课'</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAABBCC</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemGroupArray</span>, <span class="hljs-function">(<span class="hljs-params">item: TimeTable</span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">ListItemGroup</span>({ <span class="hljs-attr">header</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemHead</span>(item.<span class="hljs-property">title</span>), <span class="hljs-attr">footer</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">itemFoot</span>(item.<span class="hljs-property">projects</span>.<span class="hljs-property">length</span>) }) {</li><li>            <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProjectsDataSource</span>(item.<span class="hljs-property">projects</span>), <span class="hljs-function">(<span class="hljs-params">project: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>              <span class="hljs-title class_">ListItem</span>() {</li><li>                <span class="hljs-title class_">Text</span>(project)</li><li>                  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                  .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>                  .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>                  .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                  .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xFFFFFF</span>)</li><li>              }</li><li>            }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>          }</li><li>          .<span class="hljs-title function_">divider</span>({ <span class="hljs-attr">strokeWidth</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span> }) <span class="hljs-comment">// 每行之间的分界线</span></li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      .<span class="hljs-title function_">sticky</span>(<span class="hljs-title class_">StickyStyle</span>.<span class="hljs-property">Header</span> | <span class="hljs-title class_">StickyStyle</span>.<span class="hljs-property">Footer</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xDCDCDC</span>).<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="749" originwidth="358" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115457.93672767810653596468588396355000:50001231000000:2800:FADE5D1F3BC2D5117B7EB4B43E3C7DB1F52188502EFA790892FEBF8B6B743E5F.gif" width="358" height="749"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例2设置卡片样式">示例2（设置卡片样式）<i class="anchor-icon anchor-icon-link" anchorid="示例2设置卡片样式" tips="复制节点链接"></i></h3>          <p>该示例展示了ListItemGroup的卡片样式效果。</p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ListItemGroupExample2</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">arr</span>: <span class="hljs-title class_">ArrObject</span>[] = [</li><li>    {</li><li>      <span class="hljs-attr">style</span>: <span class="hljs-title class_">ListItemGroupStyle</span>.<span class="hljs-property">CARD</span>,</li><li>      <span class="hljs-attr">itemStyles</span>: [<span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>]</li><li>    },</li><li>    {</li><li>      <span class="hljs-attr">style</span>: <span class="hljs-title class_">ListItemGroupStyle</span>.<span class="hljs-property">CARD</span>,</li><li>      <span class="hljs-attr">itemStyles</span>: [<span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">NONE</span>]</li><li>    },</li><li>    {</li><li>      <span class="hljs-attr">style</span>: <span class="hljs-title class_">ListItemGroupStyle</span>.<span class="hljs-property">CARD</span>,</li><li>      <span class="hljs-attr">itemStyles</span>: [<span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">NONE</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>]</li><li>    },</li><li>    {</li><li>      <span class="hljs-attr">style</span>: <span class="hljs-title class_">ListItemGroupStyle</span>.<span class="hljs-property">NONE</span>,</li><li>      <span class="hljs-attr">itemStyles</span>: [<span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">CARD</span>, <span class="hljs-title class_">ListItemStyle</span>.<span class="hljs-property">NONE</span>]</li><li>    }</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-string">'4vp'</span>, <span class="hljs-attr">initialIndex</span>: <span class="hljs-number">0</span> }) {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>, <span class="hljs-function">(<span class="hljs-params">item: ArrObject, index?: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">ListItemGroup</span>({ <span class="hljs-attr">style</span>: item.<span class="hljs-property">style</span> }) {</li><li>            <span class="hljs-title class_">ForEach</span>(item.<span class="hljs-property">itemStyles</span>, <span class="hljs-function">(<span class="hljs-params">itemStyle: <span class="hljs-built_in">number</span>, itemIndex?: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>              <span class="hljs-title class_">ListItem</span>({ <span class="hljs-attr">style</span>: itemStyle }) {</li><li>                <span class="hljs-keyword">if</span> (index != <span class="hljs-literal">undefined</span> &amp;&amp; itemIndex != <span class="hljs-literal">undefined</span>) {</li><li>                  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'第'</span> + (index + <span class="hljs-number">1</span>) + <span class="hljs-string">'个Group中第'</span> + (itemIndex + <span class="hljs-number">1</span>) + <span class="hljs-string">'个item'</span>)</li><li>                    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>                    .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>                }</li><li>              }</li><li>            }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>          }</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">multiSelectable</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xDCDCDC</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ArrObject</span> {</li><li>  <span class="hljs-attr">style</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">itemStyles</span>: <span class="hljs-built_in">number</span>[];</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="794" originwidth="715" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115457.44238755927778564794129552858209:50001231000000:2800:84BF6D528C3F23A23642374F10F368A6DCCFB149D2C655856783BB044846D1D7.jpeg" width="715" height="794"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例3设置headerfooter">示例3（设置Header/Footer）<i class="anchor-icon anchor-icon-link" anchorid="示例3设置headerfooter" tips="复制节点链接"></i></h3>          <p>该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-componentcontent#componentcontent-1">ComponentContent</a>设置Header/Footer。</p>     <p>ListDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-listitemgroup#示例1设置吸顶吸底">示例1设置吸顶/吸底</a>。</p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TimeTable</span>, <span class="hljs-title class_">ProjectsDataSource</span>, <span class="hljs-title class_">TimeTableDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ListDataSource'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">HeadBuilderParams</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span> | Resource</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">FootBuilderParams</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> | <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span> | Resource</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">itemHead</span>(<span class="hljs-params">params: HeadBuilderParams</span>) {</li><li>  <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'48vp'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_tertiary'</span>))</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">itemFoot</span>(<span class="hljs-params">params: FootBuilderParams</span>) {</li><li>  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'共'</span> + params.<span class="hljs-property">num</span>.<span class="hljs-title function_">toString</span>() + <span class="hljs-string">'节课'</span>)</li><li>    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'48vp'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_tertiary'</span>))</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyItemGroup</span> {</li><li>  <span class="hljs-attr">item</span>: <span class="hljs-title class_">TimeTable</span> = { <span class="hljs-attr">title</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">projects</span>: [] };</li><li>  header?: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">HeadBuilderParams</span>&gt; = <span class="hljs-literal">undefined</span>;</li><li>  footer?: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">FootBuilderParams</span>&gt; = <span class="hljs-literal">undefined</span>;</li><li>  headerParam = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HeadBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">title</span>);</li><li>  footerParam = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FootBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">projects</span>.<span class="hljs-property">length</span>);</li><li>  <span class="hljs-attr">itemArr</span>: <span class="hljs-title class_">ProjectsDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProjectsDataSource</span>([]);</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">header</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-title function_">wrapBuilder</span>(itemHead), <span class="hljs-variable language_">this</span>.<span class="hljs-property">headerParam</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">footer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-title function_">wrapBuilder</span>(itemFoot), <span class="hljs-variable language_">this</span>.<span class="hljs-property">footerParam</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemArr</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProjectsDataSource</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">projects</span>);</li><li>  }</li><li>  <span class="hljs-title class_">GetHeader</span>() {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">header</span>?.<span class="hljs-title function_">update</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HeadBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">title</span>));</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">header</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title class_">GetFooter</span>() {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">footer</span>?.<span class="hljs-title function_">update</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FootBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">projects</span>.<span class="hljs-property">length</span>));</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">footer</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">ListItemGroup</span>({</li><li>      <span class="hljs-attr">headerComponent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">GetHeader</span>(),</li><li>      <span class="hljs-attr">footerComponent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">GetFooter</span>()</li><li>    }) {</li><li>      <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemArr</span>, <span class="hljs-function">(<span class="hljs-params">project: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>        <span class="hljs-title class_">ListItem</span>() {</li><li>          <span class="hljs-title class_">Text</span>(project)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>      }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>    }</li><li>    .<span class="hljs-title function_">divider</span>({ <span class="hljs-attr">strokeWidth</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span> }) <span class="hljs-comment">// 每行之间的分界线</span></li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ListItemGroupExample</span> {</li><li>  <span class="hljs-attr">itemGroupArray</span>: <span class="hljs-title class_">TimeTableDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeTableDataSource</span>([]);</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">timeTable</span>: <span class="hljs-title class_">TimeTable</span>[] = [</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期一'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'语文'</span>, <span class="hljs-string">'数学'</span>, <span class="hljs-string">'英语'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期二'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'物理'</span>, <span class="hljs-string">'化学'</span>, <span class="hljs-string">'生物'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期三'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'历史'</span>, <span class="hljs-string">'地理'</span>, <span class="hljs-string">'政治'</span>, <span class="hljs-string">'体育'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期四'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'美术'</span>, <span class="hljs-string">'音乐'</span>]</li><li>      }</li><li>    ];</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemGroupArray</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeTableDataSource</span>(timeTable);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'update'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemGroupArray</span>.<span class="hljs-title function_">change1stItem</span>({</li><li>          <span class="hljs-attr">title</span>: <span class="hljs-string">'更新后的星期一'</span>,</li><li>          <span class="hljs-attr">projects</span>: [<span class="hljs-string">'语文'</span>, <span class="hljs-string">'物理'</span>, <span class="hljs-string">'历史'</span>, <span class="hljs-string">'美术'</span>]</li><li>        });</li><li>      })</li><li>      <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemGroupArray</span>, <span class="hljs-function">(<span class="hljs-params">item: TimeTable</span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">MyItemGroup</span>({ <span class="hljs-attr">item</span>: item })</li><li>        }, <span class="hljs-function">(<span class="hljs-params">item: TimeTable</span>) =&gt;</span> item.<span class="hljs-property">title</span>) <span class="hljs-comment">// LazyForEach依赖键值判断是否刷新子组件</span></li><li>      }</li><li>      .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">sticky</span>(<span class="hljs-title class_">StickyStyle</span>.<span class="hljs-property">Header</span> | <span class="hljs-title class_">StickyStyle</span>.<span class="hljs-property">Footer</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_primary'</span>))</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="705" originwidth="353" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115458.34979460158747795825598198579179:50001231000000:2800:1E5248C84358501AAF03656E9814E9C78F4860A87C2FED5FF2FA631F4DA6F808.gif" width="353" height="705"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例4设置多列布局">示例4（设置多列布局）<i class="anchor-icon anchor-icon-link" anchorid="示例4设置多列布局" tips="复制节点链接"></i></h3>          <p>该示例展示了ListItemGroup在多列布局中的使用，通过设置List组件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list#lanes9">lanes</a>属性实现多列布局。</p>     <p>ListDataSource说明及完整代码参考<a href="/consumer/cn/doc/harmonyos-references/ts-container-listitemgroup#示例1设置吸顶吸底">示例1设置吸顶/吸底</a>。</p>     <div _ngcontent-eyx-c106="" class="highlight-div"><div _ngcontent-eyx-c106="" class="highlight-div-header"><div _ngcontent-eyx-c106="" class="highlight-div-header-left"><div _ngcontent-eyx-c106="" class="handle-button expand-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eyx-c106="" class="highlight-div-header-right"><div _ngcontent-eyx-c106="" class="handle-button ai-button"></div><div _ngcontent-eyx-c106="" class="handle-button line-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eyx-c106="" class="handle-button theme-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eyx-c106="" class="handle-button copy-button"><div _ngcontent-eyx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eyx-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TimeTable</span>, <span class="hljs-title class_">ProjectsDataSource</span>, <span class="hljs-title class_">TimeTableDataSource</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ListDataSource'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">HeadBuilderParams</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">Resource</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span> | Resource</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">FootBuilderParams</span> {</li><li>  <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> | <span class="hljs-title class_">Resource</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span> | Resource</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">itemHead</span>(<span class="hljs-params">params: HeadBuilderParams</span>) {</li><li>  <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'48vp'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_tertiary'</span>))</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">itemFoot</span>(<span class="hljs-params">params: FootBuilderParams</span>) {</li><li>  <span class="hljs-title class_">Text</span>(<span class="hljs-string">'共'</span> + params.<span class="hljs-property">num</span>.<span class="hljs-title function_">toString</span>() + <span class="hljs-string">'节课'</span>)</li><li>    .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'48vp'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_tertiary'</span>))</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyItemGroup</span> {</li><li>  <span class="hljs-attr">item</span>: <span class="hljs-title class_">TimeTable</span> = { <span class="hljs-attr">title</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">projects</span>: [] };</li><li>  header?: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">HeadBuilderParams</span>&gt; = <span class="hljs-literal">undefined</span>;</li><li>  footer?: <span class="hljs-title class_">ComponentContent</span>&lt;<span class="hljs-title class_">FootBuilderParams</span>&gt; = <span class="hljs-literal">undefined</span>;</li><li>  headerParam = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HeadBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">title</span>);</li><li>  footerParam = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FootBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">projects</span>.<span class="hljs-property">length</span>);</li><li>  <span class="hljs-attr">itemArr</span>: <span class="hljs-title class_">ProjectsDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProjectsDataSource</span>([]);</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">header</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-title function_">wrapBuilder</span>(itemHead), <span class="hljs-variable language_">this</span>.<span class="hljs-property">headerParam</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">footer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>(), <span class="hljs-title function_">wrapBuilder</span>(itemFoot), <span class="hljs-variable language_">this</span>.<span class="hljs-property">footerParam</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemArr</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProjectsDataSource</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">projects</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title class_">GetHeader</span>() {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">header</span>?.<span class="hljs-title function_">update</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HeadBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">title</span>));</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">header</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title class_">GetFooter</span>() {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">footer</span>?.<span class="hljs-title function_">update</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FootBuilderParams</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">item</span>.<span class="hljs-property">projects</span>.<span class="hljs-property">length</span>));</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">footer</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">ListItemGroup</span>({</li><li>      <span class="hljs-attr">headerComponent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">GetHeader</span>(),</li><li>      <span class="hljs-attr">footerComponent</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">GetFooter</span>()</li><li>    }) {</li><li>      <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemArr</span>, <span class="hljs-function">(<span class="hljs-params">project: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>        <span class="hljs-title class_">ListItem</span>() {</li><li>          <span class="hljs-comment">// 修改ListItem样式以适应多列布局</span></li><li>          <span class="hljs-title class_">Column</span>() {</li><li>            <span class="hljs-title class_">Text</span>(project)</li><li>              .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>              .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">8</span>)</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_secondary'</span>))</li><li>          .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">shadow</span>({</li><li>            <span class="hljs-attr">radius</span>: <span class="hljs-number">4</span>,</li><li>            <span class="hljs-attr">color</span>: <span class="hljs-string">'#20000000'</span>,</li><li>            <span class="hljs-attr">offsetX</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">offsetY</span>: <span class="hljs-number">2</span></li><li>          })</li><li>        }</li><li>      }, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> item)</li><li>    }</li><li>    .<span class="hljs-title function_">divider</span>({</li><li>      <span class="hljs-attr">strokeWidth</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-attr">color</span>: $r(<span class="hljs-string">'sys.color.background_tertiary'</span>),</li><li>      <span class="hljs-attr">startMargin</span>: <span class="hljs-number">20</span>,</li><li>      <span class="hljs-attr">endMargin</span>: <span class="hljs-number">20</span></li><li>    })</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ListItemGroupExample</span> {</li><li>  <span class="hljs-attr">itemGroupArray</span>: <span class="hljs-title class_">TimeTableDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeTableDataSource</span>([]);</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">timeTable</span>: <span class="hljs-title class_">TimeTable</span>[] = [</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期一'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'语文'</span>, <span class="hljs-string">'数学'</span>, <span class="hljs-string">'英语'</span>, <span class="hljs-string">'物理'</span>, <span class="hljs-string">'化学'</span>, <span class="hljs-string">'生物'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期二'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'历史'</span>, <span class="hljs-string">'地理'</span>, <span class="hljs-string">'政治'</span>, <span class="hljs-string">'体育'</span>, <span class="hljs-string">'美术'</span>, <span class="hljs-string">'音乐'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期三'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'计算机'</span>, <span class="hljs-string">'编程'</span>, <span class="hljs-string">'算法'</span>, <span class="hljs-string">'数据结构'</span>, <span class="hljs-string">'网络'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期四'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'文学'</span>, <span class="hljs-string">'写作'</span>, <span class="hljs-string">'阅读'</span>, <span class="hljs-string">'书法'</span>]</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">title</span>: <span class="hljs-string">'星期五'</span>,</li><li>        <span class="hljs-attr">projects</span>: [<span class="hljs-string">'实验'</span>, <span class="hljs-string">'生活'</span>, <span class="hljs-string">'奥数'</span>, <span class="hljs-string">'高数'</span>, <span class="hljs-string">'中医'</span>]</li><li>      }</li><li>    ];</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemGroupArray</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeTableDataSource</span>(timeTable);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">List</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">15</span> }) {</li><li>        <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemGroupArray</span>, <span class="hljs-function">(<span class="hljs-params">item: TimeTable</span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">MyItemGroup</span>({ <span class="hljs-attr">item</span>: item })</li><li>        }, <span class="hljs-function">(<span class="hljs-params">item: TimeTable</span>) =&gt;</span> item.<span class="hljs-property">title</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">lanes</span>(<span class="hljs-number">3</span>) <span class="hljs-comment">// 设置3列布局</span></li><li>      .<span class="hljs-title function_">alignListItem</span>(<span class="hljs-title class_">ListItemAlign</span>.<span class="hljs-property">Center</span>) <span class="hljs-comment">// 交叉轴居中对齐</span></li><li>      .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">scrollBar</span>(<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Auto</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_primary'</span>))</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="577" originwidth="263" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115458.44753322249011383091513967643418:50001231000000:2800:EC56BCEDB4972A30C75970A9EDA401BC00369DF2ABCCA17FC324E035B4AF7C9C.gif" class="notEnlarge" width="263" height="577"></span></p>    </div>   </div>   <div></div></div>