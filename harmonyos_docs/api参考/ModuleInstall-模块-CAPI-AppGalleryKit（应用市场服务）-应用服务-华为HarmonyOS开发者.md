<h1 _ngcontent-uyt-c119="" class="doc-title ng-star-inserted" title="ModuleInstall"> ModuleInstall </h1>

<div _ngcontent-uyt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>描述AppGallery kit提供按需分发能力。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> </div> <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection"><h3 id="文件" device-type="phone,2in1,tablet,tv" class="firsth2">文件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="文件" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-c-module_install">module_install.h</a></p> </td> <td class="cellrowborder" width="50%"><p>声明按需分发能力提供的API。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="类型定义" device-type="phone,2in1,tablet,tv">类型定义<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="类型定义" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#osaccount_errcode">ModuleInstall_InstalledModule</a> <a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#osaccount_errcode">ModuleInstall_InstalledModule</a></p> </td> <td class="cellrowborder" width="50%"><p>安装模块信息。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> <a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a></p> </td> <td class="cellrowborder" width="50%"><p>安装模块结果。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct <a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section48269177812">ModuleInstall_StatusCallback</a> <a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section48269177812">ModuleInstall_StatusCallback</a></p> </td> <td class="cellrowborder" width="50%"><p>模块安装状态回调。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef void (*<a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section9881414171010">ModuleInstall_OnStatusCallback</a>)(char *bundleName, char *eventInfo)</p> </td> <td class="cellrowborder" width="50%"><p>监听回调函数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#osaccount_errcode-1">ModuleInstall_ErrCode</a></p> </td> <td class="cellrowborder" width="50%"><p>枚举错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section19925459265">ModuleInstall_InstallStatus</a></p> </td> <td class="cellrowborder" width="50%"><p>枚举安装状态。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section10742174163618">ModuleInstall_RequestCode</a></p> </td> <td class="cellrowborder" width="50%"><p>枚举请求码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section14463723193715">ModuleInstall_TaskStatus</a></p> </td> <td class="cellrowborder" width="50%"><p>枚举任务状态。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#oh_osaccount_getname">HMS_ModuleInstall_GetInstalledModule</a></p> </td> <td class="cellrowborder" width="50%"><p>查询模块是否安装。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section19475184213526">HMS_ModuleInstall_GetInstalledModuleName</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块名。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section39341746155513">HMS_ModuleInstall_GetInstalledModuleType</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section84699521566">HMS_ModuleInstall_GetModuleInstallStatus</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块安装状态。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1533121613581">HMS_ModuleInstall_FetchModules</a></p> </td> <td class="cellrowborder" width="50%"><p>请求下载模块。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section191414113614">HMS_ModuleInstall_GetFetchModulesRequestCode</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块下载请求码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section142448141910">HMS_ModuleInstall_GetFetchModulesTaskStatus</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块下载任务状态。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section979412409101">HMS_ModuleInstall_GetFetchModulesTaskId</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块下载任务id。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section762681812121">HMS_ModuleInstall_GetFetchModulesDesc</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块下载描述。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section55521545111313">HMS_ModuleInstall_GetFetchModules</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块下载模块名。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1071043411515">HMS_ModuleInstall_GetFetchModulesTotalSize</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块下载总大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section04641118168">HMS_ModuleInstall_GetFetchModulesDownloadedSize</a></p> </td> <td class="cellrowborder" width="50%"><p>获取模块下载已下载大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1177619221712">HMS_ModuleInstall_CancelTask</a></p> </td> <td class="cellrowborder" width="50%"><p>取消下载任务。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1897653081720">HMS_ModuleInstall_ShowCellularDataConfirmation</a></p> </td> <td class="cellrowborder" width="50%"><p>展示流量弹窗。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1710031151816">HMS_ModuleInstall_CreateStatusCallback</a></p> </td> <td class="cellrowborder" width="50%"><p>创建下载进度监听回调。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section18492123951816">HMS_ModuleInstall_On</a></p> </td> <td class="cellrowborder" width="50%"><p>下载进度监听。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1541418516194">HMS_ModuleInstall_ReleaseStatusCallback</a></p> </td> <td class="cellrowborder" width="50%"><p>释放下载进度监听回调。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1260162551917">HMS_ModuleInstall_Off</a></p> </td> <td class="cellrowborder" width="50%"><p>取消下载进度监听。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="类型定义说明" device-type="phone,2in1,tablet,tv">类型定义说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="类型定义说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection"><h3 id="osaccount_errcode" device-type="phone,2in1,tablet,tv" class="firsth2">ModuleInstall_InstalledModule<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="osaccount_errcode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ModuleInstall_InstalledModule</span> <span class="hljs-title">ModuleInstall_InstalledModule</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>安装模块信息。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> </div> <div class="tiledSection"><h3 id="section115389533615" device-type="phone,2in1,tablet,tv">ModuleInstall_FetchModulesResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section115389533615" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ModuleInstall_FetchModulesResult</span> <span class="hljs-title">ModuleInstall_FetchModulesResult</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>安装模块结果。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> </div> <div class="tiledSection"><h3 id="section48269177812" device-type="phone,2in1,tablet,tv">ModuleInstall_StatusCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section48269177812" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ModuleInstall_StatusCallback</span> <span class="hljs-title">ModuleInstall_StatusCallback</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>模块安装状态回调。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> </div> <div class="tiledSection"><h3 id="section9881414171010" device-type="phone,2in1,tablet,tv">ModuleInstall_OnStatusCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9881414171010" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-title function_">void</span> <span class="hljs-params">(*ModuleInstall_OnStatusCallback)</span><span class="hljs-params">(<span class="hljs-type">char</span> *bundleName, <span class="hljs-type">char</span> *eventInfo)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>监听回调函数。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> </div> <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection"><h3 id="osaccount_errcode-1" device-type="phone,2in1,tablet,tv" class="firsth2">ModuleInstall_ErrCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="osaccount_errcode-1" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">ModuleInstall_ErrCode</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>枚举错误码。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="49.95%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50.05%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="49.95%"><p>E_NO_ERROR = 0</p> </td> <td class="cellrowborder" width="50.05%"><p>成功。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_PARAMS = 401</p> </td> <td class="cellrowborder" width="50.05%"><p>无效的参数。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_QUERY_MODULE = 1006500001</p> </td> <td class="cellrowborder" width="50.05%"><p>调用包管理模块接口异常。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_REPEATED_CALL = 1006500002</p> </td> <td class="cellrowborder" width="50.05%"><p>重复调用接口，输入相同。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_CONNECT_SA = 1006500004</p> </td> <td class="cellrowborder" width="50.05%"><p>服务异常。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_OFF_WITHOUT_ON = 1006500006</p> </td> <td class="cellrowborder" width="50.05%"><p>未与<a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section18492123951816">HMS_ModuleInstall_On</a>接口共同使用。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_CONNECT_SERVICE_EXTENSION = 1006500007</p> </td> <td class="cellrowborder" width="50.05%"><p>服务连接失败。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_WRITE_PARAM = 1006500008</p> </td> <td class="cellrowborder" width="50.05%"><p>参数写入异常。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_REQUEST_SERVER = 1006500009</p> </td> <td class="cellrowborder" width="50.05%"><p>请求服务异常。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_RESPONSE_INVALID = 1006500010</p> </td> <td class="cellrowborder" width="50.05%"><p>响应参数无法解析。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p>E_INNER_ERROR = 1006500011</p> </td> <td class="cellrowborder" width="50.05%"><p>内部错误。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section19925459265" device-type="phone,2in1,tablet,tv">ModuleInstall_InstallStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19925459265" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">ModuleInstall_InstallStatus</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>枚举安装状态。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>INSTALLED = 0</p> </td> <td class="cellrowborder" width="50%"><p>已安装。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>NOT_INSTALLED = 1</p> </td> <td class="cellrowborder" width="50%"><p>未安装。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section10742174163618" device-type="phone,2in1,tablet,tv">ModuleInstall_RequestCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section10742174163618" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">ModuleInstall_RequestCode</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>枚举按需下载模块请求码。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>MODULE_ALREADY_EXISTS = -8</p> </td> <td class="cellrowborder" width="50%"><p>模块已存在。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>MODULE_UNAVAILABLE = -7</p> </td> <td class="cellrowborder" width="50%"><p>要下载的模块不存在或者模块不适配该设备。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>INVALID_REQUEST = -6</p> </td> <td class="cellrowborder" width="50%"><p>该请求无效，请求中包含的信息不准确。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>NETWORK_ERROR = -5</p> </td> <td class="cellrowborder" width="50%"><p>网络异常，请求失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>INVOKER_VERIFICATION_FAILED = -4</p> </td> <td class="cellrowborder" width="50%"><p>调用者信息异常。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>FOREGROUND_REQUIRED = -3</p> </td> <td class="cellrowborder" width="50%"><p>仅允许应用在前台时请求按需加载。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>ACTIVE_SESSION_LIMIT_EXCEEDED = -2</p> </td> <td class="cellrowborder" width="50%"><p>请求被拒绝，因为当前至少有一个请求正在下载。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>FAILURE = -1</p> </td> <td class="cellrowborder" width="50%"><p>失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SUCCESS = 0</p> </td> <td class="cellrowborder" width="50%"><p>成功。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>DOWNLOAD_WAIT_WIFI = 1</p> </td> <td class="cellrowborder" width="50%"><p>当前使用的是流量，开发者需要调用</p> <p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section1897653081720">HMS_ModuleInstall_ShowCellularDataConfirmation</a>接口，提醒用户确认是否使用流量下载。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section14463723193715" device-type="phone,2in1,tablet,tv">ModuleInstall_TaskStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14463723193715" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">ModuleInstall_TaskStatus</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>枚举任务状态。</p> <p><strong>起始版本：</strong> 5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>CREATE_TASK_FAILED = -4</p> </td> <td class="cellrowborder" width="50%"><p>创建下载任务失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>HIGHER_VERSION_INSTALLED = -3</p> </td> <td class="cellrowborder" width="50%"><p>本地存在相同或者更高版本。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>TASK_ALREADY_EXISTS = -2</p> </td> <td class="cellrowborder" width="50%"><p>下载任务已存在。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>TASK_UNFOUND = -1</p> </td> <td class="cellrowborder" width="50%"><p>下载任务不存在。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>TASK_CREATED = 0</p> </td> <td class="cellrowborder" width="50%"><p>创建下载任务成功。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>DOWNLOADING = 1</p> </td> <td class="cellrowborder" width="50%"><p>下载中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>DOWNLOAD_PAUSED = 2</p> </td> <td class="cellrowborder" width="50%"><p>暂停中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>DOWNLOAD_WAITING = 3</p> </td> <td class="cellrowborder" width="50%"><p>等待下载中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>DOWNLOAD_SUCCESSFUL = 4</p> </td> <td class="cellrowborder" width="50%"><p>下载成功。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>DOWNLOAD_FAILED = 5</p> </td> <td class="cellrowborder" width="50%"><p>下载失败。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>DOWNLOAD_WAIT_FOR_WIFI = 6</p> </td> <td class="cellrowborder" width="50%"><p>Wi-Fi预约。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>INSTALL_WAITING = 20</p> </td> <td class="cellrowborder" width="50%"><p>等待安装。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>INSTALLING = 21</p> </td> <td class="cellrowborder" width="50%"><p>安装中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>INSTALL_SUCCESSFUL = 22</p> </td> <td class="cellrowborder" width="50%"><p>安装完成。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>INSTALL_FAILED = 23</p> </td> <td class="cellrowborder" width="50%"><p>安装失败。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div class="tiledSection"><h3 id="oh_osaccount_getname" device-type="phone,2in1,tablet,tv" class="firsth2">HMS_ModuleInstall_GetInstalledModule<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_osaccount_getname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_ErrCode <span class="hljs-title function_">HMS_ModuleInstall_GetInstalledModule</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *moduleName, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length,</span></li><li><span class="hljs-params">    ModuleInstall_InstalledModule **installedModule)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询模块是否安装。</p> <p><strong>系统能力：</strong> SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>char *moduleName</p> </td> <td class="cellrowborder" width="50%"><p>模块名。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int length</p> </td> <td class="cellrowborder" width="50%"><p>模块名长度，最大长度512。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#osaccount_errcode">ModuleInstall_InstalledModule</a> **installedModule</p> </td> <td class="cellrowborder" width="50%"><p>模块信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回E_NO_ERROR表示成功；返回E_PARAMS表示输入参数错误；返回E_QUERY_MODULE表示调用包管理模块接口异常。</p> </div> <div class="tiledSection"><h3 id="section19475184213526" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetInstalledModuleName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19475184213526" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">char</span> *<span class="hljs-title function_">HMS_ModuleInstall_GetInstalledModuleName</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_InstalledModule *installedModule)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块名。</p> <p><strong>系统能力：</strong> SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#osaccount_errcode">ModuleInstall_InstalledModule</a> **installedModule</p> </td> <td class="cellrowborder" width="50%"><p>模块信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回模块名。</p> <div class="tiledSection"><h3 id="section39341746155513" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetInstalledModuleType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section39341746155513" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">int</span> <span class="hljs-title function_">HMS_ModuleInstall_GetInstalledModuleType</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_InstalledModule *installedModule)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块类型。</p> <p><strong>系统能力：</strong> SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#osaccount_errcode">ModuleInstall_InstalledModule</a> **installedModule</p> </td> <td class="cellrowborder" width="50%"><p>模块信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回模块类型, 取值参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#moduletype" target="_blank">bundleManager.ModuleType</a>。当<a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section19925459265">ModuleInstall_InstallStatus</a>=1时，默认返回0。</p> </div> <div class="tiledSection"><h3 id="section84699521566" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetModuleInstallStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section84699521566" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_InstallStatus <span class="hljs-title function_">HMS_ModuleInstall_GetModuleInstallStatus</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_InstalledModule *installedModule)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块安装状态。</p> <p><strong>系统能力：</strong> SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#osaccount_errcode">ModuleInstall_InstalledModule</a> **installedModule</p> </td> <td class="cellrowborder" width="50%"><p>模块信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>模块安装状态，取值参考：<a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section19925459265">ModuleInstall_InstallStatus</a>。</p> </div> <div class="tiledSection"><h3 id="section1533121613581" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_FetchModules<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1533121613581" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_ErrCode <span class="hljs-title function_">HMS_ModuleInstall_FetchModules</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *bundleName, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length, <span class="hljs-type">char</span> **moduleNames, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> moduleNamesLength, ModuleInstall_FetchModulesResult **fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>请求下载模块。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>char *bundleName</p> </td> <td class="cellrowborder" width="50%"><p>包名。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int length</p> </td> <td class="cellrowborder" width="50%"><p>包名长度，最大长度512。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>char **moduleNames</p> </td> <td class="cellrowborder" width="50%"><p>模块名数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int moduleNamesLength</p> </td> <td class="cellrowborder" width="50%"><p>模块名数组长度，最大长度512。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> **fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回E_NO_ERROR表示成功；返回E_PARAMS表示输入参数错误；返回E_CONNECT_SA表示服务异常；返回E_CONNECT_SERVICE_EXTENSION表示服务连接失败；返回E_WRITE_PARAM表示参数写入异常；返回E_REQUEST_SERVER表示请求服务异常；返回E_RESPONSE_INVALID表示响应参数无法解析；返回E_INNER_ERROR表示内部错误。</p> </div> <div class="tiledSection"><h3 id="section191414113614" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetFetchModulesRequestCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section191414113614" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div> <div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_RequestCode <span class="hljs-title function_">HMS_ModuleInstall_GetFetchModulesRequestCode</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_FetchModulesResult *fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块下载请求码。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.39.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> *fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>按需下载模块请求码，取值参考: <a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section10742174163618">ModuleInstall_RequestCode</a>。</p> <div class="tiledSection"><h3 id="section142448141910" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetFetchModulesTaskStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section142448141910" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_TaskStatus <span class="hljs-title function_">HMS_ModuleInstall_GetFetchModulesTaskStatus</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_FetchModulesResult *fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块下载任务状态。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> *fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>模块下载任务状态，取值参考：<a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section14463723193715">ModuleInstall_TaskStatus</a>。</p> </div> <div class="tiledSection"><h3 id="section979412409101" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetFetchModulesTaskId<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section979412409101" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">char</span> *<span class="hljs-title function_">HMS_ModuleInstall_GetFetchModulesTaskId</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_FetchModulesResult *fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块下载任务id。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> *fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>任务id。</p> </div> <div class="tiledSection"><h3 id="section762681812121" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetFetchModulesDesc<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section762681812121" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">char</span> *<span class="hljs-title function_">HMS_ModuleInstall_GetFetchModulesDesc</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_FetchModulesResult *fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块下载描述。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> *fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>下载描述。</p> </div> <div class="tiledSection"><h3 id="section55521545111313" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetFetchModules<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section55521545111313" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">char</span>* <span class="hljs-title function_">HMS_ModuleInstall_GetFetchModules</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_FetchModulesResult *fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块下载模块名。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> *fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>下载模块名。</p> </div> <div class="tiledSection"><h3 id="section1071043411515" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetFetchModulesTotalSize<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1071043411515" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">int</span> <span class="hljs-title function_">HMS_ModuleInstall_GetFetchModulesTotalSize</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_FetchModulesResult *fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块下载总大小。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> *fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>下载模块总大小。</p> </div> <div class="tiledSection"><h3 id="section04641118168" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_GetFetchModulesDownloadedSize<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section04641118168" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">int</span> <span class="hljs-title function_">HMS_ModuleInstall_GetFetchModulesDownloadedSize</span><span class="hljs-params">(<span class="hljs-type">const</span> ModuleInstall_FetchModulesResult *fetchModulesResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取模块下载已下载大小。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section115389533615">ModuleInstall_FetchModulesResult</a> *fetchModulesResult</p> </td> <td class="cellrowborder" width="50%"><p>模块安装结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>已下载模块大小。</p> </div> <div class="tiledSection"><h3 id="section1177619221712" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_CancelTask<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1177619221712" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_ErrCode <span class="hljs-title function_">HMS_ModuleInstall_CancelTask</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *taskId, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> cancelResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>取消下载任务。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>char *taskId</p> </td> <td class="cellrowborder" width="50%"><p>任务id。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int length</p> </td> <td class="cellrowborder" width="50%"><p>任务id长度，最大长度512。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int cancelResult</p> </td> <td class="cellrowborder" width="50%"><p>取消下载结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回E_NO_ERROR表示成功；返回E_PARAMS表示输入参数错误；返回E_CONNECT_SERVICE_EXTENSION表示服务连接失败；返回E_WRITE_PARAM表示参数写入异常；返回E_REQUEST_SERVER表示请求服务异常；返回E_RESPONSE_INVALID表示响应参数无法解析；</p> </div> <div class="tiledSection"><h3 id="section1897653081720" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_ShowCellularDataConfirmation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1897653081720" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_ErrCode <span class="hljs-title function_">HMS_ModuleInstall_ShowCellularDataConfirmation</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *taskId, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> showResult)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>展示流量弹窗。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>char *taskId</p> </td> <td class="cellrowborder" width="50%"><p>任务id。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int length</p> </td> <td class="cellrowborder" width="50%"><p>任务id长度，最大长度512。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int showResult</p> </td> <td class="cellrowborder" width="50%"><p>展示流量弹窗结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回E_NO_ERROR表示成功；返回E_PARAMS表示输入参数错误；返回E_CONNECT_SERVICE_EXTENSION表示服务连接失败；返回E_WRITE_PARAM表示参数写入异常；返回E_REQUEST_SERVER表示请求服务异常；返回E_RESPONSE_INVALID表示响应参数无法解析。</p> </div> <div class="tiledSection"><h3 id="section1710031151816" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_CreateStatusCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1710031151816" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_StatusCallback *<span class="hljs-title function_">HMS_ModuleInstall_CreateStatusCallback</span><span class="hljs-params">(ModuleInstall_OnStatusCallback *onStatusCallback)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建下载进度监听回调。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section9881414171010">ModuleInstall_OnStatusCallback</a> *onStatusCallback</p> </td> <td class="cellrowborder" width="50%"><p>回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>下载进度监听回调。</p> </div> <div class="tiledSection"><h3 id="section18492123951816" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_On<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18492123951816" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_ErrCode <span class="hljs-title function_">HMS_ModuleInstall_On</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *bundleName, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> appIndex, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> period, ModuleInstall_StatusCallback **callback)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>下载进度监听。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.51.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>char *bundleName</p> </td> <td class="cellrowborder" width="50%"><p>包名。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int length</p> </td> <td class="cellrowborder" width="50%"><p>包名长度，最大长度512。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int appIndex</p> </td> <td class="cellrowborder" width="50%"><p>应用分身索引。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int period</p> </td> <td class="cellrowborder" width="50%"><p>监听周期。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section48269177812">ModuleInstall_StatusCallback</a> **callback</p> </td> <td class="cellrowborder" width="50%"><p>下载进度监听回调。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回E_NO_ERROR表示成功；返回E_PARAMS表示输入参数错误；返回E_REPEATED_CALL表示重复调用接口；返回E_CONNECT_SA表示服务异常。</p> </div> <div class="tiledSection"><h3 id="section1541418516194" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_ReleaseStatusCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1541418516194" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">void</span> <span class="hljs-title function_">HMS_ModuleInstall_ReleaseStatusCallback</span><span class="hljs-params">(ModuleInstall_StatusCallback *statusCallback)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放下载进度监听回调。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/store-c-moduleinstall#section48269177812">ModuleInstall_StatusCallback</a> **statusCallback</p> </td> <td class="cellrowborder" width="50%"><p>下载进度监听回调。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section1260162551917" device-type="phone,2in1,tablet,tv">HMS_ModuleInstall_Off<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1260162551917" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-uyt-c106="" class="highlight-div"><div _ngcontent-uyt-c106="" class="highlight-div-header"><div _ngcontent-uyt-c106="" class="highlight-div-header-left"><div _ngcontent-uyt-c106="" class="handle-button expand-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uyt-c106="" class="highlight-div-header-right"><div _ngcontent-uyt-c106="" class="handle-button ai-button"></div><div _ngcontent-uyt-c106="" class="handle-button line-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uyt-c106="" class="handle-button theme-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uyt-c106="" class="handle-button copy-button"><div _ngcontent-uyt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uyt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" data-highlighted="yes"><ol class="linenums"><li>ModuleInstall_ErrCode <span class="hljs-title function_">HMS_ModuleInstall_Off</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *bundleName, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> appIndex)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>取消下载进度监听。</p> <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.Distribution.OnDemandInstall</p> <p><strong>起始版本：</strong> 5.0.2(14)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>char *bundleName</p> </td> <td class="cellrowborder" width="50%"><p>包名。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int length</p> </td> <td class="cellrowborder" width="50%"><p>包名长度，最大长度512。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int appIndex</p> </td> <td class="cellrowborder" width="50%"><p>应用分身索引。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p> <p>返回E_NO_ERROR表示成功；返回E_PARAMS表示输入参数错误；返回E_OFF_WITHOUT_ON表示未与监听接口共同使用；返回E_CONNECT_SA表示服务异常。</p> </div> </div> <div></div></div>