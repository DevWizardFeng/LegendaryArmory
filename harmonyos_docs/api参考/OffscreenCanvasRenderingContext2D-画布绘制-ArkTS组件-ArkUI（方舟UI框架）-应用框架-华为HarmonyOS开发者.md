<h1 _ngcontent-jfj-c119="" class="doc-title ng-star-inserted" title="OffscreenCanvasRenderingContext2D"> OffscreenCanvasRenderingContext2D </h1>

<div _ngcontent-jfj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>使用OffscreenCanvasRenderingContext2D在Canvas上进行离屏绘制，绘制对象可以是矩形、文本、图片等。离屏绘制是指将需要绘制的内容先绘制在缓存区，然后将其转换成图片，一次性绘制到Canvas上。离屏绘制使用CPU进行绘制，绘制速度较慢，对绘制速度有要求的场景应避免使用离屏绘制。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>从 API version 8 开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>      <p>OffscreenCanvasRenderingContext2D无法在ServiceExtensionAbility中使用，ServiceExtensionAbility中建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing">Drawing模块</a>进行离屏绘制。</p>      <p><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#beginpath">beginPath</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#moveto">moveTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#lineto">lineTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#closepath">closePath</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#beziercurveto">bezierCurveTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#quadraticcurveto">quadraticCurveTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#arc">arc</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#arcto">arcTo</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#ellipse">ellipse</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#rect">rect</a>和<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#roundrect20">roundRect</a>接口只能对OffscreenCanvasRenderingContext2D中的路径生效，无法对<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d">CanvasRenderingContext2D</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a>对象中设置的路径生效。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;">     <h2 id="构造函数" device-type="phone,2in1,tablet,wearable,tv">构造函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="构造函数" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 927px;">     <h3 id="constructor" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(width: number, height: number, settings?: RenderingContextSettings)</p>     <p>构造离屏Canvas画布对象，支持配置画布宽高和OffscreenCanvasRenderingContext2D对象的参数。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>离屏画布的宽度，默认单位：vp</p>          <p>异常值NaN和Infinity按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>离屏画布的高度，默认单位：vp</p>          <p>异常值NaN和Infinity按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">settings</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用来配置OffscreenCanvasRenderingContext2D对象的参数，见RenderingContextSettings接口描述。</p>          <p>异常值undefined按<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a>的默认值处理。</p>          <p>默认值：null</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1204px;">     <h3 id="constructor12" device-type="phone,2in1,tablet,wearable,tv">constructor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(width: number, height: number, settings?: RenderingContextSettings, unit?: LengthMetricsUnit)</p>     <p>构造离屏Canvas画布对象，支持配置画布宽高、OffscreenCanvasRenderingContext2D对象的参数和单位模式。</p>     <p><strong>卡片能力：</strong> 从API version 12开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>离屏画布的宽度，默认单位：vp</p>          <p>异常值NaN和Infinity按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>离屏画布的高度，默认单位：vp</p>          <p>异常值NaN和Infinity按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">settings</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用来配置OffscreenCanvasRenderingContext2D对象的参数，见RenderingContextSettings接口描述。</p>          <p>异常值undefined按<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#renderingcontextsettings">RenderingContextSettings</a>的默认值处理。</p>          <p>默认值：null</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">unit</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetricsunit12">LengthMetricsUnit</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用来配置OffscreenCanvasRenderingContext2D对象的单位模式，配置后无法动态更改，配置方法同<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d">CanvasRenderingContext2D</a>。</p>          <p>异常值undefined、NaN和Infinity按默认值处理。</p>          <p>默认值：DEFAULT</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 17045px;">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#fillstyle">fillStyle</a></td>         <td class="cellrowborder" width="20%">string |number<sup>10+</sup> |<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvaspattern">CanvasPattern</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指定绘制的填充色，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>- 类型为string时，表示设置填充区域的颜色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中string类型说明。</p>          <p>- 类型为number时，表示设置填充区域的颜色，不支持设置全透明色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中number类型说明。</p>          <p>- 类型为CanvasGradient时，表示渐变对象，使用<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#createlineargradient">createLinearGradient</a>方法创建。</p>          <p>- 类型为CanvasPattern时，使用<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#createpattern">createPattern</a>方法创建。</p>          <p>默认值：'#000000'（黑色）</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#linewidth">lineWidth</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制线条的宽度，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：1(px)</p>          <p>默认单位：vp</p>          <p>lineWidth取值不支持0和负数，0、负数和NaN按默认值处理，Infinity会导致和lineWidth属性相关的接口无法绘制。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#strokestyle">strokeStyle</a></td>         <td class="cellrowborder" width="20%">string |number<sup>10+</sup> |<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvaspattern">CanvasPattern</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置线条的颜色，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>- 类型为string时，表示设置线条使用的颜色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中string类型说明。</p>          <p>- 类型为number时，表示设置线条使用的颜色，不支持设置全透明色，颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中number类型说明。</p>          <p>- 类型为CanvasGradient时，表示渐变对象，使用<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#createlineargradient">createLinearGradient</a>方法创建。</p>          <p>- 类型为CanvasPattern时，使用<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#createpattern">createPattern</a>方法创建。</p>          <p>默认值：'#000000'（黑色）</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#linecap">lineCap</a></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvaslinecap类型说明">CanvasLineCap</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指定线端点的样式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'butt'：线条两端为平行线，不额外扩展。</p>          <p>- 'round'：在线条两端延伸半个圆，直径等于线宽。</p>          <p>- 'square'：在线条两端延伸一个矩形，宽度等于线宽的一半，高度等于线宽。</p>          <p>默认值：'butt'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#linejoin">lineJoin</a></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvaslinejoin类型说明">CanvasLineJoin</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>指定线段间相交的交点样式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'round'：在线段相连处绘制一个扇形，扇形的圆角半径是线段的宽度。</p>          <p>- 'bevel'：在线段相连处使用三角形为底填充， 每个部分矩形拐角独立。</p>          <p>- 'miter'：在相连部分的外边缘处进行延伸，使其相交于一点，形成一个菱形区域，该属性可以通过设置miterLimit属性展现效果。</p>          <p>默认值：'miter'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#miterlimit">miterLimit</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置斜接面限制值，该值指定了线条相交处内角和外角的距离，仅当设置了lineJoin为miter才生效，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：10px</p>          <p>单位：px。</p>          <p>miterLimit取值不支持0和负数，0、负数和NaN按默认值处理，Infinity会导致和miterLimit属性相关的接口无法绘制。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#font">font</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置文本绘制中的字体样式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>语法：ctx.font = 'font-style font-weight font-size font-family'</p>          <p>- font-style(可选)，用于指定字体样式，支持如下几种样式：'normal','italic'。</p>          <p>- font-weight(可选)，用于指定字体的粗细，支持如下几种类型：'normal', 'bold', 'bolder', 'lighter', 100, 200, 300, 400, 500, 600, 700, 800, 900。</p>          <p>- font-size(可选)，指定字号和行高，单位支持px、vp。使用时需要添加单位。</p>          <p>- font-family(可选)，指定字体系列，支持如下几种类型：'sans-serif', 'serif', 'monospace'。API version 20及以后支持注册过的自定义字体（只能在主线程使用，不支持在worker线程中使用；DevEco Studio的预览器不支持显示自定义字体），具体使用方法参考自定义字体<a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#font">font</a>示例。</p>          <p>默认值：'normal normal 14px sans-serif'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#textalign">textAlign</a></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextalign类型说明">CanvasTextAlign</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置文本绘制中的文本对齐方式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'left'：文本左对齐。</p>          <p>- 'right'：文本右对齐。</p>          <p>- 'center'：文本居中对齐。</p>          <p>- 'start'：文本对齐界线开始的地方。</p>          <p>- 'end'：文本对齐界线结束的地方。</p>          <p><strong>说明：</strong></p>          <p>ltr布局模式下'start'和'left'一致，rtl布局模式下'start'和'right'一致。</p>          <p>默认值：'left'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#textbaseline">textBaseline</a></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvastextbaseline类型说明">CanvasTextBaseline</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置文本绘制中的水平对齐方式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'alphabetic'：文本基线是标准的字母基线。</p>          <p>- 'top'：文本基线在文本块的顶部。</p>          <p>- 'hanging'：文本基线是悬挂基线。</p>          <p>- 'middle'：文本基线在文本块的中间。</p>          <p>- 'ideographic'：文字基线是表意字基线；如果字符本身超出了alphabetic基线，那么ideographic基线位置在字符本身的底部。</p>          <p>- 'bottom'：文本基线在文本块的底部。 与ideographic基线的区别在于ideographic基线不需要考虑下行字母。</p>          <p>默认值：'alphabetic'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#globalalpha">globalAlpha</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置透明度，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>范围为[0.0, 1.0]，0.0为完全透明，1.0为完全不透明。若给定值小于0.0，则取值0.0；若给定值大于1.0，则取值1.0。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制。API version 18及以后，设置NaN或Infinity时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认值：1.0</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#linedashoffset">lineDashOffset</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置画布的虚线偏移量，精度为float，，仅当设置setLineDash时属性才生效，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：0.0</p>          <p>单位：vp。</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#globalcompositeoperation">globalCompositeOperation</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置合成操作的方式，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>类型字段可选值有'source-over'，'source-atop'，'source-in'，'source-out'，'destination-over'，'destination-atop'，'destination-in'，'destination-out'，'lighter'，'copy'，'xor'。</p>          <p>- 默认值：'source-over'</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#shadowblur">shadowBlur</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时的模糊级别，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>值越大越模糊，精度为float，取值范围≥0。</p>          <p>默认值：0.0</p>          <p>单位：px。</p>          <p>shadowBlur取值不支持负数，负数、NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#shadowcolor">shadowColor</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时的阴影颜色，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>颜色格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>中string类型说明。</p>          <p>默认值：透明黑色</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#shadowoffsetx">shadowOffsetX</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时和原有对象的水平偏移值，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：0.0</p>          <p>默认单位：vp</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#shadowoffsety">shadowOffsetY</a></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>设置绘制阴影时和原有对象的垂直偏移值，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：0.0</p>          <p>默认单位：vp</p>          <p>异常值NaN和Infinity按默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#imagesmoothingenabled">imageSmoothingEnabled</a></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于设置绘制图片时是否进行图像平滑度调整，true为启用，false为不启用，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>默认值：true</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#imagesmoothingquality">imageSmoothingQuality</a></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#imagesmoothingquality类型说明">ImageSmoothingQuality</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>imageSmoothingEnabled为true时，用于设置图像平滑度，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'low'：低画质</p>          <p>- 'medium'：中画质</p>          <p>- 'high'：高画质。</p>          <p>默认值："low"</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#direction">direction</a></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasdirection类型说明">CanvasDirection</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于设置绘制文字时使用的文字方向，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>可选值为：</p>          <p>- 'inherit'：继承canvas组件通用属性已设定的文本方向，若canvas组件未设置direction属性，则跟随系统文字方向。</p>          <p>- 'ltr'：从左往右。</p>          <p>- 'rtl'：从右往左。</p>          <p>默认值："inherit"</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#filter">filter</a></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于设置图像的滤镜，可以组合任意数量的滤镜，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>支持的滤镜效果如下：</p>          <p>- 'none': 无滤镜效果。</p>          <p>- 'blur(&lt;length&gt;)'：给图像设置高斯模糊，取值范围≥0，支持单位px、vp、rem，默认值：blur(0px)。</p>          <p>- 'brightness([&lt;number&gt;|&lt;percentage&gt;])'：给图片应用一种线性乘法，使其看起来更亮或更暗，支持数字和百分比参数，取值范围≥0，默认值：brightness(1)。</p>          <p>- 'contrast([&lt;number&gt;|&lt;percentage&gt;])'：调整图像的对比度，支持数字和百分比参数，取值范围≥0，默认值：contrast(1)。</p>          <p>- 'grayscale([&lt;number&gt;|&lt;percentage&gt;])'：将图像转换为灰度图像，支持数字和百分比参数，取值范围[0, 1]，默认值：grayscale(0)。</p>          <p>- 'hue-rotate(&lt;angle&gt;)'：给图像应用色相旋转，取值范围0deg-360deg，默认值：hue-rotate(0deg)。</p>          <p>- 'invert([&lt;number&gt;|&lt;percentage&gt;])'：反转输入图像，支持数字和百分比参数，取值范围[0, 1]，默认值：invert(0)。</p>          <p>- 'opacity([&lt;number&gt;|&lt;percentage&gt;])'：转化图像的透明程度，支持数字和百分比参数，取值范围[0, 1]，默认值：opacity(1)。</p>          <p>- 'saturate([&lt;number&gt;|&lt;percentage&gt;])'：转换图像饱和度，支持数字和百分比参数，取值范围≥0，默认值：saturate(1)。</p>          <p>- 'sepia([&lt;number&gt;|&lt;percentage&gt;])'：将图像转换为深褐色，支持数字和百分比参数，取值范围[0, 1]，默认值：sepia(0)。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-offscreencanvasrenderingcontext2d#letterspacing18">letterSpacing<sup>18+</sup></a></td>         <td class="cellrowborder" width="20%">string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetrics12">LengthMetrics</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>用于指定绘制文本时字母之间的间距，此属性为只写属性，可通过赋值语句设置其值，但无法通过读取操作获取其当前值，若尝试读取将返回undefined。</p>          <p>当使用LengthMetrics时：</p>          <p>字间距按照指定的单位设置；</p>          <p>不支持FP、PERCENT和LPX（按无效值处理）；</p>          <p>支持负数和小数，设为小数时字间距不四舍五入。</p>          <p>当使用string时：</p>          <p>不支持设置百分比（按无效值处理）；</p>          <p>支持负数和小数，设为小数时字间距不四舍五入；</p>          <p>若letterSpacing的赋值未指定单位（例如：letterSpacing='10'），且未指定LengthMetricsUnit时，默认单位设置为vp；</p>          <p>指定LengthMetricsUnit为px时，默认单位设置为px；</p>          <p>当letterSpacing的赋值指定单位时（例如：letterSpacing='10vp'），字间距按照指定的单位设置。</p>          <p>默认值：0（输入无效值时，字间距设为默认值）</p>          <p>注：推荐使用LengthMetrics，性能更好。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>fillStyle、shadowColor与 strokeStyle 中string类型格式为 'rgb(255, 255, 255)'，'rgba(255, 255, 255, 1.0)'，'#FFFFFF'。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1639px;">     <h3 id="fillstyle" class="firsth2">fillStyle<i class="anchor-icon anchor-icon-link" anchorid="fillstyle" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FillStyleExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-comment">// 使用string设置fillStyle属性</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FillStyleExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-comment">// 使用number设置fillStyle属性</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-number">0x0000FF</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="95" originwidth="98" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.99765428697243113997632872008897:50001231000000:2800:BEE6990D15F991CC580CC402BFF991353E009861A407CCE48EA0AAD1E45F20BE.png" class="notEnlarge" width="98" height="95"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 931px;">     <h3 id="linewidth">lineWidth<i class="anchor-icon anchor-icon-link" anchorid="linewidth" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineWidthExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-comment">// 设置lineWidth属性</span></li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span></li><li>          offContext.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">85</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="103" originwidth="98" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.82825629529730686460078099908457:50001231000000:2800:27045AEF4859C92FC4757276692B9F1449C1435C83A4FAB1076936FC7B7BAC3A.png" class="notEnlarge" width="98" height="103"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1679px;">     <h3 id="strokestyle">strokeStyle<i class="anchor-icon anchor-icon-link" anchorid="strokestyle" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StrokeStyleExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span></li><li>          <span class="hljs-comment">// 使用string设置strokeStyle属性</span></li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          offContext.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">155</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StrokeStyleExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span></li><li>          <span class="hljs-comment">// 使用number设置strokeStyle属性</span></li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-number">0x0000ff</span></li><li>          offContext.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>, <span class="hljs-number">155</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="71" originwidth="111" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.48236864612887356653586159121809:50001231000000:2800:EF9D56099354ABEC0B51B84CB05637C10DC295E47783848B9B5B5139436B0F29.png" class="notEnlarge" width="111" height="71"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1020px;">     <h3 id="linecap">lineCap<i class="anchor-icon anchor-icon-link" anchorid="linecap" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineCapExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">8</span></li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          <span class="hljs-comment">// 设置lineCap属性</span></li><li>          offContext.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'round'</span></li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">50</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">220</span>, <span class="hljs-number">50</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="96" originwidth="263" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.86322156669076461951549654752931:50001231000000:2800:F2382B200E75F32A6857E7E2258A396E6D1DA99786D0FA913587BBE66F02176C.png" class="notEnlarge" width="263" height="96"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1046px;">     <h3 id="linejoin">lineJoin<i class="anchor-icon anchor-icon-link" anchorid="linejoin" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineJoinExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">8</span></li><li>          <span class="hljs-comment">// 设置lineJoin属性</span></li><li>          offContext.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'miter'</span></li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">120</span>, <span class="hljs-number">60</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">110</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="98" originwidth="124" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.15186166668812913657483339262300:50001231000000:2800:F9FC4BD72C86FCF790BA8BC3D9FF0D800D4F4F8C9F386CEC3320F9CB519FB3E2.png" class="notEnlarge" width="124" height="98"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1029px;">     <h3 id="miterlimit">miterLimit<i class="anchor-icon anchor-icon-link" anchorid="miterlimit" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MiterLimit</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">8</span></li><li>          offContext.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'miter'</span></li><li>          <span class="hljs-comment">// 设置miterLimit属性</span></li><li>          offContext.<span class="hljs-property">miterLimit</span> = <span class="hljs-number">3</span></li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">60</span>, <span class="hljs-number">35</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">37</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="81" originwidth="111" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.46021962221297686450117768620596:50001231000000:2800:71ECBF282A86BECACBEED998101AF1B62D13B2192EFF87430871F1475F4BDF2A.png" class="notEnlarge" width="111" height="81"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1488px;">     <h3 id="font">font<i class="anchor-icon anchor-icon-link" anchorid="font" tips="复制节点链接"></i></h3>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>自定义字体注册有以下两种方式。一种是通过ArkUI的异步接口this.uiContext.getFont().<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-font#registerfont">registerFont</a>注册，调用后立即绘制可能会导致自定义字体不生效。另一种是直接调用字体引擎的fontCollection.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-graphics-text#loadfontsync">loadFontSync</a>接口来注册自定义字体到字体引擎。在直接调用字体引擎接口注册自定义字体时，fontCollection的实例需要是text.FontCollection.getGlobalInstance()，因为组件默认会从该实例加载字体。如果使用其他实例，可能会导致自定义字体不生效。</p>      </div></div></div>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { text } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FontDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>          <span class="hljs-comment">// 常规字体样式，常规粗细，字体大小为30px，字体系列为sans-serif</span></li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'normal normal 30px sans-serif'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello px"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">60</span>)</li><li>          <span class="hljs-comment">// 斜体样式，加粗，字体大小为30vp，字体系列为monospace</span></li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'italic bold 30vp monospace'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello vp"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-comment">// 加载rawfile目录下的自定义字体文件HarmonyOS_Sans_Thin_Italic.ttf</span></li><li>          <span class="hljs-keyword">let</span> fontCollection = text.<span class="hljs-property">FontCollection</span>.<span class="hljs-title function_">getGlobalInstance</span>();</li><li>          fontCollection.<span class="hljs-title function_">loadFontSync</span>(<span class="hljs-string">'HarmonyOS_Sans_Thin_Italic'</span>, $rawfile(<span class="hljs-string">"HarmonyOS_Sans_Thin_Italic.ttf"</span>))</li><li>          <span class="hljs-comment">// 加粗，字体大小为30vp，字体系列为HarmonyOS_Sans_Thin_Italic</span></li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">"bold 30vp HarmonyOS_Sans_Thin_Italic"</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello customFont"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">140</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="256" originwidth="424" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.75610444695055381712229462939284:50001231000000:2800:53661F3C64D810B8820F56FDF954F9DFF87B8E77FAA013333151EA96EB1D3C85.jpeg" width="424" height="256"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1616px;">     <h3 id="textalign">textAlign<i class="anchor-icon anchor-icon-link" anchorid="textalign" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'rgb(39,135,217)'</span></li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">140</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">140</span>, <span class="hljs-number">160</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>
</li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'50px sans-serif'</span></li><li>
</li><li>          <span class="hljs-comment">// 设置textAlign属性为start</span></li><li>          offContext.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'start'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=start'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">60</span>)</li><li>          <span class="hljs-comment">// 设置textAlign属性为end</span></li><li>          offContext.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'end'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=end'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">80</span>)</li><li>          <span class="hljs-comment">// 设置textAlign属性为left</span></li><li>          offContext.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'left'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=left'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-comment">// 设置textAlign属性为center</span></li><li>          offContext.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=center'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-comment">// 设置textAlign属性为right</span></li><li>          offContext.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'right'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=right'</span>, <span class="hljs-number">140</span>, <span class="hljs-number">140</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="332" originwidth="511" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.95500915027203922697112982357137:50001231000000:2800:AD77DEDD9B272618E2FEA1216308B07760078FDDA4CF96485282438C3490ECE7.png" width="511" height="332"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1514px;">     <h3 id="textbaseline">textBaseline<i class="anchor-icon anchor-icon-link" anchorid="textbaseline" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TextBaseline</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">120</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">120</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>
</li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'20px sans-serif'</span></li><li>
</li><li>          <span class="hljs-comment">// 设置textBaseline属性为top</span></li><li>          offContext.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'top'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Top'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-comment">// 设置textBaseline属性为bottom</span></li><li>          offContext.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'bottom'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Bottom'</span>, <span class="hljs-number">55</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-comment">// 设置textBaseline属性为middle</span></li><li>          offContext.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'middle'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Middle'</span>, <span class="hljs-number">125</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-comment">// 设置textBaseline属性为alphabetic</span></li><li>          offContext.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'alphabetic'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Alphabetic'</span>, <span class="hljs-number">195</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-comment">// 设置textBaseline属性为hanging</span></li><li>          offContext.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'hanging'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Hanging'</span>, <span class="hljs-number">295</span>, <span class="hljs-number">120</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="230" originwidth="660" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.19557939934324191245733833345657:50001231000000:2800:E2AEF3E9DBA88D35909CD69ECDC10718DF1785C93D940CEBADE8820341146CF3.jpg" width="660" height="230"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1113px;">     <h3 id="globalalpha">globalAlpha<i class="anchor-icon anchor-icon-link" anchorid="globalalpha" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GlobalAlpha</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-comment">// 设置globalAlpha属性</span></li><li>          offContext.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">0.4</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="213" originwidth="222" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.66017027061842312312677235721541:50001231000000:2800:3AE30BBA1773E49A50D6B3071B19DE9E641F51DBDF52D7CECF247BA537703D26.png" class="notEnlarge" width="222" height="213"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1126px;">     <h3 id="linedashoffset">lineDashOffset<i class="anchor-icon anchor-icon-link" anchorid="linedashoffset" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineDashOffset</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>          offContext.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">10</span>,<span class="hljs-number">20</span>])</li><li>          <span class="hljs-comment">// 设置lineDashOffset属性</span></li><li>          offContext.<span class="hljs-property">lineDashOffset</span> = <span class="hljs-number">10.0</span></li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="250" originwidth="191" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.21137031515347622309125031738240:50001231000000:2800:B12DCD1AD92DC9CA4FB0F2E72BEDB353E1C05B21B021BFF5CA118DC697147689.png" class="notEnlarge" width="191" height="250"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1800px;">     <h3 id="globalcompositeoperation">globalCompositeOperation<i class="anchor-icon anchor-icon-link" anchorid="globalcompositeoperation" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.2.1.3.1.1" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.2.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">source-over</td>         <td class="cellrowborder" width="50%">在现有绘制内容上显示新绘制内容，属于默认值。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">source-atop</td>         <td class="cellrowborder" width="50%">在现有绘制内容顶部显示新绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">source-in</td>         <td class="cellrowborder" width="50%">在现有绘制内容中显示新绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">source-out</td>         <td class="cellrowborder" width="50%">在现有绘制内容之外显示新绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-over</td>         <td class="cellrowborder" width="50%">在新绘制内容上方显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-atop</td>         <td class="cellrowborder" width="50%">在新绘制内容顶部显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-in</td>         <td class="cellrowborder" width="50%">在新绘制内容中显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">destination-out</td>         <td class="cellrowborder" width="50%">在新绘制内容外显示现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">lighter</td>         <td class="cellrowborder" width="50%">显示新绘制内容和现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">copy</td>         <td class="cellrowborder" width="50%">显示新绘制内容而忽略现有绘制内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">xor</td>         <td class="cellrowborder" width="50%">使用异或操作对新绘制内容与现有绘制内容进行融合。</td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GlobalCompositeOperation</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-comment">// 设置globalCompositeOperation属性为source-over</span></li><li>          offContext.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'source-over'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">120</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-comment">// 设置globalCompositeOperation属性为destination-over</span></li><li>          offContext.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'destination-over'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="83" originwidth="152" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.30899746365804517211433896450871:50001231000000:2800:CD1B876B279C85BB5D64C0209A6414BE7DF20647088C25BF9AC9F4D56E594E25.png" class="notEnlarge" width="152" height="83"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1036px;">     <h3 id="shadowblur">shadowBlur<i class="anchor-icon anchor-icon-link" anchorid="shadowblur" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowBlur</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-comment">// 设置shadowBlur属性</span></li><li>          offContext.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">30</span></li><li>          offContext.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(0,0,0)'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(39,135,217)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">80</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="160" originwidth="242" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115634.30186493959080443206501973814648:50001231000000:2800:1CC7A0B37DA3D8F59A75611B47CD768A74533EA9208737E8F7E16F71BDA600C4.jpg" class="notEnlarge" width="242" height="160"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1076px;">     <h3 id="shadowcolor">shadowColor<i class="anchor-icon anchor-icon-link" anchorid="shadowcolor" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowColor</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">30</span></li><li>          <span class="hljs-comment">// 设置shadowColor属性</span></li><li>          offContext.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(255,192,0)'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(39,135,217)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="200" originwidth="288" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.46303724609293066194245825406175:50001231000000:2800:7C9E2A168A6BA26C7570F51603DBC4E35B6680B25537E916C952AD1BA5AB0380.jpg" class="notEnlarge" width="288" height="200"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1006px;">     <h3 id="shadowoffsetx">shadowOffsetX<i class="anchor-icon anchor-icon-link" anchorid="shadowoffsetx" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowOffsetX</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">10</span></li><li>          <span class="hljs-comment">// 设置shadowOffsetX属性</span></li><li>          offContext.<span class="hljs-property">shadowOffsetX</span> = <span class="hljs-number">20</span></li><li>          offContext.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(0,0,0)'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">80</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="106" originwidth="123" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.74779953326953093857822626307786:50001231000000:2800:A7297212F6BB58FFE1D4ED23BC8859334D0041AF4165008A684BB6AF39206CF7.png" class="notEnlarge" width="123" height="106"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1018px;">     <h3 id="shadowoffsety">shadowOffsetY<i class="anchor-icon anchor-icon-link" anchorid="shadowoffsety" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShadowOffsetY</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">10</span></li><li>          <span class="hljs-comment">// 设置shadowOffsetY属性</span></li><li>          offContext.<span class="hljs-property">shadowOffsetY</span> = <span class="hljs-number">20</span></li><li>          offContext.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(0,0,0)'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="118" originwidth="120" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.25229024447550304068243490230867:50001231000000:2800:6FAFC51283BD2F7364BCBF7C52782D06F164114BBBB8EF3889178A82AA18EAED.png" class="notEnlarge" width="120" height="118"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1150px;">     <h3 id="imagesmoothingenabled">imageSmoothingEnabled<i class="anchor-icon anchor-icon-link" anchorid="imagesmoothingenabled" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ImageSmoothingEnabled</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/icon.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/icon.jpg"</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-comment">// 设置imageSmoothingEnabled属性</span></li><li>          offContext.<span class="hljs-property">imageSmoothingEnabled</span> = <span class="hljs-literal">false</span></li><li>          offContext.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">400</span>,<span class="hljs-number">200</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="274" originwidth="337" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.75569504614928102858349715580059:50001231000000:2800:ED8AFB97E355D232C02E6A1F3688E9E25833B31E960CA64738D67D7243DC0F1C.png" width="337" height="274"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1443px;">     <h3 id="imagesmoothingquality">imageSmoothingQuality<i class="anchor-icon anchor-icon-link" anchorid="imagesmoothingquality" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">ImageSmoothingQualityDemoOff</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.</li><li>settings);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>    <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>,</li><li><span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>            <span class="hljs-keyword">let</span> offctx = offContext</li><li>            offctx.<span class="hljs-property">imageSmoothingEnabled</span> = <span class="hljs-literal">true</span></li><li>            <span class="hljs-comment">// 设置imageSmoothingQuality属性</span></li><li>            offctx.<span class="hljs-property">imageSmoothingQuality</span> = <span class="hljs-string">'high'</span></li><li>            offctx.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">200</span>)</li><li>
</li><li>            <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="447" originwidth="717" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.08863292737859522986043911298372:50001231000000:2800:E22F9155D6F029380FD2D692E6727A00FFF1868814EACFBDB45DD2AAEF084692.jpeg" width="717" height="447"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1375px;">     <h3 id="direction">direction<i class="anchor-icon anchor-icon-link" anchorid="direction" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">DirectionDemoOff</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.</li><li>settings);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>,</li><li><span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>            <span class="hljs-keyword">let</span> offctx = offContext</li><li>            offctx.<span class="hljs-property">font</span> = <span class="hljs-string">'48px serif'</span>;</li><li>            offctx.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'start'</span></li><li>            offctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hi ltr!"</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>);</li><li>
</li><li>            <span class="hljs-comment">// 设置direction属性</span></li><li>            offctx.<span class="hljs-property">direction</span> = <span class="hljs-string">"rtl"</span>;</li><li>            offctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hi rtl!"</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            <span class="hljs-keyword">let</span> image = offctx.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="355" originwidth="719" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.57203749842226664482652357918641:50001231000000:2800:CC28369AAEA2ABF97D32A151E51B8CA8FF289EC83FD4C40A3F80C5A240F08784.jpeg" width="719" height="355"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2270px;">     <h3 id="filter">filter<i class="anchor-icon anchor-icon-link" anchorid="filter" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct <span class="hljs-title class_">FilterDemoOff</span> {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>    <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>            <span class="hljs-keyword">let</span> img = <span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span></li><li>
</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'grayscale(50%)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'sepia(60%)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'saturate(30%)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'hue-rotate(90deg)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'invert(100%)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'opacity(25%)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'brightness(0.4)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'contrast(200%)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'blur(5px)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            <span class="hljs-comment">// Applying multiple filters</span></li><li>            offContext.<span class="hljs-property">filter</span> = <span class="hljs-string">'opacity(50%) contrast(200%) grayscale(50%)'</span>;</li><li>            offContext.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>            <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="650" originwidth="720" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.45472755127029842473544461022105:50001231000000:2800:F4F5B3E1D16B8385E945E5536B37CE3598F2E09510EAE20016F74BEEE5CBA986.jpeg" width="720" height="650"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1150px;">     <h3 id="letterspacing18">letterSpacing<sup>18+</sup><i class="anchor-icon anchor-icon-link" anchorid="letterspacing18" tips="复制节点链接"></i></h3>          <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  <span class="hljs-comment">// xxx.ets</span></li><li>  <span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span>, <span class="hljs-title class_">LengthUnit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li>  <span class="hljs-meta">@Entry</span></li><li>  <span class="hljs-meta">@Component</span></li><li>  struct letterSpacingDemo {</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>    <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>            offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'30vp'</span></li><li>            <span class="hljs-comment">// 使用string设置direction属性</span></li><li>            offContext.<span class="hljs-property">letterSpacing</span> = <span class="hljs-string">'10vp'</span></li><li>            offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'hello world'</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>)</li><li>            <span class="hljs-comment">// 使用LengthMetrics对象设置direction属性</span></li><li>            offContext.<span class="hljs-property">letterSpacing</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LengthMetrics</span>(<span class="hljs-number">10</span>, <span class="hljs-title class_">LengthUnit</span>.<span class="hljs-property">VP</span>)</li><li>            offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'hello world'</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>)</li><li>            <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li></ol></pre></div></div>     <p><span><img originheight="178" originwidth="468" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.32171158330058244175842199224237:50001231000000:2800:CAF4C8016CFADDCE64DC836EFDAFA090C76638D79C05C106F92EEC362CDF8723.jpeg" width="468" height="178"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="方法" device-type="phone,2in1,tablet,wearable,tv">方法<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="方法" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1997px;">     <h3 id="fillrect" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">fillRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fillrect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fillRect(x: number, y: number, w: number, h: number): void</p>     <p>填充一个矩形。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形左上角点的x坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形左上角点的y坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FillRect</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">30</span>,<span class="hljs-number">30</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>       })</li><li>      }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="221" originwidth="194" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.71403444247222932558249273203262:50001231000000:2800:D8DD7FFF22F4F5AB1F6587D296688400C89861C352CF65822B39C8046D4B9D5F.jpg" class="notEnlarge" width="194" height="221"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2018px;">     <h3 id="strokerect" device-type="phone,2in1,tablet,wearable,tv">strokeRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokerect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeRect(x: number, y: number, w: number, h: number): void</p>     <p>绘制具有边框的矩形，矩形内部不填充。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角x坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角y坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StrokeRect</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="226" originwidth="160" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.12530144088290967763006209227138:50001231000000:2800:1D915C1BB3D508098E26F8657B8347FBFD8732F9904EA60B51E8C86664439E9B.png" class="notEnlarge" width="160" height="226"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2061px;">     <h3 id="clearrect" device-type="phone,2in1,tablet,wearable,tv">clearRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearrect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearRect(x: number, y: number, w: number, h: number): void</p>     <p>删除指定区域内的绘制内容。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形上的左上角x坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形上的左上角y坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">height</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ClearRect</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>,<span class="hljs-number">20</span>,<span class="hljs-number">200</span>,<span class="hljs-number">200</span>)</li><li>          offContext.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">30</span>,<span class="hljs-number">30</span>,<span class="hljs-number">150</span>,<span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="221" originwidth="160" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.39141881470104151165016546500101:50001231000000:2800:69A9FD63F09B71CFE53425E99D721F9857A675FEED45394C5460345D4A689242.png" class="notEnlarge" width="160" height="221"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2017px;">     <h3 id="filltext" device-type="phone,2in1,tablet,wearable,tv">fillText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="filltext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fillText(text: string, x: number, y: number, maxWidth?: number): void</p>     <p>绘制填充类文本。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的文本内容。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的x轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的y轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">maxWidth</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定文本允许的最大宽度。</p>          <p>异常值null按无效值处理，不进行绘制，undefined、NaN或Infinity按默认值处理。</p>          <p>默认单位：vp</p>          <p>默认值：不限制宽度。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">FillText</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'30px sans-serif'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello World!"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="225" originwidth="190" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.29265267016162635128803261395721:50001231000000:2800:48F05A196FCD9020752F7336B36C1891067DD5B1178E327002D5BF44FE475C19.png" class="notEnlarge" width="190" height="225"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1907px;">     <h3 id="stroketext" device-type="phone,2in1,tablet,wearable,tv">strokeText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stroketext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeText(text: string, x: number, y: number, maxWidth?: number): void</p>     <p>绘制描边类文本。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的文本内容。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的x轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本绘制起点的y轴坐标。</p>          <p>异常值undefined、null、NaN或Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">maxWidth</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的文本的最大宽度。</p>          <p>异常值null按无效值处理，不进行绘制，undefined、NaN或Infinity按默认值处理。</p>          <p>默认单位：vp</p>          <p>默认值：不限制宽度。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StrokeText</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'55px sans-serif'</span></li><li>          offContext.<span class="hljs-title function_">strokeText</span>(<span class="hljs-string">"Hello World!"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">60</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="91" originwidth="172" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.62969655953030924313668668141881:50001231000000:2800:30721D10210E69B741F47F98E1DDFAFA22C9B60E0F6EC71B27648AFC6E032988.png" class="notEnlarge" width="172" height="91"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1633px;">     <h3 id="measuretext" device-type="phone,2in1,tablet,wearable,tv">measureText<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="measuretext" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>measureText(text: string): TextMetrics</p>     <p>该方法返回一个文本测算的对象，通过该对象可以获取指定文本的宽度值。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">text</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要进行测量的文本。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#textmetrics">TextMetrics</a></td>         <td class="cellrowborder" width="50%">          <p>文本的尺寸信息。</p>          <p>传入异常值undefined或null时按"undefined"或"null"计算。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MeasureText</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">font</span> = <span class="hljs-string">'50px sans-serif'</span></li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"Hello World!"</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"width:"</span> + offContext.<span class="hljs-title function_">measureText</span>(<span class="hljs-string">"Hello World!"</span>).<span class="hljs-property">width</span>, <span class="hljs-number">20</span>, <span class="hljs-number">200</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="117" originwidth="334" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.54776203041763718008378383742429:50001231000000:2800:CE66EDBBEB667020F68B66747D8450C9348CFF14CBE391232E2B88E5AA11042A.jpg" width="334" height="117"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1485px;">     <h3 id="stroke" device-type="phone,2in1,tablet,wearable,tv">stroke<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stroke" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stroke(): void</p>     <p>根据当前的路径，进行边框绘制操作。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Stroke</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">125</span>, <span class="hljs-number">25</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">125</span>, <span class="hljs-number">105</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">175</span>, <span class="hljs-number">105</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">175</span>, <span class="hljs-number">25</span>)</li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="243" originwidth="402" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.11305871778046332509544344616972:50001231000000:2800:FF546CBD2B66592766BC3D373468CE3438F51284DEE19D2C987323AD298807FC.png" width="402" height="243"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1699px;">     <h3 id="stroke-1" device-type="phone,2in1,tablet,wearable,tv">stroke<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stroke-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stroke(path: Path2D): void</p>     <p>根据指定的路径，进行边框绘制操作。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要绘制的Path2D。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Stroke</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">path2Da</span>: <span class="hljs-title class_">Path2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">25</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">75</span>, <span class="hljs-number">105</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">75</span>, <span class="hljs-number">25</span>)</li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">stroke</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">path2Da</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="234" originwidth="353" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115635.79201650887675162283524820285650:50001231000000:2800:4482E6AFA81B183AC150AEE80C4DF759C54936BB5D1468ECA72B697873259020.png" width="353" height="234"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1425px;">     <h3 id="beginpath" device-type="phone,2in1,tablet,wearable,tv">beginPath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beginpath" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>beginPath(): void</p>     <p>创建一个新的绘制路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BeginPath</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">6</span></li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">15</span>, <span class="hljs-number">80</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">280</span>, <span class="hljs-number">160</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="183" originwidth="335" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.51170653455439026910762457440600:50001231000000:2800:6465D53FA5EDD1E9D0FB65FA5774BD227A710D769A54E0FB5DA61AED550D241A.jpg" width="335" height="183"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2104px;">     <h3 id="moveto" device-type="phone,2in1,tablet,wearable,tv">moveTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="moveto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>moveTo(x: number, y: number): void</p>     <p>路径从当前点移动到指定点。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的x坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的y坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>API version 18之前，若未执行moveTo接口或moveTo接口传入无效参数，路径以(0,0)为起点。</p>       <p>API version 18及以后，若未执行moveTo接口或moveTo接口传入无效参数，路径以初次调用的lineTo、arcTo、bezierCurveTo或quadraticCurveTo接口中的起始点为起点。</p>      </div></div></div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MoveTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">280</span>, <span class="hljs-number">160</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="94" originwidth="148" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.04601585625387043231119775531683:50001231000000:2800:192F5A08440265BCAB6C67A228E7CADD57A52BFBA26AD37CE04D829CDB16DA0E.png" class="notEnlarge" width="148" height="94"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1964px;">     <h3 id="lineto" device-type="phone,2in1,tablet,wearable,tv">lineTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lineto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lineTo(x: number, y: number): void</p>     <p>从当前点到指定点进行路径连接。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.5.1.4" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的x坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定位置的y坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">280</span>, <span class="hljs-number">160</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="94" originwidth="148" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.48190217716250517539022457765561:50001231000000:2800:A99CB8D732E18D07E409EE2DA8F73458FC5B776F95FC0FC314D9973CCDA97003.png" class="notEnlarge" width="148" height="94"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1319px;">     <h3 id="closepath" device-type="phone,2in1,tablet,wearable,tv">closePath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closepath" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closePath(): void</p>     <p>结束当前路径形成一个封闭路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ClosePath</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>            <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>            offContext.<span class="hljs-title function_">beginPath</span>()</li><li>            offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>)</li><li>            offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">30</span>)</li><li>            offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">70</span>, <span class="hljs-number">90</span>)</li><li>            offContext.<span class="hljs-title function_">closePath</span>()</li><li>            offContext.<span class="hljs-title function_">stroke</span>()</li><li>            <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="77" originwidth="82" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.16258744803248450168423896430977:50001231000000:2800:38795FCFD9107935AE9FAE68E84DE1BAB21B800C6891627B2C756A7842A6DBC5.png" class="notEnlarge" width="82" height="77"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2228px;">     <h3 id="createpattern" device-type="phone,2in1,tablet,wearable,tv">createPattern<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createpattern" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createPattern(image: ImageBitmap, repetition: string | null): CanvasPattern | null</p>     <p>通过指定图像和重复方式创建图片填充的模板。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图源对象，具体参考ImageBitmap对象。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">repetition</td>         <td class="cellrowborder" width="25%">string | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置图像重复的方式：</p>          <p>'repeat'：沿x轴和y轴重复绘制图像；</p>          <p>'repeat-x'：沿x轴重复绘制图像；</p>          <p>'repeat-y'：沿y轴重复绘制图像；</p>          <p>'no-repeat'：不重复绘制图像；</p>          <p>'clamp'：在原始边界外绘制时，超出部分使用边缘的颜色绘制；</p>          <p>'mirror'：沿x轴和y轴重复翻转绘制图像。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvaspattern">CanvasPattern</a> | null</td>         <td class="cellrowborder" width="50%">通过指定图像和重复方式创建图片填充的模板对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CreatePattern</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> pattern = offContext.<span class="hljs-title function_">createPattern</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-string">'repeat'</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = pattern <span class="hljs-keyword">as</span> <span class="hljs-title class_">CanvasPattern</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="211" originwidth="218" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.70035550544357287023353682959484:50001231000000:2800:6CF785E01C381BD3D0B752A3D034E1B7E98D0630C98219C7734D5D476244718B.jpg" class="notEnlarge" width="218" height="211"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3192px;">     <h3 id="beziercurveto" device-type="phone,2in1,tablet,wearable,tv">bezierCurveTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beziercurveto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number): void</p>     <p>创建三次贝塞尔曲线的路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cp1x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个贝塞尔参数的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cp1y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个贝塞尔参数的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cp2x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个贝塞尔参数的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cp2y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个贝塞尔参数的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">BezierCurveTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-title function_">bezierCurveTo</span>(<span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">20</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="86" originwidth="130" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.92817811064360033487095331764675:50001231000000:2800:D681FBF5FF51771537FF87024ADE721CA885D40BB53D8FA338BE1ABE14D01A05.png" class="notEnlarge" width="130" height="86"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2531px;">     <h3 id="quadraticcurveto" device-type="phone,2in1,tablet,wearable,tv">quadraticCurveTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="quadraticcurveto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>quadraticCurveTo(cpx: number, cpy: number, x: number, y: number): void</p>     <p>创建二次贝塞尔曲线的路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cpx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>贝塞尔参数的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cpy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>贝塞尔参数的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>路径结束时的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">QuadraticCurveTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)</li><li>          offContext.<span class="hljs-title function_">quadraticCurveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">20</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="91" originwidth="290" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.59316476959383196580169266955940:50001231000000:2800:ACAF7607BB2A359159B491538B8897C2018572768A6D7430A15A05F0F6C6B38D.jpg" class="notEnlarge" width="290" height="91"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3015px;">     <h3 id="arc" device-type="phone,2in1,tablet,wearable,tv">arc<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arc" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise?: boolean): void</p>     <p>绘制弧线路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线圆心的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线圆心的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线的圆半径。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线的起始弧度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">endAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>弧线的终止弧度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">counterclockwise</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否逆时针绘制圆弧。</p>          <p>true：逆时针绘制圆弧；false：顺时针绘制圆弧。</p>          <p>默认值：false，设置null或undefined按默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Arc</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="173" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.87852660857072412173844488616718:50001231000000:2800:28D01ADCA9EC3DD8978D07E4BE4FD9455D35B23CC03FC9550D35C0F9279A837D.jpeg" width="360" height="173"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3634px;">     <h3 id="arcto" device-type="phone,2in1,tablet,wearable,tv">arcTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arcto" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): void</p>     <p>依据给定的控制点和圆弧半径创建圆弧路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个控制点的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第一个控制点的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x2</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个控制点的x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y2</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>第二个控制点的y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>圆弧的圆半径值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ArcTo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>
</li><li>          <span class="hljs-comment">// 切线</span></li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#808080'</span></li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">1.5</span>;</li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">20</span>);</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">170</span>);</li><li>          offContext.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">170</span>);</li><li>          offContext.<span class="hljs-title function_">stroke</span>();</li><li>
</li><li>          <span class="hljs-comment">// 圆弧</span></li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#000000'</span></li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">3</span>;</li><li>          offContext.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">20</span>)</li><li>          offContext.<span class="hljs-title function_">arcTo</span>(<span class="hljs-number">360</span>, <span class="hljs-number">170</span>, <span class="hljs-number">110</span>, <span class="hljs-number">170</span>, <span class="hljs-number">150</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>
</li><li>          <span class="hljs-comment">// 起始点</span></li><li>          offContext.<span class="hljs-title function_">beginPath</span>();</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#00ff00'</span>;</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">360</span>, <span class="hljs-number">20</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);</li><li>          offContext.<span class="hljs-title function_">fill</span>();</li><li>
</li><li>          <span class="hljs-comment">// 控制点</span></li><li>          offContext.<span class="hljs-title function_">beginPath</span>();</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#ff0000'</span>;</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">360</span>, <span class="hljs-number">170</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">110</span>, <span class="hljs-number">170</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);</li><li>          offContext.<span class="hljs-title function_">fill</span>();</li><li>
</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="141" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.88129272335268073425651708799200:50001231000000:2800:70535C3E80749B0D3C6BFB73249C606C6B7C3F7E7B79129ADE451987614FDB0C.png" width="360" height="141"></span></p>     <p>此示例中，arcTo()创建的圆弧为黑色，圆弧的两条切线为灰色。控制点为红色，起始点为绿色。</p>     <p>可以想象两条切线：一条切线从起始点到第一个控制点，另一条切线从第一个控制点到第二个控制点。arcTo()在这两条切线间创建一个圆弧，并使圆弧与这两条切线都相切。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3928px;">     <h3 id="ellipse" device-type="phone,2in1,tablet,wearable,tv">ellipse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ellipse" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ellipse(x: number, y: number, radiusX: number, radiusY: number, rotation: number, startAngle: number, endAngle: number, counterclockwise?: boolean): void</p>     <p>在规定的矩形区域绘制一个椭圆。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆圆心的x轴坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆圆心的y轴坐标。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radiusX</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆x轴的半径长度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radiusY</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆y轴的半径长度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">rotation</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆的旋转角度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位为弧度。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆绘制的起始点角度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位为弧度。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">endAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>椭圆绘制的结束点角度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>单位为弧度。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">counterclockwise</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>是否以逆时针方向绘制椭圆。</p>          <p>true：逆时针方向绘制椭圆。</p>          <p>false：顺时针方向绘制椭圆。</p>          <p>默认值：false，设置null或undefined按默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-title function_">ellipse</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.25</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.5</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>, <span class="hljs-literal">false</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          offContext.<span class="hljs-title function_">beginPath</span>()</li><li>          offContext.<span class="hljs-title function_">ellipse</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.25</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.5</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>, <span class="hljs-literal">true</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="372" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.43588532547236124647605224064125:50001231000000:2800:4CB3018B3621C2FCD99782D9DD92BA47FA52DBDCB442E5511BD7AC2E9B27C7E7.jpeg" width="360" height="372"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2558px;">     <h3 id="rect" device-type="phone,2in1,tablet,wearable,tv">rect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rect(x: number, y: number, w: number, h: number): void</p>     <p>创建矩形路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角x坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角y坐标值。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度。</p>          <p>API version 18之前，设置NaN或Infinity时，整条路径不显示；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的路径方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">rect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>) <span class="hljs-comment">// Create a 100*100 rectangle at (20, 20)</span></li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="166" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.27597023025007373562684038298323:50001231000000:2800:760EC01D964FA24E0EC0FAEF9DCB880488DB23682628C9E31771D605BB193AAC.jpeg" width="360" height="166"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4192px;">     <h3 id="roundrect20" device-type="phone,2in1,tablet,wearable,tv">roundRect<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="roundrect20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>roundRect(x: number, y: number, w: number, h: number, radii?: number | Array&lt;number&gt;): void</p>     <p>创建圆角矩形路径，此方法不会直接渲染内容，如需将圆角矩形绘制到画布上，可以使用fill或stroke方法。</p>     <p><strong>卡片能力：</strong> 从API version 20开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角x坐标值。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[0, Canvas宽度)。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的左上角y坐标值。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[0, Canvas高度)。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">w</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的宽度，设置负值为向左绘制。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[-x, Canvas宽度 - x]。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">h</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>指定矩形的高度，设置负值为向上绘制。</p>          <p>null按0处理，undefined按无效值处理，不进行绘制。</p>          <p>如需绘制完整矩形，取值范围：[-y, Canvas高度 - y]。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">radii</td>         <td class="cellrowborder" width="25%">number | Array&lt;number&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定用于矩形角的圆弧半径的数字或列表。</p>          <p>参数类型为number时，所有矩形角的圆弧半径按该数字执行。</p>          <p>参数类型为Array&lt;number&gt;时，数目为1-4个按下面执行：</p>          <p>1. [所有矩形角的圆弧半径]</p>          <p>2. [左上及右下矩形角的圆弧半径, 右上及左下矩形角的圆弧半径]</p>          <p>3. [左上矩形角的圆弧半径, 右上及左下矩形角的圆弧半径, 右下矩形角的圆弧半径]</p>          <p>4. [左上矩形角的圆弧半径, 右上矩形角的圆弧半径, 右下矩形角的圆弧半径, 左下矩形角的圆弧半径]</p>          <p>radii存在负数或列表的数目不在[1,4]内时抛出异常，错误码：103701。</p>          <p>默认值：0，null和undefined按默认值处理。</p>          <p>圆弧半径超过矩形宽高时会等比例缩放到宽高的长度。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-canvas">Canvas组件错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.4.1.1" width="33.33333333333333%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.4.1.2" width="33.33333333333333%">错误信息</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.11.1.4.1.3" width="33.33333333333333%">可能原因</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">103701</td>         <td class="cellrowborder" width="33.33333333333333%">Parameter error.</td>         <td class="cellrowborder" width="33.33333333333333%">1. The param radii is a list that has zero or more than four elements; 2. The param radii contains negative value.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>该示例展示了绘制六个圆角矩形：</p>     <ol>      <li>       <p>创建一个(10vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形并填充；</p></li>      <li>       <p>创建一个(120vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形并填充；</p></li>      <li>       <p>创建一个(10vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径及右下矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp的圆角矩形并描边；</p></li>      <li>       <p>创建一个(120vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp的圆角矩形并描边；</p></li>      <li>       <p>创建一个(10vp, 230vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形并描边；</p></li>      <li>       <p>创建一个(220vp, 330vp)为起点，宽高为-100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形并描边。</p></li>     </ol>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">try</span> {</li><li>            offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#707070'</span></li><li>            offContext.<span class="hljs-title function_">beginPath</span>()</li><li>            <span class="hljs-comment">// 创建一个(10vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形</span></li><li>            offContext.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">10</span>)</li><li>            <span class="hljs-comment">// 创建一个(120vp, 10vp)为起点，宽高为100vp，四个矩形角圆弧半径为10vp的圆角矩形</span></li><li>            offContext.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">120</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>])</li><li>            offContext.<span class="hljs-title function_">fill</span>()</li><li>            offContext.<span class="hljs-title function_">beginPath</span>()</li><li>            <span class="hljs-comment">// 创建一个(10vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径及右下矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp的圆角矩形</span></li><li>            offContext.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">120</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>])</li><li>            <span class="hljs-comment">// 创建一个(120vp, 120vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径及左下矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp的圆角矩形</span></li><li>            offContext.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">120</span>, <span class="hljs-number">120</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>])</li><li>            <span class="hljs-comment">// 创建一个(10vp, 230vp)为起点，宽高为100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形</span></li><li>            offContext.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">230</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])</li><li>            <span class="hljs-comment">// 创建一个(220vp, 330vp)为起点，宽高为-100vp，左上矩形角圆弧半径为10vp，右上矩形角圆弧半径为20vp，右下矩形角圆弧半径为30vp，左下矩形角圆弧半径为40vp的圆角矩形</span></li><li>            offContext.<span class="hljs-title function_">roundRect</span>(<span class="hljs-number">220</span>, <span class="hljs-number">330</span>, -<span class="hljs-number">100</span>, -<span class="hljs-number">100</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>])</li><li>            offContext.<span class="hljs-title function_">stroke</span>()</li><li>          } <span class="hljs-keyword">catch</span> (error) {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create roundRect. Code: <span class="hljs-subst">${e.code}</span>, message: <span class="hljs-subst">${e.message}</span>`</span>);</li><li>          }</li><li>          <span class="hljs-comment">// 在离屏画布最近渲染的图像上创建一个ImageBitmap对象</span></li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-comment">// 将创建的ImageBitmap对象显示在Canvas画布上</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="364" originwidth="364" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.89954988601998969481725054865999:50001231000000:2800:9E7048B3D8A2EF585A88C99F6406502B1EA0F314C990B5457D0D5211060AE671.jpeg" width="364" height="364"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1475px;">     <h3 id="fill" device-type="phone,2in1,tablet,wearable,tv">fill<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fill" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fill(fillRule?: CanvasFillRule): void</p>     <p>对当前路径进行填充。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要填充对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Fill</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#000000'</span></li><li>          offContext.<span class="hljs-title function_">rect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>) <span class="hljs-comment">// Create a 100*100 rectangle at (20, 20)</span></li><li>          offContext.<span class="hljs-title function_">fill</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="58" originwidth="78" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.07886568954510541553303524323630:50001231000000:2800:11EC4776389BD9B8CA5C5EC96ED8EF487448DB6A6733625ED7E87DD36AEA6C44.png" class="notEnlarge" width="78" height="58"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1872px;">     <h3 id="fill-1" device-type="phone,2in1,tablet,wearable,tv">fill<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fill-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fill(path: Path2D, fillRule?: CanvasFillRule): void</p>     <p>对指定路径进行填充。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>Path2D填充路径。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要填充对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例:</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Fill</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> region = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>()</li><li>          region.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">240</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">60</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">190</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">270</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">closePath</span>()</li><li>          <span class="hljs-comment">// Fill path</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#00ff00'</span></li><li>          offContext.<span class="hljs-title function_">fill</span>(region, <span class="hljs-string">"evenodd"</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="122" originwidth="206" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.31188377715629983630541017444487:50001231000000:2800:DD86E8A67F13EBD56839BF162A4C07F6E5BF4796B2DC6345E287380B87C21530.jpg" class="notEnlarge" width="206" height="122"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1753px;">     <h3 id="clip" device-type="phone,2in1,tablet,wearable,tv">clip<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clip" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clip(fillRule?: CanvasFillRule): void</p>     <p>设置当前路径为剪切路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要剪切对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Clip</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>)</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          offContext.<span class="hljs-title function_">clip</span>()</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"rgb(255,0,0)"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="240" originwidth="200" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.51813732966696443138536757034139:50001231000000:2800:DE59FBB7C9422D83D2860729636F6640013F57CC2959793E56CE5D59F7A33285.png" class="notEnlarge" width="200" height="240"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1872px;">     <h3 id="clip-1" device-type="phone,2in1,tablet,wearable,tv">clip<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clip-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clip(path: Path2D, fillRule?: CanvasFillRule): void</p>     <p>设置指定路径为剪切路径。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数:</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.5.1.4" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-path2d">Path2D</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>Path2D剪切路径。</p>          <p>异常值undefined或null按无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">fillRule</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#canvasfillrule类型说明">CanvasFillRule</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>指定要剪切对象的规则。</p>          <p>可选参数为："nonzero"，"evenodd"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值："nonzero"</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Clip</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> region = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>()</li><li>          region.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">30</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">110</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">240</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">60</span>, <span class="hljs-number">130</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">190</span>, <span class="hljs-number">20</span>)</li><li>          region.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">270</span>, <span class="hljs-number">90</span>)</li><li>          region.<span class="hljs-title function_">closePath</span>()</li><li>          offContext.<span class="hljs-title function_">clip</span>(region,<span class="hljs-string">"evenodd"</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"rgb(0,255,0)"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">600</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="122" originwidth="206" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.61847276518875258162964922428532:50001231000000:2800:E37892700F19BDF13306B9FA507B5EED602EE1FC31F347E3A19248BC81D9359D.jpg" class="notEnlarge" width="206" height="122"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1311px;">     <h3 id="reset12" device-type="phone,2in1,tablet,wearable,tv">reset<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="reset12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>reset(): void</p>     <p>将OffscreenCanvasRenderingContext2D重置为其默认状态，清除后台缓冲区、绘制状态栈、绘制路径和样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Reset</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#0000ff'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">reset</span>()</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="165" originwidth="128" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.40912454950952387590841261993764:50001231000000:2800:07D8149EC5EBAABC2BDC81351274DB8E76E5D8C8F21FA1F84E2C7E5CBE80CE67.png" class="notEnlarge" width="128" height="165"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1578px;">     <h3 id="savelayer12" device-type="phone,2in1,tablet,wearable,tv">saveLayer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="savelayer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>saveLayer(): void</p>     <p>创建一个图层。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct saveLayer {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#0000ff"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>,<span class="hljs-number">100</span>,<span class="hljs-number">300</span>,<span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ffff"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>,<span class="hljs-number">150</span>,<span class="hljs-number">300</span>,<span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'destination-over'</span></li><li>          offContext.<span class="hljs-title function_">saveLayer</span>()</li><li>          offContext.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'source-over'</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#ff0000"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>,<span class="hljs-number">50</span>,<span class="hljs-number">100</span>,<span class="hljs-number">300</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ff00"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>,<span class="hljs-number">50</span>,<span class="hljs-number">100</span>,<span class="hljs-number">300</span>)</li><li>          offContext.<span class="hljs-title function_">restoreLayer</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="240" originwidth="154" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115636.58811794323974285939661885004705:50001231000000:2800:E5CB983AF867648AA0B9CA056CF386A1C79C8A3D7F42721C512C721A2BFA6710.png" class="notEnlarge" width="154" height="240"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 318px;">     <h3 id="restorelayer12" device-type="phone,2in1,tablet,wearable,tv">restoreLayer<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restorelayer12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>restoreLayer(): void</p>     <p>恢复图像变换和裁剪状态至saveLayer前的状态，并将图层绘制在canvas上。restoreLayer示例同saveLayer。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1406px;">     <h3 id="resettransform" device-type="phone,2in1,tablet,wearable,tv">resetTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resettransform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resetTransform(): void</p>     <p>使用单位矩阵重新设置当前矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ResetTransform</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">resetTransform</span>()</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="164" originwidth="170" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.93134707082734568964143329684511:50001231000000:2800:F5EC62F12FF74E27B0E00EBA0CB957E79D73D5F9B91F1075ABB032A619DB2034.png" class="notEnlarge" width="170" height="164"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1714px;">     <h3 id="rotate" device-type="phone,2in1,tablet,wearable,tv">rotate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rotate(angle: number): void</p>     <p>针对当前坐标轴进行顺时针旋转。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">angle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置顺时针旋转的弧度值，可以通过 degree * Math.PI / 180 将角度转换为弧度值。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>单位：弧度</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Rotate</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">rotate</span>(<span class="hljs-number">45</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>)</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">70</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="105" originwidth="95" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.24818941685620813907003195353708:50001231000000:2800:2B8BA19091EABE13FC4800E245AFAD67C5750A38FBE1DECDA1F3628C8DC576F7.png" class="notEnlarge" width="95" height="105"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2068px;">     <h3 id="scale" device-type="phone,2in1,tablet,wearable,tv">scale<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scale" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scale(x: number, y: number): void</p>     <p>设置canvas画布的缩放变换属性，后续的绘制操作将按照缩放比例进行缩放。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置水平方向的缩放值。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置垂直方向的缩放值。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Scale</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">3</span></li><li>          offContext.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          offContext.<span class="hljs-title function_">scale</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// Scale to 200%</span></li><li>          offContext.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="198" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.19222899260080421349514806801079:50001231000000:2800:8B4F86805EB298401EEB8AB191726F4D76DD465644E17AB56F13672550E28970.png" class="notEnlarge" width="220" height="198"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3754px;">     <h3 id="transform" device-type="phone,2in1,tablet,wearable,tv">transform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transform(a: number, b: number, c: number, d: number, e: number, f: number): void</p>     <p>transform方法对应一个变换矩阵，想对一个图形进行变化的时候，只要设置此变换矩阵相应的参数，对图形的各个定点的坐标分别乘以这个矩阵，就能得到新的定点的坐标。矩阵变换效果可叠加。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>图形中各个点变换后的坐标可通过下方坐标计算公式计算。</p>       <p>变换后的坐标计算方式（x和y为变换前坐标，x'和y'为变换后坐标）：</p>       <ul>        <li>         <p>x' = a * x + c * y + e</p></li>        <li>         <p>y' = b * x + d * y + f</p></li>       </ul>      </div></div></div>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">a</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>scaleX：指定水平缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">b</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>skewY：指定垂直倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">c</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>skewX：指定水平倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">d</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>scaleY：指定垂直缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">e</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>translateX：指定水平移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">f</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>translateY：指定垂直移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Transform</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(112,112,112)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,74,175)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(39,135,217)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="252" originwidth="252" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.76984300323043292541206764669807:50001231000000:2800:972B58918BE5EBF991ADA37BDBEF5E18C8962A465C46DA8ECB6F0EAF3AF0534B.jpg" class="notEnlarge" width="252" height="252"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3502px;">     <h3 id="settransform" device-type="phone,2in1,tablet,wearable,tv">setTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settransform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTransform(a: number, b: number, c: number, d: number, e: number, f: number): void</p>     <p>setTransform方法使用的参数和transform()方法相同，但setTransform()方法会重置现有的变换矩阵并创建新的变换矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>图形中各个点变换后的坐标可通过下方坐标计算公式计算。</p>       <p>变换后的坐标计算方式（x和y为变换前坐标，x'和y'为变换后坐标）：</p>       <ul>        <li>         <p>x' = a * x + c * y + e</p></li>        <li>         <p>y' = b * x + d * y + f</p></li>       </ul>      </div></div></div>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">a</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>scaleX：指定水平缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">b</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>skewY：指定垂直倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">c</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>skewX：指定水平倾斜值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">d</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>scaleY：指定垂直缩放值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">e</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>translateX：指定水平移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">f</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>translateY：指定垂直移动值，支持设置负数。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SetTransform</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(255,0,0)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgb(0,0,255)'</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="96" originwidth="113" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.12300424247746811419541404084799:50001231000000:2800:C9817DC6E08A9427C434A4187B8525D45E4BC6533946A4BC6885FD577DEEB763.png" class="notEnlarge" width="113" height="96"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2042px;">     <h3 id="settransform-1" device-type="phone,2in1,tablet,wearable,tv">setTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settransform-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTransform(transform?: Matrix2D): void</p>     <p>以Matrix2D对象为模板重置现有的变换矩阵并创建新的变换矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.5.1.4" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">transform</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-matrix2d">Matrix2D</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>变换矩阵。</p>          <p>异常值undefined或null按无效值处理。</p>          <p>默认值：null</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li> <span class="hljs-meta">@Entry</span></li><li> <span class="hljs-meta">@Component</span></li><li> struct <span class="hljs-title class_">TransFormDemo</span> {</li><li>   <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>   <span class="hljs-keyword">private</span> <span class="hljs-attr">context1</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>   <span class="hljs-keyword">private</span> <span class="hljs-attr">offcontext1</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span>(<span class="hljs-number">600</span>, <span class="hljs-number">200</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>   <span class="hljs-keyword">private</span> <span class="hljs-attr">context2</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>   <span class="hljs-keyword">private</span> <span class="hljs-attr">offcontext2</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span>(<span class="hljs-number">600</span>, <span class="hljs-number">200</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>   <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>     <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>       <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context1'</span>);</li><li>       <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>)</li><li>         .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>         .<span class="hljs-title function_">height</span>(<span class="hljs-string">'160vp'</span>)</li><li>         .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>         .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>           <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image);</li><li>         })</li><li>       <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context2'</span>);</li><li>       <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>)</li><li>         .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>         .<span class="hljs-title function_">height</span>(<span class="hljs-string">'160vp'</span>)</li><li>         .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#0ffff0'</span>)</li><li>         .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>           <span class="hljs-keyword">let</span> storedTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">getTransform</span>();</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">setTransform</span>(storedTransform);</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>           <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image);</li><li>         })</li><li>     }</li><li>     .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>     .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>   }</li><li> }</li></ol></pre></div></div>     <p><span><img originheight="289" originwidth="288" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.98815752882939168265883300821151:50001231000000:2800:A0BEAF97D0A6A1AB45EC51C585375B897AF632886B2706442CCBD19703AC11E0.jpeg" class="notEnlarge" width="288" height="289"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2285px;">     <h3 id="gettransform" device-type="phone,2in1,tablet,wearable,tv">getTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettransform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getTransform(): Matrix2D</p>     <p>获取当前被应用到上下文的转换矩阵。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-matrix2d">Matrix2D</a></td>         <td class="cellrowborder" width="50%">当前被应用到上下文的转换矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TransFormDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context1</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offcontext1</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span>(<span class="hljs-number">600</span>, <span class="hljs-number">100</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context2</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offcontext2</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span>(<span class="hljs-number">600</span>, <span class="hljs-number">100</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context1'</span>);</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'120vp'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1.2</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">8</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">6</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">30</span>, -<span class="hljs-number">25</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context1</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image);</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'context2'</span>);</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'230vp'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'120vp'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#0ffff0'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>          <span class="hljs-keyword">let</span> storedTransform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext1</span>.<span class="hljs-title function_">getTransform</span>();</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Matrix [scaleX = "</span> + storedTransform.<span class="hljs-property">scaleX</span> + <span class="hljs-string">", scaleY = "</span> + storedTransform.<span class="hljs-property">scaleY</span> +</li><li>          <span class="hljs-string">", rotateX = "</span> + storedTransform.<span class="hljs-property">rotateX</span> + <span class="hljs-string">", rotateY = "</span> + storedTransform.<span class="hljs-property">rotateY</span> +</li><li>          <span class="hljs-string">", translateX = "</span> + storedTransform.<span class="hljs-property">translateX</span> + <span class="hljs-string">", translateY = "</span> + storedTransform.<span class="hljs-property">translateY</span> + <span class="hljs-string">"]"</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">setTransform</span>(storedTransform);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">50</span>);</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offcontext2</span>.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context2</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image);</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="512" originwidth="548" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.05489521284303499590628200335938:50001231000000:2800:6E5F9D7A46A5DCDD733C96538D1161F7EA6FD3326C06BE924B42706CEECF5CB3.png" width="548" height="512"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2009px;">     <h3 id="translate" device-type="phone,2in1,tablet,wearable,tv">translate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="translate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>translate(x: number, y: number): void</p>     <p>移动当前坐标系的原点。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置水平平移量。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置垂直平移量。</p>          <p>API version 18之前，设置NaN或Infinity时，在该方法后执行的绘制方法无法绘制；设置null或undefined时，当前接口不生效。API version 18及以后，设置NaN、Infinity、null或undefined时当前接口不生效，其他传入有效参数的绘制方法正常绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Translate</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          offContext.<span class="hljs-title function_">translate</span>(<span class="hljs-number">70</span>, <span class="hljs-number">70</span>)</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="115" originwidth="116" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.81067383051498054594872366374030:50001231000000:2800:21B5E43F56AC254066338E6222B9393E16F69F66EF1E3F5CF804F3F142B29B59.png" class="notEnlarge" width="116" height="115"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2023px;">     <h3 id="drawimage" device-type="phone,2in1,tablet,wearable,tv">drawImage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimage" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>drawImage(image: ImageBitmap | PixelMap, dx: number, dy: number): void</p>     <p>进行图像绘制。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用，卡片中不支持PixelMap对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.1" width="25%">参数</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片资源，请参考ImageBitmap或PixelMap。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在x轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在y轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DrawImage</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="300" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.13524237691910655429797358094674:50001231000000:2800:E16BC356EC6F1F4FB138D4D11D331505E9418122C6ADC5F23A79D4A5836BC764.png" width="360" height="300"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2353px;">     <h3 id="drawimage-1" device-type="phone,2in1,tablet,wearable,tv">drawImage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimage-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>drawImage(image: ImageBitmap | PixelMap, dx: number, dy: number, dw: number, dh: number): void</p>     <p>将图像拉伸或压缩绘制。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用，卡片中不支持PixelMap对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.1" width="25%">参数</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片资源，请参考ImageBitmap或PixelMap。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在x轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在y轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的宽度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的高度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DrawImage</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="300" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.68733041087283510360394272664558:50001231000000:2800:4DC7AFE7F0CF26637D69CA39E688548D548EC8FA2DB431AC5B227477F1FA572C.png" width="360" height="300"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3565px;">     <h3 id="drawimage-2" device-type="phone,2in1,tablet,wearable,tv">drawImage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawimage-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>drawImage(image: ImageBitmap | PixelMap, sx: number, sy: number, sw: number, sh: number, dx: number, dy: number, dw: number, dh: number): void</p>     <p>将图像裁剪后拉伸或压缩绘制。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用，卡片中不支持PixelMap对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.1" width="25%">参数</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">image</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>图片资源，请参考ImageBitmap或PixelMap。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时距离源图像左上角的x坐标值。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时距离源图像左上角的y坐标值。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时需要裁切的宽度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>裁切源图像时需要裁切的高度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>image类型为ImageBitmap时，默认单位：vp</p>          <p>image类型为PixelMap时，API version 18前，默认单位：px；API version 18及以后，默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在x轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域左上角在y轴的位置。</p>          <p>异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的宽度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>绘制区域的高度。</p>          <p>负数、异常值undefined或null按0处理，NaN和Infinity按无效值处理，不进行绘制。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DrawImage</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">500</span>, <span class="hljs-number">500</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="300" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.68162401497681257132210691683106:50001231000000:2800:5621F09DDF1AD111C4FC028D69B4DAA5CA31CEB8807278933BEDF3472DCB1BE1.png" width="360" height="300"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 901px;">     <h3 id="createimagedata" device-type="phone,2in1,tablet,wearable,tv">createImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createimagedata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createImageData(sw: number, sh: number): ImageData</p>     <p>根据当前ImageData对象重新创建一个宽、高相同的ImageData对象，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>，该接口存在内存拷贝行为，高耗时，应避免频繁使用。createImageData示例同putImageData。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>ImageData的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>ImageData的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="50%">新的ImageData对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 622px;">     <h3 id="createimagedata-1">createImageData<i class="anchor-icon anchor-icon-link" anchorid="createimagedata-1" tips="复制节点链接"></i></h3>          <p>createImageData(imageData: ImageData): ImageData</p>     <p>根据已创建的ImageData对象创建新的ImageData对象（不会复制图像数据），请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>，该接口存在内存拷贝行为，高耗时，应避免频繁使用。createImageData示例同putImageData。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">imageData</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>被复制的ImageData对象。</p>          <p>异常值undefined和null按width和height为0的ImageData处理。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="50%">新的ImageData对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2300px;">     <h3 id="getpixelmap" device-type="phone,2in1,tablet,wearable,tv">getPixelMap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpixelmap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPixelMap(sx: number, sy: number, sw: number, sh: number): PixelMap</p>     <p>以当前canvas指定区域内的像素创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a>对象，该接口存在内存拷贝行为，高耗时，应避免频繁使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.1" width="25%">参数</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角x坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角y坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="50%">新的PixelMap对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>DevEco Studio的预览器不支持显示使用setPixelMap绘制的内容。</p>      </div></div></div>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GetPixelMap</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-comment">// "common/images/example.jpg"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"common/images/example.jpg"</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">130</span>, <span class="hljs-number">130</span>)</li><li>          <span class="hljs-keyword">let</span> pixelmap = offContext.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">150</span>, <span class="hljs-number">150</span>, <span class="hljs-number">130</span>, <span class="hljs-number">130</span>)</li><li>          offContext.<span class="hljs-title function_">setPixelMap</span>(pixelmap)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="245" originwidth="252" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.52592462214452609651714907631916:50001231000000:2800:D9B80431C06FCB931801E71036D6E22C0F0D03E4AD6ED8E3F6BE921AA12DC0F0.png" class="notEnlarge" width="252" height="245"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="setpixelmap" device-type="phone,2in1,tablet,wearable,tv">setPixelMap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setpixelmap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPixelMap(value?: PixelMap): void</p>     <p>将当前传入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a>对象绘制在画布上。setPixelMap示例同getPixelMap。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>包含像素值的PixelMap对象。</p>          <p>异常值undefined和null按无效值处理，不进行绘制。</p>          <p>默认值：null</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2224px;">     <h3 id="getimagedata" device-type="phone,2in1,tablet,wearable,tv">getImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getimagedata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getImageData(sx: number, sy: number, sw: number, sh: number): ImageData</p>     <p>以当前canvas指定区域内的像素创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>对象，该接口存在内存拷贝行为，高耗时，应避免频繁使用。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">sx</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角x坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sy</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的左上角y坐标。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sw</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sh</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>需要输出的区域的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="50%">新的ImageData对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GetImageData</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  <span class="hljs-comment">// "/common/images/1234.png"需要替换为开发者所需的图像资源文件</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">img</span>:<span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"/common/images/1234.png"</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">130</span>,<span class="hljs-number">130</span>)</li><li>          <span class="hljs-keyword">let</span> imageData = offContext.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">130</span>,<span class="hljs-number">130</span>)</li><li>          offContext.<span class="hljs-title function_">putImageData</span>(imageData,<span class="hljs-number">150</span>,<span class="hljs-number">150</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="213" originwidth="250" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.48479201808960652923642181524129:50001231000000:2800:8ABB8B0CB5326350A419ECA824DFF6E67F1196477AD03A0ED428AD87889CE225.png" class="notEnlarge" width="250" height="213"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2069px;">     <h3 id="putimagedata" device-type="phone,2in1,tablet,wearable,tv">putImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="putimagedata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>putImageData(imageData: ImageData, dx: number | string, dy: number | string): void</p>     <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>数据填充新的矩形区域。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.5.1.4" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">imageData</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>包含像素值的ImageData对象。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在x轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在y轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PutImageData</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> imageDataNum = offContext.<span class="hljs-title function_">createImageData</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> imageData = offContext.<span class="hljs-title function_">createImageData</span>(imageDataNum)</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imageData.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">0</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">1</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">2</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span></li><li>          }</li><li>          offContext.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="250" originwidth="300" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.78586126557733914929612428034539:50001231000000:2800:D476D544DD5248382E903A48FD4C166B699C0CA18F5094C3631688010487CD59.png" width="300" height="250"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2705px;">     <h3 id="putimagedata-1" device-type="phone,2in1,tablet,wearable,tv">putImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="putimagedata-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>putImageData(imageData: ImageData, dx: number | string, dy: number | string, dirtyX: number | string, dirtyY: number | string, dirtyWidth?: number | string, dirtyHeight: number | string): void</p>     <p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a>数据裁剪后填充至新的矩形区域。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.5.1.4" width="25%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">imageData</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagedata">ImageData</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>包含像素值的ImageData对象。</p>          <p>异常值undefined或null按无效值处理，不进行绘制。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dx</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在x轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dy</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域在y轴方向的偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyX</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围左上角距离源图像左上角的x轴偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyY</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围左上角距离源图像左上角的y轴偏移量。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyWidth</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围的宽度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">dirtyHeight</td>         <td class="cellrowborder" width="25%">number | string<sup>10+</sup></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>源图像数据矩形裁切范围的高度。</p>          <p>异常值undefined、null、NaN和Infinity按0处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PutImageData</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> imageDataNum = offContext.<span class="hljs-title function_">createImageData</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> imageData = offContext.<span class="hljs-title function_">createImageData</span>(imageDataNum)</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imageData.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">0</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">1</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">2</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span></li><li>          }</li><li>          offContext.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="250" originwidth="300" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115637.52970796488646882289777253334701:50001231000000:2800:DB38C902880A43C14442D11FBB389B69C6419F05D988F2EE055CF6BC99129DF3.png" width="300" height="250"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1569px;">     <h3 id="setlinedash">setLineDash<i class="anchor-icon anchor-icon-link" anchorid="setlinedash" tips="复制节点链接"></i></h3>          <p>setLineDash(segments: number[]): void</p>     <p>设置画布的虚线样式。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">segments</td>         <td class="cellrowborder" width="25%">number[]</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>描述线段如何交替和线段间距长度的数组。</p>          <p>异常值undefined或null按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SetLineDash</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>          offContext.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>])</li><li>          offContext.<span class="hljs-title function_">stroke</span>()</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="266" originwidth="309" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.24901843166821282745375862579664:50001231000000:2800:627AEDDA504A73A000A0EF1C04758BAF2C704311E7D0CFB3F651B8AD7C512494.png" width="309" height="266"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1749px;">     <h3 id="getlinedash">getLineDash<i class="anchor-icon anchor-icon-link" anchorid="getlinedash" tips="复制节点链接"></i></h3>          <p>getLineDash(): number[]</p>     <p>获得当前画布的虚线样式。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number[]</td>         <td class="cellrowborder" width="50%">          <p>返回数组，该数组用来描述线段如何交替和间距长度。</p>          <p>异常值undefined或null按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">OffscreenCanvasGetLineDash</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#D5D5D5'</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>            offContext.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">75</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>            offContext.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">10</span>, <span class="hljs-number">20</span>])</li><li>            offContext.<span class="hljs-title function_">stroke</span>()</li><li>            <span class="hljs-keyword">let</span> res = offContext.<span class="hljs-title function_">getLineDash</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res)</li><li>            <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="282" originwidth="416" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.68740215693348641629988648532934:50001231000000:2800:4CC2D1960BBF52F60B6DEB4A9FF96E7ABF3149558156284742069A1A16D4BD1A.png" width="416" height="282"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2193px;">     <h3 id="todataurl" device-type="phone,2in1,tablet,wearable,tv">toDataURL<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="todataurl" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toDataURL(type?: string, quality?: any): string</p>     <p>生成一个包含图片展示的URL，该接口存在内存拷贝行为，高耗时，应避免频繁使用。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>用于指定图像格式。</p>          <p>可选参数为："image/png"，"image/jpeg"，"image/webp"。</p>          <p>异常值undefined或null按默认值处理。</p>          <p>默认值：image/png</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">quality</td>         <td class="cellrowborder" width="25%">any</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>在指定图片格式为image/jpeg或image/webp的情况下，可以从0到1的区间内选择图片的质量。如果超出取值范围，将会使用默认值0.92。</p>          <p>异常值undefined、null、NaN和Infinity按默认值处理。</p>          <p>默认值：0.92</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">图像的URL地址。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ToDataURL</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">dataURL</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataURL</span> = offContext.<span class="hljs-title function_">toDataURL</span>()</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataURL</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="320" originwidth="292" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.87784421572112409434700328598556:50001231000000:2800:BD42003CDE6C029F56B42089705FC43AB04950CF000CDA9B818C8CA6A19AC49D.png" class="notEnlarge" width="292" height="320"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1761px;">     <h3 id="transfertoimagebitmap" device-type="phone,2in1,tablet,wearable,tv">transferToImageBitmap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transfertoimagebitmap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transferToImageBitmap(): ImageBitmap</p>     <p>在离屏画布最近渲染的图像上创建一个ImageBitmap对象。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-imagebitmap">ImageBitmap</a></td>         <td class="cellrowborder" width="50%">存储离屏画布上渲染的像素数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">PutImageData</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> imageData = offContext.<span class="hljs-title function_">createImageData</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; imageData.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>; i += <span class="hljs-number">4</span>) {</li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">0</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">1</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">2</span>] = <span class="hljs-number">112</span></li><li>            imageData.<span class="hljs-property">data</span>[i + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span></li><li>          }</li><li>          offContext.<span class="hljs-title function_">putImageData</span>(imageData, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="300" originwidth="300" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.36250405146678443279346469460504:50001231000000:2800:DB4075A6A8D50C6155987A5D1947F845AA931AFC2FD606D66EAD34138D550182.png" width="300" height="300"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1592px;">     <h3 id="restore" device-type="phone,2in1,tablet,wearable,tv">restore<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="restore" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>restore(): void</p>     <p>对保存的绘图上下文进行恢复。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当restore()次数未超出save()次数时，从栈中弹出存储的绘制状态并恢复CanvasRenderingContext2D对象的属性、剪切路径和变换矩阵的值。</p>       <p>当restore()次数超出save()次数时，此方法不做任何改变。</p>       <p>当没有保存状态时，此方法不做任何改变。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">save</span>() <span class="hljs-comment">// save the default state</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ff00"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">restore</span>() <span class="hljs-comment">// restore to the default state</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>, <span class="hljs-number">75</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="210" originwidth="250" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.64437911229180009679444099480051:50001231000000:2800:812074A731A3E7484B762C58A31F0CF51750C63AF0927C1026CB72B7B1A59279.png" class="notEnlarge" width="250" height="210"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1428px;">     <h3 id="save" device-type="phone,2in1,tablet,wearable,tv">save<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="save" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>save(): void</p>     <p>对当前的绘图上下文进行保存。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CanvasExample</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffff00'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          offContext.<span class="hljs-title function_">save</span>() <span class="hljs-comment">// save the default state</span></li><li>          offContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#00ff00"</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          offContext.<span class="hljs-title function_">restore</span>() <span class="hljs-comment">// restore to the default state</span></li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">150</span>, <span class="hljs-number">75</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="210" originwidth="250" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.82334939282898778731659569004556:50001231000000:2800:3C74DD317859AAAE46F4EBBDCC5233136D65717D7C85FD0321E62F1AAC05D3C2.png" class="notEnlarge" width="250" height="210"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2695px;">     <h3 id="createlineargradient" device-type="phone,2in1,tablet,wearable,tv">createLinearGradient<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createlineargradient" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createLinearGradient(x0: number, y0: number, x1: number, y1: number): CanvasGradient</p>     <p>创建一个线性渐变色。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起点的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起点的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a></td>         <td class="cellrowborder" width="50%">新的CanvasGradient对象，用于在offscreenCanvas上创建渐变效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CreateLinearGradient</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> grad = offContext.<span class="hljs-title function_">createLinearGradient</span>(<span class="hljs-number">50</span>,<span class="hljs-number">0</span>, <span class="hljs-number">300</span>,<span class="hljs-number">100</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'rgb(39,135,217)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'rgb(255,238,240)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'rgb(23,169,141)'</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = grad</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">400</span>, <span class="hljs-number">400</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="492" originwidth="252" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.03788135629386405193774021888915:50001231000000:2800:6637D74BEB71F42E62374039099A787B137D963C35075C98BF723DA266417116.png" class="notEnlarge" width="252" height="492"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3135px;">     <h3 id="createradialgradient" device-type="phone,2in1,tablet,wearable,tv">createRadialGradient<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createradialgradient" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createRadialGradient(x0: number, y0: number, r0: number, x1: number, y1: number, r1: number): CanvasGradient</p>     <p>创建一个径向渐变色。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">x0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起始圆的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起始圆的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">r0</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>起始圆的半径。必须是非负且有限的。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点圆的x轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点圆的y轴坐标。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">r1</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>终点圆的半径。必须为非负且有限的。</p>          <p>异常值undefined和null会导致此接口返回undefined，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a></td>         <td class="cellrowborder" width="50%">新的CanvasGradient对象，用于在offscreenCanvas上创建渐变效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CreateRadialGradient</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>  </li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(213,213,213)'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> grad = offContext.<span class="hljs-title function_">createRadialGradient</span>(<span class="hljs-number">200</span>,<span class="hljs-number">200</span>,<span class="hljs-number">50</span>, <span class="hljs-number">200</span>,<span class="hljs-number">200</span>,<span class="hljs-number">200</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'rgb(39,135,217)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'rgb(255,238,240)'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'rgb(112,112,112)'</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = grad</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">440</span>, <span class="hljs-number">440</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="554" originwidth="284" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.82069172643137829908189833823101:50001231000000:2800:C57A0F2FA673CC9497DFE82A6DF2503B9DEEF051D09CB53F08F32B6E3F88F926.png" class="notEnlarge" width="284" height="554"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2356px;">     <h3 id="createconicgradient10" device-type="phone,2in1,tablet,wearable,tv">createConicGradient<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createconicgradient10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createConicGradient(startAngle: number, x: number, y: number): CanvasGradient</p>     <p>创建一个圆锥渐变色。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">startAngle</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>开始渐变的角度。角度测量从中心右侧水平开始，顺时针移动。</p>          <p>异常值undefined和null按0处理，NaN和Infinity按无效值处理。</p>          <p>单位：弧度</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">x</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>圆锥渐变的中心x轴坐标。</p>          <p>异常值undefined和null按0处理，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">y</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>圆锥渐变的中心y轴坐标。</p>          <p>异常值undefined和null按0处理，NaN和Infinity按无效值处理。</p>          <p>默认单位：vp</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-components-canvas-canvasgradient">CanvasGradient</a></td>         <td class="cellrowborder" width="50%">新的CanvasGradient对象，用于在offscreenCanvas上创建渐变效果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-jfj-c106="" class="highlight-div"><div _ngcontent-jfj-c106="" class="highlight-div-header"><div _ngcontent-jfj-c106="" class="highlight-div-header-left"><div _ngcontent-jfj-c106="" class="handle-button expand-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jfj-c106="" class="highlight-div-header-right"><div _ngcontent-jfj-c106="" class="handle-button ai-button"></div><div _ngcontent-jfj-c106="" class="handle-button line-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jfj-c106="" class="handle-button theme-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jfj-c106="" class="handle-button copy-button"><div _ngcontent-jfj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jfj-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">OffscreenCanvasConicGradientPage</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">CanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>);</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Canvas</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#ffffff'</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span>{</li><li>          <span class="hljs-keyword">let</span> offContext = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>)</li><li>          <span class="hljs-keyword">let</span> grad = offContext.<span class="hljs-title function_">createConicGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">80</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'#ff0000'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'#ffffff'</span>)</li><li>          grad.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'#00ff00'</span>)</li><li>          offContext.<span class="hljs-property">fillStyle</span> = grad</li><li>          offContext.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)</li><li>          <span class="hljs-keyword">let</span> image = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">transferToImageBitmap</span>()</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(image)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="390" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115638.06492945851597023583113995826023:50001231000000:2800:16A6BAE854D8314410A8D807E76E613738BC3AE3B9F1A3978F831C03DDEF4F15.png" class="notEnlarge" width="220" height="390"></span></p>    </div>   </div>   <div></div></div>