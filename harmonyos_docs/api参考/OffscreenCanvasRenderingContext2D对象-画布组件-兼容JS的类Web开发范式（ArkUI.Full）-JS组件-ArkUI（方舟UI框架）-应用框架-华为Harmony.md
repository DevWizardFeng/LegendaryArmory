<h1 _ngcontent-ydq-c119="" class="doc-title ng-star-inserted" title="OffscreenCanvasRenderingContext2D对象"> OffscreenCanvasRenderingContext2D对象 </h1>

<div _ngcontent-ydq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> 从API version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  </div></div></div> <p>使用OffscreenCanvasRenderingContext2D在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-offscreencanvas">OffscreenCanvas对象</a>上进行绘制，绘制对象可以是矩形、文本、图片等。</p>  <div class="tiledSection"><h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-canvasrenderingcontext2d">CanvasRenderingContext2D对象</a>相同的属性外，还支持如下属性：</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.3.1.4.1.1" width="33.33333333333333%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">filter</td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>设置图像的滤镜。</p> <p>支持的滤镜效果如下：</p> <p>- blur：给图像设置高斯模糊。</p> <p>- brightness：给图片应用一种线性乘法，使其看起来更亮或更暗。</p> <p>- contrast：调整图像的对比度。</p> <p>- drop-shadow：给图像设置一个阴影效果。</p> <p>- grayscale：将图像转换为灰度图像。</p> <p>- hue-rotate：给图像应用色相旋转。</p> <p>- invert：反转输入图像。</p> <p>- opacity：转化图像的透明程度。</p> <p>- saturate：转换图像饱和度。</p> <p>- sepia：将图像转换为深褐色。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px;"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvasId"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px; background-color: #ffff00;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">var</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvasId</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);</li><li>    <span class="hljs-keyword">var</span> offscreen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">360</span>, <span class="hljs-number">500</span>);</li><li>    <span class="hljs-keyword">var</span> offCanvas2 = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    <span class="hljs-keyword">var</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    <span class="hljs-comment">// 'common/images/flower.jpg'需要替换为开发者所需的图像资源文件</span></li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/flower.jpg'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'blur(5px)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'grayscale(50%)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'hue-rotate(90deg)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'invert(100%)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'drop-shadow(8px 8px 10px green)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'brightness(0.4)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'opacity(25%)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'saturate(30%)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'sepia(60%)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>
</li><li>    offCanvas2.<span class="hljs-property">filter</span> = <span class="hljs-string">'contrast(200%)'</span>;</li><li>    offCanvas2.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">100</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    <span class="hljs-keyword">var</span> bitmap = offscreen.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>    ctx.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="方法" device-type="phone,2in1,tablet,wearable,tv">方法<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="方法" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持与CanvasRenderingContext2D对象相同的方法外，还支持如下方法：</p> </div>  <div class="tiledSection"><h3 id="ispointinpath" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">isPointInPath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ispointinpath" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isPointInPath(path?: Path2D, x: number, y: number): boolean</p> <p>判断指定点是否在路径的区域内。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.2" width="25%">参数类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.4" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">Path2D</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">可选对象，指定用来判断的路径。若没有设置，则使用当前路径。</td> </tr> <tr><td class="cellrowborder" width="25%">x</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待判断点的x轴坐标。</td> </tr> <tr><td class="cellrowborder" width="25%">y</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待判断点的y轴坐标。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">指定点是否在路径的区域内。返回true时，指定点在路径区域内。返回false时，指定点不在路径区域内。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px;"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"textsize"</span>&gt;</span>In path:{{textValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px; background-color: #ffff00;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>    <span class="hljs-attribute">display</span>: flex;</li><li>    <span class="hljs-attribute">flex-direction</span>: column;</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>    <span class="hljs-attribute">align-items</span>: center;</li><li>    <span class="hljs-attribute">justify-content</span>: center;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>}</li><li>
</li><li><span class="hljs-selector-tag">canvas</span> {</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>    <span class="hljs-attribute">border</span>: none;</li><li>}</li><li>
</li><li><span class="hljs-selector-class">.textsize</span> {</li><li>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">textValue</span>: <span class="hljs-literal">false</span></li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);</li><li>    <span class="hljs-keyword">var</span> offscreen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">500</span>,<span class="hljs-number">500</span>);</li><li>    <span class="hljs-keyword">var</span> offscreenCanvasCtx = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>
</li><li>    offscreenCanvasCtx.<span class="hljs-title function_">rect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    offscreenCanvasCtx.<span class="hljs-title function_">fill</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textValue</span> = offscreenCanvasCtx.<span class="hljs-title function_">isPointInPath</span>(<span class="hljs-number">30</span>, <span class="hljs-number">70</span>);</li><li>
</li><li>    <span class="hljs-keyword">var</span> bitmap = offscreen.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>    canvas.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="173" originwidth="222" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115844.61542358627119091062562544372137:50001231000000:2800:AECA0FEF916EADF602870D584BA72C1526C9038395422F0368B430340D6163AA.png" class="notEnlarge" width="222" height="173"></span></p> </div>  <div class="tiledSection"><h3 id="ispointinstroke" device-type="phone,2in1,tablet,wearable,tv">isPointInStroke<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ispointinstroke" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isPointInStroke(path?: Path2D, x: number, y: number): boolean</p> <p>判断指定点是否在路径的边缘线上。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.5.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.5.1.2" width="25%">参数类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.5.1.4" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">Path2D</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">可选对象，指定用来判断的路径。若没有设置，则使用当前路径。</td> </tr> <tr><td class="cellrowborder" width="25%">x</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待判断点的x轴坐标。</td> </tr> <tr><td class="cellrowborder" width="25%">y</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">待判断点的y轴坐标。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">boolean</td> <td class="cellrowborder" width="50%">指定点是否在路径的区域内。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px;"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"textsize"</span>&gt;</span>In stroke:{{textValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px; background-color: #ffff00;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>    <span class="hljs-attribute">display</span>: flex;</li><li>    <span class="hljs-attribute">flex-direction</span>: column;</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>    <span class="hljs-attribute">align-items</span>: center;</li><li>    <span class="hljs-attribute">justify-content</span>: center;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>}</li><li>
</li><li><span class="hljs-selector-tag">canvas</span> {</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>    <span class="hljs-attribute">border</span>: none;</li><li>}</li><li>
</li><li><span class="hljs-selector-class">.textsize</span> {</li><li>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">textValue</span>: <span class="hljs-literal">false</span></li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);</li><li>    <span class="hljs-keyword">var</span> offscreen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">500</span>,<span class="hljs-number">500</span>);</li><li>    <span class="hljs-keyword">var</span> offscreenCanvasCtx = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>
</li><li>    offscreenCanvasCtx.<span class="hljs-title function_">rect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    offscreenCanvasCtx.<span class="hljs-title function_">stroke</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textValue</span> = offscreenCanvasCtx.<span class="hljs-title function_">isPointInStroke</span>(<span class="hljs-number">50</span>, <span class="hljs-number">10</span>);</li><li>
</li><li>    <span class="hljs-keyword">var</span> bitmap = offscreen.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>    canvas.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="169" originwidth="240" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115844.61737321185029452643113064074262:50001231000000:2800:E80900F09E3751B502375900A21489D860345BA6318E3264259F26F491E562F5.png" class="notEnlarge" width="240" height="169"></span></p> </div>  <div class="tiledSection"><h3 id="resettransform" device-type="phone,2in1,tablet,wearable,tv">resetTransform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="resettransform" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>resetTransform(): void</p> <p><strong>示例：</strong></p> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px;"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"textsize"</span>&gt;</span>In path:{{textValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 500px; height: 500px; background-color: #ffff00;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>    <span class="hljs-attribute">display</span>: flex;</li><li>    <span class="hljs-attribute">flex-direction</span>: column;</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>    <span class="hljs-attribute">align-items</span>: center;</li><li>    <span class="hljs-attribute">justify-content</span>: center;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>}</li><li>
</li><li><span class="hljs-selector-tag">canvas</span> {</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>    <span class="hljs-attribute">border</span>: none;</li><li>}</li><li>
</li><li><span class="hljs-selector-class">.textsize</span> {</li><li>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-ydq-c106="" class="highlight-div"><div _ngcontent-ydq-c106="" class="highlight-div-header"><div _ngcontent-ydq-c106="" class="highlight-div-header-left"><div _ngcontent-ydq-c106="" class="handle-button expand-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ydq-c106="" class="highlight-div-header-right"><div _ngcontent-ydq-c106="" class="handle-button ai-button"></div><div _ngcontent-ydq-c106="" class="handle-button line-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ydq-c106="" class="handle-button theme-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ydq-c106="" class="handle-button copy-button"><div _ngcontent-ydq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ydq-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>   <span class="hljs-attr">textValue</span>:<span class="hljs-number">0</span></li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>   <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);</li><li>   <span class="hljs-keyword">var</span> offscreen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">500</span>,<span class="hljs-number">500</span>);</li><li>   <span class="hljs-keyword">var</span> offscreenCanvasCtx = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>
</li><li>   offscreenCanvasCtx.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1.7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</li><li>   offscreenCanvasCtx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#a9a9a9'</span>;</li><li>   offscreenCanvasCtx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">40</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">20</span>);</li><li>   offscreenCanvasCtx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">40</span>, <span class="hljs-number">90</span>, <span class="hljs-number">50</span>, <span class="hljs-number">20</span>);</li><li>
</li><li>   <span class="hljs-comment">// Non-skewed rectangles</span></li><li>   offscreenCanvasCtx.<span class="hljs-title function_">resetTransform</span>();</li><li>   offscreenCanvasCtx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#ff0000'</span>;</li><li>   offscreenCanvasCtx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">40</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">20</span>);</li><li>   offscreenCanvasCtx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">40</span>, <span class="hljs-number">90</span>, <span class="hljs-number">50</span>, <span class="hljs-number">20</span>);</li><li>
</li><li>   <span class="hljs-keyword">var</span> bitmap = offscreen.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>   canvas.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="172" originwidth="220" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115844.91445467717674262987715783682440:50001231000000:2800:2E5A13C923D16165CACAC1E2F1733582777AE2FCC858854E10D299C651B53EB2.png" class="notEnlarge" width="220" height="172"></span></p> </div> </div> <div></div></div>