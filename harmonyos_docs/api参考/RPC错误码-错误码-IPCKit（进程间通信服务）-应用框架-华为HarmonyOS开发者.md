<h1 _ngcontent-jbp-c119="" class="doc-title ng-star-inserted" title="RPC错误码"> RPC错误码 </h1>

<div _ngcontent-jbp-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>以下仅介绍本模块特有错误码，通用错误码请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     </div></div></div>    <p>从API version 9起，IPC支持异常返回功能。错误码对应数值及含义如下。</p>    <div class="tiledSection">     <h2 id="section1900001-系统调用mmap失败" device-type="phone,2in1,tablet,wearable,tv">1900001 系统调用mmap失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900001-系统调用mmap失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to call mmap.</p>     <p><strong>错误描述</strong></p>     <p>执行系统调用mmap失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>映射区域过大。</li>      <li>系统内存压力大，没有足够内存可以用来进行映射。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请检查调用Ashmem::create()时是否指定了超大内存。</li>      <li>请检查执行映射时系统是否有足够的内存可用。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section1900002-系统调用ioctl失败" device-type="phone,2in1,tablet,wearable,tv">1900002 系统调用ioctl失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900002-系统调用ioctl失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to call ioctl.</p>     <p><strong>错误描述</strong></p>     <p>在共享内存文件描述符上执行系统调用ioctl失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>设置的参数为内核非法参数。</li>      <li>设置的类型超过了共享内存映射时指定的类型。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请检查调用指定的参数是否来自Ashmem类的PROT_EXEC、PROT_READ和PROT_WRITE。</li>      <li>请检查指定的参数是否为映射共享内存时所指类型的子集。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section1900003-共享内存写数据失败" device-type="phone,2in1,tablet,wearable,tv">1900003 共享内存写数据失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900003-共享内存写数据失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to write data to the shared memory.</p>     <p><strong>错误描述</strong></p>     <p>向共享内存写数据失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>单次写或者连续写的总内容超过了映射的共享内存大小。</li>      <li>没有对共享内存设置PROT_WRITE模式。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请检查当前向共享内存所写内容是否已经超过了映射的总大小。</li>      <li>请检查是否设置了PROT_WRITE保护权限。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section1900004-共享内存读数据失败" device-type="phone,2in1,tablet,wearable,tv">1900004 共享内存读数据失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900004-共享内存读数据失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to read data from the shared memory.</p>     <p><strong>错误描述</strong></p>     <p>从共享内存读数据失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>单次写或者连续写的总内容超过了映射的共享内存大小。</li>      <li>没有对共享内存设置PROT_READ模式。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请检查当前向共享内存所写内容是否已经超过了映射的总大小。</li>      <li>请检查是否设置了PROT_READ保护权限。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section1900005-ipc对象权限错误" device-type="phone,2in1,tablet,wearable,tv">1900005 ipc对象权限错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900005-ipc对象权限错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Operation allowed only for the proxy object.</p>     <p><strong>错误描述</strong></p>     <p>只有proxy对象允许该操作。</p>     <p><strong>可能原因</strong></p>     <p>在RemoteObject对象上调用了只有RemoteProxy对象支持的方法。</p>     <p><strong>处理步骤</strong></p>     <p>请检查是否在RemoteObject对象上调用了只有RemoteProxy对象支持的方法。</p>    </div>    <div class="tiledSection">     <h2 id="section1900006-ipc对象权限错误" device-type="phone,2in1,tablet,wearable,tv">1900006 ipc对象权限错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900006-ipc对象权限错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Operation allowed only for the remote object.</p>     <p><strong>错误描述</strong></p>     <p>只有remote对象允许该操作。</p>     <p><strong>可能原因</strong></p>     <p>在RemoteProxy对象上调用了只有RemoteObject对象支持的方法。</p>     <p><strong>处理步骤</strong></p>     <p>请检查是否在RemoteProxy对象上调用了只有RemoteObject对象支持的方法。</p>    </div>    <div class="tiledSection">     <h2 id="section1900007-远端对象通信失败" device-type="phone,2in1,tablet,wearable,tv">1900007 远端对象通信失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900007-远端对象通信失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Communication failed.</p>     <p><strong>错误描述</strong></p>     <p>和远端对象进行进程间通信失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>远端对象已经销毁。</li>      <li>远端对象发生了销毁然后重新创建，本端持有的代理对象已经过期。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请检查远端对象是否已经销毁。</li>      <li>请检查是否注册了死亡监听，并且远端对象发生析构又重新创建。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section1900008-非法的ipc对象" device-type="phone,2in1,tablet,wearable,tv">1900008 非法的ipc对象<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900008-非法的ipc对象" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The proxy or remote object is invalid.</p>     <p><strong>错误描述</strong></p>     <p>非法的代理对象或者远端对象。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>代理对象已经失效。</li>      <li>远端对象已经销毁。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请检查proxy对象获取过程是否有异常。</li>      <li>请检查远端对象是否已经析构。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section1900009-向messagesequence写入数据失败" device-type="phone,2in1,tablet,wearable,tv">1900009 向MessageSequence写入数据失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900009-向messagesequence写入数据失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to write data to the message sequence.</p>     <p><strong>错误描述</strong></p>     <p>向MessageSequence写数据失败。</p>     <p><strong>可能原因</strong></p>     <p>sequence默认空间已满。</p>     <p><strong>处理步骤</strong></p>     <p>请使用MessageSequence提供的获取缓冲区空间相关方法确认是否还有剩余空间。</p>    </div>    <div class="tiledSection">     <h2 id="section1900010-读取messagesequence数据失败" device-type="phone,2in1,tablet,wearable,tv">1900010 读取MessageSequence数据失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900010-读取messagesequence数据失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to read data from the message sequence.</p>     <p><strong>错误描述</strong></p>     <p>读取MessageSequence数据失败。</p>     <p><strong>可能原因</strong></p>     <p>读取和写入顺序不一致。</p>     <p><strong>处理步骤</strong></p>     <p>请检查读取的顺序和写入的顺序保持严格一致。</p>    </div>    <div class="tiledSection">     <h2 id="section1900011-内存分配失败" device-type="phone,2in1,tablet,wearable,tv">1900011 内存分配失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900011-内存分配失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Memory allocation failed.</p>     <p><strong>错误描述</strong></p>     <p>序列化过程中内存分配失败。</p>     <p><strong>可能原因</strong></p>     <p>写入的数据过大，数据取决于当前堆上还有多少可以连续分配的内存。</p>     <p><strong>处理步骤</strong></p>     <p>请检查写入的数据或者设置的参数是否过大。</p>    </div>    <div class="tiledSection">     <h2 id="section1900012-js方法失败" device-type="phone,2in1,tablet,wearable,tv">1900012 JS方法失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900012-js方法失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to call the JS callback function.</p>     <p><strong>错误描述</strong></p>     <p>执行JS回调方法失败。</p>     <p><strong>可能原因</strong></p>     <p>业务的JS方法返回失败。</p>     <p><strong>处理步骤</strong></p>     <p>请检查业务JS方法是否执行成功。</p>    </div>    <div class="tiledSection">     <h2 id="section1900013-系统调用dup失败" device-type="phone,2in1,tablet,wearable,tv">1900013 系统调用dup失败<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1900013-系统调用dup失败" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Failed to call dup.</p>     <p><strong>错误描述</strong></p>     <p>执行系统调用dup失败。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>进程的文件句柄资源已经耗尽。</li>      <li>入参fd已经被关闭。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请检查入参fd是否依然有效。</li>      <li>请排查进程是否已经耗尽了fd资源。</li>     </ol>    </div>   </div>   <div></div></div>