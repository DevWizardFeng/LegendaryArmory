<h1 _ngcontent-iqm-c119="" class="doc-title ng-star-inserted" title="RenderNode"> RenderNode </h1>

<div _ngcontent-iqm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>提供自绘制渲染节点RenderNode，支持开发者通过C API进行开发，完成自定义绘制需求。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 11开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>不建议对<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-buildernode">BuilderNode</a>中的RenderNode进行修改操作。BuilderNode中持有的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a>仅用于将该BuilderNode作为子节点挂载到其他FrameNode上，对该FrameNode或对应的RenderNode进行属性设置与子节点操作可能会产生未定义行为，包括但不限于显示异常、事件异常、稳定性问题等。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="rendernode-1" device-type="phone,2in1,tablet,wearable,tv">RenderNode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rendernode-1" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="constructor" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor()</p>     <p>RenderNode的构造函数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="appendchild" device-type="phone,2in1,tablet,wearable,tv">appendChild<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="appendchild" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>appendChild(node: RenderNode): void</p>     <p>在RenderNode最后一个子节点后添加新的子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要添加的RenderNode。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-keyword">const</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>child.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>child.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>renderNode.<span class="hljs-title function_">appendChild</span>(child);</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-comment">// 在RenderNode最后一个子节点后添加新的子节点</span></li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="insertchildafter" device-type="phone,2in1,tablet,wearable,tv">insertChildAfter<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="insertchildafter" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>insertChildAfter(child: RenderNode, sibling: RenderNode | null): void</p>     <p>在RenderNode指定子节点之后添加新的子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">child</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要添加的子节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">sibling</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">新节点将插入到该节点之后。若该参数设置为空，则新节点将插入到首个子节点之前。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">350</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>  <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>  node.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> + <span class="hljs-number">60</span> * i, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>  node.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>  renderNode.<span class="hljs-title function_">appendChild</span>(node);</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>child.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">70</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">70</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>child.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffffff00</span>;</li><li><span class="hljs-keyword">const</span> sibling = renderNode.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">1</span>);</li><li><span class="hljs-comment">// 将child节点插入至sibling节点之后</span></li><li>renderNode.<span class="hljs-title function_">insertChildAfter</span>(child, sibling);</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="removechild" device-type="phone,2in1,tablet,wearable,tv">removeChild<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removechild" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeChild(node: RenderNode): void</p>     <p>从RenderNode中删除指定的子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要删除的子节点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">350</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>  <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>  node.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> + <span class="hljs-number">60</span> * i, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>  node.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>  renderNode.<span class="hljs-title function_">appendChild</span>(node);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 删除renderNode下序列号为1的子节点</span></li><li><span class="hljs-keyword">const</span> node = renderNode.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">1</span>);</li><li>renderNode.<span class="hljs-title function_">removeChild</span>(node);</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="clearchildren" device-type="phone,2in1,tablet,wearable,tv">clearChildren<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="clearchildren" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clearChildren(): void</p>     <p>清除当前RenderNode的所有子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">300</span> };</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {</li><li>  <span class="hljs-keyword">let</span> childNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>  childNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: i * <span class="hljs-number">10</span>, <span class="hljs-attr">height</span>: i * <span class="hljs-number">10</span> };</li><li>  childNode.<span class="hljs-property">position</span> = { <span class="hljs-attr">x</span>: i * <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: i * <span class="hljs-number">10</span> };</li><li>  childNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xFF0000FF</span> - <span class="hljs-number">0X11</span> * i;</li><li>  renderNode.<span class="hljs-title function_">appendChild</span>(childNode);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"clearChildren"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          renderNode.<span class="hljs-title function_">clearChildren</span>(); <span class="hljs-comment">// 清除renderNode的所有子节点</span></li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getchild" device-type="phone,2in1,tablet,wearable,tv">getChild<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getchild" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getChild(index: number): RenderNode | null</p>     <p>获取当前RenderNode指定位置的子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">index</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要查询的子节点的序列号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a> | null</td>         <td class="cellrowborder" width="50%">子节点。若该RenderNode不包含所查询的子节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">300</span> };</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {</li><li>  <span class="hljs-keyword">let</span> childNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>  childNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: i * <span class="hljs-number">10</span>, <span class="hljs-attr">height</span>: i * <span class="hljs-number">10</span> };</li><li>  childNode.<span class="hljs-property">position</span> = { <span class="hljs-attr">x</span>: i * <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: i * <span class="hljs-number">10</span> };</li><li>  childNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xFF0000FF</span> - <span class="hljs-number">0X11</span> * i;</li><li>  renderNode.<span class="hljs-title function_">appendChild</span>(childNode);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getChild"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">11</span>; i++) {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">childNode</span>: <span class="hljs-title class_">RenderNode</span> | <span class="hljs-literal">null</span> = renderNode.<span class="hljs-title function_">getChild</span>(i);</li><li>            <span class="hljs-keyword">if</span> (childNode == <span class="hljs-literal">null</span>) {</li><li>              <span class="hljs-comment">// renderNode不存在序列号为10的子节点，此时返回null</span></li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`the <span class="hljs-subst">${i}</span> of renderNode's childNode is null`</span>);</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-comment">// 正常获取子节点并打印节点属性</span></li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`the <span class="hljs-subst">${i}</span> of renderNode's childNode has a size of {<span class="hljs-subst">${childNode.size.width}</span>,<span class="hljs-subst">${childNode.size.height}</span>}`</span>);</li><li>            }</li><li>          }</li><li>
</li><li>        })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getfirstchild" device-type="phone,2in1,tablet,wearable,tv">getFirstChild<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfirstchild" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFirstChild(): RenderNode | null</p>     <p>获取当前RenderNode的第一个子节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a> | null</td>         <td class="cellrowborder" width="50%">首个子节点。若该RenderNode不包含子节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">350</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>  <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>  node.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> + <span class="hljs-number">60</span> * i, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>  node.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>  renderNode.<span class="hljs-title function_">appendChild</span>(node);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">350</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getFirstChild'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 获取renderNode的首个子节点</span></li><li>          <span class="hljs-keyword">const</span> firstChild = renderNode.<span class="hljs-title function_">getFirstChild</span>();</li><li>          <span class="hljs-keyword">if</span> (firstChild === <span class="hljs-literal">null</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'the fist child is null'</span>);</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`the position of fist child is x: <span class="hljs-subst">${firstChild.position.x}</span>, y: <span class="hljs-subst">${firstChild.position.y}</span>`</span>);</li><li>          }</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getnextsibling" device-type="phone,2in1,tablet,wearable,tv">getNextSibling<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getnextsibling" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNextSibling(): RenderNode | null</p>     <p>获取当前RenderNode的下一个同级节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a> | null</td>         <td class="cellrowborder" width="50%">当前RenderNode的下一个同级节点。若该RenderNode不包含下一个同级节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">350</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>  <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>  node.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> + <span class="hljs-number">60</span> * i, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>  node.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>  renderNode.<span class="hljs-title function_">appendChild</span>(node);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">350</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getNextSibling'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> child = renderNode.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">1</span>);</li><li>          <span class="hljs-comment">// 获取renderNode序列号为1的子节点后，再获取它的下一个同级节点</span></li><li>          <span class="hljs-keyword">const</span> nextSibling = child!.<span class="hljs-title function_">getNextSibling</span>()</li><li>          <span class="hljs-keyword">if</span> (nextSibling === <span class="hljs-literal">null</span> || child === <span class="hljs-literal">null</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'the child or nextChild is null'</span>);</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`the position of child is x: <span class="hljs-subst">${child.position.x}</span>, y: <span class="hljs-subst">${child.position.y}</span>, `</span> +</li><li>              <span class="hljs-string">`the position of nextSibling is x: <span class="hljs-subst">${nextSibling.position.x}</span>, y: <span class="hljs-subst">${nextSibling.position.y}</span>`</span>);</li><li>          }</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getprevioussibling" device-type="phone,2in1,tablet,wearable,tv">getPreviousSibling<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getprevioussibling" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPreviousSibling(): RenderNode | null</p>     <p>获取当前RenderNode的上一个同级节点。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#rendernode-1">RenderNode</a> | null</td>         <td class="cellrowborder" width="50%">当前RenderNode的上一个同级节点。若该RenderNode不包含上一个同级节点，则返回空对象null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">350</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {</li><li>  <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>  node.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> + <span class="hljs-number">60</span> * i, <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>  node.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>  renderNode.<span class="hljs-title function_">appendChild</span>(node);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">350</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'getPreviousSibling'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">const</span> child = renderNode.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">1</span>);</li><li>          <span class="hljs-comment">// 获取renderNode序列号为1的子节点后，再获取它的上一个同级节点</span></li><li>          <span class="hljs-keyword">const</span> previousSibling = child!.<span class="hljs-title function_">getPreviousSibling</span>()</li><li>          <span class="hljs-keyword">if</span> (child === <span class="hljs-literal">null</span> || previousSibling === <span class="hljs-literal">null</span>) {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'the child or previousChild is null'</span>);</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`the position of child is x: <span class="hljs-subst">${child.position.x}</span>, y: <span class="hljs-subst">${child.position.y}</span>, `</span> +</li><li>              <span class="hljs-string">`the position of previousSibling is x: <span class="hljs-subst">${previousSibling.position.x}</span>, y: <span class="hljs-subst">${previousSibling.position.y}</span>`</span>);</li><li>          }</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="backgroundcolor" device-type="phone,2in1,tablet,wearable,tv">backgroundColor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="backgroundcolor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set backgroundColor(color: number)</p>     <p>设置当前RenderNode的背景颜色。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">背景颜色值，ARGB格式，示例：0xE5E5E5。</td>        </tr>             </tbody></table></div>     </div>     <p>get backgroundColor(): number</p>     <p>获取当前RenderNode的背景颜色。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前RenderNode的背景颜色，默认值为0X00000000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 设置renderNode的背景颜色</span></li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li><span class="hljs-comment">// 获取renderNode的背景颜色</span></li><li><span class="hljs-keyword">const</span> backgroundColor = renderNode.<span class="hljs-property">backgroundColor</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="cliptoframe" device-type="phone,2in1,tablet,wearable,tv">clipToFrame<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cliptoframe" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set clipToFrame(useClip: boolean)</p>     <p>设置是否对当前RenderNode剪裁。若设置为true，则超出该RenderNode大小的部分将会被截断。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">useClip</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置是否进行剪裁。</p>          <p>true表示对当前RenderNode剪裁，false表示不对当前RenderNode剪裁。</p></td>        </tr>             </tbody></table></div>     </div>     <p>get clipToFrame(): boolean</p>     <p>获取当前RenderNode是否需要进行剪裁。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>获取当前RenderNode是否需要进行剪裁，默认值为true。</p>          <p>true表示对当前RenderNode剪裁，false表示不对当前RenderNode剪裁。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-comment">// 设置renderNode是否需要剪裁</span></li><li>renderNode.<span class="hljs-property">clipToFrame</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-comment">// 获取renderNode是否需要剪裁</span></li><li><span class="hljs-keyword">const</span> clipToFrame = renderNode.<span class="hljs-property">clipToFrame</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> childNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>childNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> };</li><li>childNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffffff00</span>;</li><li>renderNode.<span class="hljs-title function_">appendChild</span>(childNode);</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="opacity" device-type="phone,2in1,tablet,wearable,tv">opacity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="opacity" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set opacity(value: number)</p>     <p>设置当前RenderNode的不透明度。若输入的数值小于0，会被视为0。若输入的数值大于1，会被视为1。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的不透明度，数据范围为[0, 1]，值越大透明度越低。</td>        </tr>             </tbody></table></div>     </div>     <p>get opacity(): number</p>     <p>获取当前RenderNode的不透明度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取当前RenderNode的不透明度，默认值为1，不透明。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-comment">// 设置renderNode的不透明度</span></li><li>renderNode.<span class="hljs-property">opacity</span> = <span class="hljs-number">0.5</span>;</li><li><span class="hljs-comment">// 获取renderNode的不透明度</span></li><li><span class="hljs-keyword">const</span> opacity = renderNode.<span class="hljs-property">opacity</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="size" device-type="phone,2in1,tablet,wearable,tv">size<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="size" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set size(size: Size)</p>     <p>设置当前RenderNode的大小。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">size</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#size">Size</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的大小。</td>        </tr>             </tbody></table></div>     </div>     <p>get size(): Size</p>     <p>获取当前RenderNode的大小。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#size">Size</a></td>         <td class="cellrowborder" width="50%">获取当前RenderNode的大小，默认值宽度和高度为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-comment">// 设置renderNode的大小</span></li><li>renderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 获取renderNode的大小</span></li><li><span class="hljs-keyword">const</span> size = renderNode.<span class="hljs-property">size</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="position" device-type="phone,2in1,tablet,wearable,tv">position<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="position" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set position(position: Position)</p>     <p>设置当前RenderNode的位置。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">position</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的位置。</td>        </tr>             </tbody></table></div>     </div>     <p>get position(): Position</p>     <p>获取当前RenderNode的位置。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#position">Position</a></td>         <td class="cellrowborder" width="50%">获取当前RenderNode的位置，默认位置为{ x: 0, y: 0 }。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 设置renderNode的位置</span></li><li>renderNode.<span class="hljs-property">position</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> };</li><li><span class="hljs-comment">// 获取renderNode的位置</span></li><li><span class="hljs-keyword">const</span> position = renderNode.<span class="hljs-property">position</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="frame" device-type="phone,2in1,tablet,wearable,tv">frame<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="frame" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set frame(frame: Frame)</p>     <p>设置当前RenderNode的大小和位置。当和<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#position">position</a>、<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#size">size</a>同时使用时，以后设置的为准。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">frame</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#frame">Frame</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的大小和位置。</td>        </tr>             </tbody></table></div>     </div>     <p>get frame(): Frame</p>     <p>获取当前RenderNode的大小和位置。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#frame">Frame</a></td>         <td class="cellrowborder" width="50%">获取当前RenderNode的大小和位置，默认值为{ x: 0, y: 0, width: 0, height: 0 }。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li><span class="hljs-comment">// 设置renderNode的大小和位置</span></li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 获取renderNode的大小和位置</span></li><li><span class="hljs-keyword">const</span> frame = renderNode.<span class="hljs-property">frame</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="pivot" device-type="phone,2in1,tablet,wearable,tv">pivot<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pivot" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set pivot(pivot: Pivot)</p>     <p>设置当前RenderNode的轴心，影响RenderNode的缩放和旋转效果。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">pivot</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#pivot">Pivot</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的轴心。</td>        </tr>             </tbody></table></div>     </div>     <p>get pivot(): Pivot</p>     <p>获取当前RenderNode的轴心。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#pivot">Pivot</a></td>         <td class="cellrowborder" width="50%">获取当前RenderNode的轴心，默认值为{ x: 0.5, y: 0.5}。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 设置renderNode的轴心</span></li><li>renderNode.<span class="hljs-property">pivot</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0.5</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0.6</span> };</li><li><span class="hljs-comment">// 获取renderNode的轴心</span></li><li><span class="hljs-keyword">const</span> pivot = renderNode.<span class="hljs-property">pivot</span>;</li><li>
</li><li>renderNode.<span class="hljs-property">rotation</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> };</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="scale" device-type="phone,2in1,tablet,wearable,tv">scale<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scale" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set scale(scale: Scale)</p>     <p>设置当前RenderNode的比例。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">scale</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#scale">Scale</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的缩放比例。</td>        </tr>             </tbody></table></div>     </div>     <p>get scale(): Scale</p>     <p>获取当前RenderNode的比例。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#scale">Scale</a></td>         <td class="cellrowborder" width="50%">获取当前RenderNode的比例，默认值为{ x: 1, y: 1 }。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 设置renderNode的比例</span></li><li>renderNode.<span class="hljs-property">scale</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0.5</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> };</li><li><span class="hljs-comment">// 获取renderNode的轴心</span></li><li><span class="hljs-keyword">const</span> scale = renderNode.<span class="hljs-property">scale</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="translation" device-type="phone,2in1,tablet,wearable,tv">translation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="translation" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set translation(translation: Translation)</p>     <p>设置当前RenderNode的平移量。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">translation</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#translation">Translation</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的平移量。</td>        </tr>             </tbody></table></div>     </div>     <p>get translation(): Translation</p>     <p>获取当前RenderNode的平移量。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#translation">Translation</a></td>         <td class="cellrowborder" width="50%">获取当前RenderNode的平移量，默认值为{ x: 0, y: 0 }。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 设置renderNode的平移量</span></li><li>renderNode.<span class="hljs-property">translation</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> };</li><li><span class="hljs-comment">// 获取renderNode的平移量</span></li><li><span class="hljs-keyword">const</span> translation = renderNode.<span class="hljs-property">translation</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="rotation" device-type="phone,2in1,tablet,wearable,tv">rotation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotation" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set rotation(rotation: Rotation)</p>     <p>设置当前RenderNode的旋转角度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">rotation</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#rotation">Rotation</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的旋转角度。</td>        </tr>             </tbody></table></div>     </div>     <p>get rotation(): Rotation</p>     <p>获取当前RenderNode的旋转角度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#rotation">Rotation</a></td>         <td class="cellrowborder" width="50%">当前RenderNode的旋转角度。默认值为{ x: 0, y: 0, z: 0}。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 设置renderNode的旋转角度</span></li><li>renderNode.<span class="hljs-property">rotation</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">45</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> };</li><li><span class="hljs-comment">// 获取renderNode的旋转角度</span></li><li><span class="hljs-keyword">const</span> rotation = renderNode.<span class="hljs-property">rotation</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="transform" device-type="phone,2in1,tablet,wearable,tv">transform<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transform" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set transform(transform: Matrix4)</p>     <p>设置当前RenderNode的变换矩阵。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">transform</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#matrix4">Matrix4</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的变换矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p>get transform(): Matrix4</p>     <p>获取当前RenderNode的变换矩阵。默认值为：</p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>[</li><li>  <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>  <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>  <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,</li><li>  <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span></li><li>]</li></ol></pre></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.14.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.14.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#matrix4">Matrix4</a></td>         <td class="cellrowborder" width="50%">当前RenderNode的变换矩阵。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li><span class="hljs-comment">// 设置renderNode的变换矩阵</span></li><li>renderNode.<span class="hljs-property">transform</span> = [</li><li>  <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>  <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,</li><li>  <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,</li><li>  <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span></li><li>];</li><li><span class="hljs-comment">// 获取renderNode的变换矩阵</span></li><li><span class="hljs-keyword">const</span> transform = renderNode.<span class="hljs-property">transform</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="shadowcolor" device-type="phone,2in1,tablet,wearable,tv">shadowColor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shadowcolor" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set shadowColor(color: number)</p>     <p>设置当前RenderNode的阴影颜色，ARGB格式。若设置了<a href="/consumer/cn/doc/harmonyos-references/js-apis-arkui-rendernode#shadowalpha">shadowAlpha</a>，则不透明度以shadowAlpha为准。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将要设置的RenderNode的阴影颜色，ARGB格式。</p>          <p>取值范围是符合ARGB格式的颜色。</p></td>        </tr>             </tbody></table></div>     </div>     <p>get shadowColor(): number</p>     <p>获取当前RenderNode的阴影颜色。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前RenderNode的阴影颜色，ARGB格式，默认值为0X00000000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">shadowElevation</span> = <span class="hljs-number">10</span>;</li><li><span class="hljs-comment">// 设置renderNode的阴影颜色</span></li><li>renderNode.<span class="hljs-property">shadowColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li><span class="hljs-comment">// 获取renderNode的阴影颜色</span></li><li><span class="hljs-keyword">const</span> shadowColor = renderNode.<span class="hljs-property">shadowColor</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="shadowoffset" device-type="phone,2in1,tablet,wearable,tv">shadowOffset<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shadowoffset" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set shadowOffset(offset: Offset)</p>     <p>设置当前RenderNode的阴影偏移。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#offset">Offset</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的阴影偏移。</td>        </tr>             </tbody></table></div>     </div>     <p>get shadowOffset(): Offset</p>     <p>获取当前RenderNode的阴影偏移。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#offset">Offset</a></td>         <td class="cellrowborder" width="50%">当前RenderNode的阴影偏移，默认值为{ x: 0, y: 0 }。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">shadowElevation</span> = <span class="hljs-number">10</span>;</li><li>renderNode.<span class="hljs-property">shadowColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li><span class="hljs-comment">// 设置renderNode的阴影偏移</span></li><li>renderNode.<span class="hljs-property">shadowOffset</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> };</li><li><span class="hljs-comment">// 获取renderNode的阴影偏移</span></li><li><span class="hljs-keyword">const</span> shadowOffset = renderNode.<span class="hljs-property">shadowOffset</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="label12" device-type="phone,2in1,tablet,wearable,tv">label<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="label12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set label(label: string)</p>     <p>设置当前RenderNode的标签。若当前节点是通过new创建的RenderNode，则设置的标签信息会在节点Inspector信息的属性中。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">label</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">将要设置的RenderNode的标签。</td>        </tr>             </tbody></table></div>     </div>     <p>get label(): string</p>     <p>获取当前RenderNode的标签。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">string</td>         <td class="cellrowborder" width="50%">当前RenderNode的标签，默认值为""。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">renderNode</span>: <span class="hljs-title class_">RenderNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (renderNode !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">renderChildNode</span>: <span class="hljs-title class_">RenderNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>      renderChildNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>      renderChildNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>      <span class="hljs-comment">// 设置renderNode的标签</span></li><li>      renderChildNode.<span class="hljs-property">label</span> = <span class="hljs-string">'customRenderChildNode'</span>;</li><li>      <span class="hljs-comment">// 获取renderNode的标签并打印日志</span></li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'label:'</span>, renderChildNode.<span class="hljs-property">label</span>);</li><li>      renderNode.<span class="hljs-title function_">appendChild</span>(renderChildNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">700</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="shadowalpha" device-type="phone,2in1,tablet,wearable,tv">shadowAlpha<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shadowalpha" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set shadowAlpha(alpha: number)</p>     <p>设置当前RenderNode的阴影颜色的Alpha值。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">alpha</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将要设置的RenderNode的阴影颜色的Alpha值。</p>          <p>取值范围是alpha值。</p></td>        </tr>             </tbody></table></div>     </div>     <p>get shadowAlpha(): number</p>     <p>获取当前RenderNode的阴影颜色的Alpha值。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前RenderNode的阴影颜色的Alpha值，默认值为0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">shadowElevation</span> = <span class="hljs-number">10</span>;</li><li>renderNode.<span class="hljs-property">shadowColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li>renderNode.<span class="hljs-property">shadowOffset</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> };</li><li><span class="hljs-comment">// 设置renderNode的阴影颜色Alpha值</span></li><li>renderNode.<span class="hljs-property">shadowAlpha</span> = <span class="hljs-number">0.1</span>;</li><li><span class="hljs-comment">// 获取renderNode的阴影颜色Alpha值</span></li><li><span class="hljs-keyword">const</span> shadowAlpha = renderNode.<span class="hljs-property">shadowAlpha</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="shadowelevation" device-type="phone,2in1,tablet,wearable,tv">shadowElevation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shadowelevation" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set shadowElevation(elevation: number)</p>     <p>设置当前RenderNode的阴影的光照高度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">elevation</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将要设置的RenderNode的光照高度。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p>get shadowElevation(): number</p>     <p>获取当前RenderNode的阴影的光照高度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>当前RenderNode的阴影高度，默认值为0。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> {  <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">shadowOffset</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> };</li><li>renderNode.<span class="hljs-property">shadowAlpha</span> = <span class="hljs-number">0.7</span>;</li><li><span class="hljs-comment">// 设置renderNode的阴影光照高度</span></li><li>renderNode.<span class="hljs-property">shadowElevation</span> = <span class="hljs-number">30</span>;</li><li><span class="hljs-comment">// 获取renderNode的阴影光照高度</span></li><li><span class="hljs-keyword">const</span> shadowElevation = renderNode.<span class="hljs-property">shadowElevation</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="320" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.87339012153154304443858812689766:50001231000000:2800:BD70264E8D98970C3F4BDF5492CFC67E1643D0C3B6FD0619C060C57FD433DD89.jpg" width="320" height="320"></span></p>    </div>    <div class="tiledSection">     <h3 id="shadowradius" device-type="phone,2in1,tablet,wearable,tv">shadowRadius<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shadowradius" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set shadowRadius(radius: number)</p>     <p>设置当前RenderNode的阴影模糊半径。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>将要设置的RenderNode的阴影模糊半径。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p>get shadowRadius(): number</p>     <p>获取当前RenderNode的阴影模糊半径。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">          <p>当前RenderNode的阴影模糊半径，默认值为0。</p>          <p>取值范围：[0, +∞)</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff0000ff</span>;</li><li>renderNode.<span class="hljs-property">frame</span> = {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>,</li><li>  <span class="hljs-attr">y</span>: <span class="hljs-number">100</span>,</li><li>  <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>,</li><li>  <span class="hljs-attr">height</span>: <span class="hljs-number">100</span></li><li>};</li><li>renderNode.<span class="hljs-property">shadowOffset</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">10</span> };</li><li>renderNode.<span class="hljs-property">shadowAlpha</span> = <span class="hljs-number">0.7</span>;</li><li><span class="hljs-comment">// 设置renderNode的阴影模糊半径</span></li><li>renderNode.<span class="hljs-property">shadowRadius</span> = <span class="hljs-number">30</span>;</li><li><span class="hljs-comment">// 获取renderNode的阴影模糊半径</span></li><li><span class="hljs-keyword">const</span> shadowRadius = renderNode.<span class="hljs-property">shadowRadius</span>;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`FrameNode <span class="hljs-subst">${shadowRadius}</span>`</span>);</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="320" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.08868654799316160042003314463109:50001231000000:2800:ECDB34EE8014BF077EEDFD543E0D7ED87084C992BD7B8ADB7201DB9467EF17B9.jpg" width="320" height="320"></span></p>    </div>    <div class="tiledSection">     <h3 id="draw" device-type="phone,2in1,tablet,wearable,tv">draw<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="draw" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>draw(context: DrawContext): void</p>     <p>绘制方法，需要开发者进行实现。该方法会在RenderNode进行绘制时被调用。</p>     <p>该接口的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#drawcontext">DrawContext</a>中的Canvas是用于记录指令的临时Canvas，并非节点的真实Canvas。使用请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-user-defined-arktsnode-rendernode#调整自定义绘制canvas的变换矩阵" target="_blank">调整自定义绘制Canvas的变换矩阵</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>RenderNode初始化时，会调用两次draw方法。第一次调用是在首次创建FrameNode时触发Render流程，第二次调用是在首次设置modifier时触发绘制。后续绘制流程皆由modifier触发。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">context</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#drawcontext">DrawContext</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图形绘制上下文。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>ArkTS侧代码：</p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-keyword">import</span> bridge <span class="hljs-keyword">from</span> <span class="hljs-string">"libentry.so"</span>; <span class="hljs-comment">// 该 so 由开发者通过 NAPI 编写并生成</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承RenderNode，实现自定义绘制方法</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uiContext: UIContext</span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 绘制RenderNode时调用此函数</span></li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-comment">// 需要将 context 中的宽度和高度从vp转换为px</span></li><li>    bridge.<span class="hljs-title function_">nativeOnDraw</span>(<span class="hljs-number">0</span>, context, <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(context.<span class="hljs-property">size</span>.<span class="hljs-property">height</span>), <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(context.<span class="hljs-property">size</span>.<span class="hljs-property">width</span>));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRenderNode</span>(uiContext);</li><li>      renderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> }</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>C++侧可通过NAPI来获取Canvas，并进行后续的自定义绘制操作。</p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// native_bridge.cpp</span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"napi/native_api.h"</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_canvas.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_color.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_path.h&gt;</span></span></li><li><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;native_drawing/drawing_pen.h&gt;</span></span></li><li>
</li><li><span class="hljs-function"><span class="hljs-type">static</span> napi_value <span class="hljs-title">OnDraw</span><span class="hljs-params">(napi_env env, napi_callback_info info)</span></span></li><li><span class="hljs-function"></span>{</li><li>    <span class="hljs-type">size_t</span> argc = <span class="hljs-number">4</span>;</li><li>    napi_value args[<span class="hljs-number">4</span>] = { <span class="hljs-literal">nullptr</span> };</li><li>    <span class="hljs-built_in">napi_get_cb_info</span>(env, info, &amp;argc, args, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>);</li><li>
</li><li>    <span class="hljs-type">int32_t</span> id;</li><li>    <span class="hljs-built_in">napi_get_value_int32</span>(env, args[<span class="hljs-number">0</span>], &amp;id);</li><li>    </li><li>    <span class="hljs-comment">// 获取 Canvas 指针</span></li><li>    <span class="hljs-type">void</span>* temp = <span class="hljs-literal">nullptr</span>;</li><li>    <span class="hljs-built_in">napi_unwrap</span>(env, args[<span class="hljs-number">1</span>], &amp;temp);</li><li>    OH_Drawing_Canvas *canvas = <span class="hljs-built_in">reinterpret_cast</span>&lt;OH_Drawing_Canvas*&gt;(temp);</li><li>    </li><li>    <span class="hljs-comment">// 获取 Canvas 宽度</span></li><li>    <span class="hljs-type">int32_t</span> width;</li><li>    <span class="hljs-built_in">napi_get_value_int32</span>(env, args[<span class="hljs-number">2</span>], &amp;width);</li><li>    </li><li>    <span class="hljs-comment">// 获取 Canvas 高度</span></li><li>    <span class="hljs-type">int32_t</span> height;</li><li>    <span class="hljs-built_in">napi_get_value_int32</span>(env, args[<span class="hljs-number">3</span>], &amp;height);</li><li>    </li><li>    <span class="hljs-comment">// 传入canvas、height、width等信息至绘制函数中进行自定义绘制</span></li><li>    <span class="hljs-keyword">auto</span> path = <span class="hljs-built_in">OH_Drawing_PathCreate</span>();</li><li>    <span class="hljs-built_in">OH_Drawing_PathMoveTo</span>(path, width / <span class="hljs-number">4</span>, height / <span class="hljs-number">4</span>);</li><li>    <span class="hljs-built_in">OH_Drawing_PathLineTo</span>(path, width * <span class="hljs-number">3</span> / <span class="hljs-number">4</span>, height / <span class="hljs-number">4</span>);</li><li>    <span class="hljs-built_in">OH_Drawing_PathLineTo</span>(path, width * <span class="hljs-number">3</span> / <span class="hljs-number">4</span>, height * <span class="hljs-number">3</span> / <span class="hljs-number">4</span>);</li><li>    <span class="hljs-built_in">OH_Drawing_PathLineTo</span>(path, width / <span class="hljs-number">4</span>, height * <span class="hljs-number">3</span> / <span class="hljs-number">4</span>);</li><li>    <span class="hljs-built_in">OH_Drawing_PathLineTo</span>(path, width / <span class="hljs-number">4</span>, height / <span class="hljs-number">4</span>);</li><li>    <span class="hljs-built_in">OH_Drawing_PathClose</span>(path);</li><li>    </li><li>    <span class="hljs-keyword">auto</span> pen = <span class="hljs-built_in">OH_Drawing_PenCreate</span>();</li><li>    <span class="hljs-built_in">OH_Drawing_PenSetWidth</span>(pen, <span class="hljs-number">10</span>);</li><li>    <span class="hljs-built_in">OH_Drawing_PenSetColor</span>(pen, <span class="hljs-built_in">OH_Drawing_ColorSetArgb</span>(<span class="hljs-number">0xFF</span>, <span class="hljs-number">0xFF</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>));</li><li>    <span class="hljs-built_in">OH_Drawing_CanvasAttachPen</span>(canvas, pen);</li><li>    </li><li>    <span class="hljs-built_in">OH_Drawing_CanvasDrawPath</span>(canvas, path);</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;</li><li>}</li><li>
</li><li><span class="hljs-function">EXTERN_C_START</span></li><li><span class="hljs-function"><span class="hljs-type">static</span> napi_value <span class="hljs-title">Init</span><span class="hljs-params">(napi_env env, napi_value exports)</span></span></li><li><span class="hljs-function"></span>{</li><li>    napi_property_descriptor desc[] = {</li><li>        { <span class="hljs-string">"nativeOnDraw"</span>, <span class="hljs-literal">nullptr</span>, OnDraw, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>, napi_default, <span class="hljs-literal">nullptr</span> }</li><li>    };</li><li>    <span class="hljs-built_in">napi_define_properties</span>(env, exports, <span class="hljs-built_in">sizeof</span>(desc) / <span class="hljs-built_in">sizeof</span>(desc[<span class="hljs-number">0</span>]), desc);</li><li>    <span class="hljs-keyword">return</span> exports;</li><li>}</li><li>EXTERN_C_END</li><li>
</li><li><span class="hljs-type">static</span> napi_module demoModule = {</li><li>    .nm_version =<span class="hljs-number">1</span>,</li><li>    .nm_flags = <span class="hljs-number">0</span>,</li><li>    .nm_filename = <span class="hljs-literal">nullptr</span>,</li><li>    .nm_register_func = Init,</li><li>    .nm_modname = <span class="hljs-string">"entry"</span>,</li><li>    .nm_priv = ((<span class="hljs-type">void</span>*)<span class="hljs-number">0</span>),</li><li>    .reserved = { <span class="hljs-number">0</span> },</li><li>};</li><li>
</li><li><span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> __attribute__((constructor)) <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">RegisterEntryModule</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span></li><li><span class="hljs-function"></span>{</li><li>    <span class="hljs-built_in">napi_module_register</span>(&amp;demoModule);</li><li>}</li></ol></pre></div></div>     <p>修改工程中的src/main/cpp/CMakeLists.txt文件，添加如下内容：</p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="cmake prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li># the minimum version of CMake.</li><li><span class="hljs-built_in">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.4</span>.<span class="hljs-number">1</span>)</li><li><span class="hljs-built_in">project</span>(NapiTest)</li><li>
</li><li><span class="hljs-built_in">set</span>(NATIVERENDER_ROOT_PATH ${CMAKE_CURRENT_SOURCE_DIR})</li><li>
</li><li><span class="hljs-built_in">include_directories</span>(${NATIVERENDER_ROOT_PATH}</li><li>                    ${NATIVERENDER_ROOT_PATH}/include)</li><li>
</li><li><span class="hljs-built_in">add_library</span>(entry SHARED native_bridge.cpp)</li><li><span class="hljs-built_in">target_link_libraries</span>(entry PUBLIC libace_napi.z.so)</li><li><span class="hljs-built_in">target_link_libraries</span>(entry PUBLIC libace_ndk.z.so)</li><li><span class="hljs-built_in">target_link_libraries</span>(entry PUBLIC libnative_drawing.so)</li></ol></pre></div></div>     <p>同时在工程中的src/main/cpp/types/libentry/index.d.ts文件中，添加自定义绘制函数在ArkTs侧的定义，如：</p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">nativeOnDraw</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">number</span>, context: DrawContext, width: <span class="hljs-built_in">number</span>, height: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="invalidate" device-type="phone,2in1,tablet,wearable,tv">invalidate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="invalidate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>invalidate(): void</p>     <p>该方法会触发RenderNode的重新渲染。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> bridge <span class="hljs-keyword">from</span> <span class="hljs-string">"libentry.so"</span>; <span class="hljs-comment">// 该 so 由开发者通过 NAPI 编写并生成</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承RenderNode，实现自定义绘制方法</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">uiContext: UIContext</span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span> = uiContext;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-comment">// 需要将 context 中的宽度和高度从vp转换为px</span></li><li>    bridge.<span class="hljs-title function_">nativeOnDraw</span>(<span class="hljs-number">0</span>, context, <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(context.<span class="hljs-property">size</span>.<span class="hljs-property">height</span>), <span class="hljs-variable language_">this</span>.<span class="hljs-property">uiContext</span>.<span class="hljs-title function_">vp2px</span>(context.<span class="hljs-property">size</span>.<span class="hljs-property">width</span>));</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-attr">newNode</span>: <span class="hljs-title class_">MyRenderNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">const</span> renderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (renderNode === <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">newNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRenderNode</span>(uiContext);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">newNode</span>.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>    renderNode.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">newNode</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Invalidate'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 触发RenderNode的重新渲染</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-property">newNode</span>?.<span class="hljs-title function_">invalidate</span>()</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p>libentry.so的构建方式见draw方法的示例。</p>    </div>    <div class="tiledSection">     <h3 id="borderstyle12" device-type="phone,2in1,tablet,wearable,tv">borderStyle<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="borderstyle12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set borderStyle(style: Edges&lt;BorderStyle&gt;)</p>     <p>设置当前RenderNode的边框样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">style</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#borderstyle">BorderStyle</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RenderNode的边框样式。</td>        </tr>             </tbody></table></div>     </div>     <p>get borderStyle(): Edges&lt;BorderStyle&gt;</p>     <p>获取当前RenderNode的边框样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#borderstyle">BorderStyle</a>&gt;</td>         <td class="cellrowborder" width="50%">RenderNode的边框样式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li>renderNode.<span class="hljs-property">borderWidth</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">8</span> };</li><li><span class="hljs-comment">// 设置renderNode的边框样式</span></li><li>renderNode.<span class="hljs-property">borderStyle</span> = {</li><li>  <span class="hljs-attr">left</span>: <span class="hljs-title class_">BorderStyle</span>.<span class="hljs-property">Solid</span>,</li><li>  <span class="hljs-attr">top</span>: <span class="hljs-title class_">BorderStyle</span>.<span class="hljs-property">Dotted</span>,</li><li>  <span class="hljs-attr">right</span>: <span class="hljs-title class_">BorderStyle</span>.<span class="hljs-property">Dashed</span>,</li><li>  <span class="hljs-attr">bottom</span>: <span class="hljs-title class_">BorderStyle</span>.<span class="hljs-property">Solid</span></li><li>}</li><li><span class="hljs-comment">// 获取renderNode的边框样式</span></li><li><span class="hljs-keyword">const</span> borderStyle = renderNode.<span class="hljs-property">borderStyle</span>;</li><li>
</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="borderwidth12" device-type="phone,2in1,tablet,wearable,tv">borderWidth<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="borderwidth12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set borderWidth(width: Edges&lt;number&gt;)</p>     <p>设置当前RenderNode的边框宽度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">width</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges&lt;number&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RenderNode的边框宽度，单位为vp。</td>        </tr>             </tbody></table></div>     </div>     <p>get borderWidth(): Edges&lt;number&gt;</p>     <p>获取当前RenderNode的边框宽度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">RenderNode的边框宽度，默认所有边框宽度为0vp。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li><span class="hljs-comment">// 设置renderNode的边框宽度</span></li><li>renderNode.<span class="hljs-property">borderWidth</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">8</span> };</li><li><span class="hljs-comment">// 获取renderNode的边框宽度</span></li><li><span class="hljs-keyword">const</span> borderWidth = renderNode.<span class="hljs-property">borderWidth</span>;</li><li>
</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="bordercolor12" device-type="phone,2in1,tablet,wearable,tv">borderColor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bordercolor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set borderColor(color: Edges&lt;number&gt;)</p>     <p>设置当前RenderNode的边框颜色。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges&lt;number&gt;</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RenderNode的边框颜色。</td>        </tr>             </tbody></table></div>     </div>     <p>get borderColor(): Edges&lt;number&gt;</p>     <p>获取当前RenderNode的边框颜色。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#edgest12">Edges&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">RenderNode的边框颜色，默认所有边框颜色为0XFF000000。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li>renderNode.<span class="hljs-property">borderWidth</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">8</span> };</li><li><span class="hljs-comment">// 设置renderNode的边框颜色</span></li><li>renderNode.<span class="hljs-property">borderColor</span> = { <span class="hljs-attr">left</span>: <span class="hljs-number">0xFF0000FF</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0xFF0000FF</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">0xFF0000FF</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">0xFF0000FF</span> };</li><li><span class="hljs-comment">// 获取renderNode的边框颜色</span></li><li><span class="hljs-keyword">const</span> borderColor = renderNode.<span class="hljs-property">borderColor</span>;</li><li>
</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="borderradius12" device-type="phone,2in1,tablet,wearable,tv">borderRadius<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="borderradius12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set borderRadius(radius: BorderRadiuses)</p>     <p>设置当前RenderNode的边框圆角。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">radius</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#borderradiuses12">BorderRadiuses</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RenderNode的边框圆角，单位为vp。</td>        </tr>             </tbody></table></div>     </div>     <p>get borderRadius(): BorderRadiuses</p>     <p>获取当前RenderNode的边框圆角。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#borderradiuses12">BorderRadiuses</a></td>         <td class="cellrowborder" width="50%">RenderNode的边框圆角，默认所有边框圆角为0vp。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li><span class="hljs-comment">// 设置renderNode的边框圆角</span></li><li>renderNode.<span class="hljs-property">borderRadius</span> = { <span class="hljs-attr">topLeft</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">topRight</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">bottomLeft</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">bottomRight</span>: <span class="hljs-number">32</span> };</li><li><span class="hljs-comment">// 获取renderNode的边框圆角</span></li><li><span class="hljs-keyword">const</span> borderRadius = renderNode.<span class="hljs-property">borderRadius</span>;</li><li>
</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="shapemask12" device-type="phone,2in1,tablet,wearable,tv">shapeMask<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shapemask12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set shapeMask(shapeMask: ShapeMask)</p>     <p>设置当前RenderNode的遮罩。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">shapeMask</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#shapemask12">ShapeMask</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RenderNode的遮罩。</td>        </tr>             </tbody></table></div>     </div>     <p>get shapeMask(): ShapeMask</p>     <p>获取当前RenderNode的遮罩。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#shapemask12">ShapeMask</a></td>         <td class="cellrowborder" width="50%">RenderNode的边框遮罩。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">ShapeMask</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建遮罩并设置填充颜色、边框颜色、边框宽度</span></li><li><span class="hljs-keyword">const</span> mask = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShapeMask</span>();</li><li>mask.<span class="hljs-title function_">setRectShape</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">150</span> });</li><li>mask.<span class="hljs-property">fillColor</span> = <span class="hljs-number">0X55FF0000</span>;</li><li>mask.<span class="hljs-property">strokeColor</span> = <span class="hljs-number">0XFFFF0000</span>;</li><li>mask.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">24</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li><span class="hljs-comment">// 设置renderNode的遮罩</span></li><li>renderNode.<span class="hljs-property">shapeMask</span> = mask;</li><li><span class="hljs-comment">// 获取renderNode的遮罩</span></li><li><span class="hljs-keyword">const</span> shapeMask = renderNode.<span class="hljs-property">shapeMask</span>;</li><li>
</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="shapeclip12" device-type="phone,2in1,tablet,wearable,tv">shapeClip<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="shapeclip12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set shapeClip(shapeClip: ShapeClip)</p>     <p>设置当前RenderNode的裁剪形状。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">shapeClip</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#shapeclip12">ShapeClip</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">RenderNode的裁剪形状。</td>        </tr>             </tbody></table></div>     </div>     <p>get shapeClip(): ShapeClip</p>     <p>获取当前RenderNode的裁剪形状。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#shapeclip12">ShapeClip</a></td>         <td class="cellrowborder" width="50%">RenderNode的裁剪形状。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">ShapeClip</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建图形裁剪形状并设置路径绘制指令</span></li><li><span class="hljs-keyword">const</span> clip = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShapeClip</span>();</li><li>clip.<span class="hljs-title function_">setCommandPath</span>({ <span class="hljs-attr">commands</span>: <span class="hljs-string">"M100 0 L0 100 L50 200 L150 200 L200 100 Z"</span> });</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = {</li><li>  <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>,</li><li>  <span class="hljs-attr">height</span>: <span class="hljs-number">150</span></li><li>};</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0XFF00FF00</span>;</li><li><span class="hljs-comment">// 设置renderNode的裁剪形状</span></li><li>renderNode.<span class="hljs-property">shapeClip</span> = clip;</li><li><span class="hljs-comment">// 获取renderNode的裁剪形状</span></li><li><span class="hljs-keyword">const</span> shapeClip = renderNode.<span class="hljs-property">shapeClip</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"setRectShape"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          shapeClip.<span class="hljs-title function_">setRectShape</span>({</li><li>            <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">right</span>: <span class="hljs-number">150</span>,</li><li>            <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">bottom</span>: <span class="hljs-number">150</span></li><li>          });</li><li>          renderNode.<span class="hljs-property">shapeClip</span> = shapeClip;</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"setRoundRectShape"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          shapeClip.<span class="hljs-title function_">setRoundRectShape</span>({</li><li>            <span class="hljs-attr">rect</span>: {</li><li>              <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,</li><li>              <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,</li><li>              <span class="hljs-attr">right</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">150</span>),</li><li>              <span class="hljs-attr">bottom</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">150</span>)</li><li>            },</li><li>            <span class="hljs-attr">corners</span>: {</li><li>              <span class="hljs-attr">topLeft</span>: { <span class="hljs-attr">x</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">32</span> },</li><li>              <span class="hljs-attr">topRight</span>: { <span class="hljs-attr">x</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">32</span> },</li><li>              <span class="hljs-attr">bottomLeft</span>: { <span class="hljs-attr">x</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">32</span> },</li><li>              <span class="hljs-attr">bottomRight</span>: { <span class="hljs-attr">x</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">32</span> }</li><li>            }</li><li>          });</li><li>          renderNode.<span class="hljs-property">shapeClip</span> = shapeClip;</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"setCircleShape"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          shapeClip.<span class="hljs-title function_">setCircleShape</span>({ <span class="hljs-attr">centerY</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">centerX</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">radius</span>: <span class="hljs-number">75</span> });</li><li>          renderNode.<span class="hljs-property">shapeClip</span> = shapeClip;</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"setOvalShape"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          shapeClip.<span class="hljs-title function_">setOvalShape</span>({</li><li>            <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">right</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">150</span>),</li><li>            <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">bottom</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">vp2px</span>(<span class="hljs-number">100</span>)</li><li>          });</li><li>          renderNode.<span class="hljs-property">shapeClip</span> = shapeClip;</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"setCommandPath"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          shapeClip.<span class="hljs-title function_">setCommandPath</span>({ <span class="hljs-attr">commands</span>: <span class="hljs-string">"M100 0 L0 100 L50 200 L150 200 L200 100 Z"</span> });</li><li>          renderNode.<span class="hljs-property">shapeClip</span> = shapeClip;</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="dispose12" device-type="phone,2in1,tablet,wearable,tv">dispose<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dispose12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dispose(): void</p>     <p>立即释放当前RenderNode。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffff0000</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">200</span> };</li><li>      rootRenderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff00ff00</span>;</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">disposeRenderNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-comment">// 释放当前renderNode前，移除该renderNode的所有子节点</span></li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">removeChild</span>(renderNode);</li><li>    }</li><li>    renderNode.<span class="hljs-title function_">dispose</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">4</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'RenderNode dispose'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">disposeRenderNode</span>();</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="marknodegroup12" device-type="phone,2in1,tablet,wearable,tv">markNodeGroup<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="marknodegroup12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set markNodeGroup(isNodeGroup: boolean)</p>     <p>标记是否优先绘制节点及其子节点。若设置为true，则透明度等属性将在节点绘制完毕后再进行合成。设置效果如下：</p>     <p><span><img originheight="189" originwidth="776" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.41626768086533879168525407380359:50001231000000:2800:655D9A33411D3913614F71B7B07792E3135E3E715512427A98C4F09B074B9973.png" width="776" height="189"></span></p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isNodeGroup</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置是否优先绘制节点及其子节点。</p>          <p>true表示优先绘制节点及其子节点，false表示不是优先绘制节点及其子节点。</p></td>        </tr>             </tbody></table></div>     </div>     <p>get markNodeGroup(): boolean</p>     <p>获取当前节点是否标记了优先绘制。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.14.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.14.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>当前节点是否标记了优先绘制。</p>          <p>true表示当前节点标记了优先绘制，false表示当前节点没有标记优先绘制。</p>          <p>默认值：false</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承RenderNode，实现自定义绘制方法</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({ <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> });</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">200</span> });</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>
</li><li>    brush.<span class="hljs-title function_">setColor</span>({ <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> });</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">300</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">300</span> });</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">200</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff0000ff</span>;</li><li><span class="hljs-comment">// 标记当前renderNode为优先绘制</span></li><li>renderNode.<span class="hljs-property">markNodeGroup</span> = <span class="hljs-literal">true</span>;</li><li>renderNode.<span class="hljs-property">opacity</span> = <span class="hljs-number">0.5</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> isNodeGroup = renderNode.<span class="hljs-property">markNodeGroup</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="lengthmetricsunit12" device-type="phone,2in1,tablet,wearable,tv">lengthMetricsUnit<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="lengthmetricsunit12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set lengthMetricsUnit(unit: LengthMetricsUnit)</p>     <p>设置RenderNode各个属性使用的单位。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">unit</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetricsunit12">LengthMetricsUnit</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置RenderNode各个属性使用的单位。</td>        </tr>             </tbody></table></div>     </div>     <p>get lengthMetricsUnit(): LengthMetricsUnit</p>     <p>获取RenderNode各个属性使用的单位。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#lengthmetricsunit12">LengthMetricsUnit</a></td>         <td class="cellrowborder" width="50%">获取RenderNode各个属性使用的单位，默认值为LengthMetricsUnit.DEFAULT。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span>, <span class="hljs-title class_">DrawContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">import</span> { drawing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics2D'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetricsUnit</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-comment">// 继承RenderNode，设置RenderNode各个属性使用的单位</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RenderNode</span> {</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">super</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lengthMetricsUnit</span> = <span class="hljs-title class_">LengthMetricsUnit</span>.<span class="hljs-property">PX</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 继承BaseRenderNode，实现自定义绘制方法</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyRenderNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BaseRenderNode</span> {</li><li>  <span class="hljs-title function_">draw</span>(<span class="hljs-params">context: DrawContext</span>) {</li><li>    <span class="hljs-keyword">const</span> canvas = context.<span class="hljs-property">canvas</span>;</li><li>    <span class="hljs-keyword">const</span> brush = <span class="hljs-keyword">new</span> drawing.<span class="hljs-title class_">Brush</span>();</li><li>    brush.<span class="hljs-title function_">setColor</span>({ <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span> });</li><li>    canvas.<span class="hljs-title function_">attachBrush</span>(brush);</li><li>    canvas.<span class="hljs-title function_">drawRect</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">200</span> });</li><li>    canvas.<span class="hljs-title function_">detachBrush</span>();</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyRenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">200</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff0000ff</span>;</li><li>renderNode.<span class="hljs-property">rotation</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">45</span> };</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="isdisposed20" device-type="phone,2in1,tablet,wearable,tv">isDisposed<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isdisposed20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isDisposed(): boolean</p>     <p>查询当前RenderNode对象是否已解除与后端实体节点的引用关系。前端节点均绑定有相应的后端实体节点，当节点调用dispose接口解除绑定后，再次调用接口可能会出现crash、返回默认值的情况。由于业务需求，可能存在节点在dispose后仍被调用接口的情况。为此，提供此接口以供开发者在操作节点前检查其有效性，避免潜在风险。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">后端实体节点是否解除引用。true为节点已与后端实体节点解除引用，false为节点未与后端实体节点解除引用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-iqm-c106="" class="highlight-div"><div _ngcontent-iqm-c106="" class="highlight-div-header"><div _ngcontent-iqm-c106="" class="highlight-div-header-left"><div _ngcontent-iqm-c106="" class="handle-button expand-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iqm-c106="" class="highlight-div-header-right"><div _ngcontent-iqm-c106="" class="handle-button ai-button"></div><div _ngcontent-iqm-c106="" class="handle-button line-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iqm-c106="" class="handle-button theme-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iqm-c106="" class="handle-button copy-button"><div _ngcontent-iqm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iqm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RenderNode</span>, <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> renderNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderNode</span>();</li><li>renderNode.<span class="hljs-property">frame</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">100</span> };</li><li>renderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xff2787d9</span>;</li><li>
</li><li><span class="hljs-comment">// 继承NodeController实现自定义UI控制器</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext);</li><li>
</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-property">size</span> = { <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">300</span> };</li><li>      rootRenderNode.<span class="hljs-property">backgroundColor</span> = <span class="hljs-number">0xffd5d5d5</span>;</li><li>      rootRenderNode.<span class="hljs-title function_">appendChild</span>(renderNode);</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">disposeRenderNode</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">const</span> rootRenderNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span>!.<span class="hljs-title function_">getRenderNode</span>();</li><li>    <span class="hljs-keyword">if</span> (rootRenderNode !== <span class="hljs-literal">null</span>) {</li><li>      rootRenderNode.<span class="hljs-title function_">removeChild</span>(renderNode);</li><li>    }</li><li>    renderNode.<span class="hljs-title function_">dispose</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">isDisposed</span>() : <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">if</span> (renderNode !== <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-comment">// 检查当前renderNode是否已经与后端节点解除引用</span></li><li>      <span class="hljs-keyword">if</span> (renderNode.<span class="hljs-title function_">isDisposed</span>()) {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-string">'renderNode isDisposed is true'</span>;</li><li>      }</li><li>      <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-string">'renderNode isDisposed is false'</span>;</li><li>      }</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">'renderNode is null'</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">myNodeController</span>: <span class="hljs-title class_">MyNodeController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">4</span> }) {</li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'RenderNode dispose'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">disposeRenderNode</span>();</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">''</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'RenderNode isDisposed'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">myNodeController</span>.<span class="hljs-title function_">isDisposed</span>();</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="571" originwidth="392" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.59559340416160735193155029213722:50001231000000:2800:FF3B184901C1160581B4E75239E3C1A4ECDE6CCCD98F6E66C4919AA0D43F4A1A.gif" width="392" height="571"></span></p>    </div>   </div>   <div></div></div>