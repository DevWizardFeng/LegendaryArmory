<h1 _ngcontent-upt-c119="" class="doc-title ng-star-inserted" title="RichEditor"> RichEditor </h1>

<div _ngcontent-upt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>支持图文混排和文本交互式编辑的组件。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该组件从API version 10开始支持。后续版本新增内容，采用上角标单独标记该内容的起始版本。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 182px;">     <h2 id="子组件" device-type="phone,2in1,tablet,wearable,tv">子组件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="子组件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>不包含子组件。</p>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;">     <h2 id="接口" device-type="phone,2in1,tablet,wearable,tv">接口<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="接口" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 405px;">     <h3 id="richeditor-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">RichEditor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditor-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RichEditor(value: RichEditorOptions)</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditoroptions">RichEditorOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">富文本组件初始化选项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 445px;">     <h3 id="richeditor12" device-type="phone,2in1,tablet,wearable,tv">RichEditor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RichEditor(options: RichEditorStyledStringOptions)</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">富文本组件初始化选项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 298px;">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-attributes">通用属性</a>外，还支持以下属性：</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>align属性只支持上方、中间和下方位置的对齐方式。</p>       <p>不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-border-image#borderimage">borderImage</a>属性。</p>      </div></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 950px;">     <h3 id="customkeyboard" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">customKeyboard<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="customkeyboard" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>customKeyboard(value: CustomBuilder, options?: KeyboardOptions)</p>     <p>设置自定义键盘。</p>     <p>当设置自定义键盘时，输入框激活后不会打开系统输入法，而是加载指定的自定义组件。</p>     <p>自定义键盘的高度可以通过自定义组件根节点的height属性设置，宽度不可设置，使用系统默认值。</p>     <p>自定义键盘无法获取焦点，但是会拦截手势事件。</p>     <p>默认在输入控件失去焦点时，关闭自定义键盘。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>该接口不支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>自定义键盘。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#keyboardoptions12">KeyboardOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>设置自定义键盘是否支持避让功能。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 772px;">     <h3 id="bindselectionmenu" device-type="phone,2in1,tablet,wearable,tv">bindSelectionMenu<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindselectionmenu" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindSelectionMenu(spanType: RichEditorSpanType, content: CustomBuilder, responseType: ResponseType | RichEditorResponseType,</p>     <p>options?: SelectionMenuOptions)</p>     <p>设置自定义选择菜单。自定义菜单超长时，建议内部嵌套<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-scroll">Scroll</a>组件使用，避免键盘被遮挡。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">spanType</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspantype">RichEditorSpanType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>菜单的类型。</p>          <p>默认值：</p>          <p>RichEditorSpanType.TEXT</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">菜单的内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">responseType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#responsetype8">ResponseType</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorresponsetype11">RichEditorResponseType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>菜单的响应类型。</p>          <p>默认值：</p>          <p>ResponseType.LongPress</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#selectionmenuoptions">SelectionMenuOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">菜单的选项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 813px;">     <h3 id="copyoptions" device-type="phone,2in1,tablet,wearable,tv">copyOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="copyoptions" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>copyOptions(value: CopyOptions)</p>     <p>设置组件是否支持文本内容可复制粘贴。</p>     <p>从API version 20开始，RichEditor组件在执行复制或剪切操作时，会将HTML格式的内容添加到剪贴板中。</p>     <ul>      <li>       <p>仅支持TextSpan和ImageSpan向剪贴板中添加HTML内容，其他Span类型（如BuilderSpan、SymbolSpan、CustomSpan）则不能添加。</p></li>      <li>       <p>设置RichEditor组件的属性字符串时，请参考属性字符串<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#tohtml14">toHtml</a>接口文档，以了解支持转换为HTML的范围。</p></li>     </ul>     <p>copyOptions不为CopyOptions.None时，长按组件内容，会弹出文本选择菜单。如果通过bindSelectionMenu等方式自定义文本选择菜单，则会弹出自定义的菜单。</p>     <p>设置copyOptions为CopyOptions.None时，禁用复制、剪切、翻译、分享、搜索、帮写功能，且不支持拖拽操作。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#copyoptions9">CopyOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>组件支持文本内容是否可复制粘贴。</p>          <p>默认值：CopyOptions.LocalDevice</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1417px;">     <h3 id="enabledatadetector11" device-type="phone,2in1,tablet,wearable,tv">enableDataDetector<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enabledatadetector11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableDataDetector(enable: boolean)</p>     <p>设置是否进行文本特殊实体识别。</p>     <p>该接口依赖设备底层应具有文本识别能力，否则设置不会生效。</p>     <p>当enableDataDetector设置为true且未指定<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#datadetectorconfig11">dataDetectorConfig</a>属性时，系统将默认识别所有类型的实体，并将这些实体的color和decoration更改为预设样式：</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attr">color</span>: <span class="hljs-string">'#ff007dff'</span></li><li><span class="hljs-attr">decoration</span>:{</li><li>  <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>,</li><li>  <span class="hljs-attr">color</span>: <span class="hljs-string">'#ff007dff'</span>,</li><li>  <span class="hljs-attr">style</span>: <span class="hljs-title class_">TextDecorationStyle</span>.<span class="hljs-property">SOLID</span></li><li>}</li></ol></pre></div></div>     <p>触摸点击或鼠标右键点击实体时，会根据实体类型弹出对应的实体操作菜单，鼠标左键点击实体会直接响应菜单的第一个选项。</p>     <p>对addBuilderSpan的节点文本，该功能不会生效。</p>     <p>当copyOptions设置为CopyOptions.None时，点击实体弹出的菜单没有选择文本和复制功能。</p>     <p>从API version 20开始，组件文本选择菜单支持显示AI菜单。</p>     <p>当enableDataDetector设置为true，并且<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#copyoptions">copyOptions</a>设置为CopyOptions.LocalDevice或CopyOptions.CROSS_DEVICE，组件在非编辑态选中内容，选中区包含单个AI实体时，根据AI实体的类型，在文本选择菜单中显示AI菜单选项。</p>     <p>AI菜单选项包括<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#textmenuitemid12">TextMenuItemId</a>中的url（打开链接）、email（新建邮件）、phoneNumber（呼叫）、address（导航至该位置）、dateTime（新建日程提醒）。</p>     <p>从API version 20开始，组件文本选择菜单支持显示问问小艺。</p>     <p>组件在编辑态下，<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#copyoptions">copyOptions</a>设置为CopyOptions.LocalDevice或CopyOptions.CROSS_DEVICE，组件内选中任意文本内容时，文本选择菜单与鼠标右键菜单中都可以显示问问小艺选项。组件在非编辑态下，enableDataDetector设置为true，并且<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#copyoptions">copyOptions</a>设置为CopyOptions.LocalDevice或CopyOptions.CROSS_DEVICE，组件内选中文本，文本选择菜单与鼠标右键菜单中不显示其他AI菜单时，显示问问小艺选项。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.18.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.18.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.18.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.18.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>使能文本识别。</p>          <p>true表示使能文本特殊实体识别，false表示不使能文本特殊实体识别。</p>          <p>默认值： false</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 661px;">     <h3 id="datadetectorconfig11" device-type="phone,2in1,tablet,wearable,tv">dataDetectorConfig<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="datadetectorconfig11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>dataDetectorConfig(config: TextDataDetectorConfig)</p>     <p>设置文本特殊实体识别配置，可配置识别类型、实体显示样式，并可选择是否开启长按预览功能。</p>     <p>需配合<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#enabledatadetector11">enableDataDetector</a>一起使用，设置enableDataDetector为true时，dataDetectorConfig的配置才能生效。</p>     <p>当有两个实体A、B重叠时，按以下规则保留实体：</p>     <p>1. 若A ⊂ B，则保留B，反之则保留A。</p>     <p>2. 当A ⊄ B且B ⊄ A时，若A.start &lt; B.start，则保留A，反之则保留B。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">config</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#textdatadetectorconfig11对象说明">TextDataDetectorConfig</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本识别配置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 982px;">     <h3 id="enablepreviewtext12" device-type="phone,2in1,tablet,wearable,tv">enablePreviewText<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablepreviewtext12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enablePreviewText(enable: boolean)</p>     <p>设置是否开启预上屏功能。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 18开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>使能预上屏功能。</p>          <p>true表示开启，false表示不开启。</p>          <p>默认值： true</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      </div></div></div>     <p>该接口在CAPI场景使用时默认关闭。可以在工程的module.json5中配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-structure#metadata对象内部结构" target="_blank">metadata</a>字段控制是否启用预上屏，配置如下：</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attr">"metadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"can_preview_text"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"true"</span><span class="hljs-punctuation">,</span></li><li> <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">]</span></li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 630px;">     <h3 id="placeholder12" device-type="phone,2in1,tablet,wearable,tv">placeholder<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="placeholder12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>placeholder(value: ResourceStr, style?: PlaceholderStyle)</p>     <p>设置无输入时的提示文本。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 18开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">无输入时的提示文本。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">style</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#placeholderstyle12">PlaceholderStyle</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>提示文本的字体样式。</p>          <p>缺省时默认跟随主题。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="caretcolor12" device-type="phone,2in1,tablet,wearable,tv">caretColor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="caretcolor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>caretColor(value: ResourceColor)</p>     <p>设置输入框光标、手柄颜色。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>输入框光标、手柄颜色。</p>          <p>默认值：'#007DFF'</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="selectedbackgroundcolor12" device-type="phone,2in1,tablet,wearable,tv">selectedBackgroundColor<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="selectedbackgroundcolor12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>selectedBackgroundColor(value: ResourceColor)</p>     <p>设置文本选中的底板颜色。如果未设置不透明度，默认为20%不透明度。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本选中的底板颜色。</p>          <p>默认为20%不透明度。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 633px;">     <h3 id="editmenuoptions12" device-type="phone,2in1,tablet,wearable,tv">editMenuOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="editmenuoptions12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>editMenuOptions(editMenu: EditMenuOptions)</p>     <p>设置系统默认菜单的扩展项，允许配置扩展项的文本内容、图标和回调方法。</p>     <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-textmenucontroller#disablemenuitems20">disableMenuItems</a>或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-textmenucontroller#disablesystemservicemenuitems20">disableSystemServiceMenuItems</a>接口屏蔽文本选择菜单内的系统服务菜单项时，editMenuOptions接口内回调方法<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#oncreatemenu12">onCreateMenu</a>的入参列表中不包含被屏蔽的菜单选项。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 18开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">editMenu</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#editmenuoptions">EditMenuOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">扩展菜单选项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="enterkeytype12" device-type="phone,2in1,tablet,wearable,tv">enterKeyType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enterkeytype12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enterKeyType(value: EnterKeyType)</p>     <p>设置软键盘输入法回车键类型。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#enterkeytype枚举说明">EnterKeyType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>软键盘输入法回车键类型。</p>          <p>默认为EnterKeyType.NEW_LINE。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 681px;">     <h3 id="enablekeyboardonfocus12" device-type="phone,2in1,tablet,wearable,tv">enableKeyboardOnFocus<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablekeyboardonfocus12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableKeyboardOnFocus(isEnabled: boolean)</p>     <p>设置RichEditor通过点击以外的方式获焦时，是否主动拉起软键盘。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 18开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isEnabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>通过点击以外的方式获焦时，是否主动拉起软键盘。</p>          <p>true表示主动拉起软键盘，false表示不主动拉起软键盘。</p>          <p>默认值： true</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 585px;">     <h3 id="barstate13" device-type="phone,2in1,tablet,wearable,tv">barState<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="barstate13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>barState(state: BarState)</p>     <p>设置RichEditor滚动条的显示模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 18开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">state</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#barstate">BarState</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>输入框滚动条的显示模式。</p>          <p>默认值：BarState.Auto</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 613px;">     <h3 id="maxlength18" device-type="phone,2in1,tablet,wearable,tv">maxLength<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="maxlength18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>maxLength(maxLength: Optional&lt;number&gt;)</p>     <p>设置组件内容的最大长度。当内容（包含文本、图片、Symbol和Builder）的总长度达到此值时，将无法继续添加内容。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">maxLength</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本的最大输入字符数。</p>          <p>默认值：Infinity，可以无限输入，支持undefined类型。</p>          <p><strong>说明：</strong></p>          <p>当不设置该属性或设置异常值时，取默认值，设置小数时，取整数部分。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 733px;">     <h3 id="maxlines18" device-type="phone,2in1,tablet,wearable,tv">maxLines<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="maxlines18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>maxLines(maxLines: Optional&lt;number&gt;)</p>     <p>设置富文本可显示的最大行数。maxLines为可显示行数，当设置maxLines时，超出内容可滚动显示。同时设置组件高度和最大行数，组件高度优先生效。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">maxLines</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;number&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置富文本可显示的最大行数。maxLines为可显示行数，当设置maxLines时，超出内容可滚动显示。同时设置组件高度和最大行数，组件高度优先生效。</p>          <p>默认值：UINT32_MAX，可以无限输入，支持undefined类型。</p>          <p>取值范围：(0, UINT32_MAX]</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 777px;">     <h3 id="enablehapticfeedback13" device-type="phone,2in1,tablet,wearable,tv">enableHapticFeedback<sup>13+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enablehapticfeedback13" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableHapticFeedback(isEnabled: boolean)</p>     <p>设置RichEditor是否支持触感反馈。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 20开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isEnabled</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>控制触感反馈的开关。</p>          <p>默认值：true。true表示开启触感反馈，false表示关闭触感反馈。</p>          <p><strong>说明：</strong></p>          <p>触感反馈需应用具备ohos.permission.VIBRATE权限，用户已启用触感反馈，且系统硬件支持时才会生效。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 541px;">     <h3 id="keyboardappearance15" device-type="phone,2in1,tablet,wearable,tv">keyboardAppearance<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keyboardappearance15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>keyboardAppearance(appearance: Optional&lt;KeyboardAppearance&gt;)</p>     <p>设置键盘外观。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">appearance</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#keyboardappearance15枚举说明">KeyboardAppearance</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>键盘外观。</p>          <p>默认值：KeyboardAppearance.NONE_IMMERSIVE</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="stopbackpress18" device-type="phone,2in1,tablet,wearable,tv">stopBackPress<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopbackpress18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopBackPress(isStopped: Optional&lt;boolean&gt;)</p>     <p>设置是否阻止返回键传递。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isStopped</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否阻止返回键。</p>          <p>true表示阻止，false表示不阻止。</p>          <p>默认值：true。异常值取默认值。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="undostyle20" device-type="phone,2in1,tablet,wearable,tv">undoStyle<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="undostyle20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>undoStyle(style: Optional&lt;UndoStyle&gt;)</p>     <p>设置撤销还原时是否保留原内容的样式。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建RichEditor组件时，撤销还原时默认保留原内容样式，不受该接口设置的属性影响。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">style</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#undostyle20-1">UndoStyle</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">撤销还原是否保留原样式选项。默认值：UndoStyle.CLEAR_STYLE</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="enableautospacing20" device-type="phone,2in1,tablet,wearable,tv">enableAutoSpacing<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="enableautospacing20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>enableAutoSpacing(enable: Optional&lt;boolean&gt;)</p>     <p>设置是否开启中文与西文的自动间距。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enable</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否开启中文与西文的自动间距。</p>          <p>true为开启自动间距，false为不开启。</p>          <p>默认值：false</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 565px;">     <h3 id="scrollbarcolor21" device-type="phone,2in1,tablet,wearable,tv">scrollBarColor<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scrollbarcolor21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scrollBarColor(color: Optional&lt;ColorMetrics&gt;)</p>     <p>设置组件滚动条颜色。</p>     <p><strong>元服务API：</strong> 从API version 21开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">color</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-graphics#colormetrics12">ColorMetrics</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>设置组件滚动条颜色。</p>          <p>默认值：'#66182431'，显示为灰色。</p>          <p><strong>说明：</strong> 设置异常值时按默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="事件" device-type="phone,2in1,tablet,wearable,tv">事件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="事件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-events">通用事件</a>外，还支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#ondidchangecallback12">OnDidChangeCallback</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#styledstringchangedlistener12">StyledStringChangedListener</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#styledstringchangevalue12">StyledStringChangeValue</a>和以下事件：</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 477px;">     <h3 id="onready" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">onReady<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onready" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onReady(callback:Callback&lt;void&gt;)</p>     <p>富文本组件初始化完成后触发回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅富文本组件初始化完成的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 661px;">     <h3 id="onselect" device-type="phone,2in1,tablet,wearable,tv">onSelect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onselect" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onSelect(callback:Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorselection">RichEditorSelection</a>&gt;)</p>     <p>鼠标左键双击选中内容触发回调；松开鼠标左键再次触发回调。</p>     <p>手指长按选中内容触发回调；松开手指再次触发回调。</p>     <p>通过手指或鼠标连续修改选中区、三击选段场景，不回调onSelect。</p>     <p>需要实时感知选中区变化的场景和使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件，请使用onSelectionChange接口。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorselection">RichEditorSelection</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorselection">RichEditorSelection</a>为选中的所有span信息。</p>          <p>选择时触发的回调。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 661px;">     <h3 id="abouttoimeinput" device-type="phone,2in1,tablet,wearable,tv">aboutToIMEInput<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="abouttoimeinput" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>aboutToIMEInput(callback:Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorinsertvalue">RichEditorInsertValue</a>, boolean&gt;)</p>     <p>输入法输入内容前触发回调。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件不支持该回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorinsertvalue">RichEditorInsertValue</a>, boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorinsertvalue">RichEditorInsertValue</a>为输入法将要输入内容信息。</p>          <p>true:组件执行添加内容操作。</p>          <p>false:组件不执行添加内容操作。</p>          <p>输入法输入内容前的回调。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 657px;">     <h3 id="ondidimeinput12" device-type="phone,2in1,tablet,wearable,tv">onDidIMEInput<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondidimeinput12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onDidIMEInput(callback:Callback&lt;TextRange&gt;)</p>     <p>输入法输入完成后，触发回调。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件不支持该回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 20开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#textrange12">TextRange</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>TextRange为输入法本次输入内容的范围。</p>          <p>输入法完成输入时的回调。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 637px;">     <h3 id="onimeinputcomplete" device-type="phone,2in1,tablet,wearable,tv">onIMEInputComplete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onimeinputcomplete" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onIMEInputComplete(callback:Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a>&gt;)</p>     <p>输入法输入完成后，触发回调。</p>     <p>该接口仅支持返回一个文本span的信息，当编辑操作涉及返回多个文本span信息时，建议使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#ondidimeinput12">onDidIMEInput</a>接口。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件不支持该回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a>为输入法完成输入后的文本Span信息。</p>          <p>输入法完成输入后的回调。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 685px;">     <h3 id="abouttodelete" device-type="phone,2in1,tablet,wearable,tv">aboutToDelete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="abouttodelete" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>aboutToDelete(callback:Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditordeletevalue">RichEditorDeleteValue</a>, boolean&gt;)</p>     <p>输入法删除内容前，触发回调。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件不支持该回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditordeletevalue">RichEditorDeleteValue</a>, boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditordeletevalue">RichEditorDeleteValue</a>为准备删除的内容所在的文本或者图片Span信息。</p>          <p>true:组件执行删除操作。</p>          <p>false:组件不执行删除操作。</p>          <p>输入法删除内容前的回调，英文预上屏点击候选词时会执行该回调。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 541px;">     <h3 id="ondeletecomplete" device-type="phone,2in1,tablet,wearable,tv">onDeleteComplete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondeletecomplete" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onDeleteComplete(callback:Callback&lt;void&gt;)</p>     <p>输入法删除内容后，触发回调。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件不支持该回调。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅输入法完成删除内容的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 469px;">     <h3 id="onpaste11" device-type="phone,2in1,tablet,wearable,tv">onPaste<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onpaste11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onPaste(callback: <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#pasteeventcallback12">PasteEventCallback</a> )</p>     <p>粘贴时，触发回调。开发者可以通过该方法，覆盖系统默认行为，实现图文的粘贴。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#pasteeventcallback12">PasteEventCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅粘贴时的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 589px;">     <h3 id="onselectionchange12" device-type="phone,2in1,tablet,wearable,tv">onSelectionChange<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onselectionchange12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onSelectionChange(callback:Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a>&gt;)</p>     <p>内容选择区域或编辑状态下的光标位置发生变化时，将触发该回调。光标位置变化时，回调中选择区域的起始和终止位置相等。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a>为所有内容的选择区域起始和终止位置。</p>          <p>订阅文本选择区域发生变化或编辑状态下光标位置发生变化时触发的回调。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="oneditingchange12" device-type="phone,2in1,tablet,wearable,tv">onEditingChange<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oneditingchange12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onEditingChange(callback: Callback&lt;boolean&gt;)</p>     <p>组件内容的编辑状态发生变化时触发该回调函数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">true表示编辑态，false表示非编辑态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 469px;">     <h3 id="onsubmit12" device-type="phone,2in1,tablet,wearable,tv">onSubmit<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onsubmit12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onSubmit(callback: SubmitCallback)</p>     <p>按下软键盘输入法回车键时触发该回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#submitcallback12">SubmitCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">订阅事件的回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 705px;">     <h3 id="onwillchange12" device-type="phone,2in1,tablet,wearable,tv">onWillChange<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onwillchange12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onWillChange(callback: Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorchangevalue12">RichEditorChangeValue</a> , boolean&gt;)</p>     <p>在组件执行增删操作前，触发回调。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件不支持该回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 18开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorchangevalue12">RichEditorChangeValue</a> , boolean&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorchangevalue12">RichEditorChangeValue</a>为图文变化信息；boolean表示当前图文是否允许被更改，true：允许图文被更改；false：不允许图文被更改。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h3 id="ondidchange12" device-type="phone,2in1,tablet,wearable,tv">onDidChange<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ondidchange12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onDidChange(callback: OnDidChangeCallback)</p>     <p>在组件执行增删操作后，触发回调。如果文本实际未发生增删，则不触发该回调。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件不支持该回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 18开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#ondidchangecallback12">OnDidChangeCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图文变化前后的内容范围。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="oncut12" device-type="phone,2in1,tablet,wearable,tv">onCut<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncut12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onCut(callback: Callback&lt;CutEvent&gt;)</p>     <p>剪切时触发回调。开发者可以通过该方法，覆盖系统默认行为，实现图文的剪切。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件，默认支持图文的剪切。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#cutevent12">CutEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义用户剪切事件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 517px;">     <h3 id="oncopy12" device-type="phone,2in1,tablet,wearable,tv">onCopy<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncopy12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onCopy(callback: Callback&lt;CopyEvent&gt;)</p>     <p>复制时触发回调。开发者可以通过该方法，覆盖系统默认行为，实现图文的复制。</p>     <p>使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringoptions12">RichEditorStyledStringOptions</a>构建的RichEditor组件，默认支持图文的复制。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#copyevent12">CopyEvent</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">定义用户复制事件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 759px;">     <h2 id="richeditorinsertvalue" device-type="phone,2in1,tablet,wearable,tv">RichEditorInsertValue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorinsertvalue" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>插入文本的信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.45.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">insertOffset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>插入的文本偏移位置。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">insertValue</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>插入的文本内容。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">previewText<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>插入的预上屏文本内容。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 636px;">     <h2 id="richeditordeletevalue" device-type="phone,2in1,tablet,wearable,tv">RichEditorDeleteValue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditordeletevalue" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>删除操作和被删除内容的信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.46.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">删除内容的偏移位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">direction</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditordeletedirection">RichEditorDeleteDirection</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">删除操作的方向。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">length</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">删除内容长度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">richEditorDeleteSpans</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanresult">RichEditorImageSpanResult</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">删除的文本或图片Span的信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 456px;">     <h2 id="richeditordeletedirection" device-type="phone,2in1,tablet,wearable,tv">RichEditorDeleteDirection<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditordeletedirection" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>删除方向。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.47.5.1.3.1.1" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.47.5.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">BACKWARD</td>         <td class="cellrowborder" width="50%">向后删除。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">FORWARD</td>         <td class="cellrowborder" width="50%">向前删除。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1725px;">     <h2 id="richeditortextspanresult" device-type="phone,2in1,tablet,wearable,tv">RichEditorTextSpanResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditortextspanresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文本Span信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.48.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">spanPosition</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspanposition">RichEditorSpanPosition</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>Span位置。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">value</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>文本Span内容或Symbol的id。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyleresult">RichEditorTextStyleResult</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>文本Span样式信息。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">offsetInSpan</td>         <td class="cellrowborder" width="20%">[number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>文本Span内容里有效内容的起始和结束位置。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">valueResource<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>组件SymbolSpan内容。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">symbolSpanStyle<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorsymbolspanstyle11">RichEditorSymbolSpanStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>组件SymbolSpan样式信息。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">paragraphStyle<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphstyle11">RichEditorParagraphStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>段落样式。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">previewText<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本Span预上屏内容。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">urlStyle<sup>19+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorurlstyle19">RichEditorUrlStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>url信息。</p>          <p>默认值：undefined</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="richeditorspanposition" device-type="phone,2in1,tablet,wearable,tv">RichEditorSpanPosition<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorspanposition" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Span位置信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.49.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.49.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">spanIndex</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Span索引值。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">spanRange</td>         <td class="cellrowborder" width="20%">[number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Span内容在RichEditor内的起始和结束位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 849px;">     <h2 id="richeditorspantype" device-type="phone,2in1,tablet,wearable,tv">RichEditorSpanType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorspantype" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Span类型信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.50.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.50.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">TEXT</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>Span类型为文字。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">IMAGE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>Span类型为图像。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MIXED</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>Span类型为图文混合。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">BUILDER<sup>12+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>Span类型为BuilderSpan。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DEFAULT<sup>15+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">4</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>注册此类型的菜单，但未注册TEXT、IMAGE、MIXED、BUILDER菜单时，文字类型、图像类型、图文混合类型、BuilderSpan类型都会触发并显示此类型对应的菜单。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 756px;">     <h2 id="richeditorresponsetype11" device-type="phone,2in1,tablet,wearable,tv">RichEditorResponseType<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorresponsetype11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>菜单的响应类型。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.4.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.4.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.51.4.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">RIGHT_CLICK</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>通过鼠标右键触发菜单弹出。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">LONG_PRESS</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>通过长按触发菜单弹出。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">SELECT</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>通过鼠标选中触发菜单弹出。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">DEFAULT<sup>15+</sup></td>         <td class="cellrowborder" width="33.33333333333333%">3</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>注册此响应类型的菜单，但未注册RIGHT_CLICK、LONG_PRESS、SELECT响应类型的菜单时，通过鼠标右键、长按、鼠标选中都会触发菜单弹出。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="undostyle20-1" device-type="phone,2in1,tablet,wearable,tv">UndoStyle<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="undostyle20-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>撤销还原是否保留原样式选项。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.52.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.52.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">CLEAR_STYLE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">撤销还原内容不保留原样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">KEEP_STYLE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">撤销还原内容保留原样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3397px;">     <h2 id="richeditortextstyleresult" device-type="phone,2in1,tablet,wearable,tv">RichEditorTextStyleResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditortextstyleresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>后端返回的文本样式信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.53.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.53.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fontColor</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>文本颜色。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontSize</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>字体大小，默认单位为fp。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontStyle</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#fontstyle">FontStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>字体样式。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWeight</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>字体粗细。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontFamily</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>字体列表。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">decoration</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#decorationstyleresult12">DecorationStyleResult</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>文本装饰线样式信息。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textShadow<sup>12+</sup></td>         <td class="cellrowborder" width="20%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#shadowoptions对象说明">ShadowOptions</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文字阴影效果。</p>          <p><strong>说明：</strong></p>          <p>仅支持查询阴影模糊半径、颜色和偏移量。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineHeight<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本行高，默认单位为fp。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">letterSpacing<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本字符间距，默认单位为fp。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontFeature<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文字特性效果。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">halfLeading<sup>18+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本是否将行间距平分至行的顶部与底部。</p>          <p>true表示将行间距平分至行的顶部与底部，false则不平分。</p>          <p>默认值：false。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textBackgroundStyle<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-span#textbackgroundstyle11对象说明">TextBackgroundStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本背景样式。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>在RichEditorTextStyle中，fontWeight是设置字体粗细的输入参数。</p>       <p>而在RichEditorTextStyleResult中，会将之前设置的字体粗细转换为数字后返回。</p>       <p>转换关系如下：</p>       <div class="tablenoborder">        <div class="tbBox"><table class="tableClass2_t">                            <tbody><tr class="firstRow">           <th align="left" class="cellrowborder" id="mcps1.3.53.5.4.1.3.1.1" width="50%">RichEditorTextStyle中的fontWeight</th>           <th align="left" class="cellrowborder" id="mcps1.3.53.5.4.1.3.1.2" width="50%">RichEditorTextStyleResult中的fontWeight</th>          </tr><tr>           <td class="cellrowborder" width="50%">100</td>           <td class="cellrowborder" width="50%">0</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">200</td>           <td class="cellrowborder" width="50%">1</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">300</td>           <td class="cellrowborder" width="50%">2</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">400</td>           <td class="cellrowborder" width="50%">3</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">500</td>           <td class="cellrowborder" width="50%">4</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">600</td>           <td class="cellrowborder" width="50%">5</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">700</td>           <td class="cellrowborder" width="50%">6</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">800</td>           <td class="cellrowborder" width="50%">7</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">900</td>           <td class="cellrowborder" width="50%">8</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">Lighter</td>           <td class="cellrowborder" width="50%">12</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">Normal</td>           <td class="cellrowborder" width="50%">10</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">Regular</td>           <td class="cellrowborder" width="50%">14</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">Medium</td>           <td class="cellrowborder" width="50%">13</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">Bold</td>           <td class="cellrowborder" width="50%">9</td>          </tr>          <tr>           <td class="cellrowborder" width="50%">Bolder</td>           <td class="cellrowborder" width="50%">11</td>          </tr>                 </tbody></table></div>       </div>       <p>RichEditorSymbolSpanStyle和RichEditorSymbolSpanStyleResult中fontWeight的转换关系，</p>       <p>与RichEditorTextStyle和RichEditorTextStyleResult中fontWeight的转换关系一致。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1305px;">     <h2 id="richeditorsymbolspanstyleresult11" device-type="phone,2in1,tablet,wearable,tv">RichEditorSymbolSpanStyleResult<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorsymbolspanstyleresult11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>后端返回的SymbolSpan样式信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.54.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.54.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fontColor</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>SymbolSpan组件颜色。</p>          <p>默认值：不同渲染策略下默认值不同。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontSize</td>         <td class="cellrowborder" width="20%">number | string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>SymbolSpan组件大小，默认单位为fp。</p>          <p>默认值：跟随主题。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWeight</td>         <td class="cellrowborder" width="20%">number | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#fontweight">FontWeight</a> | string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>SymbolSpan组件粗细。</p>          <p>number类型取值[100,900]，取值间隔为100，默认为400，取值越大，字体越粗。</p>          <p>string类型仅支持number类型取值的字符串形式，例如“400”，以及“bold”、“bolder”、“lighter”、“regular” 、“medium”分别对应FontWeight中相应的枚举值。</p>          <p>默认值：FontWeight.Normal。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">renderingStrategy</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-symbolglyph#symbolrenderingstrategy11枚举说明">SymbolRenderingStrategy</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>SymbolSpan组件渲染策略。</p>          <p>默认值：SymbolRenderingStrategy.SINGLE。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">effectStrategy</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-symbolglyph#symboleffectstrategy11枚举说明">SymbolEffectStrategy</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>SymbolSpan组件动效策略。</p>          <p>默认值：SymbolEffectStrategy.NONE。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 633px;">     <h2 id="richeditorimagespanresult" device-type="phone,2in1,tablet,wearable,tv">RichEditorImageSpanResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorimagespanresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>后端返回的图片信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.55.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.55.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">spanPosition</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspanposition">RichEditorSpanPosition</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Span位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">valuePixelMap</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">图片内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">valueResourceStr</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">图片资源id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">imageStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanstyleresult">RichEditorImageSpanStyleResult</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图片样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">offsetInSpan</td>         <td class="cellrowborder" width="20%">[number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Span里图片的起始和结束位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1116px;">     <h2 id="richeditorimagespanstyleresult" device-type="phone,2in1,tablet,wearable,tv">RichEditorImageSpanStyleResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorimagespanstyleresult" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>后端返回的图片样式信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.56.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">size</td>         <td class="cellrowborder" width="20%">[number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片的宽度和高度，单位为px。默认值：size的默认值与objectFit的值有关，不同的objectFit值对应的size默认值也不同。objectFit的值为Cover时，图片高度为组件高度减去组件上下内边距，图片宽度为组件宽度减去组件左右内边距。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">verticalAlign</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#imagespanalignment10">ImageSpanAlignment</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片垂直对齐方式。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">objectFit</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#imagefit">ImageFit</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片缩放类型。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">layoutStyle<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorlayoutstyle11">RichEditorLayoutStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>图片布局风格。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 666px;">     <h2 id="richeditorlayoutstyle11" device-type="phone,2in1,tablet,wearable,tv">RichEditorLayoutStyle<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorlayoutstyle11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>图片布局信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.57.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.57.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">margin</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#margin">Margin</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>外边距类型，用于描述组件不同方向的外边距。</p>          <p>参数为Dimension类型时，四个方向外边距同时生效。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">borderRadius</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#borderradiuses9">BorderRadiuses</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>圆角类型，用于描述组件边框圆角半径。</p>          <p>参数为Dimension类型时，不支持以Percentage形式设置。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 381px;">     <h2 id="richeditoroptions" device-type="phone,2in1,tablet,wearable,tv">RichEditorOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditoroptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RichEditor初始化参数。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.58.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.58.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">controller</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorcontroller">RichEditorController</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">富文本控制器。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h2 id="richeditorstyledstringoptions12" device-type="phone,2in1,tablet,wearable,tv">RichEditorStyledStringOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorstyledstringoptions12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RichEditor初始化参数。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.59.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.59.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">controller</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringcontroller12">RichEditorStyledStringController</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">富文本控制器。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 612px;">     <h2 id="richeditorchangevalue12" device-type="phone,2in1,tablet,wearable,tv">RichEditorChangeValue<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorchangevalue12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>图文变化信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.60.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">rangeBefore</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#textrange12">TextRange</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">即将被替换内容的开始和结束索引。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">replacedSpans</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">替换后文本Span的具体信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">replacedImageSpans</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanresult">RichEditorImageSpanResult</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">替换后ImageSpan的具体信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">replacedSymbolSpans</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">替换后SymbolSpan的具体信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="richeditorbasecontroller12" device-type="phone,2in1,tablet,wearable,tv">RichEditorBaseController<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorbasecontroller12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RichEditor组件控制器基类。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 521px;">     <h3 id="getcaretoffset10" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getCaretOffset<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcaretoffset10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCaretOffset(): number</p>     <p>返回当前光标所在位置。</p>     <p>当无法获取光标位置时（例如controller未与组件绑定时），该接口返回-1。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">当前光标所在位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 688px;">     <h3 id="setcaretoffset10" device-type="phone,2in1,tablet,wearable,tv">setCaretOffset<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setcaretoffset10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setCaretOffset(offset: number): boolean</p>     <p>设置光标位置。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">offset</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">光标偏移位置。超出所有内容范围时，设置失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">          <p>光标是否设置成功。</p>          <p>true表示光标位置设置成功，false表示未成功。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 318px;">     <h3 id="closeselectionmenu10" device-type="phone,2in1,tablet,wearable,tv">closeSelectionMenu<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="closeselectionmenu10" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>closeSelectionMenu(): void</p>     <p>关闭自定义选择菜单或系统默认选择菜单。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="gettypingstyle11" device-type="phone,2in1,tablet,wearable,tv">getTypingStyle<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="gettypingstyle11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getTypingStyle(): RichEditorTextStyle</p>     <p>获取用户预设的文本样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">RichEditorTextStyle</a></td>         <td class="cellrowborder" width="50%">用户预设样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 469px;">     <h3 id="settypingstyle11" device-type="phone,2in1,tablet,wearable,tv">setTypingStyle<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settypingstyle11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTypingStyle(value: RichEditorTextStyle): void</p>     <p>设置用户预设的文本样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">RichEditorTextStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">预设样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 469px;">     <h3 id="settypingparagraphstyle20" device-type="phone,2in1,tablet,wearable,tv">setTypingParagraphStyle<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="settypingparagraphstyle20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setTypingParagraphStyle(style: RichEditorParagraphStyle): void</p>     <p>设置用户预设的段落样式。仅在组件内容为空或组件末尾换行后，输入文本生效。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">style</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphstyle11">RichEditorParagraphStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">预设段落样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 887px;">     <h3 id="setselection11" device-type="phone,2in1,tablet,wearable,tv">setSelection<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setselection11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setSelection(selectionStart: number, selectionEnd: number, options?: SelectionOptions): void</p>     <p>支持设置组件内的内容选中，选中部分背板高亮。</p>     <p>selectionStart和selectionEnd均为-1时表示全选，均为0时可以清空选中区。</p>     <p>未获焦时调用该接口不产生选中效果。</p>     <p>从API version 12开始，在2in1设备中，无论options取何值，调用setSelection接口都不会弹出菜单，此外，如果组件中已经存在菜单，调用setSelection接口会关闭菜单。</p>     <p>在非2in1设备中，options取值为MenuPolicy.DEFAULT时，遵循以下规则：</p>     <ol>      <li>       <p>组件内有手柄菜单时，接口调用后不关闭菜单，并且调整菜单位置。</p></li>      <li>       <p>组件内有不带手柄的菜单时，接口调用后不关闭菜单，并且菜单位置不变。</p></li>      <li>       <p>组件内无菜单时，接口调用后也无菜单显示。</p></li>     </ol>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.68.12.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.12.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.12.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.68.12.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">selectionStart</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">选中开始位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">selectionEnd</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">选中结束位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options<sup>12+</sup></td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-text-style#selectionoptions12对象说明">SelectionOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">选择项配置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="isediting12" device-type="phone,2in1,tablet,wearable,tv">isEditing<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isediting12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isEditing(): boolean</p>     <p>获取当前富文本的编辑状态。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">true为编辑态，false为非编辑态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 318px;">     <h3 id="stopediting12" device-type="phone,2in1,tablet,wearable,tv">stopEditing<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopediting12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stopEditing(): void</p>     <p>退出编辑态。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="getlayoutmanager12" device-type="phone,2in1,tablet,wearable,tv">getLayoutManager<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getlayoutmanager12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getLayoutManager(): LayoutManager</p>     <p>获取布局管理器对象。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#layoutmanager12">LayoutManager</a></td>         <td class="cellrowborder" width="50%">布局管理器对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="getpreviewtext12" device-type="phone,2in1,tablet,wearable,tv">getPreviewText<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpreviewtext12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPreviewText(): PreviewText</p>     <p>获取预上屏信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#previewtext12">PreviewText</a></td>         <td class="cellrowborder" width="50%">预上屏信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="getcaretrect18" device-type="phone,2in1,tablet,wearable,tv">getCaretRect<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcaretrect18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getCaretRect(): RectResult | undefined</p>     <p>返回当前光标与RichEditor组件的相对位置。如果光标不闪烁，返回undefined。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-on-child-touch-test#rectresult">RectResult</a> | undefined</td>         <td class="cellrowborder" width="50%">当前光标与RichEditor的相对位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 298px;">     <h2 id="richeditorcontroller" device-type="phone,2in1,tablet,wearable,tv">RichEditorController<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorcontroller" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RichEditor组件的控制器，继承自<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorbasecontroller12">RichEditorBaseController</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当内容的长度超过组件显示区域的高度时，调用插入接口（例如<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#addtextspan">addTextSpan</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#addimagespan">addImageSpan</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#addbuilderspan11">addBuilderSpan</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#addsymbolspan11">addSymbolSpan</a>），组件会自动滚动内容使得插入内容末尾可见。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 169px;">     <h3 id="导入对象" class="firsth2">导入对象<i class="anchor-icon anchor-icon-link" anchorid="导入对象" tips="复制节点链接"></i></h3>          <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>controller: RichEditorController = new <span class="hljs-built_in">RichEditorController</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 733px;">     <h3 id="addtextspan" device-type="phone,2in1,tablet,wearable,tv">addTextSpan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addtextspan" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addTextSpan(content: ResourceStr, options?: RichEditorTextSpanOptions): number</p>     <p>添加文本内容，如果组件光标闪烁，插入后光标位置更新为新插入文本的后面。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>文本内容。</p>          <p>从API version 20开始，支持Resource类型。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanoptions">RichEditorTextSpanOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">文本选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">添加完成的TextSpan在所有Span中的索引位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 757px;">     <h3 id="addimagespan" device-type="phone,2in1,tablet,wearable,tv">addImageSpan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addimagespan" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addImageSpan(value: PixelMap | ResourceStr, options?: RichEditorImageSpanOptions): number</p>     <p>添加图片内容，如果组件光标闪烁，插入后光标位置更新为新插入图片的后面。</p>     <p>不建议直接添加网络图片。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">图片内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanoptions">RichEditorImageSpanOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">图片选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">添加完成的ImageSpan在所有Span中的索引位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1241px;">     <h3 id="addbuilderspan11" device-type="phone,2in1,tablet,wearable,tv">addBuilderSpan<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addbuilderspan11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addBuilderSpan(value: CustomBuilder, options?: RichEditorBuilderSpanOptions): number</p>     <p>在RichEditor中添加用户自定义布局（BuilderSpan）。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>RichEditor组件添加占位Span，占位Span调用系统的measure方法计算真实的长宽和位置。</li>        <li>可通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorbuilderspanoptions11">RichEditorBuilderSpanOptions</a>设置此builder在RichEditor中的index（一个文字为一个单位）。</li>        <li>此占位Span不可获焦，支持拖拽，支持部分通用属性，占位、删除等能力等同于ImageSpan，长度视为一个文字。</li>        <li>支持通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#bindselectionmenu">bindSelectionMenu</a>设置自定义菜单。</li>        <li>不支持通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getspans">getSpans</a>，<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getselection11">getSelection</a>，<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#onselect">onSelect</a>，<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#abouttodelete">aboutToDelete</a>获取builderSpan信息。</li>        <li>不支持通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updatespanstyle">updateSpanStyle</a>，<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updateparagraphstyle11">updateParagraphStyle</a>等方式更新builder。</li>        <li>对此builder节点进行复制或粘贴不生效。</li>        <li>builder的布局约束由RichEditor传入，如果builder里最外层组件不设置大小，则会用RichEditor的大小作为maxSize。</li>        <li>builder的手势相关事件机制与通用手势事件相同，如果builder中未设置透传，则仅有builder中的子组件响应。</li>        <li>如果组件光标闪烁，插入后光标位置更新为新插入builder的后面。</li>       </ul>      </div></div></div>     <p>通用属性仅支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#size">size</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#padding">padding</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#margin">margin</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-layout-constraints#aspectratio">aspectRatio</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-border#borderstyle">borderStyle</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-border#borderwidth">borderWidth</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-border#bordercolor">borderColor</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-border#borderradius">borderRadius</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background#backgroundcolor">backgroundColor</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background#backgroundblurstyle9">backgroundBlurStyle</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-opacity">opacity</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#blur">blur</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background#backdropblur">backdropBlur</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#shadow">shadow</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#grayscale">grayscale</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#brightness">brightness</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#saturate">saturate</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#contrast">contrast</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#invert">invert</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#sepia">sepia</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#huerotate">hueRotate</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#colorblend">colorBlend</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#lineargradientblur12">linearGradientBlur</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sharp-clipping#clip12">clip</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-sharp-clipping#mask12">mask</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-foreground-blur-style#foregroundblurstyle">foregroundBlurStyle</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-accessibility#accessibilitygroup">accessibilityGroup</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-accessibility#accessibilitytext">accessibilityText</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-accessibility#accessibilitydescription">accessibilityDescription</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-accessibility#accessibilitylevel">accessibilityLevel</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#sphericaleffect12">sphericalEffect</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#lightupeffect12">lightUpEffect</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#pixelstretcheffect12">pixelStretchEffect</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义组件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorbuilderspanoptions11">RichEditorBuilderSpanOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">builder选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.78.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">添加完成的builderSpan在所有Span中的索引位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 757px;">     <h3 id="addsymbolspan11" device-type="phone,2in1,tablet,wearable,tv">addSymbolSpan<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addsymbolspan11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addSymbolSpan(value: Resource, options?: RichEditorSymbolSpanOptions ): number</p>     <p>在RichEditor中添加图标小符号（SymbolSpan），如果组件光标闪烁，插入后光标位置更新为新插入SymbolSpan的后面。</p>     <p>暂不支持手势、复制、拖拽处理。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">symbol资源信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorsymbolspanoptions11">RichEditorSymbolSpanOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">symbol选项。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.79.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">添加完成的SymbolSpan在所有Span中的索引位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 801px;">     <h3 id="updatespanstyle" device-type="phone,2in1,tablet,wearable,tv">updateSpanStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updatespanstyle" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateSpanStyle(value: RichEditorUpdateTextSpanStyleOptions | RichEditorUpdateImageSpanStyleOptions | RichEditorUpdateSymbolSpanStyleOptions): void</p>     <p>更新文本、图片或SymbolSpan样式。</p>     <p>若只更新了一个Span的部分内容，则会根据更新部分、未更新部分将该Span拆分为多个Span。</p>     <p>使用该接口更新文本、图片或SymbolSpan样式时默认不会关闭自定义文本选择菜单。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.80.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorupdatetextspanstyleoptions">RichEditorUpdateTextSpanStyleOptions</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorupdateimagespanstyleoptions">RichEditorUpdateImageSpanStyleOptions</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorupdatesymbolspanstyleoptions11">RichEditorUpdateSymbolSpanStyleOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本、图片或SymbolSpan的样式选项信息。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当start大于end时为异常情况，此时start为0，end为无穷大。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="updateparagraphstyle11" device-type="phone,2in1,tablet,wearable,tv">updateParagraphStyle<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="updateparagraphstyle11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>updateParagraphStyle(value: RichEditorParagraphStyleOptions): void</p>     <p>更新段落的样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphstyleoptions11">RichEditorParagraphStyleOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">段落的样式选项信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 664px;">     <h3 id="getspans" device-type="phone,2in1,tablet,wearable,tv">getSpans<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getspans" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSpans(value?: RichEditorRange): Array&lt;RichEditorImageSpanResult | RichEditorTextSpanResult&gt;</p>     <p>获取span信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要获取span范围。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanresult">RichEditorImageSpanResult</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a>&gt;</td>         <td class="cellrowborder" width="50%">文本和图片Span信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="deletespans" device-type="phone,2in1,tablet,wearable,tv">deleteSpans<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="deletespans" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>deleteSpans(value?: RichEditorRange): void</p>     <p>删除指定范围内的文本和图片。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.83.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">删除范围。省略时，删除所有文本和图片。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 640px;">     <h3 id="getparagraphs11" device-type="phone,2in1,tablet,wearable,tv">getParagraphs<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getparagraphs11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getParagraphs(value?: RichEditorRange): Array&lt;RichEditorParagraphResult&gt;</p>     <p>获取指定范围的段落信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">需要获取段落的范围。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.84.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphresult11">RichEditorParagraphResult</a>&gt;</td>         <td class="cellrowborder" width="50%">选中段落的信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="getselection11" device-type="phone,2in1,tablet,wearable,tv">getSelection<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getselection11" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSelection(): RichEditorSelection</p>     <p>获取选中内容。未选中时，返回光标所在span信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.85.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorselection">RichEditorSelection</a></td>         <td class="cellrowborder" width="50%">选中内容信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 859px;">     <h3 id="fromstyledstring12" device-type="phone,2in1,tablet,wearable,tv">fromStyledString<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fromstyledstring12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fromStyledString(value: StyledString): Array&lt;RichEditorSpan&gt;</p>     <p>将属性字符串转换为span信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#styledstring">StyledString</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">转换前的属性字符串。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspan12">RichEditorSpan</a>&gt;</td>         <td class="cellrowborder" width="50%">文本和图片Span信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.86.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.86.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">The parameter check failed.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 859px;">     <h3 id="tostyledstring12" device-type="phone,2in1,tablet,wearable,tv">toStyledString<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="tostyledstring12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toStyledString(value: RichEditorRange): StyledString</p>     <p>将给定范围的组件内容转换成属性字符串，SymbolSpan和BuilderSpan不支持转换。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要获取的范围。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#styledstring">StyledString</a></td>         <td class="cellrowborder" width="50%">转换后的属性字符串</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码详细介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.87.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.87.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">401</td>         <td class="cellrowborder" width="50%">The parameter check failed.</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 182px;">     <h2 id="richeditorstyledstringcontroller12" device-type="phone,2in1,tablet,wearable,tv">RichEditorStyledStringController<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorstyledstringcontroller12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>使用属性字符串构建的RichEditor组件的控制器，继承自<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorbasecontroller12">RichEditorBaseController</a>。</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 169px;">     <h3 id="导入对象-1" class="firsth2">导入对象<i class="anchor-icon anchor-icon-link" anchorid="导入对象-1" tips="复制节点链接"></i></h3>          <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>controller: RichEditorStyledStringController = new <span class="hljs-built_in">RichEditorStyledStringController</span>();</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="getselection12" device-type="phone,2in1,tablet,wearable,tv">getSelection<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getselection12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getSelection(): RichEditorRange</p>     <p>获取富文本当前的选中区域范围。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.90.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a></td>         <td class="cellrowborder" width="50%">选中区域范围。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 697px;">     <h3 id="setstyledstring12" device-type="phone,2in1,tablet,wearable,tv">setStyledString<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setstyledstring12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setStyledString(styledString: StyledString): void</p>     <p>设置富文本组件显示的属性字符串。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>调用该接口时，会全量替换富文本组件的StyledString，并重新渲染。</li>        <li>当内容超过组件本身区域时，组件会自动向上滚动内容直到末尾处可见。</li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.91.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">styledString</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#styledstring">StyledString</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>属性字符串。</p>          <p><strong>说明：</strong></p>          <p>StyledString的子类<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#mutablestyledstring">MutableStyledString</a>也可以作为入参值。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 489px;">     <h3 id="getstyledstring12" device-type="phone,2in1,tablet,wearable,tv">getStyledString<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getstyledstring12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getStyledString(): MutableStyledString</p>     <p>获取富文本组件显示的属性字符串。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.92.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#mutablestyledstring">MutableStyledString</a></td>         <td class="cellrowborder" width="50%">富文本组件显示的属性字符串</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 493px;">     <h3 id="oncontentchanged12" device-type="phone,2in1,tablet,wearable,tv">onContentChanged<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oncontentchanged12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onContentChanged(listener: StyledStringChangedListener): void</p>     <p>注册文本内容变化回调，该回调仅在后端程序导致文本内容变更时触发，调用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#setstyledstring12">setStyledString</a>时不会触发。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.93.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">listener</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#styledstringchangedlistener12">StyledStringChangedListener</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">文本内容变化回调监听器。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 498px;">     <h2 id="richeditorselection" device-type="phone,2in1,tablet,wearable,tv">RichEditorSelection<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorselection" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>选中内容信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.94.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.94.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">selection</td>         <td class="cellrowborder" width="20%">[number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">选中范围。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">spans</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanresult">RichEditorImageSpanResult</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">span信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 570px;">     <h2 id="richeditorrange" device-type="phone,2in1,tablet,wearable,tv">RichEditorRange<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorrange" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义RichEditor的范围。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.95.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.95.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">start</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">需要更新样式的文本起始位置，省略或者设置负值时表示从0开始。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">end</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">需要更新样式的文本结束位置，省略或者超出文本范围时表示无穷大。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 326px;">     <h2 id="richeditorspanstyleoptions" device-type="phone,2in1,tablet,wearable,tv">RichEditorSpanStyleOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorspanstyleoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文本样式选项。</p>     <p>继承自<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a>。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 642px;">     <h2 id="richeditorupdatetextspanstyleoptions" device-type="phone,2in1,tablet,wearable,tv">RichEditorUpdateTextSpanStyleOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorupdatetextspanstyleoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文本样式选项。</p>     <p>继承自<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspanstyleoptions">RichEditorSpanStyleOptions</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.97.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.97.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">textStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">RichEditorTextStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>文本样式。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">urlStyle<sup>19+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorurlstyle19">RichEditorUrlStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>url信息。</p>          <p>默认值：undefined</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 453px;">     <h2 id="richeditorupdateimagespanstyleoptions" device-type="phone,2in1,tablet,wearable,tv">RichEditorUpdateImageSpanStyleOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorupdateimagespanstyleoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>图片的样式选项。</p>     <p>继承自<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspanstyleoptions">RichEditorSpanStyleOptions</a>。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.98.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">imageStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanstyle">RichEditorImageSpanStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图片样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 453px;">     <h2 id="richeditorupdatesymbolspanstyleoptions11" device-type="phone,2in1,tablet,wearable,tv">RichEditorUpdateSymbolSpanStyleOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorupdatesymbolspanstyleoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>SymbolSpan样式选项。</p>     <p>继承自<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspanstyleoptions">RichEditorSpanStyleOptions</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.99.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">symbolStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorsymbolspanstyle11">RichEditorSymbolSpanStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">组件样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 545px;">     <h2 id="richeditorparagraphstyleoptions11" device-type="phone,2in1,tablet,wearable,tv">RichEditorParagraphStyleOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorparagraphstyleoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>段落样式选项。</p>     <p>继承自<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorrange">RichEditorRange</a>。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.100.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">style</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphstyle11">RichEditorParagraphStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">段落样式。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>接口作用的范围：设定的区间所涉及的段落。</p>      </div></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1806px;">     <h2 id="richeditorparagraphstyle11" device-type="phone,2in1,tablet,wearable,tv">RichEditorParagraphStyle<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorparagraphstyle11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>段落样式。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.101.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.101.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">textAlign</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#textalign">TextAlign</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文本段落在水平方向的对齐方式。默认值：TextAlign.START</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">leadingMargin</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a> | <a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#leadingmarginplaceholder11">LeadingMarginPlaceholder</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文本段落缩进，当段落仅存在ImageSpan或BuilderSpan时，此属性值不生效。参数为Dimension类型时，不支持以Percentage形式设置。默认值：{"size":["0.00px","0.00px"]}</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">wordBreak<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#wordbreak11">WordBreak</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置断行规则。</p>          <p>默认值：WordBreak.BREAK_WORD</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineBreakStrategy<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#linebreakstrategy12">LineBreakStrategy</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置折行规则。</p>          <p>默认值：LineBreakStrategy.GREEDY</p>          <p>在wordBreak不等于breakAll的时候生效，不支持连字符。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">paragraphSpacing<sup>19+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置段落间距大小。</p>          <p>单位：fp</p>          <p>段落间距默认大小为0。</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textVerticalAlign<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#textverticalalign20">TextVerticalAlign</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文本段落在垂直方向的对齐方式。</p>          <p>默认值：TextVerticalAlign.BASELINE</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 594px;">     <h2 id="leadingmarginplaceholder11" device-type="phone,2in1,tablet,wearable,tv">LeadingMarginPlaceholder<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="leadingmarginplaceholder11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>前导边距占位符，用于表示文本段落左侧与组件边缘之间的距离。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.102.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.102.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">pixelMap</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片内容。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">size</td>         <td class="cellrowborder" width="20%">[<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a>]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>图片大小，不支持设置百分比。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="richeditorparagraphresult11" device-type="phone,2in1,tablet,wearable,tv">RichEditorParagraphResult<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorparagraphresult11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>后端返回的段落信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.103.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">style</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphstyle11">RichEditorParagraphStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">段落样式。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">range</td>         <td class="cellrowborder" width="20%">[number, number]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">段落起始和结束位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1281px;">     <h2 id="richeditortextspanoptions" device-type="phone,2in1,tablet,wearable,tv">RichEditorTextSpanOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditortextspanoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>添加文本的偏移位置和文本样式信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.104.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.104.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>添加文本的位置。省略时，添加到所有内容的最后。</p>          <p>当值小于0时，放在所有内容最前面；当值大于所有内容长度时，放在所有内容最后面。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">style</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">RichEditorTextStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本样式信息。省略时，使用系统默认文本信息。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">paragraphStyle<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphstyle11">RichEditorParagraphStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>段落样式。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">gesture<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorgesture11">RichEditorGesture</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>行为触发回调。省略时，仅使用系统默认行为。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">urlStyle<sup>19+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorurlstyle19">RichEditorUrlStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>url信息。</p>          <p>默认值：undefined</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4812px;">     <h2 id="richeditortextstyle" device-type="phone,2in1,tablet,wearable,tv">RichEditorTextStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditortextstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文本样式信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.105.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.105.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fontColor</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本颜色。</p>          <p>默认值：$r('sys.color.font_primary')。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontSize</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a> | number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置字体大小，Length为number类型时，使用fp单位。字体默认大小16。不支持设置百分比字符串。字体大小设置为0时，显示默认字体大小。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontStyle</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#fontstyle">FontStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>字体样式。</p>          <p>默认值：FontStyle.Normal。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWeight</td>         <td class="cellrowborder" width="20%">number | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#fontweight">FontWeight</a> | string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>字体粗细。</p>          <p>number类型取值[100,900]，取值间隔为100，默认为400，取值越大，字体越粗。</p>          <p>string类型仅支持number类型取值的字符串形式，例如“400”，以及“bold”、“bolder”、“lighter”、“regular” 、“medium”分别对应FontWeight中相应的枚举值。</p>          <p>默认值：FontWeight.Normal。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontFamily</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置字体列表。默认字体'HarmonyOS Sans'，当前支持'HarmonyOS Sans'字体和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-font">注册自定义字体</a>。</p>          <p>默认字体:'HarmonyOS Sans'。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">decoration</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#decorationstyleinterface">DecorationStyleInterface</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文本装饰线的样式、颜色和粗细。</p>          <p>type默认值：TextDecorationType.None</p>          <p>color默认值：跟随字体颜色。</p>          <p>style默认值：TextDecorationStyle.SOLID</p>          <p>thicknessScale默认值：1.0</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textShadow<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#shadowoptions对象说明">ShadowOptions</a> | Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-image-effect#shadowoptions对象说明">ShadowOptions</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文字阴影效果。该接口支持以数组形式入参，实现多重文字阴影。</p>          <p><strong>说明：</strong></p>          <p>仅支持设置阴影模糊半径、颜色和偏移量，不支持智能取色。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">lineHeight<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number | string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文本的文本行高，设置值不大于0时，不限制文本行高，自适应字体大小。number类型时单位为fp，不支持设置百分比字符串。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">letterSpacing<sup>12+</sup></td>         <td class="cellrowborder" width="20%">number | string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文本字符间距，当取值为负值时，文字会发生压缩，负值过小时会将组件内容区大小压缩为0，导致无内容显示，number类型时单位为fp，不支持设置百分比字符串。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontFeature<sup>12+</sup></td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置文字特性效果，比如数字等宽的特性。如果未设置，默认为变宽数字。设置无效字符保持默认。</p>          <p>格式为：normal | &lt;feature-tag-value&gt;</p>          <p>&lt;feature-tag-value&gt;的格式为：&lt;string&gt; [ &lt;integer&gt; | on | off ]</p>          <p>&lt;feature-tag-value&gt;的个数可以有多个，中间用','隔开。</p>          <p>例如，使用等宽时钟数字的输入格式为："ss01" on。</p>          <p>Font Feature当前支持的属性见 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text#fontfeature12">fontFeature属性列表</a>。</p>          <p>设置 Font Feature 属性，Font Feature 是 OpenType 字体的高级排版能力，如支持连字、数字等宽等特性，一般用在自定义字体中，其能力需要字体本身支持。</p>          <p>更多 Font Feature 能力介绍可参考 <a href="https://www.w3.org/TR/css-fonts-3/#font-feature-settings-prop" target="_blank">https://www.w3.org/TR/css-fonts-3/#font-feature-settings-prop</a> 和 <a href="https://sparanoid.com/lab/opentype-features/" target="_blank">https://sparanoid.com/lab/opentype-features/</a></p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">halfLeading<sup>18+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本是否将行间距平分至行的顶部与底部。</p>          <p>true表示将行间距平分至行的顶部与底部，false则不平分。</p>          <p>默认值：false。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textBackgroundStyle<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-span#textbackgroundstyle11对象说明">TextBackgroundStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>文本背景样式。</p>          <p>默认值：</p>          <p>{</p>          <p>color: Color.Transparent,</p>          <p>radius: 0</p>          <p>}</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 570px;">     <h2 id="placeholderstyle12" device-type="phone,2in1,tablet,wearable,tv">PlaceholderStyle<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="placeholderstyle12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置提示文本的字体样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.106.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">font</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#font">Font</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置placeholder文本样式。</p>          <p>默认值遵循主题设置。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontColor</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置placeholder文本颜色。</p>          <p>默认值遵循主题设置。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1164px;">     <h2 id="richeditorimagespanoptions" device-type="phone,2in1,tablet,wearable,tv">RichEditorImageSpanOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorimagespanoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置图片的偏移位置和图片样式信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.107.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.107.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>添加图片的位置。省略时，添加到所有内容的末尾。</p>          <p>当值小于0时，设置在所有内容最前面；当值大于所有内容长度时，设置在所有内容最后面。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">imageStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanstyle">RichEditorImageSpanStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>图片样式信息。省略时，使用系统默认图片信息。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">gesture<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorgesture11">RichEditorGesture</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>行为触发回调。省略时，仅使用系统默认行为。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onHover<sup>14+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#onhovercallback14">OnHoverCallback</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>鼠标悬停触发回调。省略时，不执行相关行为。</p>          <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1308px;">     <h2 id="richeditorimagespanstyle" device-type="phone,2in1,tablet,wearable,tv">RichEditorImageSpanStyle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorimagespanstyle" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>图片样式。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.108.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.108.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">size</td>         <td class="cellrowborder" width="20%">[<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a>, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a>]</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>图片宽度和高度。默认值：与objectFit的值相关，不同的objectFit值有不同的默认尺寸。objectFit的值为Cover时，图片高度为组件高度减去组件上下内边距，宽度为组件宽度减去组件左右内边距。不支持以Percentage形式设置。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">verticalAlign</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#imagespanalignment10">ImageSpanAlignment</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>图片垂直对齐方式。</p>          <p>默认值:ImageSpanAlignment.BOTTOM</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">objectFit</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#imagefit">ImageFit</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>图片缩放类型。</p>          <p>默认值:ImageFit.Cover。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">layoutStyle<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorlayoutstyle11">RichEditorLayoutStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>图片布局风格。默认值：{"borderRadius":"","margin":""}</p>          <p></p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 642px;">     <h2 id="richeditorsymbolspanoptions11" device-type="phone,2in1,tablet,wearable,tv">RichEditorSymbolSpanOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorsymbolspanoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置SymbolSpan组件的偏移位置和样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.109.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>添加组件的位置。省略时，添加到所有内容的最后。</p>          <p>如果值小于0，添加到所有内容的最前面；如果值大于所有内容的长度，添加到所有内容的最后面。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">style</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorsymbolspanstyle11">RichEditorSymbolSpanStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">组件样式信息。省略时，使用系统默认样式信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1329px;">     <h2 id="richeditorsymbolspanstyle11" device-type="phone,2in1,tablet,wearable,tv">RichEditorSymbolSpanStyle<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorsymbolspanstyle11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>组件SymbolSpan样式信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.110.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">fontColor</td>         <td class="cellrowborder" width="20%">Array&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置SymbolSpan组件颜色。</p>          <p>默认值：不同渲染策略下默认值不同。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontSize</td>         <td class="cellrowborder" width="20%">number | string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置SymbolSpan组件大小，默认单位为fp。</p>          <p>默认值：跟随主题。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">fontWeight</td>         <td class="cellrowborder" width="20%">number | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#fontweight">FontWeight</a> | string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置SymbolSpan组件粗细。</p>          <p>number类型取值[100,900]，取值间隔为100，默认为400，取值越大，字体越粗。</p>          <p>string类型仅支持number类型取值的字符串形式，例如“400”，以及“bold”、“bolder”、“lighter”、“regular” 、“medium”分别对应FontWeight中相应的枚举值。</p>          <p>默认值：FontWeight.Normal。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">renderingStrategy</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-symbolglyph#symbolrenderingstrategy11枚举说明">SymbolRenderingStrategy</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置SymbolSpan组件渲染策略。</p>          <p>默认值：SymbolRenderingStrategy.SINGLE。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">effectStrategy</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-symbolglyph#symboleffectstrategy11枚举说明">SymbolEffectStrategy</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置SymbolSpan组件动效策略。</p>          <p>默认值：SymbolEffectStrategy.NONE。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 453px;">     <h2 id="richeditorbuilderspanoptions11" device-type="phone,2in1,tablet,wearable,tv">RichEditorBuilderSpanOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorbuilderspanoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置builder的偏移位置和样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.111.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">添加builder的位置。省略或者为异常值时，添加到所有内容的最后。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 504px;">     <h2 id="richeditorspan12" device-type="phone,2in1,tablet,wearable,tv">RichEditorSpan<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorspan12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type RichEditorSpan = RichEditorImageSpanResult | RichEditorTextSpanResult</p>     <p>RichEditor span信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanresult">RichEditorImageSpanResult</a></td>         <td class="cellrowborder" width="50%">后端返回的图片信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextspanresult">RichEditorTextSpanResult</a></td>         <td class="cellrowborder" width="50%">后端返回的文本信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1326px;">     <h2 id="selectionmenuoptions" device-type="phone,2in1,tablet,wearable,tv">SelectionMenuOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="selectionmenuoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>菜单的选项。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.113.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">onAppear</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#menuonappearcallback12">MenuOnAppearCallback</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>自定义选择菜单弹出时回调。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onDisappear</td>         <td class="cellrowborder" width="20%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>自定义选择菜单关闭时回调。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">menuType<sup>13+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#menutype13枚举说明">MenuType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>自定义选择菜单类型。</p>          <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p>          <p>默认值：MenuType.SELECTION_MENU。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onMenuShow<sup>15+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#menucallback15">MenuCallback</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>自定义选择菜单显示时回调。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onMenuHide<sup>15+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#menucallback15">MenuCallback</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>自定义选择菜单隐藏时回调。</p>          <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">previewMenuOptions<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#previewmenuoptions18">PreviewMenuOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>预览菜单的选项。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 669px;">     <h2 id="previewmenuoptions18" device-type="phone,2in1,tablet,wearable,tv">PreviewMenuOptions<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="previewmenuoptions18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>预览菜单的选项。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.114.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">hapticFeedbackMode</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#hapticfeedbackmode18">HapticFeedbackMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单弹出时振动效果，当ImageSpan或BuilderSpan绑定预览菜单时生效。</p>          <p>默认值：HapticFeedbackMode.DISABLED，菜单弹出时不振动。</p>          <p><strong>说明：</strong> 仅当应用具备ohos.permission.VIBRATE权限，且用户启用了触感反馈时才会生效。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h2 id="pasteevent11" device-type="phone,2in1,tablet,wearable,tv">PasteEvent<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pasteevent11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义用户粘贴事件。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.115.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">preventDefault</td>         <td class="cellrowborder" width="20%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">阻止系统默认粘贴事件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h2 id="cutevent12" device-type="phone,2in1,tablet,wearable,tv">CutEvent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cutevent12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义用户剪切事件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.116.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.116.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">preventDefault</td>         <td class="cellrowborder" width="20%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">阻止系统默认剪切事件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h2 id="copyevent12" device-type="phone,2in1,tablet,wearable,tv">CopyEvent<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="copyevent12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义用户复制事件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.117.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.117.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">preventDefault</td>         <td class="cellrowborder" width="20%">Callback&lt;void&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">阻止组件的默认复制操作。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 618px;">     <h2 id="richeditorgesture11" device-type="phone,2in1,tablet,wearable,tv">RichEditorGesture<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorgesture11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用户手势事件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.118.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">onClick</td>         <td class="cellrowborder" width="20%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-click#clickevent">ClickEvent</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-click#clickevent">ClickEvent</a>为用户点击事件。</p>          <p>点击完成时回调事件。</p>          <p>双击时，第一次点击触发回调事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onLongPress</td>         <td class="cellrowborder" width="20%">Callback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-gesture-common#gestureevent对象说明">GestureEvent</a>&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-gesture-common#gestureevent对象说明">GestureEvent</a>为用户长按事件。</p>          <p>长按完成时回调事件。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 477px;">     <h2 id="keyboardoptions12" device-type="phone,2in1,tablet,wearable,tv">KeyboardOptions<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="keyboardoptions12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置自定义键盘是否支持避让功能。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.119.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.119.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">supportAvoidance</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">设置自定义键盘是否支持避让功能。默认值为 false，表示不支持避让；true 表示支持避让。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 666px;">     <h2 id="submitcallback12" device-type="phone,2in1,tablet,wearable,tv">SubmitCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="submitcallback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type SubmitCallback = (enterKey: EnterKeyType, event: SubmitEvent) =&gt; void</p>     <p>软键盘按下回车键时的回调事件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">enterKey</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#enterkeytype枚举说明">EnterKeyType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">软键盘输入法回车键类型。具体类型见EnterKeyType枚举说明。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#submitevent11">SubmitEvent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">当提交的时候，提供保持组件编辑状态的方法。EnterKeyType指定为NEW_LINE时，默认保持编辑态。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 522px;">     <h2 id="menuonappearcallback12" device-type="phone,2in1,tablet,wearable,tv">MenuOnAppearCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="menuonappearcallback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type MenuOnAppearCallback = (start: number, end: number) =&gt; void</p>     <p>自定义选择菜单弹出时触发的回调事件。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">start</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">选中内容的起始位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">end</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">选中内容的终止位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 522px;">     <h2 id="menucallback15" device-type="phone,2in1,tablet,wearable,tv">MenuCallback<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="menucallback15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type MenuCallback = (start: number, end: number) =&gt; void</p>     <p>自定义选择菜单显示或隐藏时触发的回调事件。</p>     <p><strong>元服务API：</strong> 从API version 15开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.122.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">start</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">选中内容的起始位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">end</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">选中内容的终止位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 477px;">     <h2 id="pasteeventcallback12" device-type="phone,2in1,tablet,wearable,tv">PasteEventCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pasteeventcallback12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PasteEventCallback = (event?: PasteEvent) =&gt; void</p>     <p>粘贴完成前，触发回调。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#pasteevent11">PasteEvent</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">定义用户粘贴事件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 570px;">     <h2 id="onhovercallback14" device-type="phone,2in1,tablet,wearable,tv">OnHoverCallback<sup>14+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onhovercallback14" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnHoverCallback = (status: boolean, event: HoverEvent) =&gt; void</p>     <p>鼠标悬浮触发回调。</p>     <p><strong>元服务API：</strong> 从API version 14开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.124.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">status</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">表示鼠标是否悬浮在组件上，鼠标进入组件时为true，离开组件时为false。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">event</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-events-hover#hoverevent10对象说明">HoverEvent</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置悬浮事件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 495px;">     <h2 id="richeditortextspan" device-type="phone,2in1,tablet,wearable,tv">RichEditorTextSpan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditortextspan" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文本Span信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.125.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">spanPosition</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspanposition">RichEditorSpanPosition</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Span位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">value</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">文本Span内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">textStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">RichEditorTextStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">文本Span样式信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 543px;">     <h2 id="richeditorimagespan" device-type="phone,2in1,tablet,wearable,tv">RichEditorImageSpan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorimagespan" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>图片Span信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.126.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">spanPosition</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorspanposition">RichEditorSpanPosition</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">Span位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">value</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">图片内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">imageStyle</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorimagespanstyle">RichEditorImageSpanStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">图片样式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 405px;">     <h2 id="richeditorurlstyle19" device-type="phone,2in1,tablet,wearable,tv">RichEditorUrlStyle<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="richeditorurlstyle19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Url信息。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.127.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">url</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>url地址。</p>          <p>默认值：undefined</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 146px;">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection" style="contain-intrinsic-size: auto 4793px;">     <h3 id="示例1更新文本样式" class="firsth2">示例1（更新文本样式）<i class="anchor-icon anchor-icon-link" anchorid="示例1更新文本样式" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updatespanstyle">updateSpanStyle</a>接口更新已有文本样式，更改样式后，使用<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getspans">getSpans</a>获取文本新的样式信息。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"[-1, -1]"</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection range:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection content:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"更新样式:加粗"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>            <span class="hljs-attr">textStyle</span>:</li><li>            {</li><li>              <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span></li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"获取选择内容"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">""</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span></li><li>          }).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] != <span class="hljs-string">'undefined'</span>){</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += <span class="hljs-string">"\n"</span>;</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>)[<span class="hljs-string">'symbolSpanStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">symbolSpanStyle</span>?.<span class="hljs-property">fontSize</span>;</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += <span class="hljs-string">"\n"</span>;</li><li>              }<span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>;</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += <span class="hljs-string">"\n"</span>;</li><li>              }</li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"删除选择内容"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteSpans</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span></li><li>          })</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = -<span class="hljs-number">1</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = -<span class="hljs-number">1</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">"["</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> + <span class="hljs-string">", "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> + <span class="hljs-string">"]"</span>;</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"012345"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addSymbolSpan</span>($r(<span class="hljs-string">"sys.symbol.ohos_trash"</span>),</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"57px"</span>, <span class="hljs-string">"57px"</span>]</li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"56789"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">onSelect</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorSelection</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">"["</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> + <span class="hljs-string">", "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> + <span class="hljs-string">"]"</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">aboutToIMEInput</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorInsertValue</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- aboutToIMEInput ----------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"insertOffset:"</span> + value.<span class="hljs-property">insertOffset</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"insertValue:"</span> + value.<span class="hljs-property">insertValue</span>);</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">onIMEInputComplete</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorTextSpanResult</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- onIMEInputComplete ---------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanIndex:"</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanRange:["</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offsetInSpan:["</span> + value.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + value.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"value:"</span> + value.<span class="hljs-property">value</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">aboutToDelete</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorDeleteValue</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- aboutToDelete --------------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offset:"</span> + value.<span class="hljs-property">offset</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"direction:"</span> + value.<span class="hljs-property">direction</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"length:"</span> + value.<span class="hljs-property">length</span>);</li><li>            value.<span class="hljs-property">richEditorDeleteSpans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- item --------------------------"</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanIndex:"</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanRange:["</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offsetInSpan:["</span> + item.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + item.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-title function_">typeof</span>(item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"image:"</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"text:"</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>);</li><li>              }</li><li>            })</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">onDeleteComplete</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- onDeleteComplete ------------------------"</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">placeholder</span>(<span class="hljs-string">"input..."</span>, {</li><li>            <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>,</li><li>            <span class="hljs-attr">font</span>: {</li><li>              <span class="hljs-attr">size</span>: <span class="hljs-number">16</span>,</li><li>              <span class="hljs-attr">weight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Normal</span>,</li><li>              <span class="hljs-attr">family</span>: <span class="hljs-string">"HarmonyOS Sans"</span>,</li><li>              <span class="hljs-attr">style</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Normal</span></li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"30%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"70%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="537" originwidth="512" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.37799925788813144801533332893610:50001231000000:2800:19931360A4D804BAACDF0D6252ECA6EE867E110CA67FE0DBA0328496693DE383.gif" width="512" height="537"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2124px;">     <h3 id="示例2绑定自定义键盘">示例2（绑定自定义键盘）<i class="anchor-icon anchor-icon-link" anchorid="示例2绑定自定义键盘" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#customkeyboard">customKeyboard</a>给组件绑定自定义键盘。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>
</li><li>  <span class="hljs-comment">// 自定义键盘组件</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">CustomKeyboardBuilder</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>([<span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>, <span class="hljs-string">'6'</span>, <span class="hljs-string">'7'</span>, <span class="hljs-string">'8'</span>, <span class="hljs-string">'9'</span>, <span class="hljs-string">'*'</span>, <span class="hljs-string">'0'</span>, <span class="hljs-string">'#'</span>], <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Button</span>(item).<span class="hljs-title function_">width</span>(<span class="hljs-number">110</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(item + <span class="hljs-string">''</span>, {</li><li>                <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretOffset</span>(),</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            })</li><li>          }</li><li>        })</li><li>      }.<span class="hljs-title function_">maxCount</span>(<span class="hljs-number">3</span>).<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })<span class="hljs-comment">// 绑定自定义键盘</span></li><li>        .<span class="hljs-title function_">customKeyboard</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title class_">CustomKeyboardBuilder</span>())</li><li>        .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span> })</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="900" originwidth="480" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.23059153497589509846252238321081:50001231000000:2800:605DCEF2FA14B6A0AECB09D12F8C29E7908C03D60BD4C114CB827290719881D0.gif" width="480" height="900"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 13365px;">     <h3 id="示例3绑定自定义菜单">示例3（绑定自定义菜单）<i class="anchor-icon anchor-icon-link" anchorid="示例3绑定自定义菜单" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#bindselectionmenu">bindSelectionMenu</a>给组件绑定自定义菜单。</p>     <p>示例中的粘贴菜单项涉及读取剪贴板数据，因此需按规范<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/get-pastedata-permission-guidelines" target="_blank">申请访问剪贴板权限</a>。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span>, pasteboard } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectionMenuTheme</span> {</li><li>  <span class="hljs-attr">imageSize</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">buttonSize</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">menuSpacing</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">editorOptionMargin</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">expandedOptionPadding</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">defaultMenuWidth</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">imageFillColor</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">backGroundColor</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">iconBorderRadius</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">containerBorderRadius</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">cutIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">copyIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">pasteIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">selectAllIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">shareIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">translateIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">searchIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">arrowDownIcon</span>: <span class="hljs-title class_">Resource</span>;</li><li>  <span class="hljs-attr">iconPanelShadowStyle</span>: <span class="hljs-title class_">ShadowStyle</span>;</li><li>  <span class="hljs-attr">iconFocusBorderColor</span>: <span class="hljs-title class_">Resource</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">defaultTheme</span>: <span class="hljs-title class_">SelectionMenuTheme</span> = {</li><li>  <span class="hljs-attr">imageSize</span>: <span class="hljs-number">24</span>,</li><li>  <span class="hljs-attr">buttonSize</span>: <span class="hljs-number">48</span>,</li><li>  <span class="hljs-attr">menuSpacing</span>: <span class="hljs-number">8</span>,</li><li>  <span class="hljs-attr">editorOptionMargin</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-attr">expandedOptionPadding</span>: <span class="hljs-number">3</span>,</li><li>  <span class="hljs-attr">defaultMenuWidth</span>: <span class="hljs-number">256</span>,</li><li>  <span class="hljs-attr">imageFillColor</span>: $r(<span class="hljs-string">'sys.color.ohos_id_color_primary'</span>),</li><li>  <span class="hljs-attr">backGroundColor</span>: $r(<span class="hljs-string">'sys.color.ohos_id_color_dialog_bg'</span>),</li><li>  <span class="hljs-attr">iconBorderRadius</span>: $r(<span class="hljs-string">'sys.float.ohos_id_corner_radius_default_m'</span>),</li><li>  <span class="hljs-attr">containerBorderRadius</span>: $r(<span class="hljs-string">'sys.float.ohos_id_corner_radius_card'</span>),</li><li>  <span class="hljs-attr">cutIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_cut"</span>),</li><li>  <span class="hljs-attr">copyIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_copy"</span>),</li><li>  <span class="hljs-attr">pasteIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_paste"</span>),</li><li>  <span class="hljs-attr">selectAllIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_select_all"</span>),</li><li>  <span class="hljs-attr">shareIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_share"</span>),</li><li>  <span class="hljs-attr">translateIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_translate_c2e"</span>),</li><li>  <span class="hljs-attr">searchIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_search_filled"</span>),</li><li>  <span class="hljs-attr">arrowDownIcon</span>: $r(<span class="hljs-string">"sys.media.ohos_ic_public_arrow_down"</span>),</li><li>  <span class="hljs-attr">iconPanelShadowStyle</span>: <span class="hljs-title class_">ShadowStyle</span>.<span class="hljs-property">OUTER_DEFAULT_MD</span>,</li><li>  <span class="hljs-attr">iconFocusBorderColor</span>: $r(<span class="hljs-string">'sys.color.ohos_id_color_focused_outline'</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SelectionMenu</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Hello World'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">textSize</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">40</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">sliderShow</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">colorTransparent</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Transparent</span>;</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconArr</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Resource</span>&gt; =</li><li>    [$r(<span class="hljs-string">'app.media.startIcon'</span>), $r(<span class="hljs-string">'app.media.startIcon'</span>), $r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>    $r(<span class="hljs-string">'app.media.startIcon'</span>), $r(<span class="hljs-string">'app.media.startIcon'</span>)];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">iconBgColor</span>: <span class="hljs-title class_">ResourceColor</span>[] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">iconArr</span>.<span class="hljs-property">length</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">colorTransparent</span>);</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">pasteEnable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">visibilityValue</span>: <span class="hljs-title class_">Visibility</span> = <span class="hljs-title class_">Visibility</span>.<span class="hljs-property">Visible</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">textStyle</span>: <span class="hljs-title class_">RichEditorTextStyle</span> = {};</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">fontWeightTable</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">"100"</span>, <span class="hljs-string">"200"</span>, <span class="hljs-string">"300"</span>, <span class="hljs-string">"400"</span>, <span class="hljs-string">"500"</span>, <span class="hljs-string">"600"</span>, <span class="hljs-string">"700"</span>, <span class="hljs-string">"800"</span>, <span class="hljs-string">"900"</span>, <span class="hljs-string">"bold"</span>, <span class="hljs-string">"normal"</span>, <span class="hljs-string">"bolder"</span>, <span class="hljs-string">"lighter"</span>, <span class="hljs-string">"medium"</span>, <span class="hljs-string">"regular"</span>];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">theme</span>: <span class="hljs-title class_">SelectionMenuTheme</span> = defaultTheme;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>      <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>      <span class="hljs-keyword">if</span> (richEditorSelection) {</li><li>        <span class="hljs-keyword">let</span> start = richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>        <span class="hljs-keyword">let</span> end = richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>        <span class="hljs-keyword">if</span> (start === <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>({ <span class="hljs-attr">start</span>: end + <span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: end + <span class="hljs-number">1</span> }).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibilityValue</span> = <span class="hljs-title class_">Visibility</span>.<span class="hljs-property">None</span>;</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibilityValue</span> = <span class="hljs-title class_">Visibility</span>.<span class="hljs-property">Visible</span>;</li><li>        }</li><li>      }</li><li>    }</li><li>    <span class="hljs-keyword">let</span> sysBoard = pasteboard.<span class="hljs-title function_">getSystemPasteboard</span>()</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">if</span> (sysBoard &amp;&amp; sysBoard.<span class="hljs-title function_">hasDataSync</span>()) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pasteEnable</span> = <span class="hljs-literal">true</span></li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pasteEnable</span> = <span class="hljs-literal">false</span></li><li>      }</li><li>    } <span class="hljs-keyword">catch</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to check the PasteData. Cause:'</span> + err.<span class="hljs-property">message</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>, { <span class="hljs-attr">style</span>: { <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span> } })</li><li>          })</li><li>          .<span class="hljs-title function_">onSelect</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorSelection</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (value.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>] == -<span class="hljs-number">1</span> &amp;&amp; value.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>] == -<span class="hljs-number">1</span>) {</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>          })</li><li>          .<span class="hljs-title function_">bindSelectionMenu</span>(<span class="hljs-title class_">RichEditorSpanType</span>.<span class="hljs-property">TEXT</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">panel</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>, { <span class="hljs-attr">onDisappear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span> = <span class="hljs-literal">false</span>;</li><li>          }})</li><li>          .<span class="hljs-title function_">bindSelectionMenu</span>(<span class="hljs-title class_">RichEditorSpanType</span>.<span class="hljs-property">TEXT</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">panel</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">RightClick</span>, { <span class="hljs-attr">onDisappear</span>: <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span> = <span class="hljs-literal">false</span>;</li><li>          }})</li><li>          .<span class="hljs-title function_">bindSelectionMenu</span>(<span class="hljs-title class_">RichEditorSpanType</span>.<span class="hljs-property">IMAGE</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">panel</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>, {</li><li>            menuType : <span class="hljs-title class_">MenuType</span>.<span class="hljs-property">PREVIEW_MENU</span>,</li><li>            previewMenuOptions : {</li><li>              hapticFeedbackMode : <span class="hljs-title class_">HapticFeedbackMode</span>.<span class="hljs-property">ENABLED</span></li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title class_">PushDataToPasteboard</span>(<span class="hljs-attr">richEditorSelection</span>: <span class="hljs-title class_">RichEditorSelection</span>) {</li><li>    <span class="hljs-keyword">let</span> sysBoard = pasteboard.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>    <span class="hljs-keyword">let</span> pasteData = pasteboard.<span class="hljs-title function_">createData</span>(pasteboard.<span class="hljs-property">MIMETYPE_TEXT_PLAIN</span>, <span class="hljs-string">''</span>);</li><li>    <span class="hljs-keyword">if</span> (richEditorSelection.<span class="hljs-property">spans</span> &amp;&amp; richEditorSelection.<span class="hljs-property">spans</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-keyword">let</span> count = richEditorSelection.<span class="hljs-property">spans</span>.<span class="hljs-property">length</span>;</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = count - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {</li><li>        <span class="hljs-keyword">let</span> item = richEditorSelection.<span class="hljs-property">spans</span>[i]</li><li>        <span class="hljs-keyword">if</span> ((item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>)?.<span class="hljs-property">textStyle</span>) {</li><li>          <span class="hljs-keyword">let</span> span = item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>;</li><li>          <span class="hljs-keyword">let</span> style = span.<span class="hljs-property">textStyle</span>;</li><li>          <span class="hljs-keyword">let</span> data = pasteboard.<span class="hljs-title function_">createRecord</span>(pasteboard.<span class="hljs-property">MIMETYPE_TEXT_PLAIN</span>, span.<span class="hljs-property">value</span>.<span class="hljs-title function_">substring</span>(span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>], span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>]));</li><li>          <span class="hljs-keyword">let</span> prop = pasteData.<span class="hljs-title function_">getProperty</span>();</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">temp</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span>&gt; = {</li><li>            <span class="hljs-string">'color'</span>: style.<span class="hljs-property">fontColor</span>,</li><li>            <span class="hljs-string">'size'</span>: style.<span class="hljs-property">fontSize</span>,</li><li>            <span class="hljs-string">'style'</span>: style.<span class="hljs-property">fontStyle</span>,</li><li>            <span class="hljs-string">'weight'</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">fontWeightTable</span>[style.<span class="hljs-property">fontWeight</span>],</li><li>            <span class="hljs-string">'fontFamily'</span>: style.<span class="hljs-property">fontFamily</span>,</li><li>            <span class="hljs-string">'decorationType'</span>: style.<span class="hljs-property">decoration</span>.<span class="hljs-property">type</span>,</li><li>            <span class="hljs-string">'decorationColor'</span>: style.<span class="hljs-property">decoration</span>.<span class="hljs-property">color</span></li><li>          };</li><li>          prop.<span class="hljs-property">additions</span>[i] = temp;</li><li>          pasteData.<span class="hljs-title function_">addRecord</span>(data)</li><li>          pasteData.<span class="hljs-title function_">setProperty</span>(prop)</li><li>        }</li><li>      }</li><li>    }</li><li>    sysBoard.<span class="hljs-title function_">clearData</span>()</li><li>    sysBoard.<span class="hljs-title function_">setData</span>(pasteData).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'SelectionMenu copy option, Succeeded in setting PasteData.'</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pasteEnable</span> = <span class="hljs-literal">true</span>;</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'SelectionMenu copy option, Failed to set PasteData. Cause:'</span> + err.<span class="hljs-property">message</span>);</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title class_">PopDataFromPasteboard</span>(<span class="hljs-attr">richEditorSelection</span>: <span class="hljs-title class_">RichEditorSelection</span>) {</li><li>    <span class="hljs-keyword">let</span> start = richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>    <span class="hljs-keyword">let</span> end = richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>    <span class="hljs-keyword">if</span> (start == end &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>      start = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretOffset</span>();</li><li>      end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretOffset</span>();</li><li>    }</li><li>    <span class="hljs-keyword">let</span> moveOffset = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">let</span> sysBoard = pasteboard.<span class="hljs-title function_">getSystemPasteboard</span>();</li><li>    sysBoard.<span class="hljs-title function_">getData</span>(<span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (err) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> count = data.<span class="hljs-title function_">getRecordCount</span>();</li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {</li><li>        <span class="hljs-keyword">const</span> element = data.<span class="hljs-title function_">getRecord</span>(i);</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">tex</span>: <span class="hljs-title class_">RichEditorTextStyle</span> = {</li><li>          <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span>,</li><li>          <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>,</li><li>          <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Normal</span>,</li><li>          <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">"HarmonyOS Sans"</span>,</li><li>          <span class="hljs-attr">fontStyle</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Normal</span>,</li><li>          <span class="hljs-attr">decoration</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">None</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#FF000000"</span>, <span class="hljs-attr">style</span>: <span class="hljs-title class_">TextDecorationStyle</span>.<span class="hljs-property">SOLID</span> }</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (data.<span class="hljs-title function_">getProperty</span>() &amp;&amp; data.<span class="hljs-title function_">getProperty</span>().<span class="hljs-property">additions</span>[i]) {</li><li>          <span class="hljs-keyword">const</span> tmp = data.<span class="hljs-title function_">getProperty</span>().<span class="hljs-property">additions</span>[i] <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Object</span> | <span class="hljs-literal">undefined</span>&gt;;</li><li>          <span class="hljs-keyword">if</span> (tmp.<span class="hljs-property">color</span>) {</li><li>            tex.<span class="hljs-property">fontColor</span> = tmp.<span class="hljs-property">color</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ResourceColor</span>;</li><li>          }</li><li>          <span class="hljs-keyword">if</span> (tmp.<span class="hljs-property">size</span>) {</li><li>            tex.<span class="hljs-property">fontSize</span> = tmp.<span class="hljs-property">size</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Length</span> | <span class="hljs-built_in">number</span>;</li><li>          }</li><li>          <span class="hljs-keyword">if</span> (tmp.<span class="hljs-property">style</span>) {</li><li>            tex.<span class="hljs-property">fontStyle</span> = tmp.<span class="hljs-property">style</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">FontStyle</span>;</li><li>          }</li><li>          <span class="hljs-keyword">if</span> (tmp.<span class="hljs-property">weight</span>) {</li><li>            tex.<span class="hljs-property">fontWeight</span> = tmp.<span class="hljs-property">weight</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> | <span class="hljs-title class_">FontWeight</span> | <span class="hljs-built_in">string</span>;</li><li>          }</li><li>          <span class="hljs-keyword">if</span> (tmp.<span class="hljs-property">fontFamily</span>) {</li><li>            tex.<span class="hljs-property">fontFamily</span> = tmp.<span class="hljs-property">fontFamily</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ResourceStr</span>;</li><li>          }</li><li>          <span class="hljs-keyword">if</span> (tmp.<span class="hljs-property">decorationType</span> &amp;&amp; tex.<span class="hljs-property">decoration</span>) {</li><li>            tex.<span class="hljs-property">decoration</span>.<span class="hljs-property">type</span> = tmp.<span class="hljs-property">decorationType</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">TextDecorationType</span>;</li><li>          }</li><li>          <span class="hljs-keyword">if</span> (tmp.<span class="hljs-property">decorationColor</span> &amp;&amp; tex.<span class="hljs-property">decoration</span>) {</li><li>            tex.<span class="hljs-property">decoration</span>.<span class="hljs-property">color</span> = tmp.<span class="hljs-property">decorationColor</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">ResourceColor</span>;</li><li>          }</li><li>          <span class="hljs-keyword">if</span> (tex.<span class="hljs-property">decoration</span>) {</li><li>            tex.<span class="hljs-property">decoration</span> = { <span class="hljs-attr">type</span>: tex.<span class="hljs-property">decoration</span>.<span class="hljs-property">type</span>, <span class="hljs-attr">color</span>: tex.<span class="hljs-property">decoration</span>.<span class="hljs-property">color</span> };</li><li>          }</li><li>        }</li><li>        <span class="hljs-keyword">if</span> (element &amp;&amp; element.<span class="hljs-property">plainText</span> &amp;&amp; element.<span class="hljs-property">mimeType</span> === pasteboard.<span class="hljs-property">MIMETYPE_TEXT_PLAIN</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(element.<span class="hljs-property">plainText</span>,</li><li>            {</li><li>              <span class="hljs-attr">style</span>: tex,</li><li>              <span class="hljs-attr">offset</span>: start + moveOffset</li><li>            }</li><li>          )</li><li>          moveOffset += element.<span class="hljs-property">plainText</span>.<span class="hljs-property">length</span>;</li><li>        }</li><li>      }</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setCaretOffset</span>(start + moveOffset)</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">closeSelectionMenu</span>()</li><li>      }</li><li>      <span class="hljs-keyword">if</span> (start != end &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteSpans</span>({ <span class="hljs-attr">start</span>: start + moveOffset, <span class="hljs-attr">end</span>: end + moveOffset })</li><li>      }</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">panel</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">iconPanel</span>()</li><li>      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">SystemMenu</span>()</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sliderPanel</span>()</li><li>      }</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-number">256</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">iconPanel</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>        <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">iconArr</span>, <span class="hljs-function">(<span class="hljs-params">item:Resource, index ?: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>            <span class="hljs-title class_">Image</span>(item).<span class="hljs-title function_">fillColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">imageFillColor</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">focusable</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">false</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">iconBorderRadius</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">buttonSize</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">buttonSize</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> == <span class="hljs-number">0</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span> = <span class="hljs-literal">false</span>;</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                <span class="hljs-keyword">let</span> selection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>                <span class="hljs-keyword">let</span> spans = selection.<span class="hljs-property">spans</span>;</li><li>                spans.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult | RichEditorImageSpanResult, index</span>) =&gt;</span> {</li><li>                  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>)[<span class="hljs-string">'textStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                    <span class="hljs-keyword">let</span> span = item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>;</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span> = span.<span class="hljs-property">textStyle</span>;</li><li>                    <span class="hljs-keyword">let</span> start = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">let</span> end = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>];</li><li>                    <span class="hljs-keyword">let</span> offset = span.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontWeight</span> != <span class="hljs-number">11</span>) {</li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontWeight</span> = <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span>;</li><li>                    } <span class="hljs-keyword">else</span> {</li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontWeight</span> = <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Normal</span>;</li><li>                    }</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                      <span class="hljs-attr">start</span>: offset + start,</li><li>                      <span class="hljs-attr">end</span>: offset + end,</li><li>                      <span class="hljs-attr">textStyle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span></li><li>                    })</li><li>                  }</li><li>                })</li><li>              }</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> == <span class="hljs-number">1</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span> = <span class="hljs-literal">false</span>;</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                <span class="hljs-keyword">let</span> selection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>                <span class="hljs-keyword">let</span> spans = selection.<span class="hljs-property">spans</span>;</li><li>                spans.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult | RichEditorImageSpanResult, index</span>) =&gt;</span> {</li><li>                  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>)[<span class="hljs-string">'textStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                    <span class="hljs-keyword">let</span> span = item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>;</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span> = span.<span class="hljs-property">textStyle</span>;</li><li>                    <span class="hljs-keyword">let</span> start = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">let</span> end = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>];</li><li>                    <span class="hljs-keyword">let</span> offset = span.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontStyle</span> == <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Italic</span>) {</li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontStyle</span> = <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Normal</span>;</li><li>                    } <span class="hljs-keyword">else</span> {</li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontStyle</span> = <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Italic</span>;</li><li>                    }</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                      <span class="hljs-attr">start</span>: offset + start,</li><li>                      <span class="hljs-attr">end</span>: offset + end,</li><li>                      <span class="hljs-attr">textStyle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span></li><li>                    })</li><li>                  }</li><li>                })</li><li>              }</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> == <span class="hljs-number">2</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span> = <span class="hljs-literal">false</span>;</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                <span class="hljs-keyword">let</span> selection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>                <span class="hljs-keyword">let</span> spans = selection.<span class="hljs-property">spans</span>;</li><li>                spans.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult | RichEditorImageSpanResult, index</span>) =&gt;</span> {</li><li>                  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>)[<span class="hljs-string">'textStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                    <span class="hljs-keyword">let</span> span = item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>;</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span> = span.<span class="hljs-property">textStyle</span>;</li><li>                    <span class="hljs-keyword">let</span> start = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">let</span> end = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>];</li><li>                    <span class="hljs-keyword">let</span> offset = span.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">decoration</span>) {</li><li>                      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">decoration</span>.<span class="hljs-property">type</span> == <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>) {</li><li>                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">decoration</span>.<span class="hljs-property">type</span> = <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">None</span>;</li><li>                      } <span class="hljs-keyword">else</span> {</li><li>                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">decoration</span>.<span class="hljs-property">type</span> = <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>;</li><li>                      }</li><li>                    } <span class="hljs-keyword">else</span> {</li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">decoration</span> = { <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>, <span class="hljs-attr">style</span>: <span class="hljs-title class_">TextDecorationStyle</span>.<span class="hljs-property">SOLID</span> };</li><li>                    }</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                      <span class="hljs-attr">start</span>: offset + start,</li><li>                      <span class="hljs-attr">end</span>: offset + end,</li><li>                      <span class="hljs-attr">textStyle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span></li><li>                    })</li><li>                  }</li><li>                })</li><li>              }</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> == <span class="hljs-number">3</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span>;</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> == <span class="hljs-number">4</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">sliderShow</span> = <span class="hljs-literal">false</span>;</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                <span class="hljs-keyword">let</span> selection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>                <span class="hljs-keyword">let</span> spans = selection.<span class="hljs-property">spans</span>;</li><li>                spans.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult | RichEditorImageSpanResult, index</span>) =&gt;</span> {</li><li>                  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>)[<span class="hljs-string">'textStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                    <span class="hljs-keyword">let</span> span = item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>;</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span> = span.<span class="hljs-property">textStyle</span>;</li><li>                    <span class="hljs-keyword">let</span> start = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">let</span> end = span.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>];</li><li>                    <span class="hljs-keyword">let</span> offset = span.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>];</li><li>                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontColor</span> == <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontColor</span> == <span class="hljs-string">'#FFFFA500'</span>) {</li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>;</li><li>                    } <span class="hljs-keyword">else</span> {</li><li>                      <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>;</li><li>                    }</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                      <span class="hljs-attr">start</span>: offset + start,</li><li>                      <span class="hljs-attr">end</span>: offset + end,</li><li>                      <span class="hljs-attr">textStyle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span></li><li>                    })</li><li>                  }</li><li>                })</li><li>              }</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">onTouch</span>(<span class="hljs-function">(<span class="hljs-params">event?: TouchEvent | <span class="hljs-literal">undefined</span></span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span>(event != <span class="hljs-literal">undefined</span>){</li><li>              <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Down</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconBgColor</span>[index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>] = $r(<span class="hljs-string">'sys.color.ohos_id_color_click_effect'</span>);</li><li>              }</li><li>              <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-title class_">TouchType</span>.<span class="hljs-property">Up</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconBgColor</span>[index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">colorTransparent</span>;</li><li>              }</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">onHover</span>(<span class="hljs-function">(<span class="hljs-params">isHover?: <span class="hljs-built_in">boolean</span>, event?: HoverEvent</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconBgColor</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">icon:ResourceColor, index1</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconBgColor</span>[index1] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">colorTransparent</span>;</li><li>            })</li><li>            <span class="hljs-keyword">if</span>(isHover != <span class="hljs-literal">undefined</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconBgColor</span>[index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>] = $r(<span class="hljs-string">'sys.color.ohos_id_color_hover'</span>);</li><li>            }</li><li>          })</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">iconBgColor</span>[index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>])</li><li>        })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">clip</span>(<span class="hljs-literal">true</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">defaultMenuWidth</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">expandedOptionPadding</span>)</li><li>    .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">containerBorderRadius</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">menuSpacing</span> })</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">backGroundColor</span>)</li><li>    .<span class="hljs-title function_">shadow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">iconPanelShadowStyle</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">SystemMenu</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Menu</span>() {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>          <span class="hljs-title class_">MenuItemGroup</span>() {</li><li>            <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">cutIcon</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"剪切"</span>, <span class="hljs-attr">labelInfo</span>: <span class="hljs-string">"Ctrl+X"</span> })</li><li>              .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                  <span class="hljs-keyword">return</span></li><li>                }</li><li>                <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">PushDataToPasteboard</span>(richEditorSelection);</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteSpans</span>({</li><li>                  <span class="hljs-attr">start</span>: richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>],</li><li>                  <span class="hljs-attr">end</span>: richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>]</li><li>                })</li><li>              })</li><li>            <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">copyIcon</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"复制"</span>, <span class="hljs-attr">labelInfo</span>: <span class="hljs-string">"Ctrl+C"</span> })</li><li>              .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">PushDataToPasteboard</span>(richEditorSelection)</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">closeSelectionMenu</span>()</li><li>              })</li><li>            <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">pasteIcon</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"粘贴"</span>, <span class="hljs-attr">labelInfo</span>: <span class="hljs-string">"Ctrl+V"</span> })</li><li>              .<span class="hljs-title function_">enabled</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pasteEnable</span>)</li><li>              .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">PopDataFromPasteboard</span>(richEditorSelection)</li><li>              })</li><li>            <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">selectAllIcon</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"全选"</span>, <span class="hljs-attr">labelInfo</span>: <span class="hljs-string">"Ctrl+A"</span> })</li><li>              .<span class="hljs-title function_">visibility</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">visibilityValue</span>)</li><li>              .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>                  <span class="hljs-keyword">return</span>;</li><li>                }</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setSelection</span>(-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>)</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibilityValue</span> = <span class="hljs-title class_">Visibility</span>.<span class="hljs-property">None</span>;</li><li>              })</li><li>            <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">shareIcon</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"分享"</span>, <span class="hljs-attr">labelInfo</span>: <span class="hljs-string">""</span> })</li><li>              .<span class="hljs-title function_">enabled</span>(<span class="hljs-literal">false</span>)</li><li>            <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">translateIcon</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"翻译"</span>, <span class="hljs-attr">labelInfo</span>: <span class="hljs-string">""</span> })</li><li>              .<span class="hljs-title function_">enabled</span>(<span class="hljs-literal">false</span>)</li><li>            <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">searchIcon</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"搜索"</span>, <span class="hljs-attr">labelInfo</span>: <span class="hljs-string">""</span> })</li><li>              .<span class="hljs-title function_">enabled</span>(<span class="hljs-literal">false</span>)</li><li>          }</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">onVisibleAreaChange</span>([<span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>], <span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>          <span class="hljs-keyword">return</span>;</li><li>        }</li><li>        <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>        <span class="hljs-keyword">let</span> start = richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>        <span class="hljs-keyword">let</span> end = richEditorSelection.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>        <span class="hljs-keyword">if</span> (start === <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>({ <span class="hljs-attr">start</span>: end + <span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: end + <span class="hljs-number">1</span> }).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibilityValue</span> = <span class="hljs-title class_">Visibility</span>.<span class="hljs-property">None</span>;</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibilityValue</span> = <span class="hljs-title class_">Visibility</span>.<span class="hljs-property">Visible</span>;</li><li>        }</li><li>      })</li><li>      .<span class="hljs-title function_">radius</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">containerBorderRadius</span>)</li><li>      .<span class="hljs-title function_">clip</span>(<span class="hljs-literal">true</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">defaultMenuWidth</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">defaultMenuWidth</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title function_">sliderPanel</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceBetween</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'A'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">15</span>)</li><li>        <span class="hljs-title class_">Slider</span>({ <span class="hljs-attr">value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textSize</span>, <span class="hljs-attr">step</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">style</span>: <span class="hljs-title class_">SliderStyle</span>.<span class="hljs-property">InSet</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">210</span>)</li><li>          .<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span>, mode: SliderChangeMode</span>) =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {</li><li>              <span class="hljs-keyword">let</span> selection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>              <span class="hljs-keyword">if</span> (mode == <span class="hljs-title class_">SliderChangeMode</span>.<span class="hljs-property">End</span>) {</li><li>                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">textSize</span> == <span class="hljs-literal">undefined</span>) {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">textSize</span> = <span class="hljs-number">0</span>;</li><li>                }</li><li>                <span class="hljs-keyword">let</span> spans = selection.<span class="hljs-property">spans</span>;</li><li>                spans.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult | RichEditorImageSpanResult, index</span>) =&gt;</span> {</li><li>                  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>)[<span class="hljs-string">'textStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textSize</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">textSize</span>, (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">textStyle</span>.<span class="hljs-property">fontSize</span>);</li><li>                  }</li><li>                })</li><li>              }</li><li>              <span class="hljs-keyword">if</span> (mode == <span class="hljs-title class_">SliderChangeMode</span>.<span class="hljs-property">Moving</span> || mode == <span class="hljs-title class_">SliderChangeMode</span>.<span class="hljs-property">Click</span>) {</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = selection.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = selection.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">textSize</span> = value;</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                  <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>                  <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>                  <span class="hljs-attr">textStyle</span>: { <span class="hljs-attr">fontSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textSize</span> }</li><li>                })</li><li>              }</li><li>            }</li><li>          })</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'A'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Medium</span>)</li><li>      }.<span class="hljs-title function_">borderRadius</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">containerBorderRadius</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">shadow</span>(<span class="hljs-title class_">ShadowStyle</span>.<span class="hljs-property">OUTER_DEFAULT_MD</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>    .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">theme</span>.<span class="hljs-property">containerBorderRadius</span>)</li><li>    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">15</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">48</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>系统暂未预置加粗、斜体等图标，示例代码使用系统默认图标，开发者使用时需自行替换iconArr中的资源。</p>      </div></div></div>     <p><span><img originheight="625" originwidth="537" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.95396632011160477158682966884438:50001231000000:2800:45F0C1E89240D0F5ECB1A6667F5709161523CCBE05569C998CF5C21B5AA03AE5.png" width="537" height="625"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 6314px;">     <h3 id="示例4更新图片样式">示例4（更新图片样式）<i class="anchor-icon anchor-icon-link" anchorid="示例4更新图片样式" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updatespanstyle">updateSpanStyle</a>接口更新图片样式。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"[-1, -1]"</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">paddingVal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">5</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">borderRad</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection range:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection content:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"updateSpanStyle1"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>              <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>              <span class="hljs-attr">textStyle</span>:</li><li>              {</li><li>                <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span>,</li><li>                <span class="hljs-attr">fontSize</span>:<span class="hljs-number">15</span></li><li>              },</li><li>              <span class="hljs-attr">imageStyle</span>: {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"80px"</span>, <span class="hljs-string">"80px"</span>],</li><li>                <span class="hljs-attr">layoutStyle</span>: {</li><li>                  <span class="hljs-attr">borderRadius</span>: <span class="hljs-literal">undefined</span>,</li><li>                  <span class="hljs-attr">margin</span>: <span class="hljs-literal">undefined</span></li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"updateSpanStyle2"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>              <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>              <span class="hljs-attr">textStyle</span>:</li><li>              {</li><li>                <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span>,</li><li>                <span class="hljs-attr">fontSize</span>:<span class="hljs-number">15</span></li><li>              },</li><li>              <span class="hljs-attr">imageStyle</span>: {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"70px"</span>, <span class="hljs-string">"70px"</span>],</li><li>                <span class="hljs-attr">layoutStyle</span>: {</li><li>                  <span class="hljs-attr">borderRadius</span>: { <span class="hljs-attr">topLeft</span>: <span class="hljs-string">'100px'</span>, <span class="hljs-attr">topRight</span>: <span class="hljs-string">'20px'</span>, <span class="hljs-attr">bottomLeft</span>: <span class="hljs-string">'100px'</span>, <span class="hljs-attr">bottomRight</span>: <span class="hljs-string">'20px'</span> },</li><li>                  <span class="hljs-attr">margin</span>: { <span class="hljs-attr">left</span>: <span class="hljs-string">'30px'</span>, <span class="hljs-attr">top</span>: <span class="hljs-string">'20px'</span>, <span class="hljs-attr">right</span>: <span class="hljs-string">'20px'</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-string">'20px'</span> }</li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"updateSpanStyle3"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>              <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>              <span class="hljs-attr">textStyle</span>:</li><li>              {</li><li>                <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span>,</li><li>                <span class="hljs-attr">fontSize</span>:<span class="hljs-number">15</span></li><li>              },</li><li>              <span class="hljs-attr">imageStyle</span>: {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"60px"</span>, <span class="hljs-string">"60px"</span>],</li><li>                <span class="hljs-attr">layoutStyle</span>: {</li><li>                  <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">'-10px'</span>,</li><li>                  <span class="hljs-attr">margin</span>: <span class="hljs-string">'-10px'</span></li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'addImageSpan1'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>), {</li><li>              <span class="hljs-attr">imageStyle</span>: {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"80px"</span>, <span class="hljs-string">"80px"</span>],</li><li>                <span class="hljs-attr">layoutStyle</span>: {</li><li>                  <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">'50px'</span>,</li><li>                  <span class="hljs-attr">margin</span>: <span class="hljs-string">'40px'</span></li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'addImageSpan2'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>), {</li><li>              <span class="hljs-attr">imageStyle</span>: {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"100px"</span>, <span class="hljs-string">"100px"</span>],</li><li>                <span class="hljs-attr">verticalAlign</span>: <span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">BOTTOM</span>,</li><li>                <span class="hljs-attr">layoutStyle</span>: {</li><li>                  <span class="hljs-attr">borderRadius</span>: <span class="hljs-literal">undefined</span>,</li><li>                  <span class="hljs-attr">margin</span>: <span class="hljs-literal">undefined</span></li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'addImageSpan3'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>), {</li><li>              <span class="hljs-attr">imageStyle</span>: {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"60px"</span>, <span class="hljs-string">"60px"</span>],</li><li>                <span class="hljs-attr">verticalAlign</span>: <span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">BOTTOM</span>,</li><li>                <span class="hljs-attr">layoutStyle</span>: {</li><li>                  <span class="hljs-attr">borderRadius</span>: { <span class="hljs-attr">topLeft</span>: <span class="hljs-string">'10px'</span>, <span class="hljs-attr">topRight</span>: <span class="hljs-string">'20px'</span>, <span class="hljs-attr">bottomLeft</span>: <span class="hljs-string">'30px'</span>, <span class="hljs-attr">bottomRight</span>: <span class="hljs-string">'40px'</span> },</li><li>                  <span class="hljs-attr">margin</span>: { <span class="hljs-attr">left</span>: <span class="hljs-string">'10px'</span>, <span class="hljs-attr">top</span>: <span class="hljs-string">'20px'</span>, <span class="hljs-attr">right</span>: <span class="hljs-string">'30px'</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-string">'40px'</span> }</li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>
</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"60px"</span>, <span class="hljs-string">"60px"</span>],</li><li>                  <span class="hljs-attr">verticalAlign</span>: <span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">BOTTOM</span>,</li><li>                  <span class="hljs-attr">layoutStyle</span>: {</li><li>                    <span class="hljs-attr">borderRadius</span>: { <span class="hljs-attr">topLeft</span>: <span class="hljs-string">'10px'</span>, <span class="hljs-attr">topRight</span>: <span class="hljs-string">'20px'</span>, <span class="hljs-attr">bottomLeft</span>: <span class="hljs-string">'30px'</span>, <span class="hljs-attr">bottomRight</span>: <span class="hljs-string">'40px'</span> },</li><li>                    <span class="hljs-attr">margin</span>: { <span class="hljs-attr">left</span>: <span class="hljs-string">'10px'</span>, <span class="hljs-attr">top</span>: <span class="hljs-string">'20px'</span>, <span class="hljs-attr">right</span>: <span class="hljs-string">'30px'</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-string">'40px'</span> }</li><li>                  }</li><li>                }</li><li>              })</li><li>
</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">onSelect</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorSelection</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">"["</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> + <span class="hljs-string">", "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> + <span class="hljs-string">"]"</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">aboutToIMEInput</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorInsertValue</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- aboutToIMEInput ----------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"insertOffset:"</span> + value.<span class="hljs-property">insertOffset</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"insertValue:"</span> + value.<span class="hljs-property">insertValue</span>);</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">onIMEInputComplete</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorTextSpanResult</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- onIMEInputComplete ---------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanIndex:"</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanRange:["</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offsetInSpan:["</span> + value.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + value.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"value:"</span> + value.<span class="hljs-property">value</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">aboutToDelete</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorDeleteValue</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- aboutToDelete --------------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offset:"</span> + value.<span class="hljs-property">offset</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"direction:"</span> + value.<span class="hljs-property">direction</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"length:"</span> + value.<span class="hljs-property">length</span>);</li><li>            value.<span class="hljs-property">richEditorDeleteSpans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- item --------------------------"</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanIndex:"</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanRange:["</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offsetInSpan:["</span> + item.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + item.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"image:"</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span>);</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"text:"</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>);</li><li>              }</li><li>            })</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">onDeleteComplete</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- onDeleteComplete ------------------------"</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'80.00%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"70%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="458" originwidth="451" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.38264497876407082478042343234834:50001231000000:2800:582B14E61FB832AE203A4FA44DF56414190D52E07DA1669075ADC8ADF30C40F6.gif" width="451" height="458"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2695px;">     <h3 id="示例5span绑定手势事件">示例5（Span绑定手势事件）<i class="anchor-icon anchor-icon-link" anchorid="示例5span绑定手势事件" tips="复制节点链接"></i></h3>          <p>为Span绑定<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorgesture11">gesture</a>回调。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">textFlag</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"TextFlag"</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span>)</li><li>          .<span class="hljs-title function_">copyOption</span>(<span class="hljs-title class_">CopyOptions</span>.<span class="hljs-property">InApp</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>      }</li><li>      <span class="hljs-title class_">Divider</span>()</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'Area1\n'</span>, {</li><li>              <span class="hljs-attr">style</span>:</li><li>              {</li><li>                <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                <span class="hljs-attr">fontSize</span>: <span class="hljs-number">50</span>,</li><li>              },</li><li>              <span class="hljs-attr">gesture</span>:</li><li>              {</li><li>                <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span> = <span class="hljs-string">"Area1 is onClick."</span>;</li><li>                },</li><li>                <span class="hljs-attr">onLongPress</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span> = <span class="hljs-string">"Area1 is onLongPress."</span>;</li><li>                }</li><li>              }</li><li>            })</li><li>
</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'Area2\n'</span>, {</li><li>              <span class="hljs-attr">style</span>:</li><li>              {</li><li>                <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>,</li><li>                <span class="hljs-attr">fontSize</span>: <span class="hljs-number">50</span></li><li>              },</li><li>              <span class="hljs-attr">gesture</span>:</li><li>              {</li><li>                <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span> = <span class="hljs-string">"Area2 is onClick."</span>;</li><li>                },</li><li>                <span class="hljs-attr">onLongPress</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span> = <span class="hljs-string">"Area2 is onLongPress."</span>;</li><li>                }</li><li>              }</li><li>            })</li><li>
</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"100px"</span>, <span class="hljs-string">"100px"</span>],</li><li>                  <span class="hljs-attr">layoutStyle</span>: {</li><li>                    <span class="hljs-attr">margin</span>: <span class="hljs-number">5</span>,</li><li>                    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">15</span></li><li>                  }</li><li>                },</li><li>                <span class="hljs-attr">gesture</span>:</li><li>                {</li><li>                  <span class="hljs-attr">onClick</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span> = <span class="hljs-string">"ImageSpan is onClick."</span>;</li><li>                  },</li><li>                  <span class="hljs-attr">onLongPress</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span> = <span class="hljs-string">"ImageSpan is onLongPress."</span>;</li><li>                  }</li><li>                },</li><li>                onHover : <span class="hljs-function">(<span class="hljs-params">status</span>) =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">textFlag</span> = <span class="hljs-string">"ImageSpan is onHover :"</span> + status;</li><li>                }</li><li>              })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"70%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="391" originwidth="432" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.17590941637320623024202051875412:50001231000000:2800:7C14604A2DA1856BF978320DCFE0ED238B46867418C187470BA13A6F7BDAED7D.gif" width="432" height="391"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2932px;">     <h3 id="示例6更新和获取段落样式">示例6（更新和获取段落样式）<i class="anchor-icon anchor-icon-link" anchorid="示例6更新和获取段落样式" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updateparagraphstyle11">updateParagraphStyle</a>接口更新段落样式，通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getparagraphs11">getParagraphs</a>接口获取指定范围段落的信息。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">spanParagraphs</span>: <span class="hljs-title class_">RichEditorParagraphResult</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789\n"</span>, {</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-string">"32"</span></li><li>            },</li><li>            <span class="hljs-attr">paragraphStyle</span>: {</li><li>              <span class="hljs-attr">textAlign</span>: <span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Start</span>,</li><li>              <span class="hljs-attr">textVerticalAlign</span>: <span class="hljs-title class_">TextVerticalAlign</span>.<span class="hljs-property">BASELINE</span>,</li><li>              <span class="hljs-attr">leadingMargin</span>: <span class="hljs-number">16</span></li><li>            }</li><li>          })</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789"</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"80%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"30%"</span>)</li><li>        .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> })</li><li>        .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">false</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"段落左对齐"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">textAlign</span>: <span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Start</span></li><li>            }</li><li>          })</li><li>        })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"段落右对齐"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">textAlign</span>: <span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">End</span></li><li>            }</li><li>          })</li><li>        })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"段落居中"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">textAlign</span>: <span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span></li><li>            }</li><li>          })</li><li>        })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"段落间距设置50"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">paragraphSpacing</span>: <span class="hljs-number">50</span></li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Divider</span>()</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getParagraphs"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">spanParagraphs</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getParagraphs</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span> });</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"RichEditor getParagraphs:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">spanParagraphs</span>));</li><li>        })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"UpdateSpanStyle1"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">textStyle</span>: {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Brown</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span></li><li>            }</li><li>          })</li><li>        })</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"UpdateSpanStyle2"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">textStyle</span>: {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>            }</li><li>          })</li><li>        })</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="604" originwidth="364" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.83710240681268211829038695695775:50001231000000:2800:F193EB2317E9A26F3EFF5C074D28C37D2B90A462A1EE398F05B04DA2531BC743.gif" width="364" height="604"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 6958px;">     <h3 id="示例7更新预设样式与缩进">示例7（更新预设样式与缩进）<i class="anchor-icon anchor-icon-link" anchorid="示例7更新预设样式与缩进" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#settypingstyle11">setTypingStyle</a>接口更新文本预设样式，通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updateparagraphstyle11">updateParagraphStyle</a>接口设置段落缩进。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>
</li><li><span class="hljs-keyword">const</span> canvasWidth = <span class="hljs-number">1000</span>;</li><li><span class="hljs-keyword">const</span> canvasHeight = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-title class_">Indentation</span> = <span class="hljs-number">40</span>;</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">LeadingMarginCreator</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">settings</span>: <span class="hljs-title class_">RenderingContextSettings</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderingContextSettings</span>(<span class="hljs-literal">true</span>);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offscreenCanvas</span>: <span class="hljs-title class_">OffscreenCanvas</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(canvasWidth, canvasHeight);</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">offContext</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offscreenCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">LeadingMarginCreator</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LeadingMarginCreator</span>();</li><li>
</li><li>  <span class="hljs-comment">// 获得字体字号级别，分别是从0到4级</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getFontSizeLevel</span>(<span class="hljs-params">fontSize: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">fontScaled</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Number</span>(fontSize) / <span class="hljs-number">16</span>;</li><li>
</li><li>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">FontSizeScaleThreshold</span> {</li><li>      <span class="hljs-variable constant_">SMALL</span> = <span class="hljs-number">0.9</span>,</li><li>      <span class="hljs-variable constant_">NORMAL</span> = <span class="hljs-number">1.1</span>,</li><li>      <span class="hljs-variable constant_">LEVEL_1_LARGE</span> = <span class="hljs-number">1.2</span>,</li><li>      <span class="hljs-variable constant_">LEVEL_2_LARGE</span> = <span class="hljs-number">1.4</span>,</li><li>      <span class="hljs-variable constant_">LEVEL_3_LARGE</span> = <span class="hljs-number">1.5</span></li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">fontSizeLevel</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>
</li><li>    <span class="hljs-keyword">if</span> (fontScaled &lt; <span class="hljs-title class_">FontSizeScaleThreshold</span>.<span class="hljs-property">SMALL</span>) {</li><li>      fontSizeLevel = <span class="hljs-number">0</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fontScaled &lt; <span class="hljs-title class_">FontSizeScaleThreshold</span>.<span class="hljs-property">NORMAL</span>) {</li><li>      fontSizeLevel = <span class="hljs-number">1</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fontScaled &lt; <span class="hljs-title class_">FontSizeScaleThreshold</span>.<span class="hljs-property">LEVEL_1_LARGE</span>) {</li><li>      fontSizeLevel = <span class="hljs-number">2</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fontScaled &lt; <span class="hljs-title class_">FontSizeScaleThreshold</span>.<span class="hljs-property">LEVEL_2_LARGE</span>) {</li><li>      fontSizeLevel = <span class="hljs-number">3</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fontScaled &lt; <span class="hljs-title class_">FontSizeScaleThreshold</span>.<span class="hljs-property">LEVEL_3_LARGE</span>) {</li><li>      fontSizeLevel = <span class="hljs-number">4</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      fontSizeLevel = <span class="hljs-number">1</span>;</li><li>    }</li><li>
</li><li>    <span class="hljs-keyword">return</span> fontSizeLevel;</li><li>  }</li><li>  <span class="hljs-comment">// 获得字体字号级别，分别是从0到4级</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getmarginLevel</span>(<span class="hljs-params">Width: <span class="hljs-built_in">number</span></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">marginlevel</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Width</span> == <span class="hljs-number">40</span>) {</li><li>      marginlevel = <span class="hljs-number">2.0</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Width</span> == <span class="hljs-number">80</span>) {</li><li>      marginlevel = <span class="hljs-number">1.0</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Width</span> == <span class="hljs-number">120</span>) {</li><li>      marginlevel = <span class="hljs-number">2</span>/<span class="hljs-number">3</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Width</span> == <span class="hljs-number">160</span>) {</li><li>      marginlevel = <span class="hljs-number">0.5</span>;</li><li>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Width</span> == <span class="hljs-number">200</span>) {</li><li>      marginlevel = <span class="hljs-number">0.4</span>;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> marginlevel;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">genStrMark</span>(<span class="hljs-attr">fontSize</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">PixelMap</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offscreenCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">clearCanvas</span>()</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-property">font</span> = fontSize + <span class="hljs-string">'vp sans-serif'</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">fillText</span>(str + <span class="hljs-string">'.'</span>, <span class="hljs-number">0</span>, fontSize * <span class="hljs-number">0.9</span>)</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, fontSize * (str.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>) / <span class="hljs-number">1.75</span>, fontSize)</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">genSquareMark</span>(<span class="hljs-attr">fontSize</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">PixelMap</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offscreenCanvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">clearCanvas</span>()</li><li>    <span class="hljs-keyword">const</span> coordinate = fontSize * (<span class="hljs-number">1</span> - <span class="hljs-number">1</span> / <span class="hljs-number">1.5</span>) / <span class="hljs-number">2</span>;</li><li>    <span class="hljs-keyword">const</span> sideLength = fontSize / <span class="hljs-number">1.5</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">fillRect</span>(coordinate, coordinate, sideLength, sideLength)</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, fontSize, fontSize)</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 生成圆圈符号</span></li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">genCircleMark</span>(<span class="hljs-attr">fontSize</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>, level?: <span class="hljs-built_in">number</span> ): <span class="hljs-title class_">PixelMap</span> {</li><li>    <span class="hljs-keyword">const</span> indentLevel = level ?? <span class="hljs-number">1</span>;</li><li>    <span class="hljs-keyword">const</span> offsetLevel = [<span class="hljs-number">22</span>, <span class="hljs-number">28</span>, <span class="hljs-number">32</span>, <span class="hljs-number">34</span>, <span class="hljs-number">38</span>];</li><li>    <span class="hljs-keyword">const</span> fontSizeLevel = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getFontSizeLevel</span>(fontSize);</li><li>    <span class="hljs-keyword">const</span> marginlevel = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getmarginLevel</span>(width);</li><li>    <span class="hljs-keyword">const</span> newCanvas = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(canvasWidth, canvasHeight);</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">newOffContext</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = newCanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">settings</span>);</li><li>    <span class="hljs-keyword">const</span> centerCoordinate = <span class="hljs-number">50</span>;</li><li>    <span class="hljs-keyword">const</span> radius = <span class="hljs-number">10</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">clearCanvas</span>()</li><li>    newOffContext.<span class="hljs-title function_">ellipse</span>(<span class="hljs-number">100</span> * (indentLevel + <span class="hljs-number">1</span>) - centerCoordinate * marginlevel, offsetLevel[fontSizeLevel], radius * marginlevel, radius, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>)</li><li>    newOffContext.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'66FF0000'</span>;</li><li>    newOffContext.<span class="hljs-title function_">fill</span>()</li><li>    <span class="hljs-keyword">return</span> newOffContext.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span> + <span class="hljs-number">100</span> * indentLevel, <span class="hljs-number">100</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">clearCanvas</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offContext</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvasWidth, canvasHeight)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-keyword">private</span> leadingMarkCreatorInstance = <span class="hljs-title class_">LeadingMarginCreator</span>.<span class="hljs-property">instance</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">fontNameRawFile</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'MiSans-Bold'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">fs</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">30</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">cl</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">leftMargin</span>: <span class="hljs-title class_">Dimension</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">richEditorTextStyle</span>: <span class="hljs-title class_">RichEditorTextStyle</span> = {};</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getFont</span>().<span class="hljs-title function_">registerFont</span>({</li><li>      <span class="hljs-attr">familyName</span>: <span class="hljs-string">'MiSans-Bold'</span>,</li><li>      <span class="hljs-attr">familySrc</span>: <span class="hljs-string">'/font/MiSans-Bold.ttf'</span></li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789\n"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'medium'</span>,</li><li>                  <span class="hljs-attr">fontFamily</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">fontNameRawFile</span>,</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">50</span>,</li><li>                  <span class="hljs-attr">fontStyle</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Italic</span>,</li><li>                  <span class="hljs-attr">decoration</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span> }</li><li>                }</li><li>              })</li><li>
</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"abcdefg"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Lighter</span>,</li><li>                  <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">'HarmonyOS Sans'</span>,</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-string">'rgba(0,128,0,0.5)'</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,</li><li>                  <span class="hljs-attr">fontStyle</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Normal</span>,</li><li>                  <span class="hljs-attr">decoration</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Overline</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'rgba(169, 26, 246, 0.50)'</span> }</li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"50%"</span>)</li><li>
</li><li>        <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'setTypingStyle1'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setTypingStyle</span>(</li><li>                {</li><li>                  <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'medium'</span>,</li><li>                  <span class="hljs-attr">fontFamily</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">fontNameRawFile</span>,</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">50</span>,</li><li>                  <span class="hljs-attr">fontStyle</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Italic</span>,</li><li>                  <span class="hljs-attr">decoration</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span> }</li><li>                })</li><li>            })</li><li>
</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'setTypingStyle2'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setTypingStyle</span>(</li><li>                {</li><li>                  <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Lighter</span>,</li><li>                  <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">'HarmonyOS Sans'</span>,</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-string">'30'</span>,</li><li>                  <span class="hljs-attr">fontStyle</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Normal</span>,</li><li>                  <span class="hljs-attr">decoration</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Overline</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'rgba(169, 26, 246, 0.50)'</span> }</li><li>                })</li><li>            })</li><li>        }</li><li>        <span class="hljs-title class_">Divider</span>()</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getTypingStyle"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorTextStyle</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getTypingStyle</span>();</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"RichEditor getTypingStyle:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorTextStyle</span>));</li><li>        })</li><li>        <span class="hljs-title class_">Divider</span>()</li><li>        <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"向右列表缩进"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> margin = <span class="hljs-title class_">Number</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span>);</li><li>            <span class="hljs-keyword">if</span> (margin &lt; <span class="hljs-number">200</span>) {</li><li>              margin += <span class="hljs-title class_">Indentation</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span> = margin;</li><li>            }</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({</li><li>              <span class="hljs-attr">start</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">end</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">style</span>: {</li><li>                leadingMargin : {</li><li>                  pixelMap : <span class="hljs-variable language_">this</span>.<span class="hljs-property">leadingMarkCreatorInstance</span>.<span class="hljs-title function_">genCircleMark</span>(<span class="hljs-number">100</span>, margin, <span class="hljs-number">1</span>),</li><li>                  <span class="hljs-attr">size</span>: [margin, <span class="hljs-number">40</span>]</li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>
</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"向左列表缩进"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> margin = <span class="hljs-title class_">Number</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span>);</li><li>            <span class="hljs-keyword">if</span> (margin &gt; <span class="hljs-number">0</span>) {</li><li>              margin -= <span class="hljs-title class_">Indentation</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span> = margin;</li><li>            }</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({</li><li>              <span class="hljs-attr">start</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">end</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">style</span>: {</li><li>                leadingMargin : {</li><li>                  pixelMap : <span class="hljs-variable language_">this</span>.<span class="hljs-property">leadingMarkCreatorInstance</span>.<span class="hljs-title function_">genCircleMark</span>(<span class="hljs-number">100</span>, margin, <span class="hljs-number">1</span>),</li><li>                  <span class="hljs-attr">size</span>: [margin, <span class="hljs-number">40</span>]</li><li>                }</li><li>              }</li><li>            })</li><li>          })</li><li>        }</li><li>        <span class="hljs-title class_">Divider</span>()</li><li>        <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"向右空白缩进"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> margin = <span class="hljs-title class_">Number</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span>);</li><li>            <span class="hljs-keyword">if</span> (margin &lt; <span class="hljs-number">200</span>) {</li><li>              margin += <span class="hljs-title class_">Indentation</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span> = margin;</li><li>            }</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({</li><li>              <span class="hljs-attr">start</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">end</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">style</span>: {</li><li>                <span class="hljs-attr">leadingMargin</span>: margin</li><li>              }</li><li>            })</li><li>          })</li><li>
</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"向左空白缩进"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> margin = <span class="hljs-title class_">Number</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span>)</li><li>            <span class="hljs-keyword">if</span> (margin &gt; <span class="hljs-number">0</span>) {</li><li>              margin -= <span class="hljs-title class_">Indentation</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">leftMargin</span> = margin;</li><li>            }</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({</li><li>              <span class="hljs-attr">start</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">end</span>: -<span class="hljs-number">10</span>,</li><li>              <span class="hljs-attr">style</span>: {</li><li>                <span class="hljs-attr">leadingMargin</span>: margin</li><li>              }</li><li>            })</li><li>          })</li><li>        }</li><li>      }.<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="502" originwidth="394" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.53045204536035687705776388681932:50001231000000:2800:6AA767BC6C664A0979B61EDF2202F39F8AE9023E07FD1EE1DC3DDE3ED0E268E4.gif" width="394" height="502"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2365px;">     <h3 id="示例8设置文本字重与阴影">示例8（设置文本字重与阴影）<i class="anchor-icon anchor-icon-link" anchorid="示例8设置文本字重与阴影" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updateparagraphstyle11">updateParagraphStyle</a>接口设置文本字重与阴影。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"[-1, -1]"</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>  <span class="hljs-meta">@State</span> textShadows : <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">ShadowOptions</span>&gt; = [</li><li>    { <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Brown</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Yellow</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span> }</li><li>  ];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection range:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection content:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"更新样式: 加粗 &amp; 文本阴影"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>            <span class="hljs-attr">textStyle</span>:</li><li>            {</li><li>              <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span>,</li><li>              <span class="hljs-attr">textShadow</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textShadows</span></li><li>            }</li><li>          })</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,</li><li>                  <span class="hljs-attr">textShadow</span>: { <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>, <span class="hljs-attr">offsetX</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span> }</li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"30%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"70%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="349" originwidth="451" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115521.56672791834768514510511797162958:50001231000000:2800:2309E2432A1F12EEC0CF854614D2D108624145D836F304D4742D57F7F62A53C0.gif" width="451" height="349"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 7714px;">     <h3 id="示例9添加用户自定义布局span">示例9（添加用户自定义布局Span）<i class="anchor-icon anchor-icon-link" anchorid="示例9添加用户自定义布局span" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#addbuilderspan11">addBuilderSpan</a>接口添加用户自定义布局Span。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">placeholderBuilder2</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>    <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>    <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: -<span class="hljs-number">5</span> })</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'okokokok'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)</li><li>  }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>}</li><li>
</li><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">option</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">4</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"[-1, -1]"</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">my_offset</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">my_builder</span>: <span class="hljs-title class_">CustomBuilder</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">my_builder2</span>:<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = placeholderBuilder2;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">placeholderBuilder</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>      <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: -<span class="hljs-number">5</span> })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Custom Popup'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">placeholderBuilder3</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">"hello"</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-string">'20'</span>).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">placeholderBuilder4</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">5</span> }) {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'direction:Row'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Row</span> }) { <span class="hljs-comment">// 子组件在容器主抽上行布局</span></li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">70</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'direction:RowReverse'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">RowReverse</span> }) { <span class="hljs-comment">// 子组件在容器主抽上反向行布局</span></li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">70</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'direction:Column'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span> }) { <span class="hljs-comment">// 子组件在容器主抽上列布局</span></li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">160</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'direction:ColumnReverse'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">ColumnReverse</span> }) { <span class="hljs-comment">// 子组件在容器主抽上反向列布局</span></li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xF5DEB3</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1'</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'20%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xD2B48C</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">160</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>        .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xAFEEEE</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">'app.media.startIcon'</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项1"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: $r(<span class="hljs-string">'app.media.startIcon'</span>), <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项2"</span> })</li><li>        .<span class="hljs-title function_">enabled</span>(<span class="hljs-literal">false</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection range:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection content:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>() {</li><li>          <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"获取选择内容 getSpans"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getSpans='</span>+<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>({ <span class="hljs-attr">start</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">5</span> })));</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getParagraphs='</span>+<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getParagraphs</span>({ <span class="hljs-attr">start</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>:<span class="hljs-number">5</span> })));</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">""</span>;</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span></li><li>          }).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>              <span class="hljs-keyword">if</span> ((item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> == <span class="hljs-string">""</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"builder span index "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span> + <span class="hljs-string">", range : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">", size : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>[<span class="hljs-number">1</span>])</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"image span "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> + <span class="hljs-string">", index : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span> + <span class="hljs-string">", range: "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">", size : "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">1</span>])</li><li>              }</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += <span class="hljs-string">"\n"</span>;</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"text span: "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>);</li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"获取选择内容 getSelection"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">""</span>;</li><li>          <span class="hljs-keyword">let</span> select = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"selection start "</span> + select.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">" end "</span> + select.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>]);</li><li>          select.<span class="hljs-property">spans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>              <span class="hljs-keyword">if</span> ((item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> == <span class="hljs-string">""</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"builder span index "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span> + <span class="hljs-string">", range : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">", size : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>[<span class="hljs-number">1</span>])</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"image span "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> + <span class="hljs-string">", index : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span> + <span class="hljs-string">", range: "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">", size : "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">1</span>])</li><li>              }</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += <span class="hljs-string">"\n"</span>;</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"text span: "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>);</li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"删除选择内容"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteSpans</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span></li><li>          })</li><li>        })</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">option</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"57px"</span>, <span class="hljs-string">"57px"</span>]</li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">onSelect</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorSelection</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-string">"["</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> + <span class="hljs-string">", "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> + <span class="hljs-string">"]"</span>;</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"onSelect="</span>+<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>          })</li><li>          .<span class="hljs-title function_">aboutToIMEInput</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorInsertValue</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- aboutToIMEInput --------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"aboutToIMEInput="</span>+<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"insertOffset:"</span> + value.<span class="hljs-property">insertOffset</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"insertValue:"</span> + value.<span class="hljs-property">insertValue</span>);</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">onIMEInputComplete</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorTextSpanResult</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- onIMEInputComplete --------------------"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"onIMEInputComplete="</span>+<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanIndex:"</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanRange:["</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + value.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offsetInSpan:["</span> + value.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + value.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"value:"</span> + value.<span class="hljs-property">value</span>);</li><li>          })</li><li>          .<span class="hljs-title function_">aboutToDelete</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorDeleteValue</span>) =&gt;</span> {</li><li>            value.<span class="hljs-property">richEditorDeleteSpans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"---------------------- item --------------------"</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanIndex="</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"spanRange:["</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + item.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"offsetInSpan:["</span> + item.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">","</span> + item.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">"]"</span>);</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] != <span class="hljs-string">'undefined'</span>) {</li><li>                <span class="hljs-keyword">if</span> ((item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> == <span class="hljs-string">""</span>) {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"builder span index "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span> + <span class="hljs-string">", range : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">", size : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>[<span class="hljs-number">1</span>])</li><li>                } <span class="hljs-keyword">else</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"image span "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> + <span class="hljs-string">", index : "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span> + <span class="hljs-string">", range: "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">", size : "</span> +</li><li>                  (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">1</span>])</li><li>                }</li><li>              } <span class="hljs-keyword">else</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"delete text: "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>);</li><li>              }</li><li>            })</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"30%"</span>)</li><li>
</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"add span"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> num = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addBuilderSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">my_builder</span>, { <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">my_offset</span> });</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'addBuilderSpan return '</span> + num);</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"add image"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-keyword">let</span> num = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>), {</li><li>              <span class="hljs-attr">imageStyle</span>: {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"50px"</span>, <span class="hljs-string">"50px"</span>],</li><li>                <span class="hljs-attr">verticalAlign</span>: <span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">BOTTOM</span>,</li><li>                <span class="hljs-attr">layoutStyle</span>: {</li><li>                  <span class="hljs-attr">borderRadius</span>: <span class="hljs-literal">undefined</span>,</li><li>                  <span class="hljs-attr">margin</span>: <span class="hljs-literal">undefined</span></li><li>                }</li><li>              }</li><li>            })</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'addImageSpan return'</span> + num);</li><li>          })</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'builder1'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">my_builder</span> = <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">placeholderBuilder</span>()</li><li>            };</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'builder2'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">my_builder</span> = <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">my_builder2</span>()</li><li>            };</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'builder3'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">my_builder</span> = <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">placeholderBuilder3</span>()</li><li>            };</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'builder4'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">my_builder</span> = <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">placeholderBuilder4</span>()</li><li>            };</li><li>          })</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"70%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="418" originwidth="451" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.35782292565266477794901030522645:50001231000000:2800:9E43248073217E80587CD997EE4B3BAB1FCF2B3447E08EEB40491BF4EA752F57.gif" width="451" height="418"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 8668px;">     <h3 id="示例10使用和管理组件内的builderspan">示例10（使用和管理组件内的BuilderSpan）<i class="anchor-icon anchor-icon-link" anchorid="示例10使用和管理组件内的builderspan" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#addbuilderspan11">addBuilderSpan</a>接口添加的自定义布局Span，<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getspans">getSpans</a>、<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#onwillchange12">onWillChange</a>等API不会返回BuilderSpan内部的信息。开发者需要自行维护BuilderSpan的状态，并且在组件内容发生变化时同步更新。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">'BuilderSpanDemo'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BuilderObject</span> {</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span></li><li>  imageUri?: <span class="hljs-built_in">string</span></li><li>  <span class="hljs-attr">type</span>: <span class="hljs-built_in">string</span></li><li>  id?: <span class="hljs-built_in">string</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">content: <span class="hljs-built_in">string</span>, <span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span>, imageUri?: <span class="hljs-built_in">string</span>, id?: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = content</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageUri</span> = imageUri</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = <span class="hljs-keyword">type</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>()</li><li>  <span class="hljs-attr">option</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> }</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">customBuilder</span>: <span class="hljs-title class_">CustomBuilder</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">builderArray</span>: <span class="hljs-title class_">BuilderObject</span>[] = [];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">indicesToRemove</span>: <span class="hljs-built_in">number</span>[] = [];</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">builderId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">imageTextBuilder</span>(<span class="hljs-params">builder: BuilderObject</span>) {</li><li>    <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>      <span class="hljs-title class_">Image</span>($r(builder.<span class="hljs-property">imageUri</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: -<span class="hljs-number">5</span> })</li><li>      <span class="hljs-title class_">Text</span>(builder.<span class="hljs-property">content</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">10</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-number">110</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">chipBuilder</span>(<span class="hljs-params">builder: BuilderObject</span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Text</span>(builder.<span class="hljs-property">content</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>        .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>        .<span class="hljs-title function_">fontFamily</span>(<span class="hljs-string">'HarmonyHeiTi'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">4</span> })</li><li>
</li><li>      <span class="hljs-title class_">SymbolGlyph</span>($r(<span class="hljs-string">'sys.symbol.xmark'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">16</span>)</li><li>        .<span class="hljs-title function_">id</span>(builder.<span class="hljs-property">id</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">deleteChipBuilder</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>)</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'auto'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">28</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">10</span>)</li><li>    .<span class="hljs-title function_">padding</span>({</li><li>      <span class="hljs-attr">top</span>: <span class="hljs-number">4</span>,</li><li>      <span class="hljs-attr">bottom</span>: <span class="hljs-number">4</span>,</li><li>      <span class="hljs-attr">left</span>: <span class="hljs-number">12</span>,</li><li>      <span class="hljs-attr">right</span>: <span class="hljs-number">12</span></li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">deleteChipBuilder</span>(<span class="hljs-params">builderId?: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-keyword">if</span> (builderId == <span class="hljs-literal">null</span> || builderId == <span class="hljs-string">""</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"delete chipBuilder error"</span>);</li><li>      <span class="hljs-keyword">return</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">deleteRange</span>: <span class="hljs-built_in">number</span>[] = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getTargetBuilderSpanRange</span>(builderId)</li><li>    <span class="hljs-keyword">if</span> (deleteRange.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"getTargetBuilderSpanRange failed"</span> + builderId);</li><li>      <span class="hljs-keyword">return</span></li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> !== builderId);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteSpans</span>({ <span class="hljs-attr">start</span>: deleteRange[<span class="hljs-number">0</span>], <span class="hljs-attr">end</span>: deleteRange[<span class="hljs-number">1</span>] });</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`deleteChipBuilder start = <span class="hljs-subst">${deleteRange[<span class="hljs-number">0</span>]}</span>, end = <span class="hljs-subst">${deleteRange[<span class="hljs-number">1</span>]}</span>`</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`deleteChipBuilder builderArray + <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.builderArray.length}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">getTargetBuilderSpanRange</span>(<span class="hljs-attr">builderId</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span>[] {</li><li>    <span class="hljs-keyword">let</span> allSpans = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>();</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">number</span>[] = [];</li><li>    <span class="hljs-keyword">let</span> chitBuilderIndex = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> spanIndex = <span class="hljs-number">0</span>; spanIndex &lt; allSpans.<span class="hljs-property">length</span>; spanIndex++) {</li><li>      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderSpanResult</span>(allSpans[spanIndex])) {</li><li>        <span class="hljs-keyword">continue</span>;</li><li>      }</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span> &lt;= chitBuilderIndex) {</li><li>        <span class="hljs-keyword">break</span>;</li><li>      }</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>[chitBuilderIndex].<span class="hljs-property">id</span> === builderId) {</li><li>        result = allSpans[spanIndex].<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>;</li><li>        <span class="hljs-keyword">break</span>;</li><li>      }</li><li>      chitBuilderIndex++;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> result;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">isTextSpanResult</span>(<span class="hljs-attr">item</span>: <span class="hljs-title class_">RichEditorImageSpanResult</span> | <span class="hljs-title class_">RichEditorTextSpanResult</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] == <span class="hljs-string">'undefined'</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">isBuilderSpanResult</span>(<span class="hljs-attr">item</span>: <span class="hljs-title class_">RichEditorImageSpanResult</span> | <span class="hljs-title class_">RichEditorTextSpanResult</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>)[<span class="hljs-string">'imageStyle'</span>] != <span class="hljs-string">'undefined'</span></li><li>      &amp;&amp; ((item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> == <span class="hljs-string">" "</span></li><li>        || (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">valueResourceStr</span> == <span class="hljs-string">""</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Scroll</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Builder Info:"</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          <span class="hljs-title class_">Text</span>() {</li><li>            <span class="hljs-title class_">Span</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>)</li><li>          }.<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>
</li><li>      <span class="hljs-comment">// 添加Builder时，记录builder的相对顺序，以及builder信息</span></li><li>      <span class="hljs-comment">// getSpans接口valueResourceStr == " "或""的Span是builderSpan，并且会按顺序返回builder</span></li><li>      <span class="hljs-comment">// 可以根据上面两点，在查询时还原builder信息</span></li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"addImageTextBuilder"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> insertOffset = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretOffset</span>();</li><li>          <span class="hljs-comment">// 'app.media.startIcon'需要替换为开发者所需的图像资源文件。</span></li><li>          <span class="hljs-keyword">let</span> builder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderObject</span>(<span class="hljs-string">'Custom PopUP '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderId</span>, <span class="hljs-string">'imageTextBuilder'</span>, <span class="hljs-string">'app.media.startIcon'</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">customBuilder</span> = <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">imageTextBuilder</span>(builder);</li><li>          }</li><li>          <span class="hljs-keyword">let</span> addIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addBuilderByIndex</span>(insertOffset);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"add imageTextBuilder index = "</span> + addIndex);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-title function_">splice</span>(addIndex, <span class="hljs-number">0</span>, builder);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addBuilderSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customBuilder</span>, { <span class="hljs-attr">offset</span>: insertOffset });</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderId</span>++;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"add imageTextBuilder success"</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"addChipBuilder"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> insertOffset = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretOffset</span>();</li><li>          <span class="hljs-keyword">let</span> builder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BuilderObject</span>(<span class="hljs-string">'Hello World '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderId</span>, <span class="hljs-string">'chipBuilder'</span>, <span class="hljs-string">''</span>,</li><li>            <span class="hljs-string">'chipBuilder'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderId</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">customBuilder</span> = <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">chipBuilder</span>(builder);</li><li>          }</li><li>          <span class="hljs-keyword">let</span> addIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addBuilderByIndex</span>(insertOffset);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"add addChipBuilder index = "</span> + addIndex);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-title function_">splice</span>(addIndex, <span class="hljs-number">0</span>, builder);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addBuilderSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">customBuilder</span>, { <span class="hljs-attr">offset</span>: insertOffset });</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderId</span>++;</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"add chipBuilder success"</span>);</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"getSpans"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"getSpans = "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>()));</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">""</span>;</li><li>          <span class="hljs-keyword">let</span> allSpans = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>();</li><li>          <span class="hljs-keyword">let</span> builderSpanIndex = <span class="hljs-number">0</span>;</li><li>          allSpans.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isTextSpanResult</span>(item)) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"text span value: "</span> + (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorTextSpanResult</span>).<span class="hljs-property">value</span>);</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderSpanResult</span>(item)) {</li><li>              <span class="hljs-keyword">let</span> builderOrder = <span class="hljs-string">"This is builderSpan "</span> + builderSpanIndex + <span class="hljs-string">":"</span></li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, builderOrder);</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += builderOrder + <span class="hljs-string">"\n"</span>;</li><li>              <span class="hljs-keyword">let</span> builderResult = (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>);</li><li>              <span class="hljs-keyword">let</span> builderIndex = <span class="hljs-string">"index: "</span> + builderResult.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span></li><li>                + <span class="hljs-string">", range: "</span> + builderResult.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span></li><li>                + builderResult.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">1</span>];</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, builderIndex);</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += builderIndex + <span class="hljs-string">"\n"</span>;</li><li>              <span class="hljs-keyword">if</span> (builderSpanIndex &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span>) {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"getSpans error,  builderSpanIndex = "</span> + builderSpanIndex</li><li>                  + <span class="hljs-string">", builderArray.length = "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span>);</li><li>                <span class="hljs-keyword">return</span>;</li><li>              }</li><li>              <span class="hljs-keyword">let</span> builderInfo = <span class="hljs-string">"content: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>[builderSpanIndex].<span class="hljs-property">content</span></li><li>                + <span class="hljs-string">", image uri: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>[builderSpanIndex].<span class="hljs-property">imageUri</span></li><li>                + <span class="hljs-string">", id: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>[builderSpanIndex].<span class="hljs-property">id</span> + <span class="hljs-string">"\n\n"</span>;</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, builderInfo);</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> += builderInfo;</li><li>              builderSpanIndex++;</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-keyword">let</span> imageResult = (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>);</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"image span "</span> + imageResult.<span class="hljs-property">valueResourceStr</span> + <span class="hljs-string">", index: "</span> +</li><li>              imageResult.<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span> + <span class="hljs-string">", range: "</span> +</li><li>              imageResult.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + imageResult.<span class="hljs-property">offsetInSpan</span>[<span class="hljs-number">1</span>] + <span class="hljs-string">", size: "</span> +</li><li>              imageResult.<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">0</span>] + <span class="hljs-string">", "</span> + imageResult.<span class="hljs-property">imageStyle</span>.<span class="hljs-property">size</span>[<span class="hljs-number">1</span>]);</li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"deleteSelectedSpans"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>().<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>().<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> == <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>) {</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-keyword">let</span> allSpans = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>();</li><li>            <span class="hljs-keyword">let</span> needRemoveIndex = <span class="hljs-number">0</span>;</li><li>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; allSpans.<span class="hljs-property">length</span>; i++) {</li><li>              <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderSpanResult</span>(allSpans[i])) {</li><li>                <span class="hljs-keyword">continue</span>;</li><li>              }</li><li>              <span class="hljs-keyword">let</span> builderIndex = (allSpans[i] <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>];</li><li>              <span class="hljs-keyword">if</span> (builderIndex &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> || builderIndex &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>) {</li><li>                needRemoveIndex++;</li><li>                <span class="hljs-keyword">continue</span>;</li><li>              }</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">indicesToRemove</span>.<span class="hljs-title function_">push</span>(needRemoveIndex);</li><li>              needRemoveIndex++;</li><li>            }</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"deleteSpans indicesToRemove = "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">indicesToRemove</span>.<span class="hljs-title function_">toString</span>());</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">deleteBuilderByIndices</span>();</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"deleteSpans builderArray = "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span>);</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteSpans</span>({ <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>, <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> });</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"5%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">option</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"0123456789"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">aboutToDelete</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorDeleteValue</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"aboutToDelete = "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));</li><li>            <span class="hljs-keyword">let</span> isBuilderAboutToDelete = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderAboutToDelete</span>(value);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"aboutToDelete isBuilderAboutToDelete = "</span> + isBuilderAboutToDelete);</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getIndicesToRemove</span>(value, isBuilderAboutToDelete);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"indicesToRemove = "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">indicesToRemove</span>.<span class="hljs-title function_">toString</span>());</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">deleteBuilderByIndices</span>();</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"builderArray = "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span>);</li><li>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"30%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">60</span> })</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"70%"</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">isBuilderAboutToDelete</span>(<span class="hljs-attr">value</span>: <span class="hljs-title class_">RichEditorDeleteValue</span>): <span class="hljs-built_in">boolean</span> {</li><li>    <span class="hljs-keyword">let</span> flag = <span class="hljs-literal">false</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; value.<span class="hljs-property">richEditorDeleteSpans</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderSpanResult</span>(value.<span class="hljs-property">richEditorDeleteSpans</span>[i])) {</li><li>        flag = <span class="hljs-literal">true</span>;</li><li>        <span class="hljs-keyword">break</span>;</li><li>      }</li><li>    }</li><li>    <span class="hljs-keyword">return</span> flag;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">getIndicesToRemove</span>(<span class="hljs-attr">value</span>: <span class="hljs-title class_">RichEditorDeleteValue</span>, <span class="hljs-attr">isBuilderAboutToDelete</span>: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (!isBuilderAboutToDelete) {</li><li>      <span class="hljs-keyword">return</span></li><li>    }</li><li>    <span class="hljs-keyword">let</span> allSpans = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>();</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; value.<span class="hljs-property">richEditorDeleteSpans</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-keyword">let</span> needRemoveIndex = <span class="hljs-number">0</span>;</li><li>      <span class="hljs-keyword">let</span> item = value.<span class="hljs-property">richEditorDeleteSpans</span>[i];</li><li>      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderSpanResult</span>(item)) {</li><li>        <span class="hljs-keyword">continue</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> aboutToDeleteBuilderIndex = (item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span></li><li>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; allSpans.<span class="hljs-property">length</span>; j++) {</li><li>        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderSpanResult</span>(allSpans[j])) {</li><li>          <span class="hljs-keyword">continue</span>;</li><li>        }</li><li>        <span class="hljs-keyword">let</span> builderIndex = (allSpans[j] <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanIndex</span></li><li>        <span class="hljs-keyword">if</span> (builderIndex == aboutToDeleteBuilderIndex) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">indicesToRemove</span>.<span class="hljs-title function_">push</span>(needRemoveIndex)</li><li>          <span class="hljs-keyword">break</span>;</li><li>        }</li><li>        needRemoveIndex++;</li><li>      }</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">deleteBuilderByIndices</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">indicesSet</span>: <span class="hljs-title class_">Set</span>&lt;<span class="hljs-built_in">number</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">indicesToRemove</span>);</li><li>    <span class="hljs-keyword">let</span> newLength = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-keyword">if</span> (!indicesSet.<span class="hljs-title function_">has</span>(i)) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>[newLength] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>[i];</li><li>        newLength++;</li><li>      }</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span> = newLength;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">indicesToRemove</span>.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">addBuilderByIndex</span>(<span class="hljs-attr">insertOffset</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">if</span> (insertOffset == <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">builderArray</span>.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</li><li>    }</li><li>    <span class="hljs-keyword">let</span> allSpans = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSpans</span>();</li><li>    <span class="hljs-keyword">let</span> addIndex = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; allSpans.<span class="hljs-property">length</span>; i++) {</li><li>      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isBuilderSpanResult</span>(allSpans[i])) {</li><li>        <span class="hljs-keyword">continue</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> builderIndex = (allSpans[i] <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorImageSpanResult</span>).<span class="hljs-property">spanPosition</span>.<span class="hljs-property">spanRange</span>[<span class="hljs-number">0</span>];</li><li>      <span class="hljs-keyword">if</span> (builderIndex &lt; insertOffset) {</li><li>        addIndex++;</li><li>        <span class="hljs-keyword">continue</span>;</li><li>      }</li><li>      <span class="hljs-keyword">break</span>;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> addIndex;</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="340" originwidth="247" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.16714460951974461859934005414040:50001231000000:2800:A93B2D20581C999A1098685044EF0494DFBC9AC53E8DD9060C0967B85AD73BB8.gif" class="notEnlarge" width="247" height="340"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1613px;">     <h3 id="示例11设置文本识别配置">示例11（设置文本识别配置）<i class="anchor-icon anchor-icon-link" anchorid="示例11设置文本识别配置" tips="复制节点链接"></i></h3>          <p>设置<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#enabledatadetector11">enableDataDetector</a>为true时，通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#datadetectorconfig11">dataDetectorConfig</a>接口设置文本识别配置。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TextExample7</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">phoneNumber</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'(86) (755) ********'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'www.********.com'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'***@example.com'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">address</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'XX省XX市XX区XXXX'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">enableDataDetector</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">enablePreviewText</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">types</span>: <span class="hljs-title class_">TextDataDetectorType</span>[] = [];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'电话号码：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">phoneNumber</span> + <span class="hljs-string">'\n'</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'链接：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span> + <span class="hljs-string">'\n'</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'邮箱：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">email</span> + <span class="hljs-string">'\n'</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'地址：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">address</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">copyOptions</span>(<span class="hljs-title class_">CopyOptions</span>.<span class="hljs-property">InApp</span>)</li><li>          .<span class="hljs-title function_">enableDataDetector</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">enableDataDetector</span>)</li><li>          .<span class="hljs-title function_">dataDetectorConfig</span>({types : <span class="hljs-variable language_">this</span>.<span class="hljs-property">types</span>, <span class="hljs-attr">onDetectResultUpdate</span>: <span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">string</span></span>)=&gt;</span>{}})</li><li>          .<span class="hljs-title function_">enablePreviewText</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">enablePreviewText</span>)</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1110px;">     <h3 id="示例12设置光标手柄和底板颜色">示例12（设置光标、手柄和底板颜色）<i class="anchor-icon anchor-icon-link" anchorid="示例12设置光标手柄和底板颜色" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#caretcolor12">caretColor</a>属性设置输入框光标、手柄颜色，通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#selectedbackgroundcolor12">selectedBackgroundColor</a>属性设置文本选中底板颜色。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorDemo</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>;</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"改为红色"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>;</li><li>        })</li><li>      }.<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">50</span> })</li><li>
</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'通过caretColor和selectedBackgroundColor属性设置光标和选中背景色'</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">radius</span>: <span class="hljs-number">5</span> })</li><li>        .<span class="hljs-title function_">key</span>(<span class="hljs-string">'RichEditor'</span>)</li><li>        .<span class="hljs-title function_">caretColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>)<span class="hljs-comment">//光标颜色</span></li><li>        .<span class="hljs-title function_">selectedBackgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>)<span class="hljs-comment">//选中背景色</span></li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">50</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="222" originwidth="792" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.03991549580797476823572226736329:50001231000000:2800:1DFE1354B0533D87D5B0C22B44E53749D27EB305CB9CD807EF351EBB694AA5C1.gif" width="792" height="222"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3426px;">     <h3 id="示例13设置行高和字符间距">示例13（设置行高和字符间距）<i class="anchor-icon anchor-icon-link" anchorid="示例13设置行高和字符间距" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updatespanstyle">updateSpanStyle</a>接口配置文本行高（<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">lineHeight</a>）和字符间距（<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">letterSpacing</a>）。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorDemo03</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">LH</span>:<span class="hljs-built_in">number</span> = <span class="hljs-number">50</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">LS</span>:<span class="hljs-built_in">number</span> = <span class="hljs-number">20</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Scroll</span>(){</li><li>        <span class="hljs-title class_">Column</span>(){</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-string">"行高++"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span> + <span class="hljs-number">5</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>                <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>                <span class="hljs-attr">textStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">lineHeight</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span></li><li>                }</li><li>              })</li><li>            })</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-string">"行高--"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span> - <span class="hljs-number">5</span>;</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>                <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>                <span class="hljs-attr">textStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">lineHeight</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span></li><li>                }</li><li>              })</li><li>            })</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-string">"字符间距++"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span> + <span class="hljs-number">5</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>                <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>                <span class="hljs-attr">textStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">letterSpacing</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span></li><li>                }</li><li>              })</li><li>            })</li><li>            <span class="hljs-title class_">Button</span>(<span class="hljs-string">"字符间距--"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span> - <span class="hljs-number">5</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>                <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>                <span class="hljs-attr">textStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">letterSpacing</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span></li><li>                }</li><li>              })</li><li>            })</li><li>          }</li><li>        }</li><li>      }.<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>      .<span class="hljs-title function_">margin</span>({<span class="hljs-attr">top</span>: <span class="hljs-number">20</span>})</li><li>
</li><li>      <span class="hljs-title class_">Scroll</span>(){</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"LineHeight:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"LetterSpacing:"</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>      .<span class="hljs-title function_">margin</span>({<span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>})</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>).<span class="hljs-title function_">clip</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"012345"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,</li><li>                  <span class="hljs-attr">lineHeight</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span>,</li><li>                  <span class="hljs-attr">letterSpacing</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"6789"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,</li><li>                  <span class="hljs-attr">lineHeight</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LH</span>,</li><li>                  <span class="hljs-attr">letterSpacing</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">LS</span></li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">400</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">400</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"60%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="450" originwidth="431" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.73963806379483970172825166387959:50001231000000:2800:72628D2ECBA7A85D4AA456FDA02AD6044E3056EC918E5A17CCD362B3C0ECD478.png" width="431" height="450"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 919px;">     <h3 id="示例14自定义粘贴事件">示例14（自定义粘贴事件）<i class="anchor-icon anchor-icon-link" anchorid="示例14自定义粘贴事件" tips="复制节点链接"></i></h3>          <p>为组件添加<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#onpaste11">onPaste</a>事件，通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#pasteevent11">PasteEvent</a>自定义用户粘贴事件。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorDemo</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>      <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'RichEditor preventDefault'</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">onPaste</span>(<span class="hljs-function">(<span class="hljs-params">event?: PasteEvent</span>) =&gt;</span> {</li><li>          <span class="hljs-keyword">if</span> (event != <span class="hljs-literal">undefined</span> &amp;&amp; event.<span class="hljs-property">preventDefault</span>) {</li><li>            event.<span class="hljs-title function_">preventDefault</span>();</li><li>          }</li><li>        })</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'40%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="127" originwidth="442" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.84836889200594370492820406888951:50001231000000:2800:D760F90883A507BF9DFD8F3A751D87768F83CE4ED1A737B4EE1EFC42ECD490A2.gif" width="442" height="127"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;">     <h3 id="示例15配置文字特性效果">示例15（配置文字特性效果）<i class="anchor-icon anchor-icon-link" anchorid="示例15配置文字特性效果" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#addtextspan">addTextSpan</a>接口设置文字特性效果（<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditortextstyle">fontFeature</a>）。当添加“ss01”特性的FontFeature属性时，数字“0”由原来的椭圆形改变为带有倒圆角形。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">enableDataDetector</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">types</span>: <span class="hljs-title class_">TextDataDetectorType</span>[] = [];</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'This is ss01 off :'</span> + <span class="hljs-string">'0000'</span> + <span class="hljs-string">'\n'</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'This is ss01 on :'</span> + <span class="hljs-string">'0000'</span> + <span class="hljs-string">'\n'</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,</li><li>                  <span class="hljs-attr">fontFeature</span>: <span class="hljs-string">"\"ss01\" 1"</span></li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">copyOptions</span>(<span class="hljs-title class_">CopyOptions</span>.<span class="hljs-property">InApp</span>)</li><li>          .<span class="hljs-title function_">enableDataDetector</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">enableDataDetector</span>)</li><li>          .<span class="hljs-title function_">dataDetectorConfig</span>({types : <span class="hljs-variable language_">this</span>.<span class="hljs-property">types</span>, <span class="hljs-attr">onDetectResultUpdate</span>: <span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">string</span></span>)=&gt;</span>{}})</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({<span class="hljs-attr">top</span>:<span class="hljs-number">150</span>})</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="157" originwidth="529" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.79992371751740872756814729856230:50001231000000:2800:0EEA3E0C2660F1461C21888F26EA3848435A3E07A0D350E8787EA414B1CE16BF.png" width="529" height="157"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2495px;">     <h3 id="示例16自定义键盘避让">示例16（自定义键盘避让）<i class="anchor-icon anchor-icon-link" anchorid="示例16自定义键盘避让" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#customkeyboard">customKeyboard</a>属性绑定自定义键盘，通过参数<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#keyboardoptions12">KeyboardOptions</a>设置自定义键盘是否支持避让功能。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">height1</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> = <span class="hljs-string">'80%'</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">height2</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">supportAvoidance</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>
</li><li>  <span class="hljs-comment">// 自定义键盘组件</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">CustomKeyboardBuilder</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'增加特表情包'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"\uD83D\uDE0A"</span>,</li><li>            {</li><li>              <span class="hljs-attr">style</span>:</li><li>              {</li><li>                <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span></li><li>              }</li><li>            })</li><li>        })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Grid</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>([<span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>, <span class="hljs-string">'6'</span>, <span class="hljs-string">'7'</span>, <span class="hljs-string">'8'</span>, <span class="hljs-string">'9'</span>, <span class="hljs-string">'*'</span>, <span class="hljs-string">'0'</span>, <span class="hljs-string">'#'</span>], <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">GridItem</span>() {</li><li>            <span class="hljs-title class_">Button</span>(item).<span class="hljs-title function_">width</span>(<span class="hljs-number">110</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(item, {</li><li>                <span class="hljs-attr">offset</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretOffset</span>(),</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setCaretOffset</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretOffset</span>() + item.<span class="hljs-title function_">toString</span>().<span class="hljs-property">length</span>)</li><li>            })</li><li>          }</li><li>        })</li><li>      }.<span class="hljs-title function_">maxCount</span>(<span class="hljs-number">3</span>).<span class="hljs-title function_">columnsGap</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">rowsGap</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"20%"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">height1</span> = <span class="hljs-string">"20%"</span>;</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"80%"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">20</span> })</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">height1</span> = <span class="hljs-string">"80%"</span>;</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>      .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">VerticalAlign</span>.<span class="hljs-property">Bottom</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">height1</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">padding</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">50</span> })</li><li>
</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })<span class="hljs-comment">// 绑定自定义键盘</span></li><li>        .<span class="hljs-title function_">customKeyboard</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title class_">CustomKeyboardBuilder</span>(), { <span class="hljs-attr">supportAvoidance</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">supportAvoidance</span> })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span> })</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="479" originwidth="294" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.17292086381899596884620618524136:50001231000000:2800:020B1486DD0B5A592DA65A54332E29E5F6AA0A3DA5D21544B14B59BCBD02061E.gif" class="notEnlarge" width="294" height="479"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1559px;">     <h3 id="示例17查看编辑状态">示例17（查看编辑状态）<i class="anchor-icon anchor-icon-link" anchorid="示例17查看编辑状态" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#isediting12">isEditing</a>接口获取当前富文本的编辑状态。为组件添加<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#oneditingchange12">onEditingChange</a>事件，可通过打印日志，获取当前组件是否在编辑态。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditor</span>_onEditingChange {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">controllerIsEditing</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-meta">@Builder</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"点击查看编辑状态isEditing()："</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controllerIsEditing</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">isEditing</span>();</li><li>        })</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">''</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">controllerIsEditing</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      }</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onEditingChange</span>(<span class="hljs-function">(<span class="hljs-params">isEditing: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Current Editing Status:"</span> + isEditing);</li><li>        })</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">400</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="575" originwidth="277" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.94005291585731398507002843656734:50001231000000:2800:6E17E5452516A41653BEA0A78F667E8E02CCE03084B1CE60F7E5B7A113405EE2.gif" class="notEnlarge" width="277" height="575"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2117px;">     <h3 id="示例18配置文本变化回调">示例18（配置文本变化回调）<i class="anchor-icon anchor-icon-link" anchorid="示例18配置文本变化回调" tips="复制节点链接"></i></h3>          <p>为组件添加<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#onwillchange12">onWillChange</a>事件，能够在组件执行增删操作前，触发回调。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'测试文字TestWord'</span>, { <span class="hljs-attr">style</span>: { <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span> } })</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>            <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">textStyle</span>:</li><li>            {</li><li>              <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span></li><li>            }</li><li>          })</li><li>        })</li><li>        .<span class="hljs-title function_">onWillChange</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorChangeValue</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'测试log: onWillChange'</span>);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rangeBefore: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value.<span class="hljs-property">rangeBefore</span>));</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print replacedSpans'</span>);</li><li>          value.<span class="hljs-property">replacedSpans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'spanPosition:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">spanPosition</span>));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'value:'</span> + item.<span class="hljs-property">value</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'textStyle:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">textStyle</span>));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'offsetInSpan:'</span> + item.<span class="hljs-property">offsetInSpan</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'valueResource:'</span> + item.<span class="hljs-property">valueResource</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'paragraphStyle:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">paragraphStyle</span>));</li><li>          })</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print replacedImageSpans'</span>);</li><li>          value.<span class="hljs-property">replacedImageSpans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorImageSpanResult</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'spanPosition:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">spanPosition</span>));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'valuePixelMap:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">valuePixelMap</span>));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'valueResourceStr:'</span> + item.<span class="hljs-property">valueResourceStr</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'imageStyle:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">imageStyle</span>));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'offsetInSpan:'</span> + item.<span class="hljs-property">offsetInSpan</span>);</li><li>          })</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'print replacedSymbolSpans'</span>);</li><li>          value.<span class="hljs-property">replacedSymbolSpans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'spanPosition:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">spanPosition</span>));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'value:'</span> + item.<span class="hljs-property">value</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'offsetInSpan:'</span> + item.<span class="hljs-property">offsetInSpan</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'symbolSpanStyle:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">symbolSpanStyle</span>));</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'valueResource:'</span> + item.<span class="hljs-property">valueResource</span>);</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'paragraphStyle:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item.<span class="hljs-property">paragraphStyle</span>));</li><li>          })</li><li>          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">onDidChange</span>(<span class="hljs-function">(<span class="hljs-params">rangeBefore: TextRange, rangeAfter: TextRange</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'测试log: onDidChange'</span>);</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rangeBefore:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rangeBefore));</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'rangeAfter:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(rangeAfter));</li><li>        })</li><li>        .<span class="hljs-title function_">onCut</span>(<span class="hljs-function">(<span class="hljs-params">event:CutEvent</span>) =&gt;</span> {</li><li>          event.<span class="hljs-property">preventDefault</span>!()</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'测试log：onCut'</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">onCopy</span>(<span class="hljs-function">(<span class="hljs-params">event:CopyEvent</span>) =&gt;</span> {</li><li>          event.<span class="hljs-property">preventDefault</span>!()</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'测试log：onCopy'</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">onPaste</span>(<span class="hljs-function">()=&gt;</span>{</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'测试log：onPaste'</span>);</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'测试文字Hello'</span>)</li><li>        .<span class="hljs-title function_">lineHeight</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">true</span>)</li><li>        .<span class="hljs-title function_">onDragStart</span>(<span class="hljs-function">()=&gt;</span>{})</li><li>      <span class="hljs-title class_">TextInput</span>({<span class="hljs-attr">text</span>:<span class="hljs-string">'测试文字NiHao'</span>})</li><li>        .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">true</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1409px;">     <h3 id="示例19配置输入法enter键功能">示例19（配置输入法enter键功能）<i class="anchor-icon anchor-icon-link" anchorid="示例19配置输入法enter键功能" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#enterkeytype12">enterKeyType</a>属性设置软键盘输入法回车键类型。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SoftKeyboardEnterTypeExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>
</li><li>    <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"停止编辑"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">stopEditing</span>()</li><li>      })</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span> })</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">enterKeyType</span>(<span class="hljs-title class_">EnterKeyType</span>.<span class="hljs-property">Search</span>)</li><li>        .<span class="hljs-title function_">onSubmit</span>(<span class="hljs-function">(<span class="hljs-params">enterKey: EnterKeyType, event: SubmitEvent</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"trigger richeditor onsubmit"</span> + enterKey);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">" type["</span>+ enterKey +<span class="hljs-string">"] triggerred"</span>)</li><li>          event.<span class="hljs-title function_">keepEditableState</span>()</li><li>        })</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>).<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="569" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.79587572478426048180218277639640:50001231000000:2800:03026C077A09F0A0A9AD0B1F13D5794CBF1F5F7E3F6672820846457D3E0E9320.gif" width="320" height="569"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2482px;">     <h3 id="示例20设置段落折行规则">示例20（设置段落折行规则）<i class="anchor-icon anchor-icon-link" anchorid="示例20设置段落折行规则" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#updateparagraphstyle11">updateParagraphStyle</a>接口设置折行类型（<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorparagraphstyle11">lineBreakStrategy</a>），通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getparagraphs11">getParagraphs</a>接口获取当前段落的折行类型。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">LineBreakStrategyExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">spanParagraphs</span>: <span class="hljs-title class_">RichEditorParagraphResult</span>[] = [];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">lineBreakOptionStr</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'GREEDY'</span>, <span class="hljs-string">'HIGH_QUALITY'</span>, <span class="hljs-string">'BALANCED'</span>];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">attributeValue</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">testStr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"0123456789,0123456789,0123456789,0123456789,0123456789."</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">testStr</span>, {</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-string">"32"</span></li><li>            },</li><li>            <span class="hljs-attr">paragraphStyle</span>: {</li><li>              <span class="hljs-attr">textAlign</span>: <span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Start</span>,</li><li>              <span class="hljs-attr">lineBreakStrategy</span>: <span class="hljs-title class_">LineBreakStrategy</span>.<span class="hljs-property">GREEDY</span></li><li>            }</li><li>          })</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">400</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">margin</span>({<span class="hljs-attr">bottom</span>:<span class="hljs-number">20</span>})</li><li>        .<span class="hljs-title function_">draggable</span>(<span class="hljs-literal">false</span>)</li><li>      <span class="hljs-title class_">Column</span>(){</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'linebreak属性值为：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">attributeValue</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      }.<span class="hljs-title function_">margin</span>({<span class="hljs-attr">bottom</span>: <span class="hljs-number">10</span>})</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"设置折行类型GREEDY"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">lineBreakStrategy</span>: <span class="hljs-title class_">LineBreakStrategy</span>.<span class="hljs-property">GREEDY</span></li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"设置折行类型HIGH_QUALITY"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">lineBreakStrategy</span>: <span class="hljs-title class_">LineBreakStrategy</span>.<span class="hljs-property">HIGH_QUALITY</span></li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"设置折行类型BALANCED"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateParagraphStyle</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span>,</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">lineBreakStrategy</span>: <span class="hljs-title class_">LineBreakStrategy</span>.<span class="hljs-property">BALANCED</span></li><li>            }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Divider</span>()</li><li>        <span class="hljs-title class_">Row</span>(){</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"获取linebreak属性值"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">spanParagraphs</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getParagraphs</span>({ <span class="hljs-attr">start</span>: -<span class="hljs-number">1</span>, <span class="hljs-attr">end</span>: -<span class="hljs-number">1</span> });</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"RichEditor getParagraphs:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">spanParagraphs</span>));</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">spanParagraphs</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {</li><li>              <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorParagraphResult</span>)[<span class="hljs-string">'style'</span>] != <span class="hljs-string">'undefined'</span>){</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">attributeValue</span> = <span class="hljs-string">""</span>;</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'lineBreakStrategy:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>((item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorParagraphResult</span>)[<span class="hljs-string">'style'</span>]));</li><li>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">attributeValue</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineBreakOptionStr</span>[<span class="hljs-title class_">Number</span>((item <span class="hljs-keyword">as</span> <span class="hljs-title class_">RichEditorParagraphResult</span>)[<span class="hljs-string">'style'</span>].<span class="hljs-property">lineBreakStrategy</span>)];</li><li>              }</li><li>            })</li><li>          })</li><li>        }</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="586" originwidth="320" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.55203771668129216515541764529493:50001231000000:2800:2F92ECB48B0B4423160DDF182D05F7B5BBC4BA832DB4BA1F4005DFE3333A1F39.gif" width="320" height="586"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 5654px;">     <h3 id="示例21属性字符串基本功能">示例21（属性字符串基本功能）<i class="anchor-icon anchor-icon-link" anchorid="示例21属性字符串基本功能" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例中<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string">属性字符串</a>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorstyledstringcontroller12">RichEditorStyledStringController</a>中的<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#setstyledstring12">setStyledString</a>方法与RichEditor组件绑定。通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getstyledstring12">getStyledString</a>接口获取富文本组件显示的属性字符串。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">stringLength</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">selection</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">range</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">replaceString</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">rangeBefore</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">rangeAfter</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-attr">richEditorStyledString</span>: <span class="hljs-title class_">MutableStyledString</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutableStyledString</span>(<span class="hljs-string">""</span>);</li><li>  <span class="hljs-attr">textStyle</span>: <span class="hljs-title class_">TextStyle</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextStyle</span>({</li><li>    <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Lighter</span>,</li><li>    <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">'HarmonyOS Sans'</span>,</li><li>    <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>,</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">30</span>),</li><li>    <span class="hljs-attr">fontStyle</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Normal</span></li><li>  })</li><li>  <span class="hljs-attr">fontStyle1</span>: <span class="hljs-title class_">TextStyle</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextStyle</span>({ <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span> });</li><li>  <span class="hljs-attr">fontStyle2</span>: <span class="hljs-title class_">TextStyle</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextStyle</span>({</li><li>    <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span>,</li><li>    <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">'Arial'</span>,</li><li>    <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">30</span>),</li><li>    <span class="hljs-attr">fontStyle</span>: <span class="hljs-title class_">FontStyle</span>.<span class="hljs-property">Italic</span></li><li>  })</li><li>
</li><li>  <span class="hljs-attr">controller1</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options1</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span> };</li><li>  <span class="hljs-comment">// 创建属性字符串对象</span></li><li>  <span class="hljs-attr">mutableStyledString</span>: <span class="hljs-title class_">MutableStyledString</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutableStyledString</span>(<span class="hljs-string">"初始属性字符串"</span>,</li><li>    [{ <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">styledKey</span>: <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">FONT</span>, <span class="hljs-attr">styledValue</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">fontStyle1</span> }]);</li><li>  <span class="hljs-attr">styledString</span>: <span class="hljs-title class_">StyledString</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StyledString</span>(<span class="hljs-string">"插入属性字符串"</span>,</li><li>    [{ <span class="hljs-attr">start</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">length</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">styledKey</span>: <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">FONT</span>, <span class="hljs-attr">styledValue</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">fontStyle2</span> }]);</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorStyledStringController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorStyledStringController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorStyledStringOptions</span> = {<span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>};</li><li>  <span class="hljs-comment">// 文本内容变化回调</span></li><li>  <span class="hljs-attr">contentChangedListener</span>: <span class="hljs-title class_">StyledStringChangedListener</span> = {</li><li>    <span class="hljs-attr">onWillChange</span>: <span class="hljs-function">(<span class="hljs-params">value: StyledStringChangeValue</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span> = <span class="hljs-string">'[ '</span> + value.<span class="hljs-property">range</span>.<span class="hljs-property">start</span> + <span class="hljs-string">' , '</span> + value.<span class="hljs-property">range</span>.<span class="hljs-property">end</span> + <span class="hljs-string">' ]'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">replaceString</span> = value.<span class="hljs-property">replacementString</span>.<span class="hljs-title function_">getString</span>();</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    },</li><li>    <span class="hljs-attr">onDidChange</span>: <span class="hljs-function">(<span class="hljs-params">rangeBefore, rangeAfter</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rangeBefore</span> = <span class="hljs-string">'[ '</span> + rangeBefore.<span class="hljs-property">start</span> + <span class="hljs-string">' , '</span> + rangeBefore.<span class="hljs-property">end</span> + <span class="hljs-string">' ]'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rangeAfter</span> = <span class="hljs-string">'[ '</span> + rangeAfter.<span class="hljs-property">start</span> + <span class="hljs-string">' , '</span> + rangeAfter.<span class="hljs-property">end</span> + <span class="hljs-string">' ]'</span>;</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">6</span>}) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"选中区信息"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection range: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">selection</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"selection content: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"onWillChange回调信息"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"range: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">range</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"replacementString: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">replaceString</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"onWillChange回调信息"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"rangeBefore: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">rangeBefore</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"rangeAfter: "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">rangeAfter</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 注册文本变化回调</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">onContentChanged</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentChangedListener</span>);</li><li>          <span class="hljs-comment">// 设定组件展示的属性字符串</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mutableStyledString</span>);</li><li>        })</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"20%"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options1</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"把这些文字转换成属性字符串"</span>);</li><li>      })</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>
</li><li>        <span class="hljs-title class_">Row</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">2</span>}) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入图片"</span>)</li><li>            .<span class="hljs-title function_">stateEffect</span>(<span class="hljs-literal">true</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>              <span class="hljs-keyword">let</span> imageStyledString = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutableStyledString</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageAttachment</span>({</li><li>                <span class="hljs-attr">resourceValue</span>: $r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>                <span class="hljs-attr">size</span>: { <span class="hljs-attr">width</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">50</span> },</li><li>                <span class="hljs-attr">layoutStyle</span>: { <span class="hljs-attr">borderRadius</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">10</span>) },</li><li>                <span class="hljs-attr">verticalAlign</span>: <span class="hljs-title class_">ImageSpanAlignment</span>.<span class="hljs-property">BASELINE</span>,</li><li>                <span class="hljs-attr">objectFit</span>: <span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Contain</span>,</li><li>                <span class="hljs-attr">syncLoad</span>: <span class="hljs-literal">true</span></li><li>              }));</li><li>              <span class="hljs-comment">// 获取组件展示的属性字符串</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getStyledString</span>();</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>.<span class="hljs-title function_">appendStyledString</span>(imageStyledString)</li><li>              <span class="hljs-comment">// 使插入图片后的属性字符串展示在组件上</span></li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>)</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setCaretOffset</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>.<span class="hljs-property">length</span>)</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入文本"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 获取组件展示的属性字符串</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getStyledString</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>.<span class="hljs-title function_">appendStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">styledString</span>)</li><li>            <span class="hljs-comment">// 使插入文本后的属性字符串展示在组件上</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>)</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setCaretOffset</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>.<span class="hljs-property">length</span>)</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"删除选中内容"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 获取选中范围</span></li><li>            <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>            <span class="hljs-keyword">let</span> start = richEditorSelection.<span class="hljs-property">start</span> ? richEditorSelection.<span class="hljs-property">start</span> : <span class="hljs-number">0</span>;</li><li>            <span class="hljs-keyword">let</span> end = richEditorSelection.<span class="hljs-property">end</span> ? richEditorSelection.<span class="hljs-property">end</span> : <span class="hljs-number">0</span>;</li><li>            <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span> || end &lt;= start) {</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-comment">// 获取组件展示的属性字符串</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getStyledString</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>.<span class="hljs-title function_">removeString</span>(start, end - start)</li><li>            <span class="hljs-comment">// 使删除内容后的属性字符串展示在组件上</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>)</li><li>          })</li><li>        }</li><li>        <span class="hljs-title class_">Row</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">2</span>}) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"获取选中内容"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 获取选中范围</span></li><li>            <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>            <span class="hljs-keyword">let</span> start = richEditorSelection.<span class="hljs-property">start</span> ? richEditorSelection.<span class="hljs-property">start</span> : <span class="hljs-number">0</span>;</li><li>            <span class="hljs-keyword">let</span> end = richEditorSelection.<span class="hljs-property">end</span> ? richEditorSelection.<span class="hljs-property">end</span> : <span class="hljs-number">0</span>;</li><li>            <span class="hljs-comment">// 获取组件展示的属性字符串</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getStyledString</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">selection</span> = <span class="hljs-string">'[ '</span> + start + <span class="hljs-string">' , '</span> + end + <span class="hljs-string">' ]'</span>;</li><li>            <span class="hljs-keyword">if</span> (start == end) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">""</span>;</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>.<span class="hljs-title function_">subStyledString</span>(start, end - start).<span class="hljs-title function_">getString</span>();</li><li>            }</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"更新选中样式"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 获取选中范围</span></li><li>            <span class="hljs-keyword">let</span> richEditorSelection = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getSelection</span>();</li><li>            <span class="hljs-keyword">let</span> start = richEditorSelection.<span class="hljs-property">start</span> ? richEditorSelection.<span class="hljs-property">start</span> : <span class="hljs-number">0</span>;</li><li>            <span class="hljs-keyword">let</span> end = richEditorSelection.<span class="hljs-property">end</span> ? richEditorSelection.<span class="hljs-property">end</span> : <span class="hljs-number">0</span>;</li><li>            <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span> || end &lt;= start) {</li><li>              <span class="hljs-keyword">return</span>;</li><li>            }</li><li>            <span class="hljs-comment">// 获取组件展示的属性字符串</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getStyledString</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>.<span class="hljs-title function_">setStyle</span>({</li><li>              <span class="hljs-attr">start</span>: start,</li><li>              <span class="hljs-attr">length</span>: end - start,</li><li>              <span class="hljs-attr">styledKey</span>: <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">FONT</span>,</li><li>              <span class="hljs-attr">styledValue</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">textStyle</span></li><li>            })</li><li>            <span class="hljs-comment">// 使变更样式后的属性字符串展示在组件上</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">richEditorStyledString</span>)</li><li>          })</li><li>        }</li><li>        <span class="hljs-title class_">Row</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">2</span>}){</li><li>          <span class="hljs-comment">//将属性字符串转换成span信息</span></li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"调用fromStyledString"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"调用fromStyledString："</span> +<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">fromStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mutableStyledString</span>)))</li><li>          })</li><li>          <span class="hljs-comment">//将给定范围的组件内容转换成属性字符串</span></li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"调用toStyledString"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setStyledString</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">toStyledString</span>({<span class="hljs-attr">start</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">end</span>:<span class="hljs-number">13</span>}))</li><li>          })</li><li>        }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="830" originwidth="649" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.70765653984749605439578917393100:50001231000000:2800:B7E8FD2EFD072E44AA0F593DABF9A600BFD7A2D0A8F052D92E9D38D79EC171D4.gif" width="649" height="830"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2378px;">     <h3 id="示例22获取布局信息">示例22（获取布局信息）<i class="anchor-icon anchor-icon-link" anchorid="示例22获取布局信息" tips="复制节点链接"></i></h3>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getlayoutmanager12">getLayoutManager</a>接口获取布局管理器对象，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#getlinecount12">getLineCount</a>接口获取组件内容或<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#placeholder12">placeholder</a>的总行数，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#getglyphpositionatcoordinate12">getGlyphPositionAtCoordinate</a>接口获取较为接近给定坐标的字形的位置信息，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-text-common#getlinemetrics12">getLineMetrics</a>接口获取指定行的行信息、文本样式信息、以及字体属性信息。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">lineCount</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">glyphPositionAtCoordinate</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">lineMetrics</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">textStr</span>: <span class="hljs-built_in">string</span> =</li><li>    <span class="hljs-string">'Hello World! 你好，世界！'</span></li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'RichEditor组件getLayoutManager接口获取相对于组件的布局信息'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>)</li><li>          .<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>          .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">textStr</span>)</li><li>          })</li><li>          .<span class="hljs-title function_">onAreaChange</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> layoutManager = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getLayoutManager</span>();</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineCount</span> = <span class="hljs-string">"LineCount: "</span> + layoutManager.<span class="hljs-title function_">getLineCount</span>();</li><li>          })</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'LineCount'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">lineCount</span>)</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'GlyphPositionAtCoordinate'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"相对组件坐标[150,50]字形信息"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">layoutManager</span>: <span class="hljs-title class_">LayoutManager</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getLayoutManager</span>();</li><li>            <span class="hljs-keyword">let</span> position = layoutManager.<span class="hljs-title function_">getGlyphPositionAtCoordinate</span>(<span class="hljs-number">150</span>, <span class="hljs-number">50</span>);</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">glyphPositionAtCoordinate</span> =</li><li>            <span class="hljs-string">"相对组件坐标[150,50] glyphPositionAtCoordinate position: "</span> + position.<span class="hljs-property">position</span> + <span class="hljs-string">" affinity: "</span> +</li><li>            position.<span class="hljs-property">affinity</span>;</li><li>          })</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">glyphPositionAtCoordinate</span>)</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'LineMetrics'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>).<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"首行行信息、文本样式信息、以及字体属性信息"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> <span class="hljs-attr">layoutManager</span>: <span class="hljs-title class_">LayoutManager</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getLayoutManager</span>();</li><li>            <span class="hljs-keyword">let</span> lineMetrics = layoutManager.<span class="hljs-title function_">getLineMetrics</span>(<span class="hljs-number">0</span>);</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineMetrics</span> = <span class="hljs-string">"lineMetrics is "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(lineMetrics) + <span class="hljs-string">'\n\n'</span>;</li><li>            <span class="hljs-keyword">let</span> runMetrics = lineMetrics.<span class="hljs-property">runMetrics</span>;</li><li>            runMetrics.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, key</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">lineMetrics</span> += <span class="hljs-string">"runMetrics key is "</span> + key + <span class="hljs-string">" "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value) + <span class="hljs-string">"\n\n"</span>;</li><li>            });</li><li>          })</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">lineMetrics</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">8</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="626" originwidth="424" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.46313357078793126165091218209383:50001231000000:2800:F5102FCE2E5922D5C05337F7E53A87FEF308AF9F0DC7141B199A4083CACAB120.gif" width="424" height="626"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2505px;">     <h3 id="示例23设置系统默认菜单扩展项">示例23（设置系统默认菜单扩展项）<i class="anchor-icon anchor-icon-link" anchorid="示例23设置系统默认菜单扩展项" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#editmenuoptions12">editMenuOptions</a>属性设置系统默认菜单的扩展项，允许配置扩展项的文本内容、图标和回调方法。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">endIndex</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-number">0</span>;</li><li>  onCreateMenu = <span class="hljs-function">(<span class="hljs-params">menuItems: <span class="hljs-built_in">Array</span>&lt;TextMenuItem&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">const</span> <span class="hljs-attr">idsToFilter</span>: <span class="hljs-title class_">TextMenuItemId</span>[] = [</li><li>      <span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-property">TRANSLATE</span>,</li><li>      <span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-property">SHARE</span>,</li><li>      <span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-property">SEARCH</span>,</li><li>      <span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-property">AI_WRITER</span></li><li>    ]</li><li>    <span class="hljs-keyword">const</span> items = menuItems.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !idsToFilter.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> id.<span class="hljs-title function_">equals</span>(item.<span class="hljs-property">id</span>)))</li><li>    <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">item1</span>: <span class="hljs-title class_">TextMenuItem</span> = {</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">'create1'</span>,</li><li>      <span class="hljs-attr">icon</span>: $r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>      <span class="hljs-attr">id</span>: <span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'create1'</span>),</li><li>    };</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">item2</span>: <span class="hljs-title class_">TextMenuItem</span> = {</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">'create2'</span>,</li><li>      <span class="hljs-attr">id</span>: <span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'create2'</span>),</li><li>      <span class="hljs-attr">icon</span>: $r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>    };</li><li>    items.<span class="hljs-title function_">push</span>(item1);</li><li>    items.<span class="hljs-title function_">unshift</span>(item2);</li><li>    <span class="hljs-keyword">return</span> items;</li><li>  }</li><li>  onMenuItemClick = <span class="hljs-function">(<span class="hljs-params">menuItem: TextMenuItem, textRange: TextRange</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (menuItem.<span class="hljs-property">id</span>.<span class="hljs-title function_">equals</span>(<span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">"create2"</span>))) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"拦截 id: create2 start:"</span> + textRange.<span class="hljs-property">start</span> + <span class="hljs-string">"; end:"</span> + textRange.<span class="hljs-property">end</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (menuItem.<span class="hljs-property">id</span>.<span class="hljs-title function_">equals</span>(<span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">"prepare1"</span>))) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"拦截 id: prepare1 start:"</span> + textRange.<span class="hljs-property">start</span> + <span class="hljs-string">"; end:"</span> + textRange.<span class="hljs-property">end</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (menuItem.<span class="hljs-property">id</span>.<span class="hljs-title function_">equals</span>(<span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-property">COPY</span>)) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"拦截 COPY start:"</span> + textRange.<span class="hljs-property">start</span> + <span class="hljs-string">"; end:"</span> + textRange.<span class="hljs-property">end</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    }</li><li>    <span class="hljs-keyword">if</span> (menuItem.<span class="hljs-property">id</span>.<span class="hljs-title function_">equals</span>(<span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-property">SELECT_ALL</span>)) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"不拦截 SELECT_ALL start:"</span> + textRange.<span class="hljs-property">start</span> + <span class="hljs-string">"; end:"</span> + textRange.<span class="hljs-property">end</span>);</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>    }</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>  }</li><li>  <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>  onPrepareMenu = <span class="hljs-function">(<span class="hljs-params">menuItems: <span class="hljs-built_in">Array</span>&lt;TextMenuItem&gt;</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">item1</span>: <span class="hljs-title class_">TextMenuItem</span> = {</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">'prepare1_'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>,</li><li>      <span class="hljs-attr">icon</span>: $r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>      <span class="hljs-attr">id</span>: <span class="hljs-title class_">TextMenuItemId</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">'prepare1'</span>),</li><li>    };</li><li>    menuItems.<span class="hljs-title function_">unshift</span>(item1);</li><li>    <span class="hljs-keyword">return</span> menuItems;</li><li>  }</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">editMenuOptions</span>: <span class="hljs-title class_">EditMenuOptions</span> = {</li><li>    <span class="hljs-attr">onCreateMenu</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">onCreateMenu</span>,</li><li>    <span class="hljs-attr">onMenuItemClick</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">onMenuItemClick</span>,</li><li>    <span class="hljs-attr">onPrepareMenu</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">onPrepareMenu</span></li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"RichEditor editMenuOptions"</span>)</li><li>        })</li><li>        .<span class="hljs-title function_">editMenuOptions</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">editMenuOptions</span>)</li><li>        .<span class="hljs-title function_">onSelectionChange</span>(<span class="hljs-function">(<span class="hljs-params">range: RichEditorRange</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"onSelectionChange, ("</span> + range.<span class="hljs-property">start</span> + <span class="hljs-string">","</span> + range.<span class="hljs-property">end</span> + <span class="hljs-string">")"</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> = range.<span class="hljs-property">end</span></li><li>        })</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">100</span> })</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">"90%"</span>)</li><li>    .<span class="hljs-title function_">margin</span>(<span class="hljs-string">"5%"</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="225" originwidth="301" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.52503479989367929286867324197183:50001231000000:2800:AB44FEE8254BD45D73075A63A0F7E174008C076EAE80C7A8E081A3D4C92B684D.gif" width="301" height="225"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2861px;">     <h3 id="示例24组件部分常用属性">示例24（组件部分常用属性）<i class="anchor-icon anchor-icon-link" anchorid="示例24组件部分常用属性" tips="复制节点链接"></i></h3>          <p>从API version 18开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#barstate13">barState</a>属性设置组件滚动条的显示模式。通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#enablekeyboardonfocus12">enableKeyboardOnFocus</a>属性设置组件通过点击以外的方式获焦时，是否主动拉起软键盘。通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#enablehapticfeedback13">enableHapticFeedback</a>属性设置组件是否支持触感反馈。通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getpreviewtext12">getPreviewText</a>接口获取组件预上屏信息。通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#stopbackpress18">stopBackPress</a>属性设置是否阻止返回键向其它组件或应用侧传递。</p>     <p>从API version 21开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#scrollbarcolor21">scrollBarColor</a>属性设置RichEditor组件滚动条颜色。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">JSON</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ColorMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditor</span>_example {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>
</li><li>  <span class="hljs-attr">controller1</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options1</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span> };</li><li>
</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">e</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">bs_num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">bs</span>: (<span class="hljs-title class_">BarState</span> | <span class="hljs-literal">undefined</span>)[] = [<span class="hljs-title class_">BarState</span>.<span class="hljs-property">Auto</span>, <span class="hljs-title class_">BarState</span>.<span class="hljs-property">On</span>, <span class="hljs-title class_">BarState</span>.<span class="hljs-property">Off</span>, <span class="hljs-literal">undefined</span>];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">bs_string</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">"Auto"</span>, <span class="hljs-string">"On"</span>, <span class="hljs-string">"Off"</span>, <span class="hljs-string">"undefined"</span>];</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({<span class="hljs-attr">space</span>: <span class="hljs-number">3</span>}) {</li><li>      <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本'</span>, {</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span></li><li>            }</li><li>          });</li><li>        })</li><li>        .<span class="hljs-title function_">onDidIMEInput</span>(<span class="hljs-function">(<span class="hljs-params">value: TextRange</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"触发了onDidIMEInput回调,输入法本次输入内容范围为：("</span> + value.<span class="hljs-property">start</span> + <span class="hljs-string">","</span> + value.<span class="hljs-property">end</span> + <span class="hljs-string">")"</span>, {</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">10</span></li><li>            }</li><li>          });</li><li>        })</li><li>        .<span class="hljs-title function_">onSelectionChange</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorRange</span>) =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"触发了onSelectionChange回调，起始范围信息为：("</span> + value.<span class="hljs-property">start</span> + <span class="hljs-string">","</span> + value.<span class="hljs-property">end</span> + <span class="hljs-string">")"</span>, {</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">10</span></li><li>            }</li><li>          });</li><li>        })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">barState</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">bs</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">bs_num</span>])</li><li>        .<span class="hljs-title function_">enableKeyboardOnFocus</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span>)</li><li>        .<span class="hljs-title function_">enableHapticFeedback</span>(<span class="hljs-literal">true</span>)</li><li>        .<span class="hljs-title function_">stopBackPress</span>(<span class="hljs-literal">false</span>)</li><li>        .<span class="hljs-title function_">scrollBarColor</span>(<span class="hljs-title class_">ColorMetrics</span>.<span class="hljs-title function_">resourceColor</span>(<span class="hljs-string">"#2787D9"</span>));</li><li>
</li><li>      <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options1</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'设置barState为：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">bs_string</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">bs_num</span>])</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">13</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">bs_num</span>++;</li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">bs_num</span> &gt; (<span class="hljs-variable language_">this</span>.<span class="hljs-property">bs</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>)) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">bs_num</span> = <span class="hljs-number">0</span>;</li><li>          }</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'设置enableKeyboardOnFocus为：'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">13</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">e</span>;</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'获取预上屏信息'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">13</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"\n获取预上屏信息:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getPreviewText</span>()))</li><li>        })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="581" originwidth="518" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.03523425485684463241984414988422:50001231000000:2800:48B231531CBF067E42E1DED89195A13BF66D0E391B8D1D354F94C0EDF8E6ACC5.gif" width="518" height="581"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1635px;">     <h3 id="示例25获取光标相对组件位置的矩形">示例25（获取光标相对组件位置的矩形）<i class="anchor-icon anchor-icon-link" anchorid="示例25获取光标相对组件位置的矩形" tips="复制节点链接"></i></h3>          <p>从API version 18开始，该示例通过RichEditorBaseController的<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#getcaretrect18">getCaretRect</a>方法来获取当前光标相对于组件位置的Rect。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">caretRect</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"not found"</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'get caret rect'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> rectCaret = <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">getCaretRect</span>();</li><li>          <span class="hljs-keyword">if</span>(rectCaret == <span class="hljs-literal">undefined</span>) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">caretRect</span> = <span class="hljs-string">'undefined'</span>;</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">caretRect</span> = <span class="hljs-string">'X: '</span> + rectCaret.<span class="hljs-property">x</span> + <span class="hljs-string">'\nY: '</span> + rectCaret.<span class="hljs-property">y</span></li><li>              + <span class="hljs-string">'\nWidth: '</span> + rectCaret.<span class="hljs-property">width</span> + <span class="hljs-string">'\nHeight: '</span> + rectCaret.<span class="hljs-property">height</span>;</li><li>          }</li><li>        })</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"60%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">caretRect</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">12</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">24</span>)</li><li>
</li><li>      <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'12345678901234567890'</span>, {</li><li>            <span class="hljs-attr">style</span>:</li><li>            {</li><li>              <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">50</span></li><li>            }</li><li>          })</li><li>        })</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"60%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="339" originwidth="399" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.06616064761844602872213211094115:50001231000000:2800:626421920351CFD5B3A4428133372D838ABCD79B1157B5ED2C548A45D5B74B68.gif" width="399" height="339"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3292px;">     <h3 id="示例26设置最大行数和最大字符数">示例26（设置最大行数和最大字符数）<i class="anchor-icon anchor-icon-link" anchorid="示例26设置最大行数和最大字符数" tips="复制节点链接"></i></h3>          <p>从API version 18开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#maxlength18">maxLength</a>设置可输入的最大字符数，通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#maxlines18">maxLines</a>设置可输入的最大行数。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"As the sun begins to set, casting a warm golden hue across the sky,"</span> +</li><li>    <span class="hljs-string">"the world seems to slow down and breathe a sigh of relief. The sky is painted with hues of orange, "</span> +</li><li>    <span class="hljs-string">" pink, and lavender, creating a breathtaking tapestry that stretches as far as the eye can see."</span> +</li><li>    <span class="hljs-string">"The air is filled with the sweet scent of blooming flowers, mingling with the earthy aroma of freshly turned soil."</span> +</li><li>    <span class="hljs-string">"it casts a warm,"</span> +</li><li>    <span class="hljs-string">"golden hue that spreads like liquid amber across the vast expanse of the sky."</span> +</li><li>    <span class="hljs-string">"The once-blue heavens gradually transform, "</span> +</li><li>    <span class="hljs-string">"now painted in a breathtaking palette of soft oranges, pinks, "</span> +</li><li>    <span class="hljs-string">"and purples, each color blending seamlessly into the next. Wisps of clouds, tinged with fiery edges, "</span> +</li><li>    <span class="hljs-string">"float lazily amidst this celestial canvas,"</span> +</li><li>    <span class="hljs-string">"creating a scene so serene and beautiful that it almost seems to pause time itself."</span> +</li><li>    <span class="hljs-string">"As the sun begins to set, casting a warm golden hue across the sky,"</span> +</li><li>    <span class="hljs-string">"the world seems to slow down and breathe a sigh of relief. The sky is painted with hues of orange, "</span> +</li><li>    <span class="hljs-string">" pink, and lavender, creating a breathtaking tapestry that stretches as far as the eye can see."</span> +</li><li>    <span class="hljs-string">"The air is filled with the sweet scent of blooming flowers, mingling with the earthy aroma of freshly turned soil."</span> +</li><li>    <span class="hljs-string">"it casts a warm,"</span> +</li><li>    <span class="hljs-string">"golden hue that spreads like liquid amber across the vast expanse of the sky."</span> +</li><li>    <span class="hljs-string">"The once-blue heavens gradually transform, "</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">maxLineList</span>: (<span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>)[] = [<span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-literal">undefined</span>];</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">maxLineIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">maxLineStringList</span>: (<span class="hljs-built_in">string</span>)[] = [<span class="hljs-string">"2"</span>, <span class="hljs-string">"6"</span>, <span class="hljs-string">"undefined"</span>];</li><li>  <span class="hljs-attr">richEditorStyledString</span>: <span class="hljs-title class_">MutableStyledString</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutableStyledString</span>(<span class="hljs-string">""</span>);</li><li>  <span class="hljs-attr">controller1</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">controller2</span>: <span class="hljs-title class_">TextInputController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextInputController</span>();</li><li>  <span class="hljs-attr">controller3</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">controller4</span>: <span class="hljs-title class_">RichEditorStyledStringController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorStyledStringController</span>();</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">option</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"当前的maxLength为7 "</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入占1字符数的图片"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"57px"</span>, <span class="hljs-string">"57px"</span>]</li><li>                }</li><li>              })</li><li>          })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入占2字符数图片"</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span>.<span class="hljs-title function_">addSymbolSpan</span>($r(<span class="hljs-string">"sys.symbol.ohos_trash"</span>),</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span></li><li>                }</li><li>              })</li><li>          })</li><li>          .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: <span class="hljs-number">20</span> })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller1</span> })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'95%'</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>)</li><li>        .<span class="hljs-title function_">maxLength</span>(<span class="hljs-number">7</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(240,250,255)'</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">"当前的maxLine为 "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineStringList</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineIndex</span>]).<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"更改maxLines"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineIndex</span>++;</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineIndex</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineList</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineIndex</span> = <span class="hljs-number">0</span>;</li><li>        }</li><li>      })</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller3</span> })</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller3</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>,</li><li>            {</li><li>              <span class="hljs-attr">style</span>:</li><li>              {</li><li>                <span class="hljs-attr">fontColor</span>: <span class="hljs-string">'rgb(0,74,175)'</span></li><li>              }</li><li>            })</li><li>        })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'95%'</span>)</li><li>        .<span class="hljs-title function_">maxLines</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineList</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">maxLineIndex</span>])</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(240,250,255)'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="844" originwidth="510" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.35697933577180419965220061223870:50001231000000:2800:9D111C1DFCA5E777AAC91ED73A99CE30D465953F1161C34096B515A891047AB7.gif" width="510" height="844"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1360px;">     <h3 id="示例27文本设置url样式">示例27（文本设置Url样式）<i class="anchor-icon anchor-icon-link" anchorid="示例27文本设置url样式" tips="复制节点链接"></i></h3>          <p>从API version 19开始，该示例通过在addTextSpan和UpdateSpanStyle接口中加入<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#richeditorurlstyle19">UrlStyle</a>，来实现文本点击时跳转到指定链接的功能。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Add Example Url"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"示例网址"</span>, {</li><li>            <span class="hljs-attr">urlStyle</span>: { <span class="hljs-attr">url</span>: <span class="hljs-string">"https://www.example.com"</span> }</li><li>          })</li><li>        })</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">"Clear Url"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">textStyle</span>: {},</li><li>            <span class="hljs-attr">urlStyle</span>: { <span class="hljs-attr">url</span>: <span class="hljs-string">""</span> }</li><li>          })</li><li>        })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'35%'</span>)</li><li>          .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span> })</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="328" originwidth="367" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115522.40938424023473305599159506679895:50001231000000:2800:4311C7FB7BCA6763C2E82A2F49456D446C7C33DC36E9497FFB1B2F4A69E4AE2C.gif" width="367" height="328"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3842px;">     <h3 id="示例28开启带样式的撤销还原能力">示例28（开启带样式的撤销还原能力）<i class="anchor-icon anchor-icon-link" anchorid="示例28开启带样式的撤销还原能力" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例对于不使用属性字符串的富文本组件，可以通过配置<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#undostyle20">undoStyle</a>属性为UndoStyle.KEEP_STYLE，以支持撤销还原时保留原内容的样式。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">StyledUndo</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">undoStyle</span>: <span class="hljs-title class_">UndoStyle</span> = <span class="hljs-title class_">UndoStyle</span>.<span class="hljs-property">KEEP_STYLE</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Row</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">2</span>}) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入文本"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"插入文本"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">32</span></li><li>                }</li><li>              })</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入图片"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"100px"</span>, <span class="hljs-string">"100px"</span>]</li><li>                }</li><li>              });</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入Symbol"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addSymbolSpan</span>($r(<span class="hljs-string">"sys.symbol.ohos_trash"</span>),</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">32</span></li><li>                }</li><li>              });</li><li>          })</li><li>        }</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>        <span class="hljs-title class_">Row</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">2</span>}) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"更新选中范围样式"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>                <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>                <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>,</li><li>                <span class="hljs-attr">textStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>,</li><li>                  <span class="hljs-attr">fontWeight</span>: <span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bolder</span></li><li>                }</li><li>              });</li><li>            }</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"删除选中范围内容"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span>) {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">deleteSpans</span>({</li><li>                <span class="hljs-attr">start</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span>,</li><li>                <span class="hljs-attr">end</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span></li><li>              })</li><li>            }</li><li>          })</li><li>        }</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>        <span class="hljs-title class_">Row</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">2</span>}) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"撤销时不还原样式"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">undoStyle</span> = <span class="hljs-title class_">UndoStyle</span>.<span class="hljs-property">CLEAR_STYLE</span>;</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"撤销时还原样式"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">undoStyle</span> = <span class="hljs-title class_">UndoStyle</span>.<span class="hljs-property">KEEP_STYLE</span>;</li><li>          })</li><li>        }</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>      }</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">()=&gt;</span>{</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>            {</li><li>              <span class="hljs-attr">imageStyle</span>:</li><li>              {</li><li>                <span class="hljs-attr">size</span>: [<span class="hljs-string">"100px"</span>, <span class="hljs-string">"100px"</span>]</li><li>              }</li><li>            });</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"初始化图文混排内容"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">32</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addSymbolSpan</span>($r(<span class="hljs-string">"sys.symbol.ohos_trash"</span>),</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">32</span></li><li>                }</li><li>              });</li><li>          })</li><li>          .<span class="hljs-title function_">undoStyle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">undoStyle</span>)</li><li>          .<span class="hljs-title function_">onSelect</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorSelection</span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">0</span>];</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">end</span> = value.<span class="hljs-property">selection</span>[<span class="hljs-number">1</span>];</li><li>          })</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"50%"</span>)</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="458" originwidth="434" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115523.75435770122349935221629484793450:50001231000000:2800:E9E831A6FC5ABAB038C28D77FD4E55A5A0B7652E564D87BA04BECAD2AB7EC7AC.gif" width="434" height="458"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2285px;">     <h3 id="示例29文本设置预设段落样式">示例29（文本设置预设段落样式）<i class="anchor-icon anchor-icon-link" anchorid="示例29文本设置预设段落样式" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#settypingparagraphstyle20">setTypingParagraphStyle</a>接口设置预设段落样式。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">RichEditorExample</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>()</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> }</li><li>  <span class="hljs-attr">ssController</span>: <span class="hljs-title class_">RichEditorStyledStringController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorStyledStringController</span>()</li><li>  <span class="hljs-attr">ssOptions</span>: <span class="hljs-title class_">RichEditorStyledStringOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">ssController</span> }</li><li>  <span class="hljs-attr">contentChangedListener</span>: <span class="hljs-title class_">StyledStringChangedListener</span> = {</li><li>    <span class="hljs-attr">onWillChange</span>: <span class="hljs-function">(<span class="hljs-params">value: StyledStringChangeValue</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> range = <span class="hljs-string">'[ '</span> + value.<span class="hljs-property">range</span>.<span class="hljs-property">start</span> + <span class="hljs-string">' , '</span> + value.<span class="hljs-property">range</span>.<span class="hljs-property">end</span> + <span class="hljs-string">' ]'</span>;</li><li>      <span class="hljs-keyword">let</span> replaceString = value.<span class="hljs-property">replacementString</span>.<span class="hljs-title function_">getString</span>();</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'styledString, onWillChange, range='</span> + range);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'styledString, onWillChange, replaceString='</span> + replaceString);</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">styles</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">SpanStyle</span>&gt; = []</li><li>      <span class="hljs-keyword">if</span> (replaceString.<span class="hljs-property">length</span> != <span class="hljs-number">0</span>) {</li><li>        styles = value.<span class="hljs-property">replacementString</span>.<span class="hljs-title function_">getStyles</span>(<span class="hljs-number">0</span>, replaceString.<span class="hljs-property">length</span>, <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">PARAGRAPH_STYLE</span>)</li><li>      }</li><li>      styles.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">style</span>) =&gt;</span> {</li><li>        <span class="hljs-keyword">let</span> value = style.<span class="hljs-property">styledValue</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">paraStyle</span>: <span class="hljs-title class_">ParagraphStyle</span> = value <span class="hljs-keyword">as</span> <span class="hljs-title class_">ParagraphStyle</span></li><li>        <span class="hljs-keyword">if</span> (paraStyle != <span class="hljs-literal">undefined</span>) {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'styledString, onWillChange, textAlign='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paraStyle.<span class="hljs-property">textAlign</span>)</li><li>            + <span class="hljs-string">', textIndent='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paraStyle.<span class="hljs-property">textIndent</span>)</li><li>            + <span class="hljs-string">', maxLines='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paraStyle.<span class="hljs-property">maxLines</span>)</li><li>            + <span class="hljs-string">', overflow='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paraStyle.<span class="hljs-property">overflow</span>)</li><li>            + <span class="hljs-string">', wordBreak='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paraStyle.<span class="hljs-property">wordBreak</span>)</li><li>            + <span class="hljs-string">', leadingMargin='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paraStyle.<span class="hljs-property">leadingMargin</span>)</li><li>            + <span class="hljs-string">', paragraphSpacing='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(paraStyle.<span class="hljs-property">paragraphSpacing</span>)</li><li>          );</li><li>        }</li><li>      })</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ParaStyle'</span>)</li><li>        <span class="hljs-comment">// 设置预设段落样式为居中对齐</span></li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'setStyle1'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">paragraphStyle</span>: <span class="hljs-title class_">RichEditorParagraphStyle</span> = {</li><li>            <span class="hljs-attr">textAlign</span>: <span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span></li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setTypingParagraphStyle</span>(paragraphStyle)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">ssController</span>.<span class="hljs-title function_">setTypingParagraphStyle</span>(paragraphStyle)</li><li>        })</li><li>        <span class="hljs-comment">// 设置预设段落样式为左对齐、带有缩进</span></li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'setStyle2'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">paragraphStyle</span>: <span class="hljs-title class_">RichEditorParagraphStyle</span> = {</li><li>            <span class="hljs-attr">textAlign</span>: <span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Start</span>,</li><li>            <span class="hljs-attr">leadingMargin</span>: <span class="hljs-number">80</span></li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setTypingParagraphStyle</span>(paragraphStyle)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">ssController</span>.<span class="hljs-title function_">setTypingParagraphStyle</span>(paragraphStyle)</li><li>        })</li><li>        <span class="hljs-comment">// 清除预设段落样式</span></li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'clearParaStyle'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">setTypingParagraphStyle</span>(<span class="hljs-literal">undefined</span>)</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">ssController</span>.<span class="hljs-title function_">setTypingParagraphStyle</span>(<span class="hljs-literal">undefined</span>)</li><li>        })</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'25%'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">border</span>({ <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span> })</li><li>            .<span class="hljs-title function_">onWillChange</span>(<span class="hljs-function">(<span class="hljs-params">value: RichEditorChangeValue</span>) =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'controller, onWillChange, rangeBefore='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value.<span class="hljs-property">rangeBefore</span>))</li><li>              value.<span class="hljs-property">replacedSpans</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: RichEditorTextSpanResult</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'controller, onWillChange, replacedTextSpans='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(item))</li><li>              })</li><li>              <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></li><li>            })</li><li>          <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ssOptions</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-string">'25%'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">ssController</span>.<span class="hljs-title function_">onContentChanged</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">contentChangedListener</span>);</li><li>            })</li><li>        }</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 3505px;">     <h3 id="示例30设置装饰线粗细和多装饰线">示例30（设置装饰线粗细和多装饰线）<i class="anchor-icon anchor-icon-link" anchorid="示例30设置装饰线粗细和多装饰线" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#decorationstyle">thicknessScale</a>设置装饰线粗细，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-styled-string#decorationoptions20">enableMultiType</a>设置多装饰线。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">styledStringController</span>: <span class="hljs-title class_">RichEditorStyledStringController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorStyledStringController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {</li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 预置一段文本</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'一段预置的文本'</span>, {</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25</span>,</li><li>              <span class="hljs-attr">decoration</span>: {</li><li>                <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">LineThrough</span>,</li><li>                <span class="hljs-comment">// 设置装饰线粗细比例为2</span></li><li>                <span class="hljs-attr">thicknessScale</span>: <span class="hljs-number">2</span></li><li>              }</li><li>            }</li><li>          })</li><li>        })</li><li>
</li><li>      <span class="hljs-comment">// 设置富文本多装饰线</span></li><li>      <span class="hljs-title class_">RichEditor</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">styledStringController</span> })</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'追加粗细比例为8的文本'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">'追加的文本'</span>, {</li><li>            <span class="hljs-attr">style</span>: {</li><li>              <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25</span>,</li><li>              <span class="hljs-attr">decoration</span>: {</li><li>                <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">LineThrough</span>,</li><li>                <span class="hljs-comment">// 设置装饰线粗细比例为8</span></li><li>                <span class="hljs-attr">thicknessScale</span>: <span class="hljs-number">8</span></li><li>              }</li><li>            }</li><li>          })</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'修改全段文本的粗细比例为4'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">updateSpanStyle</span>({</li><li>            <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,</li><li>            <span class="hljs-attr">end</span>: <span class="hljs-number">1000</span>, <span class="hljs-comment">// 下标超过文本长度时，会更新整段文本</span></li><li>            <span class="hljs-attr">textStyle</span>: {</li><li>              <span class="hljs-attr">decoration</span>: {</li><li>                <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">LineThrough</span>,</li><li>                <span class="hljs-comment">// 设置装饰线粗细比例为4</span></li><li>                <span class="hljs-attr">thicknessScale</span>: <span class="hljs-number">4</span></li><li>              }</li><li>            }</li><li>          })</li><li>        })</li><li>
</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'多装饰线文本'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">mutString</span>: <span class="hljs-title class_">MutableStyledString</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutableStyledString</span>(<span class="hljs-string">'设置富文本多装饰线'</span>, [</li><li>            {</li><li>              <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,</li><li>              <span class="hljs-attr">length</span>: <span class="hljs-number">9</span>,</li><li>              <span class="hljs-attr">styledKey</span>: <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">FONT</span>,</li><li>              <span class="hljs-attr">styledValue</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextStyle</span>({ <span class="hljs-attr">fontSize</span>: <span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">25</span>) })</li><li>            },</li><li>            {</li><li>              <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,</li><li>              <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>,</li><li>              <span class="hljs-attr">styledKey</span>: <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">DECORATION</span>,</li><li>              <span class="hljs-attr">styledValue</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">DecorationStyle</span>(</li><li>                {</li><li>                  <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Underline</span>,</li><li>                },</li><li>                {</li><li>                  <span class="hljs-comment">// 开启多装饰线</span></li><li>                  <span class="hljs-attr">enableMultiType</span>: <span class="hljs-literal">true</span></li><li>                }</li><li>              )</li><li>            },</li><li>            {</li><li>              <span class="hljs-attr">start</span>: <span class="hljs-number">2</span>,</li><li>              <span class="hljs-attr">length</span>: <span class="hljs-number">4</span>,</li><li>              <span class="hljs-attr">styledKey</span>: <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">DECORATION</span>,</li><li>              <span class="hljs-attr">styledValue</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">DecorationStyle</span>(</li><li>                {</li><li>                  <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">LineThrough</span>,</li><li>                },</li><li>                {</li><li>                  <span class="hljs-comment">// 开启多装饰线</span></li><li>                  <span class="hljs-attr">enableMultiType</span>: <span class="hljs-literal">true</span></li><li>                }</li><li>              )</li><li>            },</li><li>            {</li><li>              <span class="hljs-attr">start</span>: <span class="hljs-number">4</span>,</li><li>              <span class="hljs-attr">length</span>: <span class="hljs-number">5</span>,</li><li>              <span class="hljs-attr">styledKey</span>: <span class="hljs-title class_">StyledStringKey</span>.<span class="hljs-property">DECORATION</span>,</li><li>              <span class="hljs-attr">styledValue</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">DecorationStyle</span>(</li><li>                {</li><li>                  <span class="hljs-attr">type</span>: <span class="hljs-title class_">TextDecorationType</span>.<span class="hljs-property">Overline</span>,</li><li>                },</li><li>                {</li><li>                  <span class="hljs-comment">// 开启多装饰线</span></li><li>                  <span class="hljs-attr">enableMultiType</span>: <span class="hljs-literal">true</span></li><li>                }</li><li>              )</li><li>            },</li><li>          ])</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">styledStringController</span>.<span class="hljs-title function_">setStyledString</span>(mutString);</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="385" originwidth="523" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115523.57591236576515847931311242239310:50001231000000:2800:AB6579011F2568C21C81B130EFD6F4A7BD922F6A64C9759C3FE49AA3E08B93F0.gif" width="523" height="385"></span></p>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2828px;">     <h3 id="示例31设置开启中西文自动间距">示例31（设置开启中西文自动间距）<i class="anchor-icon anchor-icon-link" anchorid="示例31设置开启中西文自动间距" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例通过<a href="/consumer/cn/doc/harmonyos-references/ts-basic-components-richeditor#enableautospacing20">enableAutoSpacing</a>属性设置中西文自动间距。</p>     <div _ngcontent-upt-c106="" class="highlight-div"><div _ngcontent-upt-c106="" class="highlight-div-header"><div _ngcontent-upt-c106="" class="highlight-div-header-left"><div _ngcontent-upt-c106="" class="handle-button expand-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upt-c106="" class="highlight-div-header-right"><div _ngcontent-upt-c106="" class="handle-button ai-button"></div><div _ngcontent-upt-c106="" class="handle-button line-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upt-c106="" class="handle-button theme-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upt-c106="" class="handle-button copy-button"><div _ngcontent-upt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upt-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">AutoSpacing</span> {</li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">RichEditorController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RichEditorController</span>();</li><li>  <span class="hljs-attr">options</span>: <span class="hljs-title class_">RichEditorOptions</span> = { <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> };</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">enableAutoSpace</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入中西文内容"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"Add文本Span"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span></li><li>                }</li><li>              })</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入图片"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"100px"</span>, <span class="hljs-string">"100px"</span>]</li><li>                }</li><li>              });</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"插入Symbol"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addSymbolSpan</span>($r(<span class="hljs-string">"sys.symbol.ohos_trash"</span>),</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">32</span></li><li>                }</li><li>              });</li><li>          })</li><li>        }</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>
</li><li>        <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">2</span> }) {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"开启中西文自动间距"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">enableAutoSpace</span> = <span class="hljs-literal">true</span>;</li><li>          })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">"关闭中西文自动间距"</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">enableAutoSpace</span> = <span class="hljs-literal">false</span>;</li><li>          })</li><li>        }</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>)</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"10%"</span>)</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">RichEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>)</li><li>          .<span class="hljs-title function_">onReady</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addImageSpan</span>($r(<span class="hljs-string">'app.media.startIcon'</span>),</li><li>              {</li><li>                <span class="hljs-attr">imageStyle</span>:</li><li>                {</li><li>                  <span class="hljs-attr">size</span>: [<span class="hljs-string">"100px"</span>, <span class="hljs-string">"100px"</span>]</li><li>                }</li><li>              });</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addTextSpan</span>(<span class="hljs-string">"中西文Auto Spacing自动间距"</span>,</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>,</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span></li><li>                }</li><li>              })</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">addSymbolSpan</span>($r(<span class="hljs-string">"sys.symbol.ohos_trash"</span>),</li><li>              {</li><li>                <span class="hljs-attr">style</span>:</li><li>                {</li><li>                  <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span></li><li>                }</li><li>              });</li><li>          })</li><li>          .<span class="hljs-title function_">enableAutoSpacing</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">enableAutoSpace</span>)</li><li>          .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">borderColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"50%"</span>)</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="260" originwidth="504" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115523.76497306768396432282265947534962:50001231000000:2800:6A6383AF5EDE03AF0D001732BD4A03E7A7AD146FC82A1F41A84F232E0EC7E28D.gif" width="504" height="260"></span></p>    </div>   </div>   <div></div></div>