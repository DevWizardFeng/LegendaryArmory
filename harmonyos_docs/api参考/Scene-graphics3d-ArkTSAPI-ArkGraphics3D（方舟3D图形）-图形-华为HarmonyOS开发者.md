<h1 _ngcontent-pus-c119="" class="doc-title ng-star-inserted" title="Scene"> Scene </h1>

<div _ngcontent-pus-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块作为ArkGraphics 3D基础模块，提供SceneResourceParameters、SceneNodeParameters等通用数据类型。同时提供glTF模型加载，场景元素、资源创建等基础方法。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>本模块首批接口从API version 12开始支持，后续版本的新增接口，采用上角标标记接口的起始版本。</li>       <li>关于.shader资源文件，具体请见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkgraphics3d-shader-resource" target="_blank">.shader资源文件格式要求</a>。</li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="导入模块" device-type="phone,2in1,tablet,wearable,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">RaycastResult</span>, <span class="hljs-title class_">RaycastParameters</span>,<span class="hljs-title class_">RenderResourceFactory</span>,</li><li>  <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">SceneComponent</span>, <span class="hljs-title class_">RenderContext</span>, <span class="hljs-title class_">RenderParameters</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="sceneresourceparameters" device-type="phone,2in1,tablet,wearable,tv">SceneResourceParameters<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sceneresourceparameters" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>场景资源参数对象，包含name和uri，用于提供场景资源的名称以及3D场景所需的资源文件路径。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">要创建资源的名称，可由开发者自定填写，用于标识该场景资源。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uri</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">3D场景所需的资源文件路径。默认值为undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Shader</span>, <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createShaderPromise</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Shader</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>
</li><li>      <span class="hljs-comment">// 创建shader资源（通过SceneResourceParameters配置），路径和文件名可根据项目实际资源自定义</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneResourceParameter</span>: <span class="hljs-title class_">SceneResourceParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"shaderResource"</span>,</li><li>        <span class="hljs-attr">uri</span>: $rawfile(<span class="hljs-string">"shaders/custom_shader/custom_material_sample.shader"</span>) };</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">shader</span>: <span class="hljs-title class_">Shader</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createShader</span>(sceneResourceParameter);</li><li>      <span class="hljs-title function_">resolve</span>(shader);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="scenenodeparameters" device-type="phone,2in1,tablet,wearable,tv">SceneNodeParameters<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scenenodeparameters" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>场景结点参数对象，它用于提供场景结点层次中的名称和路径。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">要创建的结点名称，可由开发者自定义填写，用于标识场景结点。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">path</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">场景结点层次中的路径。用于指定创建的摄影机、灯光或结点在场景结点层次中的放置位置。每层之间使用'/'符号进行分割。如果未提供，则将其设置为根结点的子结点。默认值为undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">Node</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createNodePromise</span>(<span class="hljs-params"></span>) : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Node</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>
</li><li>      <span class="hljs-comment">// 创建SceneNodeParameters类型变量并以此创建node</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneNodeParameter</span>: <span class="hljs-title class_">SceneNodeParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"empty_node"</span>,</li><li>        <span class="hljs-attr">path</span>:<span class="hljs-string">"/rootNode_/empty_node"</span> };</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">Node</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createNode</span>(sceneNodeParameter);</li><li>      <span class="hljs-title function_">resolve</span>(node);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="raycastresult20" device-type="phone,2in1,tablet,wearable,tv">RaycastResult<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="raycastresult20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>射线检测命中结果对象，包含被射线击中的3D物体详细信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">node</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">被射线击中的3D场景节点，可通过该节点操作目标物体（如移动、旋转、隐藏）。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">centerDistance</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">命中物体包围盒中心到摄像机中心的距离，取值范围大于0。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hitPosition</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#position3">Position3</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">射线与物体碰撞点的精确世界坐标（{x: number, y: number, z: number}）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="raycastparameters20" device-type="phone,2in1,tablet,wearable,tv">RaycastParameters<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="raycastparameters20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>射线检测参数配置，用于定义射线检测的行为。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">rootNode</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">限定检测范围：仅检测该节点及其子节点。未设置时检测全场景。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="renderresourcefactory20" device-type="phone,2in1,tablet,wearable,tv">RenderResourceFactory<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="renderresourcefactory20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于创建可在共享RenderContext的多个场景（Scene）中共享的渲染资源。</p>    </div>    <div class="tiledSection">     <h3 id="createshader20" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">createShader<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createshader20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createShader(params: SceneResourceParameters): Promise&lt;Shader&gt;</p>     <p>根据指定场景资源参数创建一个着色器，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#sceneresourceparameters">SceneResourceParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建着色器的参数。详细.shader文件格式请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkgraphics3d-shader-resource" target="_blank">.shader资源文件格式要求</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#shader">Shader</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回创建的着色器对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Shader</span>, <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span>, <span class="hljs-title class_">RenderResourceFactory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createShaderResource</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Shader</span>&gt; {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (!renderContext) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"RenderContext is null"</span>));</li><li>  }</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderResourceFactory</span>: <span class="hljs-title class_">RenderResourceFactory</span> = renderContext.<span class="hljs-title function_">getRenderResourceFactory</span>();</li><li>  <span class="hljs-comment">// 创建shader资源，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">shaderParams</span>: <span class="hljs-title class_">SceneResourceParameters</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">"custom_shader"</span>,</li><li>    <span class="hljs-attr">uri</span>: $rawfile(<span class="hljs-string">"shaders/custom_shader/custom_material_sample.shader"</span>)</li><li>  };</li><li>  <span class="hljs-keyword">return</span> renderResourceFactory.<span class="hljs-title function_">createShader</span>(shaderParams);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createimage20" device-type="phone,2in1,tablet,wearable,tv">createImage<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createimage20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createImage(params: SceneResourceParameters): Promise&lt;Image&gt;</p>     <p>根据指定场景资源参数创建一个图像资源，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#sceneresourceparameters">SceneResourceParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建图像的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#image">Image</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回创建的图像对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Image</span>, <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span>, <span class="hljs-title class_">RenderResourceFactory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createImageResource</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Image</span>&gt; {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (!renderContext) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"RenderContext is null"</span>));</li><li>  }</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderResourceFactory</span>: <span class="hljs-title class_">RenderResourceFactory</span> = renderContext.<span class="hljs-title function_">getRenderResourceFactory</span>();</li><li>  <span class="hljs-comment">// 加载图片资源，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">imageParams</span>: <span class="hljs-title class_">SceneResourceParameters</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">"sampleImage"</span>,</li><li>    <span class="hljs-attr">uri</span>: $rawfile(<span class="hljs-string">"image/Cube_BaseColor.png"</span>)</li><li>  };</li><li>  <span class="hljs-keyword">return</span> renderResourceFactory.<span class="hljs-title function_">createImage</span>(imageParams);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createmesh20" device-type="phone,2in1,tablet,wearable,tv">createMesh<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createmesh20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createMesh(params: SceneResourceParameters, geometry: GeometryDefinition): Promise&lt;MeshResource&gt;</p>     <p>根据指定场景资源参数和几何体定义（GeometryDefinition）创建一个网格资源（MeshResource），使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#sceneresourceparameters">SceneResourceParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建网格资源的参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">geometry</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#geometrydefinition18">GeometryDefinition</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">几何形状定义，描述要创建的网格形状。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#meshresource18">MeshResource</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回创建的网格资源对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">CustomGeometry</span>, <span class="hljs-title class_">PrimitiveTopology</span>, <span class="hljs-title class_">RenderContext</span>, <span class="hljs-title class_">RenderResourceFactory</span>,</li><li>  <span class="hljs-title class_">MeshResource</span> }  <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createMeshResource</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">MeshResource</span>&gt; {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (!renderContext) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"RenderContext is null"</span>));</li><li>  }</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderResourceFactory</span>: <span class="hljs-title class_">RenderResourceFactory</span> = renderContext.<span class="hljs-title function_">getRenderResourceFactory</span>();</li><li>  <span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomGeometry</span>();</li><li>  geometry.<span class="hljs-property">vertices</span> = [</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> }</li><li>  ];</li><li>  geometry.<span class="hljs-property">indices</span> = [</li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>,     <span class="hljs-comment">// front</span></li><li>    <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>,     <span class="hljs-comment">// back</span></li><li>    <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,     <span class="hljs-comment">// bottom</span></li><li>    <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>,     <span class="hljs-comment">// right</span></li><li>    <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>,     <span class="hljs-comment">// top</span></li><li>    <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>      <span class="hljs-comment">// left</span></li><li>  ];</li><li>  geometry.<span class="hljs-property">topology</span> = <span class="hljs-title class_">PrimitiveTopology</span>.<span class="hljs-property">TRIANGLE_LIST</span>;</li><li>  geometry.<span class="hljs-property">normals</span> = [</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> }</li><li>  ];</li><li>  geometry.<span class="hljs-property">uvs</span> = [</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span> }</li><li>  ];</li><li>  geometry.<span class="hljs-property">colors</span> = [</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> },</li><li>    { <span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> }</li><li>  ];</li><li>  <span class="hljs-comment">// 加载图片资源，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneResourceParameter</span>: <span class="hljs-title class_">SceneResourceParameters</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">"cubeMesh"</span>,</li><li>    <span class="hljs-attr">uri</span>: $rawfile(<span class="hljs-string">"image/Cube_BaseColor.png"</span>)</li><li>  };</li><li>  <span class="hljs-keyword">return</span> renderResourceFactory.<span class="hljs-title function_">createMesh</span>(sceneResourceParameter, geometry);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createsampler20" device-type="phone,2in1,tablet,wearable,tv">createSampler<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createsampler20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSampler(params:SceneResourceParameters): Promise&lt;Sampler&gt;</p>     <p>根据指定场景资源参数创建一个采样器资源，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#sceneresourceparameters">SceneResourceParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">创建采样器的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#sampler20">Sampler</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回创建的采样器对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span>, <span class="hljs-title class_">RenderResourceFactory</span>, <span class="hljs-title class_">Sampler</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createSamplerResource</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Sampler</span>&gt; {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (!renderContext) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"RenderContext is null"</span>));</li><li>  }</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderResourceFactory</span>: <span class="hljs-title class_">RenderResourceFactory</span> = renderContext.<span class="hljs-title function_">getRenderResourceFactory</span>();</li><li>  <span class="hljs-comment">// 加载图片资源，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">samplerParams</span>: <span class="hljs-title class_">SceneResourceParameters</span> = {</li><li>    <span class="hljs-attr">name</span>: <span class="hljs-string">"sampler1"</span>,</li><li>    <span class="hljs-attr">uri</span>: $rawfile(<span class="hljs-string">"image/Cube_BaseColor.png"</span>)</li><li>  };</li><li>  <span class="hljs-keyword">return</span> renderResourceFactory.<span class="hljs-title function_">createSampler</span>(samplerParams);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createscene20" device-type="phone,2in1,tablet,wearable,tv">createScene<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createscene20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createScene(uri?: ResourceStr): Promise&lt;Scene&gt;</p>     <p>从指定的资源URI创建一个新的场景。如果不指定URI，则创建一个空场景，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">创建场景使用的资源路径，如果未传入资源路径，则默认创建一个空场景。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scene-1">Scene</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回创建的场景对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span>, <span class="hljs-title class_">RenderResourceFactory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-comment">// fromFile=true：从指定glb文件加载场景，fromFile=false：创建一个空场景，此参数是为了示例展示两种常见场景创建方式</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createScenePromise</span>(<span class="hljs-params">fromFile: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (!renderContext) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"RenderContext is null"</span>));</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderResourceFactory</span>: <span class="hljs-title class_">RenderResourceFactory</span> = renderContext.<span class="hljs-title function_">getRenderResourceFactory</span>();</li><li>  <span class="hljs-keyword">if</span> (fromFile) {</li><li>    <span class="hljs-comment">// 创建场景并加载.gltf或.glb文件作为初始内容，路径和名称可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">return</span> renderResourceFactory.<span class="hljs-title function_">createScene</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-comment">// 创建空场景</span></li><li>    <span class="hljs-keyword">return</span> renderResourceFactory.<span class="hljs-title function_">createScene</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="cameraparameters21" device-type="phone,2in1,tablet,wearable,tv">CameraParameters<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="cameraparameters21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>相机创建参数配置，用于定义相机创建的额外选项。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">renderingPipeline</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#renderingpipelinetype21">RenderingPipelineType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">选择初始渲染管线类型，默认为轻量级前向渲染管线类型。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="effectparameters21" device-type="phone,2in1,tablet,wearable,tv">EffectParameters<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="effectparameters21" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>特效参数。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">effectId</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">用于创建特效的ID，固定格式为'XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX'，比如'e68a7f45-2d21-4a0d-9aef-7d9c825d3f12'。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="sceneresourcefactory" device-type="phone,2in1,tablet,wearable,tv">SceneResourceFactory<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sceneresourcefactory" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于创建3D场景中资源的接口，例如相机、光源等，继承自<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#renderresourcefactory20">RenderResourceFactory</a>。</p>    </div>    <div class="tiledSection">     <h3 id="createcamera" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">createCamera<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createcamera" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createCamera(params: SceneNodeParameters): Promise&lt;Camera&gt;</p>     <p>根据结点参数创建相机，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scenenodeparameters">SceneNodeParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景结点参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#camera">Camera</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回相机对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">Camera</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCameraPromise</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Camera</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneCameraParameter</span>: <span class="hljs-title class_">SceneNodeParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"camera1"</span> };</li><li>      <span class="hljs-comment">// 创建相机</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">camera</span>: <span class="hljs-title class_">Camera</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createCamera</span>(sceneCameraParameter);</li><li>      <span class="hljs-title function_">resolve</span>(camera);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createcamera21" device-type="phone,2in1,tablet,wearable,tv">createCamera<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createcamera21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createCamera(params: SceneNodeParameters, cameraParams: CameraParameters): Promise&lt;Camera&gt;</p>     <p>根据结点参数与相机参数创建相机，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scenenodeparameters">SceneNodeParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景结点参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">cameraParams</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#cameraparameters21">CameraParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">相机参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#camera">Camera</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回相机对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">Camera</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">CameraParameters</span>,</li><li>  <span class="hljs-title class_">RenderingPipelineType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCameraPromise</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Camera</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">nodeParameter</span>: <span class="hljs-title class_">SceneNodeParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"camera1"</span> };</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">camParameter</span>: <span class="hljs-title class_">CameraParameters</span> = {<span class="hljs-attr">renderingPipeline</span>: <span class="hljs-title class_">RenderingPipelineType</span>.<span class="hljs-property">FORWARD</span>};</li><li>      <span class="hljs-comment">// 创建相机</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">camera</span>: <span class="hljs-title class_">Camera</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createCamera</span>(nodeParameter, camParameter);</li><li>      <span class="hljs-title function_">resolve</span>(camera);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createlight" device-type="phone,2in1,tablet,wearable,tv">createLight<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createlight" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createLight(params: SceneNodeParameters, lightType: LightType): Promise&lt;Light&gt;</p>     <p>根据结点参数和灯光类型创建灯光，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scenenodeparameters">SceneNodeParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景结点参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">lightType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#lighttype">LightType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">灯光类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#light">Light</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回灯光对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">LightType</span>, <span class="hljs-title class_">Light</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createLightPromise</span>(<span class="hljs-params"></span>) : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Light</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneLightParameter</span>: <span class="hljs-title class_">SceneNodeParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"light"</span> };</li><li>      <span class="hljs-comment">// 创建平行光</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">light</span>: <span class="hljs-title class_">Light</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createLight</span>(sceneLightParameter, <span class="hljs-title class_">LightType</span>.<span class="hljs-property">DIRECTIONAL</span>);</li><li>      <span class="hljs-title function_">resolve</span>(light);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createnode" device-type="phone,2in1,tablet,wearable,tv">createNode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createnode" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createNode(params: SceneNodeParameters): Promise&lt;Node&gt;</p>     <p>创建结点，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scenenodeparameters">SceneNodeParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景结点参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回结点对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">Node</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createNodePromise</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Node</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneNodeParameter</span>: <span class="hljs-title class_">SceneNodeParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"empty_node"</span>,</li><li>        <span class="hljs-attr">path</span>:<span class="hljs-string">"/rootNode_/empty_node"</span> };</li><li>      <span class="hljs-comment">// 创建节点</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">Node</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createNode</span>(sceneNodeParameter);</li><li>      <span class="hljs-title function_">resolve</span>(node);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="creatematerial" device-type="phone,2in1,tablet,wearable,tv">createMaterial<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="creatematerial" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createMaterial(params: SceneResourceParameters, materialType: MaterialType): Promise&lt;Material&gt;</p>     <p>根据场景资源参数和材质类型创建材质，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#sceneresourceparameters">SceneResourceParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景资源参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">materialType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#materialtype">MaterialType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">材质类型。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#material">Material</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回材质对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MaterialType</span>, <span class="hljs-title class_">Material</span>, <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createMaterialPromise</span>(<span class="hljs-params"></span>) : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Material</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneMaterialParameter</span>: <span class="hljs-title class_">SceneResourceParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"material"</span> };</li><li>      <span class="hljs-comment">// 创建材质</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">material</span>: <span class="hljs-title class_">Material</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createMaterial</span>(sceneMaterialParameter, <span class="hljs-title class_">MaterialType</span>.<span class="hljs-property">SHADER</span>);</li><li>      <span class="hljs-title function_">resolve</span>(material);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createenvironment" device-type="phone,2in1,tablet,wearable,tv">createEnvironment<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createenvironment" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createEnvironment(params: SceneResourceParameters): Promise&lt;Environment&gt;</p>     <p>根据场景资源参数创建环境，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#sceneresourceparameters">SceneResourceParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景资源参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#environment">Environment</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回环境对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Environment</span>, <span class="hljs-title class_">SceneResourceParameters</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createEnvironmentPromise</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Environment</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-comment">// 加载环境贴图资源，路径和文件名可根据项目实际资源自定义</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneEnvironmentParameter</span>: <span class="hljs-title class_">SceneResourceParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"env"</span>, <span class="hljs-attr">uri</span>: $rawfile(<span class="hljs-string">"KTX/quarry_02_2k_radiance.ktx"</span>) };</li><li>      <span class="hljs-comment">// 创建Environment</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">env</span>: <span class="hljs-title class_">Environment</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createEnvironment</span>(sceneEnvironmentParameter);</li><li>      <span class="hljs-title function_">resolve</span>(env);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="creategeometry18" device-type="phone,2in1,tablet,wearable,tv">createGeometry<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="creategeometry18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createGeometry(params: SceneNodeParameters, mesh:MeshResource): Promise&lt;Geometry&gt;</p>     <p>根据场景结点参数和网格数据创建几何对象，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scenenodeparameters">SceneNodeParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景结点参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">mesh</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#meshresource18">MeshResource</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">网格数据参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#geometry">Geometry</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回几何对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">Geometry</span>, <span class="hljs-title class_">CubeGeometry</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createGeometryPromise</span>(<span class="hljs-params"></span>) : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Geometry</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>();</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span> | <span class="hljs-literal">undefined</span>) =&gt; {</li><li>      <span class="hljs-keyword">if</span> (!result) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> cubeGeom = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CubeGeometry</span>();</li><li>      cubeGeom.<span class="hljs-property">size</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">z</span>: <span class="hljs-number">1</span> };</li><li>      <span class="hljs-keyword">let</span> meshRes = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createMesh</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"MeshName"</span> }, cubeGeom);</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TEST createGeometryPromise"</span>);</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">geometry</span>: <span class="hljs-title class_">Geometry</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createGeometry</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"GeometryName"</span> }, meshRes);</li><li>      <span class="hljs-title function_">resolve</span>(geometry);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createeffect21" device-type="phone,2in1,tablet,wearable,tv">createEffect<sup>21+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createeffect21" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createEffect(params: EffectParameters): Promise&lt;Effect&gt;</p>     <p>根据特效参数创建特效对象，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#effectparameters21">EffectParameters</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">特效参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#effect21">Effect</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回特效对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">Effect</span>, <span class="hljs-title class_">EffectParameters</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createEffect</span>(<span class="hljs-params"></span>) : <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Effect</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>();</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span> | <span class="hljs-literal">undefined</span>) =&gt; {</li><li>      <span class="hljs-keyword">if</span> (!result) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-comment">// 特效ID，固定格式为'XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX'，比如'e68a7f45-2d21-4a0d-9aef-7d9c825d3f12'</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">params</span>: <span class="hljs-title class_">EffectParameters</span> = {<span class="hljs-attr">effectId</span>: <span class="hljs-string">"e68a7f45-2d21-4a0d-9aef-7d9c825d3f12"</span>}</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">effect</span>: <span class="hljs-title class_">Effect</span> = <span class="hljs-keyword">await</span> sceneFactory.<span class="hljs-title function_">createEffect</span>(params);</li><li>      <span class="hljs-title function_">resolve</span>(effect);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="scenecomponent20" device-type="phone,2in1,tablet,wearable,tv">SceneComponent<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scenecomponent20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示基础场景组件，用于描述场景节点的组件信息，包括组件名称及其对应的属性集合。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">要创建场景组件的名称，可由开发者自定填写，用于标识场景组件。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">property</td>         <td class="cellrowborder" width="20%">Record&lt;string, string | number | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#vec2">Vec2</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#vec3">Vec3</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#vec4">Vec4</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#sceneresource-1">SceneResource</a> | boolean | number[] | string[] | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#sceneresource-1">SceneResource</a>[] | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#vec2">Vec2</a>[] | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#vec3">Vec3</a>[] | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-types#vec4">Vec4</a>[] | null | undefined&gt;</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">组件的属性集合，以键值对形式存储。支持多种基础类型和复杂类型，用于描述场景组件的各种属性。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="rendercontext20" device-type="phone,2in1,tablet,wearable,tv">RenderContext<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rendercontext20" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义了所有渲染资源的上下文。在同一渲染上下文中创建的多个场景之间，可以共享渲染资源。</p>    </div>    <div class="tiledSection">     <h3 id="getrenderresourcefactory20" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">getRenderResourceFactory<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getrenderresourcefactory20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getRenderResourceFactory() : RenderResourceFactory</p>     <p>获取渲染资源工厂，提供创建不同渲染资源的功能。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#renderresourcefactory20">RenderResourceFactory</a></td>         <td class="cellrowborder" width="50%">返回一个RenderResourceFactory实例，用于创建渲染资源。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span>, <span class="hljs-title class_">RenderResourceFactory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getRenderResourceFactory</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (!renderContext) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"RenderContext is null"</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderResourceFactory</span>: <span class="hljs-title class_">RenderResourceFactory</span> = renderContext.<span class="hljs-title function_">getRenderResourceFactory</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TEST getRenderResourceFactory"</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="loadplugin20" device-type="phone,2in1,tablet,wearable,tv">loadPlugin<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="loadplugin20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>loadPlugin(name: string): Promise&lt;boolean&gt;</p>     <p>用于加载指定名称的插件，通过插件名称查找并加载对应的插件资源，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要加载的插件名称，必须是系统预定义或已注册且可用的插件名称，且符合命名规范。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;boolean&gt;</td>         <td class="cellrowborder" width="50%">返回一个Promise对象，解析结果为boolean类型，表示插件加载是否成功。true表示加载成功，false表示加载失败。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadPlugin</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (!renderContext) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"RenderContext is null"</span>);</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"RenderContext is null"</span>));</li><li>  }</li><li>  <span class="hljs-keyword">return</span> renderContext.<span class="hljs-title function_">loadPlugin</span>(<span class="hljs-string">"pluginName"</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="registerresourcepath20" device-type="phone,2in1,tablet,wearable,tv">registerResourcePath<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="registerresourcepath20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>registerResourcePath(protocol: string, uri: string): boolean</p>     <p>注册shader等资产文件所在的路径目录及其检索名，通过检索名查找并替换shader内部关联文件的路径描述，找到对应的资产路径目录，实现资产及其关联文件的正确加载。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">protocol</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注册的路径检索名，必须是系统未预定义或未注册且非空的检索名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要注册的资产路径目录，与检索名对应，必须是资产文件所在文件夹路径。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回资产文件路径是否注册成功。true表示注册成功；false表示注册失败，可能原因为检索名已被注册或输入参数不可用。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerResourcePath</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 创建shader资源，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"shaders/custom_shader/custom_material_sample.shader"</span>))</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">scene</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>      <span class="hljs-keyword">if</span> (!renderContext) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"RenderContext is null"</span>);</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</li><li>      }</li><li>      <span class="hljs-keyword">return</span> renderContext.<span class="hljs-title function_">registerResourcePath</span>(<span class="hljs-string">"protocol"</span>, <span class="hljs-string">"OhosRawFile://uri"</span>);</li><li>    })</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (result) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"resource path registration success"</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"resource path registration failed"</span>);</li><li>      }</li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="renderparameters15" device-type="phone,2in1,tablet,wearable,tv">RenderParameters<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="renderparameters15" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>渲染参数接口。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">alwaysRender<sup>15+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">表示是否每一帧都渲染。true表示每一帧都渲染，false表示按需渲染。默认值为true。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="scene-1" device-type="phone,2in1,tablet,wearable,tv">Scene<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scene-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于设置场景。</p>    </div>    <div class="tiledSection">     <h3 id="属性" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.3.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.3.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.3.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.3.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.3.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">environment</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#environment">Environment</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">环境对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">animations</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-resources#animation">Animation</a>[]</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">动画数组，用于保存3D场景中的动画对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">root</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a> | null</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">3D场景树根结点。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="load" device-type="phone,2in1,tablet,wearable,tv">load<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="load" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static load(uri?: ResourceStr): Promise&lt;Scene&gt;</p>     <p>通过传入的资源路径加载资源，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">uri</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">待加载的模型文件资源路径，默认值为undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scene-1">Scene</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回场景对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>示例1：通过rawfile加载（相对路径）</p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadModel</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>  scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {});</li><li>}</li></ol></pre></div></div>     <p>示例2：通过绝对路径加载（从应用沙盒目录/data/storage/el2/base/files加载模型）</p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { fileIo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-title function_">loadModelFromAbsolutePath</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>  <span class="hljs-comment">// 获取应用沙盒目录（Scene.load仅能读取应用自身写入的文件，不能读取hdc/adb push写入的文件）</span></li><li>  <span class="hljs-keyword">const</span> uiCtx = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>  <span class="hljs-keyword">const</span> appCtx = uiCtx.<span class="hljs-title function_">getApplicationContext</span>();</li><li>  <span class="hljs-keyword">const</span> filesDir = appCtx.<span class="hljs-property">filesDir</span>; <span class="hljs-comment">// /data/storage/el2/base/files</span></li><li>
</li><li>  <span class="hljs-comment">// 从rawfile读取模型内容（实际使用中也可以替换为其他来源的数据）</span></li><li>  <span class="hljs-comment">// 使用.glb文件更易于复制加载；若为.gltf，请将其.bin和贴图文件一并复制到同一目录</span></li><li>  <span class="hljs-keyword">const</span> src = <span class="hljs-string">'gltf/CubeWithFloor/glTF/AnimatedCube.glb'</span>;</li><li>  <span class="hljs-keyword">const</span> load_uri = <span class="hljs-string">`<span class="hljs-subst">${filesDir}</span>/AnimatedCube.glb`</span>;</li><li>
</li><li>  <span class="hljs-comment">// 写入模型文件到应用沙盒目录，生成可被Scene.load(绝对路径)访问的实际文件</span></li><li>  <span class="hljs-keyword">const</span> rawData = <span class="hljs-keyword">await</span> uiCtx.<span class="hljs-property">resourceManager</span>.<span class="hljs-title function_">getRawFileContent</span>(src);</li><li>  <span class="hljs-keyword">const</span> file = fileIo.<span class="hljs-title function_">openSync</span>(load_uri, fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">CREATE</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">TRUNC</span> | fileIo.<span class="hljs-property">OpenMode</span>.<span class="hljs-property">WRITE_ONLY</span>);</li><li>  fileIo.<span class="hljs-title function_">writeSync</span>(file.<span class="hljs-property">fd</span>, rawData.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">slice</span>(rawData.<span class="hljs-property">byteOffset</span>, rawData.<span class="hljs-property">byteOffset</span> + rawData.<span class="hljs-property">byteLength</span>));</li><li>  fileIo.<span class="hljs-title function_">closeSync</span>(file);</li><li>
</li><li>  <span class="hljs-comment">// 使用绝对路径加载模型</span></li><li>  <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>(load_uri).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">scene: Scene</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载成功后的逻辑处理</span></li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">string</span></span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed: '</span> + error);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getnodebypath" device-type="phone,2in1,tablet,wearable,tv">getNodeByPath<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getnodebypath" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getNodeByPath(path: string, type?: NodeType): Node | null</p>     <p>通过路径获取结点。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">path</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">场景结点层次中的路径。每层之间使用'/'符号进行分割。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#nodetype">NodeType</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">预期返回的结点类型。默认值为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a> | null</td>         <td class="cellrowborder" width="50%">返回请求结点的实例，如果没有找到或者找到的节点类型与传入的参数不相符则返回空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">Node</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getNode</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>  scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (result) {</li><li>         <span class="hljs-comment">// 寻找指定路径的节点</span></li><li>        <span class="hljs-keyword">let</span> node : <span class="hljs-title class_">Node</span> | <span class="hljs-literal">null</span> = result.<span class="hljs-title function_">getNodeByPath</span>(<span class="hljs-string">"rootNode_"</span>);</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getresourcefactory" device-type="phone,2in1,tablet,wearable,tv">getResourceFactory<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getresourcefactory" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getResourceFactory(): SceneResourceFactory</p>     <p>获取场景资源工厂对象。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#sceneresourcefactory">SceneResourceFactory</a></td>         <td class="cellrowborder" width="50%">返回场景资源工厂对象。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getFactory</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>  scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (result) {</li><li>         <span class="hljs-comment">// 获得SceneResourceFactory对象</span></li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="destroy" device-type="phone,2in1,tablet,wearable,tv">destroy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="destroy" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>destroy(): void</p>     <p>销毁场景，释放所有的场景资源。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">destroy</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>  scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (result) {</li><li>         <span class="hljs-comment">// 销毁scene</span></li><li>        result.<span class="hljs-title function_">destroy</span>();</li><li>    }</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="importnode18" device-type="phone,2in1,tablet,wearable,tv">importNode<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="importnode18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>importNode(name: string, node: Node, parent: Node | null): Node</p>     <p>一般用于从其他场景导入结点。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">导入结点后的名称，由开发者自定义，无特殊要求。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">被导入的结点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">parent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">被导入结点在新场景中的父结点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a></td>         <td class="cellrowborder" width="50%">被导入的结点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">ImportNodeTest</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span> | <span class="hljs-literal">undefined</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (!result) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/AnimatedCube/glTF/AnimatedCube.glb"</span>))</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">extScene</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>        <span class="hljs-keyword">let</span> extNode = extScene.<span class="hljs-title function_">getNodeByPath</span>(<span class="hljs-string">"rootNode_/Unnamed Node 1/AnimatedCube"</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TEST ImportNodeTest"</span>);</li><li>        <span class="hljs-keyword">let</span> node = result.importNode(<span class="hljs-string">"scene"</span>, extNode, result.<span class="hljs-property">root</span>);</li><li>        <span class="hljs-keyword">if</span> (node) {</li><li>          node.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> = <span class="hljs-number">5</span>;</li><li>        }</li><li>      });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="importscene18" device-type="phone,2in1,tablet,wearable,tv">importScene<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="importscene18" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>importScene(name: string, scene: Scene, parent: Node | null): Node</p>     <p>在当前场景中导入其他场景。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">导入场景的根结点名称，由开发者自定义，无特殊要求。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">scene</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scene-1">Scene</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">被导入的场景。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">parent</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a> | null</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">被导入场景在新场景中的父结点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a></td>         <td class="cellrowborder" width="50%">被导入场景的根结点。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">ImportSceneTest</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span> | <span class="hljs-literal">undefined</span>) =&gt; {</li><li>    <span class="hljs-keyword">if</span> (!result) {</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> content = <span class="hljs-keyword">await</span> result.<span class="hljs-title function_">getResourceFactory</span>().<span class="hljs-title function_">createScene</span>($rawfile(<span class="hljs-string">"gltf/DamagedHelmet/glTF/DamagedHelmet.glb"</span>))</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TEST ImportSceneTest"</span>);</li><li>    result.importScene(<span class="hljs-string">"helmet"</span>, content, <span class="hljs-literal">null</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="renderframe15" device-type="phone,2in1,tablet,wearable,tv">renderFrame<sup>15+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="renderframe15" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>renderFrame(params?: RenderParameters): boolean</p>     <p>通过该接口可以实现按需渲染，例如控制渲染帧率。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">params</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#renderparameters15">RenderParameters</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">渲染参数，默认值为undefined。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">渲染被成功调度返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">RenderFrameTest</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/DamagedHelmet/glTF/DamagedHelmet.glb"</span>))</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span> | <span class="hljs-literal">undefined</span>) =&gt; {</li><li>      <span class="hljs-keyword">if</span> (!result) {</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TEST RenderFrameTest"</span>);</li><li>      result.<span class="hljs-title function_">renderFrame</span>({ <span class="hljs-attr">alwaysRender</span>: <span class="hljs-literal">true</span> });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="createcomponent20" device-type="phone,2in1,tablet,wearable,tv">createComponent<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="createcomponent20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createComponent(node: Node, name: string): Promise&lt;SceneComponent&gt;</p>     <p>在指定节点上创建新的组件，根据组件名称异步创建并附加到节点上，使用Promise异步回调。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">组件需要附加到的节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">要创建的组件名称，由各插件定义有效名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scenecomponent20">SceneComponent</a>&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，返回新创建的场景组件。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">SceneComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createComponentTest</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">SceneComponent</span>&gt; {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/DamagedHelmet/glTF/DamagedHelmet.glb"</span>))</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">scene</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (!scene) {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Scene load failed"</span>));</li><li>      }</li><li>      <span class="hljs-comment">// RenderConfigurationComponent为引擎内置组件，创建时无需依赖插件</span></li><li>      <span class="hljs-keyword">return</span> scene.<span class="hljs-title function_">createComponent</span>(scene.<span class="hljs-property">root</span>, <span class="hljs-string">"RenderConfigurationComponent"</span>);</li><li>    })</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">component</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (!component) {</li><li>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"createComponent failed"</span>));</li><li>      }</li><li>      <span class="hljs-keyword">return</span> component;</li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getcomponent20" device-type="phone,2in1,tablet,wearable,tv">getComponent<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getcomponent20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getComponent(node: Node, name: string): SceneComponent | null</p>     <p>根据指定的组件名称，从给定节点上获取对应的组件实例。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">node</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node">Node</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">组件附加的节点。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">name</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要获取的组件名称，必须为系统预定义或已注册的自定义组件名称，且需符合命名规范。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scenecomponent20">SceneComponent</a> | null</td>         <td class="cellrowborder" width="50%">返回对应名称的组件对象，若未找到则返回null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getComponentTest</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/DamagedHelmet/glTF/DamagedHelmet.glb"</span>))</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span> | <span class="hljs-literal">undefined</span>) =&gt; {</li><li>      <span class="hljs-keyword">if</span> (!result) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Scene load failed"</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TEST getComponentTest"</span>);</li><li>      <span class="hljs-keyword">let</span> component = result.<span class="hljs-title function_">getComponent</span>(result.<span class="hljs-property">root</span>, <span class="hljs-string">"myComponent"</span>);</li><li>      <span class="hljs-keyword">if</span> (component) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"getComponent success"</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"Component not found"</span>);</li><li>      }</li><li>    });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="getdefaultrendercontext20" device-type="phone,2in1,tablet,wearable,tv">getDefaultRenderContext<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdefaultrendercontext20" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>static getDefaultRenderContext(): RenderContext | null</p>     <p>获取当前图形对象所关联的渲染环境信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUi.Graphics3D</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#rendercontext20">RenderContext</a> | null</td>         <td class="cellrowborder" width="50%">返回当前对象关联的渲染上下文，若对象尚未关联任何渲染上下文，则返回null。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-pus-c106="" class="highlight-div"><div _ngcontent-pus-c106="" class="highlight-div-header"><div _ngcontent-pus-c106="" class="highlight-div-header-left"><div _ngcontent-pus-c106="" class="handle-button expand-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pus-c106="" class="highlight-div-header-right"><div _ngcontent-pus-c106="" class="handle-button ai-button"></div><div _ngcontent-pus-c106="" class="handle-button line-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pus-c106="" class="handle-button theme-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pus-c106="" class="handle-button copy-button"><div _ngcontent-pus-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pus-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span>, <span class="hljs-title class_">RenderContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getDefaultRenderContextTest</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"TEST getDefaultRenderContextTest"</span>);</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">renderContext</span>: <span class="hljs-title class_">RenderContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">getDefaultRenderContext</span>();</li><li>  <span class="hljs-keyword">if</span> (renderContext) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"getDefaultRenderContext success"</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"RenderContext is null"</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>