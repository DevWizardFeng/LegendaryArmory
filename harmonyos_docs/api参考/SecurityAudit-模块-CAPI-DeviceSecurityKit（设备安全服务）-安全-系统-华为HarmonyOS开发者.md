<h1 _ngcontent-ijt-c119="" class="doc-title ng-star-inserted" title="SecurityAudit"> SecurityAudit </h1>

<div _ngcontent-ijt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section1015258343112751" device-type="2in1">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1015258343112751" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>提供安全审计的API。</p> <p><strong>系统能力：</strong>SystemCapability.Security.SecurityAudit</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> </div> <div class="tiledSection"><h2 id="section2031409922112751" device-type="2in1">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section2031409922112751" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_files" device-type="2in1" class="firsth2">文件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_files" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-security-audit-8h">security_audit.h</a></p> </td> <td class="cellrowborder" width="50%"><p>文件中定义了与安全审计相关的函数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_nested-classes" device-type="2in1">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_nested-classes" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>struct  <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-event">SecurityAudit_Event</a></p> </td> <td class="cellrowborder" width="50%"><p>定义审计事件信息。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>struct  <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter">SecurityAudit_Filter</a></p> </td> <td class="cellrowborder" width="50%"><p>提供过滤条件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_typedef-members" device-type="2in1">类型定义<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_typedef-members" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>typedef void(* <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gacba1c566db7aa3b55e478c57c1def370">SecurityAudit_Handler</a>) (const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-event">SecurityAudit_Event</a> *events, uint64_t count)</p> </td> <td class="cellrowborder" width="50%"><p>定义事件处理函数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct SecurityAudit_AuthClient_Impl <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a></p> </td> <td class="cellrowborder" width="50%"><p>定义阻断事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>typedef struct SecurityAudit_Client_Impl <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a></p> </td> <td class="cellrowborder" width="50%"><p>定义通知事件客户端。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_enum-members" device-type="2in1">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_enum-members" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea">SecurityAudit_Notify_Event</a> {</p> <p>SECURITY_AUDIT_NOTIFY_EVENT_PASTEBOARD = 0x27000000, SECURITY_AUDIT_NOTIFY_EVENT_FILE = 0x1C000007, SECURITY_AUDIT_NOTIFY_EVENT_FILE_INTERCEPTED = 0x2700003C, SECURITY_AUDIT_NOTIFY_EVENT_ACCOUNT = 0x10000100,</p> <p>SECURITY_AUDIT_NOTIFY_EVENT_WINDOW = 0x07000000, SECURITY_AUDIT_NOTIFY_EVENT_VOLUME = 0x0F000000, SECURITY_AUDIT_NOTIFY_EVENT_PRINTER = 0x2E000000, SECURITY_AUDIT_NOTIFY_EVENT_PROCESS = 0x1C000008,</p> <p>SECURITY_AUDIT_NOTIFY_EVENT_NETWORK_TRAFFIC = 0x1C00000E, SECURITY_AUDIT_NOTIFY_EVENT_NETWORK_CONN = 0x1C00000F, SECURITY_AUDIT_NOTIFY_EVENT_CAMERA = 0x2D000000, SECURITY_AUDIT_NOTIFY_EVENT_APP = 0x10000000,</p> <p>SECURITY_AUDIT_NOTIFY_EVENT_EDM = 0x11000000, SECURITY_AUDIT_NOTIFY_EVENT_CERT = 0x12003000, SECURITY_AUDIT_NOTIFY_EVENT_KIA_CREATE = 0x1C00000B, SECURITY_AUDIT_NOTIFY_EVENT_KIA_READ = 0x1C000012,</p> <p>SECURITY_AUDIT_NOTIFY_EVENT_KIA_VARIANT = 0x1C00000C, SECURITY_AUDIT_NOTIFY_EVENT_KIA_INTERCEPT = 0x1C00000A, SECURITY_AUDIT_NOTIFY_EVENT_PERMISSION = 0x0B000000, SECURITY_AUDIT_NOTIFY_EVENT_DNS = 0x03000001,</p> <p>SECURITY_AUDIT_NOTIFY_EVENT_APP_INSTALL_INTERCEPTED = 0x18000100, SECURITY_AUDIT_NOTIFY_EVENT_APP_UNINSTALL_INTERCEPTED = 0x18000101, SECURITY_AUDIT_NOTIFY_EVENT_APP_UPDATE_INTERCEPTED = 0x18000102, SECURITY_AUDIT_NOTIFY_EVENT_APP_RECOVER_INTERCEPTED = 0x18000103,</p> <p>SECURITY_AUDIT_NOTIFY_EVENT_APP_START_INTERCEPTED = 0x18000104, SECURITY_AUDIT_NOTIFY_EVENT_USB_ACCESS_INTERCEPTED = 0x30000000</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>定义通知事件的事件ID。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f">SecurityAudit_Auth_Event</a> {</p> <p>SECURITY_AUDIT_AUTH_EVENT_FILE_CREATE = 0x1C801100, SECURITY_AUDIT_AUTH_EVENT_FILE_OPEN = 0x1C801101, SECURITY_AUDIT_AUTH_EVENT_FILE_RENAME = 0x1C801102, SECURITY_AUDIT_AUTH_EVENT_FILE_DELETE = 0x1C801103,</p> <p>SECURITY_AUDIT_AUTH_EVENT_FILE_SETEXTATTR = 0x1C801104, SECURITY_AUDIT_AUTH_EVENT_FILE_DELETEEXTATTR = 0x1C801105</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>定义阻断类事件的事件ID。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaafa97d3ddf5b088ba32af03ca827ff5f">SecurityAudit_FilterType</a> {</p> <p>EVENT_TYPE_EQUAL = 0x00000100, EVENT_SUBTYPE_EQUAL = 0x00000200, FILE_PATH_EQUAL = 0x00010000, FILE_PATH_PREFIX = 0x00010001,</p> <p>FILE_PATH_SUFFIX = 0x00010002, PROCESS_UID_EQUAL = 0x00020000, PROCESS_PID_EQUAL = 0x00020100, PROCESS_NAME_EQUAL = 0x00020200,</p> <p>PROCESS_NAME_PREFIX = 0x00020201, PROCESS_NAME_SUFFIX = 0x00020202</p> <p>}</p> </td> <td class="cellrowborder" width="50%"><p>定义过滤器类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gae1e5585e31b60ada1569093893aab3de">SecurityAudit_AuthResult</a> { SECURITY_AUDIT_AUTH_RESULT_ALLOW = 0, SECURITY_AUDIT_AUTH_RESULT_DENY = 1 }</p> </td> <td class="cellrowborder" width="50%"><p>定义阻断结果的类型。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_func-members" device-type="2in1">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_func-members" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.2.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga18d7c9fe5c578d6113c86dd0c09353b4">HMS_SecurityAudit_NewClient</a> (<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a> **client, <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gacba1c566db7aa3b55e478c57c1def370">SecurityAudit_Handler</a> handler)</p> </td> <td class="cellrowborder" width="50%"><p>创建一个新的通知事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga26838e6288eea1421f03e6130aafd837">HMS_SecurityAudit_DeleteClient</a> (<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a> *client)</p> </td> <td class="cellrowborder" width="50%"><p>删除通知客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga3530687f761edfb0141f6c17ff3ba4cd">HMS_SecurityAudit_Subscribe</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a> *client, const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea">SecurityAudit_Notify_Event</a> *events, uint64_t count)</p> </td> <td class="cellrowborder" width="50%"><p>订阅通知事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga208aff2c03535311e85428fbd375d09f">HMS_SecurityAudit_Unsubscribe</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a> *client, const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea">SecurityAudit_Notify_Event</a> *events, uint64_t count)</p> </td> <td class="cellrowborder" width="50%"><p>取消订阅通知事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga292bdf10008513a439d6bb08450328b0">HMS_SecurityAudit_AddFilter</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a> *client, <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea">SecurityAudit_Notify_Event</a> event, const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter">SecurityAudit_Filter</a> *filter)</p> </td> <td class="cellrowborder" width="50%"><p>为通知事件添加过滤条件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga3c7aa36f4cff9a0107bf144f7fbbdcd5">HMS_SecurityAudit_RemoveFilter</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a> *client, <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea">SecurityAudit_Notify_Event</a> event, const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter">SecurityAudit_Filter</a> *filter)</p> </td> <td class="cellrowborder" width="50%"><p>删除通知事件的过滤条件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gab59201b529a964c3cc7f9ed12ab0330e">HMS_SecurityAudit_NewAuthClient</a> (<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a> **client, <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gacba1c566db7aa3b55e478c57c1def370">SecurityAudit_Handler</a> handler)</p> </td> <td class="cellrowborder" width="50%"><p>创建一个新的阻断类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga0a518a6380e80f47869a58f9cf14af87">HMS_SecurityAudit_DeleteAuthClient</a> (<a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a> *client)</p> </td> <td class="cellrowborder" width="50%"><p>删除阻断类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gab33847480e92d3107a91d76a10b8c82f">HMS_SecurityAudit_SubscribeAuthEvent</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a> *client, const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f">SecurityAudit_Auth_Event</a> *events, uint64_t count)</p> </td> <td class="cellrowborder" width="50%"><p>订阅阻断类事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaebf52f27e5409c29dc3ad0c3eba47783">HMS_SecurityAudit_UnsubscribeAuthEvent</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a> *client, const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f">SecurityAudit_Auth_Event</a> *events, uint64_t count)</p> </td> <td class="cellrowborder" width="50%"><p>取消订阅阻断类事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga3d9df28411da9cc483c2e82d304cb38e">HMS_SecurityAudit_AddAuthEventFilter</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a> *client, <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f">SecurityAudit_Auth_Event</a> event, const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter">SecurityAudit_Filter</a> *filter)</p> </td> <td class="cellrowborder" width="50%"><p>为阻断类事件添加过滤条件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaef069b340e428715c10531885326c079">HMS_SecurityAudit_RemoveAuthEventFilter</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a> *client, <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f">SecurityAudit_Auth_Event</a> event, const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter">SecurityAudit_Filter</a> *filter)</p> </td> <td class="cellrowborder" width="50%"><p>删除阻断类事件的过滤条件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gafbb9c2e5389b79d8def76c530e01e26c">HMS_SecurityAudit_Auth</a> (const <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a> *client, const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-event">SecurityAudit_Event</a> *event, <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gae1e5585e31b60ada1569093893aab3de">SecurityAudit_AuthResult</a> authResult)</p> </td> <td class="cellrowborder" width="50%"><p>设置审计事件的阻断结果。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#section0945443114617">HMS_SecurityAudit_QueryAllProcesses</a>(char** result)</p> </td> <td class="cellrowborder" width="50%"><p>获取所有的应用进程信息。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>int32_t <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#section11373745488">HMS_SecurityAudit_QueryProcesses</a>(uint64_t* pids, uint64_t count, char** result)</p> </td> <td class="cellrowborder" width="50%"><p>获取输入的pid的应用进程信息。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section207254493112751" device-type="2in1">类型定义说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section207254493112751" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868" device-type="2in1" class="firsth2">SecurityAudit_AuthClient<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">SecurityAudit_AuthClient_Impl</span> <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868">SecurityAudit_AuthClient</a></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义阻断事件客户端。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974" device-type="2in1">SecurityAudit_Client<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">SecurityAudit_Client_Impl</span> <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974">SecurityAudit_Client</a></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义通知事件客户端。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gacba1c566db7aa3b55e478c57c1def370" device-type="2in1">SecurityAudit_Handler<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gacba1c566db7aa3b55e478c57c1def370" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span><span class="hljs-params">(* SecurityAudit_Handler)</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-event"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> *events, <span class="hljs-type">uint64_t</span> count)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义事件处理函数。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>events</p> </td> <td class="cellrowborder" width="50%"><p>指向审计事件信息的指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>count</p> </td> <td class="cellrowborder" width="50%"><p>数组中的事件数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section141773795112751" device-type="2in1">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section141773795112751" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f" device-type="2in1" class="firsth2">SecurityAudit_Auth_Event<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f"><span class="hljs-title class_">SecurityAudit_Auth_Event</span></a></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义阻断事件的事件ID。</p> <p><strong>系统能力：</strong> SystemCapability.Security.SecurityAudit</p> <p><strong>起始版本：</strong> 6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_EVENT_FILE_CREATE</p> </td> <td class="cellrowborder" width="50%"><p>文件创建阻断事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_EVENT_FILE_OPEN</p> </td> <td class="cellrowborder" width="50%"><p>文件打开阻断事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_EVENT_FILE_RENAME</p> </td> <td class="cellrowborder" width="50%"><p>文件重命名阻断事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_EVENT_FILE_DELETE</p> </td> <td class="cellrowborder" width="50%"><p>文件删除阻断事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_EVENT_FILE_SETEXTATTR</p> </td> <td class="cellrowborder" width="50%"><p>文件设置扩展属性的阻断事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_EVENT_FILE_DELETEEXTATTR</p> </td> <td class="cellrowborder" width="50%"><p>文件删除扩展属性的阻断事件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gae1e5585e31b60ada1569093893aab3de" device-type="2in1">SecurityAudit_AuthResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gae1e5585e31b60ada1569093893aab3de" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gae1e5585e31b60ada1569093893aab3de"><span class="hljs-title class_">SecurityAudit_AuthResult</span></a></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义阻断结果的类型。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_RESULT_ALLOW</p> </td> <td class="cellrowborder" width="50%"><p>允许的阻断事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_AUTH_RESULT_DENY</p> </td> <td class="cellrowborder" width="50%"><p>拒绝的阻断事件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gaafa97d3ddf5b088ba32af03ca827ff5f" device-type="2in1">SecurityAudit_FilterType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gaafa97d3ddf5b088ba32af03ca827ff5f" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaafa97d3ddf5b088ba32af03ca827ff5f"><span class="hljs-title class_">SecurityAudit_FilterType</span></a></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义过滤器类型。</p> <p><strong>系统能力：</strong> SystemCapability.Security.SecurityAudit</p> <p><strong>起始版本：</strong> 6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>EVENT_TYPE_EQUAL</p> </td> <td class="cellrowborder" width="50%"><p>事件类型的过滤器类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>EVENT_SUBTYPE_EQUAL</p> </td> <td class="cellrowborder" width="50%"><p>事件子类型的过滤器类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>FILE_PATH_EQUAL</p> </td> <td class="cellrowborder" width="50%"><p>文件路径类型的过滤器类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>FILE_PATH_PREFIX</p> </td> <td class="cellrowborder" width="50%"><p>文件路径前缀类型的过滤器类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>FILE_PATH_SUFFIX</p> </td> <td class="cellrowborder" width="50%"><p>文件路径后缀类型的过滤器类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>PROCESS_UID_EQUAL</p> </td> <td class="cellrowborder" width="50%"><p>过滤进程的 UID 类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>PROCESS_PID_EQUAL</p> </td> <td class="cellrowborder" width="50%"><p>过滤进程 ID 类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>PROCESS_NAME_EQUAL</p> </td> <td class="cellrowborder" width="50%"><p>筛选进程名称类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>PROCESS_NAME_PREFIX</p> </td> <td class="cellrowborder" width="50%"><p>进程名称前缀的过滤类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>PROCESS_NAME_SUFFIX</p> </td> <td class="cellrowborder" width="50%"><p>进程名称后缀的过滤类型。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea" device-type="2in1">SecurityAudit_Notify_Event<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea"><span class="hljs-title class_">SecurityAudit_Notify_Event</span></a></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义通知事件的事件ID。</p> <p><strong>系统能力：</strong> SystemCapability.Security.SecurityAudit</p> <p><strong>起始版本：</strong> 6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%"><p>枚举值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_PASTEBOARD</p> </td> <td class="cellrowborder" width="50%"><p>剪贴板复制和粘贴事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_FILE</p> </td> <td class="cellrowborder" width="50%"><p>文件事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_FILE_INTERCEPTED</p> </td> <td class="cellrowborder" width="50%"><p>文件访问规则违规事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_ACCOUNT</p> </td> <td class="cellrowborder" width="50%"><p>账户登录和注销事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_WINDOW</p> </td> <td class="cellrowborder" width="50%"><p>窗口截图、屏幕录制、屏幕投影事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_VOLUME</p> </td> <td class="cellrowborder" width="50%"><p>可移动存储设备的插入和移除事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_PRINTER</p> </td> <td class="cellrowborder" width="50%"><p>打印机事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_PROCESS</p> </td> <td class="cellrowborder" width="50%"><p>进程创建退出事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_NETWORK_TRAFFIC</p> </td> <td class="cellrowborder" width="50%"><p>网络流量事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_NETWORK_CONN</p> </td> <td class="cellrowborder" width="50%"><p>网络连接事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_CAMERA</p> </td> <td class="cellrowborder" width="50%"><p>相机事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_APP</p> </td> <td class="cellrowborder" width="50%"><p>应用程序事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_EDM</p> </td> <td class="cellrowborder" width="50%"><p>企业设备管理事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_CERT</p> </td> <td class="cellrowborder" width="50%"><p>证书操作事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_KIA_CREATE</p> </td> <td class="cellrowborder" width="50%"><p>KIA文件创建事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_KIA_READ</p> </td> <td class="cellrowborder" width="50%"><p>KIA文件读取事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_KIA_VARIANT</p> </td> <td class="cellrowborder" width="50%"><p>KIA文件变体事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_KIA_INTERCEPT</p> </td> <td class="cellrowborder" width="50%"><p>KIA文件拦截事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_PERMISSION</p> </td> <td class="cellrowborder" width="50%"><p>应用程序权限更改事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_DNS</p> </td> <td class="cellrowborder" width="50%"><p>DNS审计事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_APP_INSTALL_INTERCEPTED</p> </td> <td class="cellrowborder" width="50%"><p>应用程序安装拦截事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_APP_UNINSTALL_INTERCEPTED</p> </td> <td class="cellrowborder" width="50%"><p>应用程序卸载拦截事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_APP_UPDATE_INTERCEPTED</p> </td> <td class="cellrowborder" width="50%"><p>应用程序更新拦截事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_APP_RECOVER_INTERCEPTED</p> </td> <td class="cellrowborder" width="50%"><p>应用程序恢复拦截事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_APP_START_INTERCEPTED</p> </td> <td class="cellrowborder" width="50%"><p>应用程序开始拦截事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>SECURITY_AUDIT_NOTIFY_EVENT_USB_ACCESS_INTERCEPTED</p> </td> <td class="cellrowborder" width="50%"><p>USB访问拦截事件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1539996278112751" device-type="2in1">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1539996278112751" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga3d9df28411da9cc483c2e82d304cb38e" device-type="2in1" class="firsth2">HMS_SecurityAudit_AddAuthEventFilter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga3d9df28411da9cc483c2e82d304cb38e" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_AddAuthEventFilter</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthClient</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Auth_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> event, <span class="hljs-type">const</span> </span></span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Filter</span></span></a><span class="hljs-function"><span class="hljs-params"> * filter )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为阻断类事件添加过滤条件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>客户已创建的阻断类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>event</p> </td> <td class="cellrowborder" width="50%"><p>需要添加过滤条件的阻断类事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>filter</p> </td> <td class="cellrowborder" width="50%"><p>阻断类事件的过滤器描述。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.kernel.AUTH_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。 如果过滤器数量超过上限，则返回1012000004。 如果事件不支持过滤条件，则返回1012000005。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga292bdf10008513a439d6bb08450328b0" device-type="2in1">HMS_SecurityAudit_AddFilter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga292bdf10008513a439d6bb08450328b0" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_AddFilter</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Client</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Notify_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> event, <span class="hljs-type">const</span> </span></span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Filter</span></span></a><span class="hljs-function"><span class="hljs-params"> * filter )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为通知事件添加过滤条件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>客户已创建的通知类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>event</p> </td> <td class="cellrowborder" width="50%"><p>通知要添加过滤条件的事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>filter</p> </td> <td class="cellrowborder" width="50%"><p>通知事件的过滤器描述。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。 如果过滤器数量超过上限，则返回1012000004。 如果事件不支持过滤条件，则返回1012000005。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gafbb9c2e5389b79d8def76c530e01e26c" device-type="2in1">HMS_SecurityAudit_Auth()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gafbb9c2e5389b79d8def76c530e01e26c" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_Auth</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthClient</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, <span class="hljs-type">const</span> </span></span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-event"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> * event, </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gae1e5585e31b60ada1569093893aab3de"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthResult</span></span></a><span class="hljs-function"><span class="hljs-params"> authResult )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置审计事件的阻断结果</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>客户已创建的阻断类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>event</p> </td> <td class="cellrowborder" width="50%"><p>审计阻断类事件信息。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>authResult</p> </td> <td class="cellrowborder" width="50%"><p>阻断结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.kernel.AUTH_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga0a518a6380e80f47869a58f9cf14af87" device-type="2in1">HMS_SecurityAudit_DeleteAuthClient()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga0a518a6380e80f47869a58f9cf14af87" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_DeleteAuthClient</span> <span class="hljs-params">(</span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthClient</span></span></a><span class="hljs-function"><span class="hljs-params"> * client)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>删除阻断类事件客户端。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>要删除的阻断类事件客户端实例。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.kernel.AUTH_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga26838e6288eea1421f03e6130aafd837" device-type="2in1">HMS_SecurityAudit_DeleteClient()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga26838e6288eea1421f03e6130aafd837" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_DeleteClient</span> <span class="hljs-params">(</span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Client</span></span></a><span class="hljs-function"><span class="hljs-params"> * client)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>删除通知客户端。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>要删除的客户端实例。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gab59201b529a964c3cc7f9ed12ab0330e" device-type="2in1">HMS_SecurityAudit_NewAuthClient()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gab59201b529a964c3cc7f9ed12ab0330e" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_NewAuthClient</span> <span class="hljs-params">(</span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthClient</span></span></a><span class="hljs-function"><span class="hljs-params"> ** client, </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gacba1c566db7aa3b55e478c57c1def370"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Handler</span></span></a><span class="hljs-function"><span class="hljs-params"> handler )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个新的阻断类客户端。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>指向新阻断类事件客户端实例的指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>handler</p> </td> <td class="cellrowborder" width="50%"><p>处理发送到此客户端的所有消息的处理器。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.kernel.AUTH_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。 如果客户端数量超过总上限，返回1012000002。 如果客户端数量超过当前进程的上限，则返回1012000003。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga18d7c9fe5c578d6113c86dd0c09353b4" device-type="2in1">HMS_SecurityAudit_NewClient()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga18d7c9fe5c578d6113c86dd0c09353b4" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_NewClient</span> <span class="hljs-params">(</span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Client</span></span></a><span class="hljs-function"><span class="hljs-params"> ** client, </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gacba1c566db7aa3b55e478c57c1def370"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Handler</span></span></a><span class="hljs-function"><span class="hljs-params"> handler )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个新的通知事件客户端。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>指向新客户端实例的指针。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>handler</p> </td> <td class="cellrowborder" width="50%"><p>处理发送到此客户端的所有消息的处理器。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。 如果客户端数量超过总上限，返回1012000002。 如果客户端数量超过当前进程的上限，则返回1012000003。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gaef069b340e428715c10531885326c079" device-type="2in1">HMS_SecurityAudit_RemoveAuthEventFilter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gaef069b340e428715c10531885326c079" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_RemoveAuthEventFilter</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthClient</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Auth_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> event, <span class="hljs-type">const</span> </span></span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Filter</span></span></a><span class="hljs-function"><span class="hljs-params"> * filter )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>删除阻断类事件的过滤条件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>客户已创建的阻断类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>event</p> </td> <td class="cellrowborder" width="50%"><p>要删除过滤条件的阻断类事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>filter</p> </td> <td class="cellrowborder" width="50%"><p>阻断类事件的过滤器描述。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.kernel.AUTH_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。 如果事件不支持过滤条件，则返回1012000005。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga3c7aa36f4cff9a0107bf144f7fbbdcd5" device-type="2in1">HMS_SecurityAudit_RemoveFilter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga3c7aa36f4cff9a0107bf144f7fbbdcd5" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_RemoveFilter</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Client</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Notify_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> event, <span class="hljs-type">const</span> </span></span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/devicesecurity-capi-structs-securityaudit-filter"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Filter</span></span></a><span class="hljs-function"><span class="hljs-params"> * filter )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>删除通知事件的过滤条件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>客户已创建的通知类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>event</p> </td> <td class="cellrowborder" width="50%"><p>通知要删除过滤条件的事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>filter</p> </td> <td class="cellrowborder" width="50%"><p>通知事件的过滤器描述。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。 如果事件不支持过滤条件，则返回1012000005。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga3530687f761edfb0141f6c17ff3ba4cd" device-type="2in1">HMS_SecurityAudit_Subscribe()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga3530687f761edfb0141f6c17ff3ba4cd" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_Subscribe</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Client</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, <span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Notify_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> * events, <span class="hljs-type">uint64_t</span> count )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>订阅通知事件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>订阅通知事件的客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>events</p> </td> <td class="cellrowborder" width="50%"><p>要订阅的通知事件数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>count</p> </td> <td class="cellrowborder" width="50%"><p>数组中的通知事件数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gab33847480e92d3107a91d76a10b8c82f" device-type="2in1">HMS_SecurityAudit_SubscribeAuthEvent()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gab33847480e92d3107a91d76a10b8c82f" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_SubscribeAuthEvent</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthClient</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, <span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Auth_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> * events, <span class="hljs-type">uint64_t</span> count )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>订阅阻断类事件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>客户已创建的阻断类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>events</p> </td> <td class="cellrowborder" width="50%"><p>要订阅的阻断类事件数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>count</p> </td> <td class="cellrowborder" width="50%"><p>数组中的阻断类事件数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.kernel.AUTH_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_ga208aff2c03535311e85428fbd375d09f" device-type="2in1">HMS_SecurityAudit_Unsubscribe()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_ga208aff2c03535311e85428fbd375d09f" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_Unsubscribe</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gac8326d6e61c24a60ae07e7b9b78c7974"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Client</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, <span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_gaf23b070cfdcb7b9c9e6320fe599939ea"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Notify_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> * events, <span class="hljs-type">uint64_t</span> count )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>取消订阅通知事件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>取消订阅通知事件的客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>events</p> </td> <td class="cellrowborder" width="50%"><p>要取消订阅的通知事件数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>count</p> </td> <td class="cellrowborder" width="50%"><p>数组中的通知事件数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000002349017400_gaebf52f27e5409c29dc3ad0c3eba47783" device-type="2in1">HMS_SecurityAudit_UnsubscribeAuthEvent()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000002349017400_gaebf52f27e5409c29dc3ad0c3eba47783" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_UnsubscribeAuthEvent</span> <span class="hljs-params">(<span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga43a0f7f5dec522e7dadfa81a9c157868"><span class="hljs-function"><span class="hljs-params">SecurityAudit_AuthClient</span></span></a><span class="hljs-function"><span class="hljs-params"> * client, <span class="hljs-type">const</span> </span></span><a href="/consumer/cn/doc/harmonyos-references/devicesecurity-capi-securityaudit#zh-cn_topic_0000002349017400_ga9ef4ede60da98e07612cb0cf0b03188f"><span class="hljs-function"><span class="hljs-params">SecurityAudit_Auth_Event</span></span></a><span class="hljs-function"><span class="hljs-params"> * events, <span class="hljs-type">uint64_t</span> count )</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>取消订阅阻断类事件。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>client</p> </td> <td class="cellrowborder" width="50%"><p>客户已创建的阻断类事件客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>events</p> </td> <td class="cellrowborder" width="50%"><p>要取消订阅的阻断类事件数组。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>count</p> </td> <td class="cellrowborder" width="50%"><p>数组中的阻断类事件数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.kernel.AUTH_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001</p> <p></p> </div> <div class="tiledSection"><h3 id="section0945443114617" device-type="2in1">HMS_SecurityAudit_QueryAllProcesses()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section0945443114617" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_QueryAllProcesses</span><span class="hljs-params">(<span class="hljs-type">char</span>** result)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询获取所有的应用进程信息。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>result</p> </td> <td class="cellrowborder" width="50%"><p>查询获取到的应用进程信息</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。</p> <p></p> </div> <div class="tiledSection"><h3 id="section11373745488" device-type="2in1">HMS_SecurityAudit_QueryProcesses()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section11373745488" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-ijt-c106="" class="highlight-div"><div _ngcontent-ijt-c106="" class="highlight-div-header"><div _ngcontent-ijt-c106="" class="highlight-div-header-left"><div _ngcontent-ijt-c106="" class="handle-button expand-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ijt-c106="" class="highlight-div-header-right"><div _ngcontent-ijt-c106="" class="handle-button ai-button"></div><div _ngcontent-ijt-c106="" class="handle-button line-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ijt-c106="" class="handle-button theme-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ijt-c106="" class="handle-button copy-button"><div _ngcontent-ijt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ijt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">HMS_SecurityAudit_QueryProcesses</span><span class="hljs-params">(<span class="hljs-type">uint64_t</span>* pids, <span class="hljs-type">uint64_t</span> count, <span class="hljs-type">char</span>** result)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询获取输入的pid的应用进程信息。</p> <p><strong>起始版本：</strong> 6.0.0(20)</p> <p><strong>参数:</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.1" width="50%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.2" width="50%"><p>描述</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>pids</p> </td> <td class="cellrowborder" width="50%"><p>应用要查询的pid数组名。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>count</p> </td> <td class="cellrowborder" width="50%"><p>应用要查询的pid数组元素个数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>result</p> </td> <td class="cellrowborder" width="50%"><p>查询获取到的应用进程信息.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Permission：</strong></p> <p>ohos.permission.QUERY_AUDIT_EVENT</p> <p><strong>返回：</strong></p> <p>函数执行结果。 返回值说明： 如果操作成功，则返回0。 如果权限验证失败，则返回201。 如果发生内部错误，则返回1012000001。如果要查询的pid数组元素个数超过限制，则返回1012000006。</p> <p></p> </div> </div> <div></div></div>