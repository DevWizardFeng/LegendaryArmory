<h1 _ngcontent-vna-c119="" class="doc-title ng-star-inserted" title="Shape"> Shape </h1>

<div _ngcontent-vna-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>绘制组件的父组件，父组件中会描述所有绘制组件均支持的通用属性。</p>    <p>1、绘制组件使用Shape作为父组件，实现类似SVG的效果。</p>    <p>2、绘制组件单独使用，用于在页面上绘制指定的图形。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该组件从API version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>      <p>该组件从API version 20开始支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-attributeupdater">AttributeUpdater</a>类的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-attributeupdater#属性">updateConstructorParams</a>接口更新构造参数。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="子组件" device-type="phone,2in1,tablet,wearable,tv">子组件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="子组件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-rect">Rect</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-path">Path</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-circle">Circle</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-ellipse">Ellipse</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polyline">Polyline</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-polygon">Polygon</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-image">Image</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text">Text</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-column">Column</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-row">Row</a>和Shape子组件。</p>    </div>    <div class="tiledSection">     <h2 id="接口" device-type="phone,2in1,tablet,wearable,tv">接口<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="接口" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Shape(value?: PixelMap)</p>     <p>从API version 9开始，该接口支持在ArkTS卡片中使用，卡片中不支持使用PixelMap对象。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap">PixelMap</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">          <p>绘制目标，可将图形绘制在指定的PixelMap对象中，若未设置，则默认在当前绘制目标中进行绘制。</p>          <p>异常值undefined和null按照无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="viewportrect18对象说明" device-type="phone,2in1,tablet,wearable,tv">ViewportRect<sup>18+</sup>对象说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="viewportrect18对象说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于描述Viewport的绘制属性。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>为规范匿名对象的定义，API 18版本修改了此处的元素定义。其中，保留了历史匿名对象的起始版本信息，会出现外层元素@since版本号高于内层元素版本号的情况，但这不影响接口的使用。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 18开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">x<sup>7+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>形状视口起始点的水平坐标。</p>          <p>默认值：0</p>          <p>默认单位：vp</p>          <p>异常值按照默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">y<sup>7+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>形状视口起始点的垂直坐标。</p>          <p>默认值：0</p>          <p>默认单位：vp</p>          <p>异常值按照默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">width<sup>7+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>形状视口的宽度，取值范围≥0。</p>          <p>默认值：0</p>          <p>默认单位：vp</p>          <p>异常值按照默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height<sup>7+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>形状视口的高度，取值范围≥0。</p>          <p>默认值：0</p>          <p>默认单位：vp</p>          <p>异常值按照默认值处理。</p>          <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>除支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-attributes">通用属性</a>外，还支持以下属性：</p>    </div>    <div class="tiledSection">     <h3 id="viewport" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">viewPort<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="viewport" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>viewPort(value: ViewportRect)</p>     <p>设置形状的视口。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-drawing-components-shape#viewportrect18对象说明">ViewportRect</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>Viewport绘制属性。</p>          <p>默认值：{ x: 0, y: 0, width: Shape组件的宽度, height: Shape组件的高度 }</p>          <p>异常值undefined按照默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="fill" device-type="phone,2in1,tablet,wearable,tv">fill<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fill" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fill(value: ResourceColor)</p>     <p>设置填充区域的颜色，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法，异常值按照默认值处理。与通用属性foregroundColor同时设置时，后设置的属性生效。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域颜色。</p>          <p>默认值：Color.Black</p>          <p>异常值undefined、null、NaN和Infinity按照默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="fillopacity" device-type="phone,2in1,tablet,wearable,tv">fillOpacity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="fillopacity" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fillOpacity(value: number | string | Resource)</p>     <p>设置填充区域透明度，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number | string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>填充区域透明度。</p>          <p><strong>说明：</strong></p>          <p>number格式取值范围是[0.0, 1.0]，若给定值小于0.0，则取值为0.0；若给定值大于1.0，则取值为1.0，其余异常值按1.0处理。</p>          <p>string格式支持number格式取值的字符串形式，取值范围与number格式相同。</p>          <p>Resource格式支持系统资源或者应用资源中的字符串，取值范围和number格式相同。</p>          <p>默认值：1.0</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="stroke" device-type="phone,2in1,tablet,wearable,tv">stroke<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stroke" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>stroke(value: ResourceColor)</p>     <p>设置边框颜色，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法，不设置时，默认边框透明度为0，即没有边框。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>边框颜色。</p>          <p>异常值undefined和null按照默认值处理，NaN和Infinity按照Color.Black处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="strokedasharray" device-type="phone,2in1,tablet,wearable,tv">strokeDashArray<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokedasharray" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeDashArray(value: Array&lt;any&gt;)</p>     <p>设置边框间隙，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。取值范围为≥0，异常值按照默认值处理。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">Array&lt;any&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>定义Shape轮廓的虚线模式的数组，数组元素交替表示线段长度和间隙长度。</p>          <p>默认值：[]（空数组）</p>          <p>默认单位：vp</p>          <p>异常值undefined和null按照默认值处理。</p>          <p><strong>说明：</strong></p>          <p>空数组：实线</p>          <p>偶数多元素数组：数组元素按顺序循环，如[a, b, c, d]表示线段长度a-&gt;间隙长度b-&gt;线段长度c-&gt;间隙长度d-&gt;线段长度a-&gt;...</p>          <p>奇数多元素数组：重复一次该数组元素，按偶数多元素数组的规则顺序循环，如[a, b, c]等效于[a, b, c, a, b, c]，表示线段长度a-&gt;间隙长度b-&gt;线段长度c-&gt;间隙长度a-&gt;线段长度b-&gt;间隙长度c-&gt;线段长度a-&gt;...</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="strokedashoffset" device-type="phone,2in1,tablet,wearable,tv">strokeDashOffset<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokedashoffset" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeDashOffset(value: Length)</p>     <p>设置边框绘制起点的偏移量，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。异常值按照默认值处理。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>边框绘制起点的偏移量。</p>          <p>默认值：0</p>          <p>默认单位：vp</p>          <p>异常值undefined和null按照默认值处理，NaN和Infinity会导致strokeDashArray失效。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="strokelinecap" device-type="phone,2in1,tablet,wearable,tv">strokeLineCap<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokelinecap" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeLineCap(value: LineCapStyle)</p>     <p>设置边框端点绘制样式，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#linecapstyle">LineCapStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>边框端点绘制样式。</p>          <p>默认值：LineCapStyle.Butt</p>          <p>异常值undefined、null、NaN和Infinity按照默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="strokelinejoin" device-type="phone,2in1,tablet,wearable,tv">strokeLineJoin<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokelinejoin" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeLineJoin(value: LineJoinStyle)</p>     <p>设置边框拐角绘制样式，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#linejoinstyle">LineJoinStyle</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>边框拐角绘制样式。</p>          <p>默认值：LineJoinStyle.Miter</p>          <p>异常值undefined、null、NaN和Infinity按照默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="strokemiterlimit" device-type="phone,2in1,tablet,wearable,tv">strokeMiterLimit<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokemiterlimit" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeMiterLimit(value: Length)</p>     <p>设置斜接长度与边框宽度比值的极限值，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。斜接长度表示外边框外边交点到内边交点的距离，边框宽度即strokeWidth属性的值。该属性取值需在strokeLineJoin属性取值LineJoinStyle.Miter时生效。</p>     <p>该属性的合法值范围应当大于等于1.0，当取值范围在[0,1)时按1.0处理，其余异常值按默认值处理。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>斜接长度与边框宽度比值的极限值。</p>          <p>默认值：4</p>          <p>异常值undefined、null和NaN按照默认值处理，Infinity会导致stroke失效。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="strokeopacity" device-type="phone,2in1,tablet,wearable,tv">strokeOpacity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokeopacity" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeOpacity(value: number | string | Resource)</p>     <p>设置边框透明度，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。该属性的取值范围是[0.0, 1.0]，若给定值小于0.0，则取值为0.0；若给定值大于1.0，则取值为1.0。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">number | string | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resource">Resource</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>边框透明度。</p>          <p>默认值：<a href="/consumer/cn/doc/harmonyos-references/ts-drawing-components-shape#stroke">stroke</a>接口设置的透明度。</p>          <p>异常值NaN按0.0处理，undefined、null和Infinity按1.0处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="strokewidth" device-type="phone,2in1,tablet,wearable,tv">strokeWidth<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="strokewidth" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>strokeWidth(value: Length)</p>     <p>设置边框宽度，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。该属性若为string类型，暂不支持百分比，百分比按照1px处理。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>边框宽度，取值范围≥0。</p>          <p>默认值：1</p>          <p>默认单位：vp</p>          <p>异常值undefined、null和NaN按照默认值处理，Infinity按0处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="antialias" device-type="phone,2in1,tablet,wearable,tv">antiAlias<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="antialias" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>antiAlias(value: boolean)</p>     <p>设置是否开启抗锯齿效果，支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。</p>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>是否开启抗锯齿效果。</p>          <p>true：开启抗锯齿；false：关闭抗锯齿。</p>          <p>默认值：true</p>          <p>异常值undefined和null按照默认值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="mesh8" device-type="phone,2in1,tablet,wearable,tv">mesh<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="mesh8" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>mesh(value: Array&lt;any&gt;, column: number, row: number)</p>     <p>设置网格效果。将图像分割为（row + 1）* (column + 1)的网格，每个网格交点坐标存储在数组中（每两个元素表示一个交点的x、y坐标）。通过数组value中的坐标值，重新定位网格顶点位置，实现图像局部扭曲。支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>动态设置属性方法。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>mesh只对shape传入pixelMap时生效，且效果作用于传入的pixelMap。与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing">绘制模块</a>的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-graphics-drawing-canvas#drawpixelmapmesh12">drawPixelMapMesh<sup>12+</sup></a>效果一致，建议使用drawPixelMapMesh。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">value</td>         <td class="cellrowborder" width="25%">Array&lt;any&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>长度（row + 1）* （column + 1）* 2的数组，记录扭曲后的位图各个顶点位置。</p>          <p>异常值undefined、null、NaN和Infinity按照无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">column</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>mesh矩阵列数。</p>          <p>异常值NaN和Infinity按照无效值处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">row</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>mesh矩阵行数。</p>          <p>异常值NaN和Infinity按照无效值处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="示例1组件属性绘制" class="firsth2">示例1（组件属性绘制）<i class="anchor-icon anchor-icon-link" anchorid="示例1组件属性绘制" tips="复制节点链接"></i></h3>          <p>通过Shape组件绘制矩形、椭圆和直线路径。</p>     <div _ngcontent-vna-c106="" class="highlight-div"><div _ngcontent-vna-c106="" class="highlight-div-header"><div _ngcontent-vna-c106="" class="highlight-div-header-left"><div _ngcontent-vna-c106="" class="handle-button expand-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vna-c106="" class="highlight-div-header-right"><div _ngcontent-vna-c106="" class="handle-button ai-button"></div><div _ngcontent-vna-c106="" class="handle-button line-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vna-c106="" class="handle-button theme-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vna-c106="" class="handle-button copy-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vna-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShapeExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'basic'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">11</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">320</span>)</li><li>      <span class="hljs-comment">// 在Shape的(-2, -2)点绘制一个 300 * 50 带边框的矩形,颜色0x317AF7,边框颜色黑色,边框宽度4,边框间隙20,向左偏移10,线条两端样式为半圆,拐角样式圆角,抗锯齿(默认开启)</span></li><li>      <span class="hljs-comment">// 在Shape的(-2, 58)点绘制一个 300 * 50 带边框的椭圆,颜色0x317AF7,边框颜色黑色,边框宽度4,边框间隙20,向左偏移10,线条两端样式为半圆,拐角样式圆角,抗锯齿(默认开启)</span></li><li>      <span class="hljs-comment">// 在Shape的(-2, 118)点绘制一个 300 * 10 直线路径,颜色0x317AF7,边框颜色黑色,宽度4,间隙20,向左偏移10,线条两端样式为半圆,拐角样式圆角,抗锯齿(默认开启)</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        <span class="hljs-title class_">Ellipse</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">60</span> })</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L900 0'</span>).<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">120</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">140</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: -<span class="hljs-number">2</span>,</li><li>        <span class="hljs-attr">y</span>: -<span class="hljs-number">2</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">304</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">130</span></li><li>      })</li><li>      .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">4</span>)</li><li>      .<span class="hljs-title function_">strokeDashArray</span>([<span class="hljs-number">20</span>])</li><li>      .<span class="hljs-title function_">strokeDashOffset</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">strokeLineCap</span>(<span class="hljs-title class_">LineCapStyle</span>.<span class="hljs-property">Round</span>)</li><li>      .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Round</span>)</li><li>      .<span class="hljs-title function_">antiAlias</span>(<span class="hljs-literal">true</span>)</li><li>
</li><li>      <span class="hljs-comment">// 分别在Shape的(0, 0)、(-5, -5)点绘制一个 300 * 50 带边框的矩形,可以看出之所以将视口的起始位置坐标设为负值是因为绘制的起点默认为线宽的中点位置，因此要让边框完全显示则需要让视口偏移半个线宽</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">320</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">70</span></li><li>      })</li><li>      .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>
</li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">80</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: -<span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">y</span>: -<span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">320</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">70</span></li><li>      })</li><li>      .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>
</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'path'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">11</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">320</span>)</li><li>      <span class="hljs-comment">// 在Shape的(0, -5)点绘制一条直线路径,颜色0xEE8443,线条宽度10,线条间隙20</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L900 0'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">y</span>: -<span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">20</span></li><li>      })</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">strokeDashArray</span>([<span class="hljs-number">20</span>])</li><li>
</li><li>      <span class="hljs-comment">// 在Shape的(0, -5)点绘制一条直线路径,颜色0xEE8443,线条宽度10,线条间隙20,向左偏移10</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L900 0'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">y</span>: -<span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">20</span></li><li>      })</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">strokeDashArray</span>([<span class="hljs-number">20</span>])</li><li>      .<span class="hljs-title function_">strokeDashOffset</span>(<span class="hljs-number">10</span>)</li><li>
</li><li>      <span class="hljs-comment">// 在Shape的(0, -5)点绘制一条直线路径,颜色0xEE8443,线条宽度10,透明度0.5</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L900 0'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">y</span>: -<span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">20</span></li><li>      })</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">strokeOpacity</span>(<span class="hljs-number">0.5</span>)</li><li>
</li><li>      <span class="hljs-comment">// 在Shape的(0, -5)点绘制一条直线路径,颜色0xEE8443,线条宽度10,线条间隙20,线条两端样式为半圆</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L900 0'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,</li><li>        <span class="hljs-attr">y</span>: -<span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">20</span></li><li>      })</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">strokeDashArray</span>([<span class="hljs-number">20</span>])</li><li>      .<span class="hljs-title function_">strokeLineCap</span>(<span class="hljs-title class_">LineCapStyle</span>.<span class="hljs-property">Round</span>)</li><li>
</li><li>      <span class="hljs-comment">// 在Shape的(-20, -5)点绘制一个封闭路径,颜色0x317AF7,线条宽度10,边框颜色0xEE8443,拐角样式锐角（默认值）</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">60</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L400 0 L400 150 Z'</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: -<span class="hljs-number">20</span>,</li><li>        <span class="hljs-attr">y</span>: -<span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-number">310</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-number">90</span></li><li>      })</li><li>      .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0x317AF7</span>)</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-number">0xEE8443</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>      .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">5</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">15</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="482" originwidth="270" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115622.72273769395371243734212239589611:50001231000000:2800:3D704497B1145BBA41F448FE21C8C1B27042715440A62C52E695737541F4E2B7.png" class="notEnlarge" width="270" height="482"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例2使用不同参数类型绘制图形">示例2（使用不同参数类型绘制图形）<i class="anchor-icon anchor-icon-link" anchorid="示例2使用不同参数类型绘制图形" tips="复制节点链接"></i></h3>          <p>各属性通过不同的长度类型绘制图形。</p>     <div _ngcontent-vna-c106="" class="highlight-div"><div _ngcontent-vna-c106="" class="highlight-div-header"><div _ngcontent-vna-c106="" class="highlight-div-header-left"><div _ngcontent-vna-c106="" class="handle-button expand-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vna-c106="" class="highlight-div-header-right"><div _ngcontent-vna-c106="" class="handle-button ai-button"></div><div _ngcontent-vna-c106="" class="handle-button line-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vna-c106="" class="handle-button theme-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vna-c106="" class="handle-button copy-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vna-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShapeTypeExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>      <span class="hljs-comment">// 在Shape的(-2, -2)点绘制一个 300 * 50 带边框的矩形,颜色0x317AF7,边框颜色黑色,边框宽度4,边框间隙20,向左偏移10,线条两端样式为半圆,拐角样式圆角,抗锯齿(默认开启)</span></li><li>      <span class="hljs-comment">// 在Shape的(-2, 58)点绘制一个 300 * 50 带边框的椭圆,颜色0x317AF7,边框颜色黑色,边框宽度4,边框间隙20,向左偏移10,线条两端样式为半圆,拐角样式圆角,抗锯齿(默认开启)</span></li><li>      <span class="hljs-comment">// 在Shape的(-2, 118)点绘制一个 300 * 10 直线路径,颜色0x317AF7,边框颜色黑色,宽度4,间隙20,向左偏移10,线条两端样式为半圆,拐角样式圆角,抗锯齿(默认开启)</span></li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">'300'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'50'</span>)</li><li>        <span class="hljs-title class_">Ellipse</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">60</span> })</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L900 0'</span>).<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">120</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">140</span>)</li><li>      .<span class="hljs-title function_">viewPort</span>({</li><li>        <span class="hljs-attr">x</span>: <span class="hljs-string">'-2'</span>, <span class="hljs-comment">// 使用string类型</span></li><li>        <span class="hljs-attr">y</span>: <span class="hljs-string">'-2'</span>,</li><li>        <span class="hljs-attr">width</span>: $r(<span class="hljs-string">'app.string.ViewportRectWidth'</span>), <span class="hljs-comment">// 使用Resource类型，需用户自定义</span></li><li>        <span class="hljs-attr">height</span>: $r(<span class="hljs-string">'app.string.ViewportRectHeight'</span>)</li><li>      })</li><li>      .<span class="hljs-title function_">fill</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Orange</span>)</li><li>      .<span class="hljs-title function_">stroke</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">4</span>)</li><li>      .<span class="hljs-title function_">strokeDashArray</span>([<span class="hljs-number">20</span>])</li><li>      .<span class="hljs-title function_">strokeDashOffset</span>(<span class="hljs-number">10</span>) <span class="hljs-comment">//使用number类型</span></li><li>      .<span class="hljs-title function_">strokeLineCap</span>(<span class="hljs-title class_">LineCapStyle</span>.<span class="hljs-property">Round</span>)</li><li>      .<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Round</span>)</li><li>      .<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">5</span>)</li><li>      .<span class="hljs-title function_">antiAlias</span>(<span class="hljs-literal">true</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">15</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="177" originwidth="345" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115622.74993233666213817413636705277270:50001231000000:2800:402A6CD20140DCEDAC6450705C7F49071A697660289246AEC51C3046FCFFA4ED.png" width="345" height="177"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例3使用attributemodifier动态设置shape组件的属性">示例3（使用attributeModifier动态设置Shape组件的属性）<i class="anchor-icon anchor-icon-link" anchorid="示例3使用attributemodifier动态设置shape组件的属性" tips="复制节点链接"></i></h3>          <p>以下示例展示了如何使用attributeModifier动态设置Shape组件的fill、fillOpacity、stroke、strokeDashArray、strokeDashOffset、strokeLineCap、strokeLineJoin、strokeMiterLimit、strokeOpacity、strokeWidth和antiAlias属性。</p>     <div _ngcontent-vna-c106="" class="highlight-div"><div _ngcontent-vna-c106="" class="highlight-div-header"><div _ngcontent-vna-c106="" class="highlight-div-header-left"><div _ngcontent-vna-c106="" class="handle-button expand-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vna-c106="" class="highlight-div-header-right"><div _ngcontent-vna-c106="" class="handle-button ai-button"></div><div _ngcontent-vna-c106="" class="handle-button line-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vna-c106="" class="handle-button theme-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vna-c106="" class="handle-button copy-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vna-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyShapeModifier</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AttributeModifier</span>&lt;<span class="hljs-title class_">ShapeAttribute</span>&gt; {</li><li>  <span class="hljs-title function_">applyNormalAttribute</span>(<span class="hljs-attr">instance</span>: <span class="hljs-title class_">ShapeAttribute</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 填充颜色#707070，填充透明度0.5，边框颜色#2787D9，边框间隙[20, 15]，向左偏移15，线条两端样式为半圆，拐角样式使用尖角连接路径段，斜接长度与边框宽度比值的极限值为5，边框透明度0.5，边框宽度10，抗锯齿开启</span></li><li>    instance.<span class="hljs-title function_">fill</span>(<span class="hljs-string">"#707070"</span>)</li><li>    instance.<span class="hljs-title function_">fillOpacity</span>(<span class="hljs-number">0.5</span>)</li><li>    instance.<span class="hljs-title function_">stroke</span>(<span class="hljs-string">"#2787D9"</span>)</li><li>    instance.<span class="hljs-title function_">strokeDashArray</span>([<span class="hljs-number">20</span>, <span class="hljs-number">15</span>])</li><li>    instance.<span class="hljs-title function_">strokeDashOffset</span>(<span class="hljs-string">"15"</span>)</li><li>    instance.<span class="hljs-title function_">strokeLineCap</span>(<span class="hljs-title class_">LineCapStyle</span>.<span class="hljs-property">Round</span>)</li><li>    instance.<span class="hljs-title function_">strokeLineJoin</span>(<span class="hljs-title class_">LineJoinStyle</span>.<span class="hljs-property">Miter</span>)</li><li>    instance.<span class="hljs-title function_">strokeMiterLimit</span>(<span class="hljs-number">5</span>)</li><li>    instance.<span class="hljs-title function_">strokeOpacity</span>(<span class="hljs-number">0.5</span>)</li><li>    instance.<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">10</span>)</li><li>    instance.<span class="hljs-title function_">antiAlias</span>(<span class="hljs-literal">true</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ShapeModifierDemo</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">modifier</span>: <span class="hljs-title class_">MyShapeModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyShapeModifier</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Shape</span>() {</li><li>        <span class="hljs-title class_">Rect</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">20</span> })</li><li>        <span class="hljs-title class_">Ellipse</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">80</span> })</li><li>        <span class="hljs-title class_">Path</span>().<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">commands</span>(<span class="hljs-string">'M0 0 L900 0'</span>).<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">160</span> })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">attributeModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">modifier</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="260" originwidth="338" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115622.45306119619139647423559645080798:50001231000000:2800:5E520A98169139D47058B980FB9E1601B959477880E2326265FE5BEC145F6E0A.png" width="338" height="260"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例4使用mesh实现图像局部扭曲">示例4（使用mesh实现图像局部扭曲）<i class="anchor-icon anchor-icon-link" anchorid="示例4使用mesh实现图像局部扭曲" tips="复制节点链接"></i></h3>          <p>以下示例展示了如何使用mesh属性设置网格效果，实现图像局部扭曲。</p>     <div _ngcontent-vna-c106="" class="highlight-div"><div _ngcontent-vna-c106="" class="highlight-div-header"><div _ngcontent-vna-c106="" class="highlight-div-header-left"><div _ngcontent-vna-c106="" class="handle-button expand-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vna-c106="" class="highlight-div-header-right"><div _ngcontent-vna-c106="" class="handle-button ai-button"></div><div _ngcontent-vna-c106="" class="handle-button line-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vna-c106="" class="handle-button theme-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vna-c106="" class="handle-button copy-button"><div _ngcontent-vna-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vna-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvasRenderingContext2D</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">meshArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">410</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, <span class="hljs-number">50</span>, <span class="hljs-number">180</span>, <span class="hljs-number">410</span>, <span class="hljs-number">180</span>, <span class="hljs-number">0</span>, <span class="hljs-number">360</span>, <span class="hljs-number">50</span>, <span class="hljs-number">360</span>, <span class="hljs-number">410</span>, <span class="hljs-number">360</span>]</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">pixelMap</span>: image.<span class="hljs-property">PixelMap</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span></li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// "resources/base/media/img.png"需要替换为开发者所需的图像资源文件。</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">img</span>: <span class="hljs-title class_">ImageBitmap</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageBitmap</span>(<span class="hljs-string">"resources/base/media/img.png"</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getPixelMap</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Shape</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">250</span>)</li><li>      .<span class="hljs-title function_">mesh</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">meshArray</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)</li><li>
</li><li>      <span class="hljs-title class_">Shape</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pixelMap</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">250</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">250</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="355" originwidth="171" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115622.98501769441263772305038926822039:50001231000000:2800:19774DA322ECFCF55DF374244A3F52232D94DCF69D53E0F5573E82A17F0B9A3F.png" class="notEnlarge" width="171" height="355"></span></p>    </div>   </div>   <div></div></div>