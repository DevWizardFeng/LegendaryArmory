<h1 _ngcontent-nvx-c119="" class="doc-title ng-star-inserted" title="Typescript Compiler错误码介绍"> Typescript Compiler错误码介绍 </h1>

<div _ngcontent-nvx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>TSC(Typescript Compiler)的错误码以'105'开头，是TSC编译流程中的报错提示，会在编辑器、控制台或日志文件中显示输出错误码和相对应的报错描述。</p>  <div class="tiledSection"><h2 id="section10505001-tsc原生报错">10505001 TSC原生报错<i class="anchor-icon anchor-icon-link" anchorid="section10505001-tsc原生报错" tips="复制节点链接"></i></h2><p>TSC原生报错：以'001'结尾，是Typescript Compiler检查中已有的原生报错规则。在TSC的编译流程中，常见的TSC原生报错原因包括：关键字或符号的缺失、赋值类型与接收类型不一致、类型或变量未定义等。这些问题通常是未按照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/introduction-to-arkts" target="_blank">语言规范</a>编写代码导致的，开发者可以根据报错描述修改代码。</p> </div>  <div class="tiledSection"><h3 id="关键字或符号的缺失" class="firsth2">关键字或符号的缺失<i class="anchor-icon anchor-icon-link" anchorid="关键字或符号的缺失" tips="复制节点链接"></i></h3><p><strong>错误示例场景：</strong></p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">declare</span> <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">AAA</span> = <span class="hljs-string">'BBB;</span></li></ol></pre></div></div> <p><strong>错误信息</strong></p> <p>Unterminated string literal.</p> <p><strong>错误描述</strong></p> <p>字符串字面量未正确终止。</p> <p><strong>可能原因</strong></p> <p>字符串字面量没有在预期的位置正确终止，可能是缺少了结束引号。</p> <p><strong>处理步骤</strong></p> <p>根据报错描述，补全代码块的引号，修改后代码如下：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">declare</span> <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">AAA</span> = <span class="hljs-string">'BBB'</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="多个默认导出">多个默认导出<i class="anchor-icon anchor-icon-link" anchorid="多个默认导出" tips="复制节点链接"></i></h3><p><strong>错误示例场景：</strong></p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> A;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> B;</li></ol></pre></div></div> <p><strong>错误信息</strong></p> <p>A module cannot have multiple default exports.</p> <p><strong>错误描述</strong></p> <p>一个模块不能有多个默认导出。</p> <p><strong>可能原因</strong></p> <p>一个模块中定义了多个默认导出。</p> <p><strong>处理步骤</strong></p> <p>根据报错描述，删除多余的默认导出，修改后代码如下：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> A;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="赋值类型与接收类型不一致">赋值类型与接收类型不一致<i class="anchor-icon anchor-icon-link" anchorid="赋值类型与接收类型不一致" tips="复制节点链接"></i></h3><p><strong>错误示例场景：</strong></p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'2'</span>;</li><li>a = b;</li></ol></pre></div></div> <p><strong>错误信息</strong></p> <p>Type 'string' is not assignable to type 'number'.</p> <p><strong>错误描述</strong></p> <p>类型 'string' 不能赋值给类型 'number'。</p> <p><strong>可能原因</strong></p> <p>将一个变量的值赋给另一个不同类型的变量时，会发生类型不匹配错误。</p> <p><strong>处理步骤</strong></p> <p>根据报错描述，确保类型一致性，进行相应的类型赋值修改，修改后代码如下：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">2</span>;</li><li>a = b;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="js文件中接口导出异常">js文件中接口导出异常<i class="anchor-icon anchor-icon-link" anchorid="js文件中接口导出异常" tips="复制节点链接"></i></h3><p><strong>错误示例场景：</strong></p> <p>har1包中有js文件，存在导出接口：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// har1's src/main/ets/FileJs.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> fileJs = <span class="hljs-number">1</span>;</li></ol></pre></div></div> <p>har2包引用har1包中该接口：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileJs } <span class="hljs-keyword">from</span> <span class="hljs-string">'har1/src/main/ets/FileJs'</span>;</li></ol></pre></div></div> <p><strong>错误信息</strong></p> <p>Cannot find module XXX or its corresponding type declarations.</p> <p><strong>错误描述</strong></p> <p>当字节码har中有js文件时，编译无法生成声明文件，导致其余模块无法导入。</p> <p><strong>可能原因</strong></p> <p>js文件在编译时tsc不会生成对应的声明文件，导致其余模块无法导入。</p> <p><strong>处理步骤</strong></p> <p>若har包中的js文件需要提供对外导出功能，开发者需要：</p> <p>1.在js文件同级目录中手动编写对应的.d.ts声明文件，并随har包一起编译发布，示例如下：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// har1's src/main/ets/FileJs.d.ts</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">declare</span> <span class="hljs-keyword">let</span> <span class="hljs-attr">fileJs</span>: <span class="hljs-built_in">number</span>;</li></ol></pre></div></div> <p>2.在har1包顶层的Index.ets文件中增加export导出语句，示例如下：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">export</span> { fileJs } <span class="hljs-keyword">from</span> <span class="hljs-string">'./src/main/ets/FileJs'</span>;</li></ol></pre></div></div> <p>3.在har2包引用har1包中该接口，示例如下：</p> <div _ngcontent-nvx-c106="" class="highlight-div"><div _ngcontent-nvx-c106="" class="highlight-div-header"><div _ngcontent-nvx-c106="" class="highlight-div-header-left"><div _ngcontent-nvx-c106="" class="handle-button expand-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nvx-c106="" class="highlight-div-header-right"><div _ngcontent-nvx-c106="" class="handle-button ai-button"></div><div _ngcontent-nvx-c106="" class="handle-button line-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nvx-c106="" class="handle-button theme-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nvx-c106="" class="handle-button copy-button"><div _ngcontent-nvx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nvx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileJs } <span class="hljs-keyword">from</span> <span class="hljs-string">'har1/src/main/ets/FileJs'</span>;</li></ol></pre></div></div> </div> </div> <div></div></div>