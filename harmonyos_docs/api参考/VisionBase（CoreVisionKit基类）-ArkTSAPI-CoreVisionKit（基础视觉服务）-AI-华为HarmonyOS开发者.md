<h1 _ngcontent-brn-c119="" class="doc-title ng-star-inserted" title="VisionBase（Core Vision Kit基类）"> VisionBase（Core Vision Kit基类） </h1>

<div _ngcontent-brn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>visionBase作为一个基础的视觉能力库，封装基本资源对象，视觉能力场景常用对象，数据结构，常用方法。减少冗余代码书写简化功能接口使用，而不必重复“造轮子”。开发者可以将它理解为一个“工具箱”，里面装着一些常用的“工具”，利用visionBase基类，会更高效、更标准地实现各自的功能。visionBase提供了Core Vision Kit AI能力所需的基础设施，如数据结构、接口模型、生命周期管理等。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <div class="tiledSection"><h2 id="section858242013419" device-type="phone,2in1,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section858242013419" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section4298938144913" device-type="phone,2in1,tablet">SceneMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4298938144913" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>场景模式的枚举类。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.1" width="29.959999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.2" width="26.1%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.3" width="43.94%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="29.959999999999997%"><p>FOREGROUND</p> </td> <td class="cellrowborder" width="26.1%"><p>1</p> </td> <td class="cellrowborder" width="43.94%"><p>（默认）前台模式。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>BACKGROUND</p> </td> <td class="cellrowborder" width="26.1%"><p>2</p> </td> <td class="cellrowborder" width="43.94%"><p>后台模式。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section674171818172" device-type="phone,2in1,tablet">ImageData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section674171818172" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>待识别的视觉信息对象。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>pixelMap</p> </td> <td class="cellrowborder" width="22.02%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-pixelmap" target="_blank">image.PixelMap</a></p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>待识别的图片。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1515014491877" device-type="phone,2in1,tablet">InputData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1515014491877" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>type InputData = ImageData | ImageData[]</p> <p>多个图像数据组成的数组。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.1" width="36.61%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.2" width="63.39%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="36.61%"><p><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section674171818172">ImageData</a> | <a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section674171818172">ImageData</a>[]</p> </td> <td class="cellrowborder" width="63.39%"><p>待识别的图片数组。可输入一个或多个图片。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section789716171126" device-type="phone,2in1,tablet">BoundingBox<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section789716171126" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>视觉AI能力的内切框。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.1" width="17.07%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.2" width="17.43%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.07%"><p>left</p> </td> <td class="cellrowborder" width="17.43%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>边界框左上角的x坐标。</p> </td> </tr> <tr><td class="cellrowborder" width="17.07%"><p>top</p> </td> <td class="cellrowborder" width="17.43%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>边界框左上角的y坐标。</p> </td> </tr> <tr><td class="cellrowborder" width="17.07%"><p>height</p> </td> <td class="cellrowborder" width="17.43%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>边界框高度，单位为像素。</p> </td> </tr> <tr><td class="cellrowborder" width="17.07%"><p>width</p> </td> <td class="cellrowborder" width="17.43%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>边界框宽度，单位为像素。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1465431712919" device-type="phone,2in1,tablet">Point<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1465431712919" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>二维平面上的点。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>x</p> </td> <td class="cellrowborder" width="22.02%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>点的横坐标。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>y</p> </td> <td class="cellrowborder" width="22.02%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>点的纵坐标。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1382317215118" device-type="phone,2in1,tablet">Orientation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1382317215118" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>表示三维平面上的朝向。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.4" width="14.399999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.5" width="39.65%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>yaw</p> </td> <td class="cellrowborder" width="22.02%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="14.399999999999999%"><p>否</p> </td> <td class="cellrowborder" width="39.65%"><p>表示绕垂直轴（Y轴）旋转的角度，也称为“偏航角”，决定了物体在水平面上的朝向。取值范围[-180,180]。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>pitch</p> </td> <td class="cellrowborder" width="22.02%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="14.399999999999999%"><p>否</p> </td> <td class="cellrowborder" width="39.65%"><p>表示绕水平轴（X轴）旋转的角度，也称为“俯仰角”，决定了物体在垂直平面上的朝向。取值范围[-180,180]。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>roll</p> </td> <td class="cellrowborder" width="22.02%"><p>number</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="14.399999999999999%"><p>否</p> </td> <td class="cellrowborder" width="39.65%"><p>表示绕前后轴（Z轴）旋转的角度，也称为“翻滚角”，决定了物体在前后方向上的朝向。取值范围[-180,180]。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section106991634151312" device-type="phone,2in1,tablet">DownloadStartData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section106991634151312" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>下载开始事件的数据结构，当AI模型开始下载时触发，告知开发者哪个资源开始下载。该字段为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>resId</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>资源标识符，用于标识正在下载的模型。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1377410113590" device-type="phone,2in1,tablet">DownloadCompleteData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1377410113590" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>模型下载完成时触发的下载完成事件的数据结构。该字段为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>resId</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>资源标识符。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>resVersion</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>资源版本号。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section4395143020014" device-type="phone,2in1,tablet">DownloadCancelData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4395143020014" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>下载过程被取消时触发的下载取消事件的数据结构。该字段为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>resId</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>资源标识符。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section207922221711" device-type="phone,2in1,tablet">DownloadStatusData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section207922221711" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>下载状态事件的数据结构，用于报告下载过程中的各种状态，比如网络错误、参数无效等。该字段为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>resId</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>资源标识符。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>statusCode</p> </td> <td class="cellrowborder" width="22.02%"><p><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section547617344513">downloadStatusCode</a></p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>状态码。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>message</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>状态描述信息。无固定描述。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section167614491024" device-type="phone,2in1,tablet">DownloadProgressData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section167614491024" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>下载进度事件的数据结构，用于报告下载进度，让开发者能够实时显示下载进度。该字段为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>resId</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>资源标识符。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>progressInfo</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>进度信息。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section547617344513" device-type="phone,2in1,tablet">downloadStatusCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section547617344513" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>下载状态的枚举类。该字段为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.5.1.4.1.1" width="29.959999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.4.1.2" width="15.75%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.4.1.3" width="54.290000000000006%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="29.959999999999997%"><p>PARAMETER_INVALID</p> </td> <td class="cellrowborder" width="15.75%"><p>0</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>传入的下载参数有误，比如资源ID格式错误，建议检查传入参数的格式和有效性。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>NO_NETWORK_STATUS</p> </td> <td class="cellrowborder" width="15.75%"><p>1</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>设备离线或网络不可用，建议提示用户检查网络连接。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>NO_MODEL</p> </td> <td class="cellrowborder" width="15.75%"><p>2</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>服务器上找不到对应的模型文件，建议验证模型资源ID是否正确，确认服务器上模型文件是否存在。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>COPY_FILE_FAILED</p> </td> <td class="cellrowborder" width="15.75%"><p>3</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>下载后无法将模型文件复制到指定位置，建议检查存储权限和可用空间。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>DOWNLOAD_NOT_ALLOWED</p> </td> <td class="cellrowborder" width="15.75%"><p>4</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>需要用户确认的场合，用户已选择拒绝。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>DOWNLOAD_TIME_OUT</p> </td> <td class="cellrowborder" width="15.75%"><p>5</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>网络较慢或服务器响应延迟。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>DOWNLOAD_EXCEPTION</p> </td> <td class="cellrowborder" width="15.75%"><p>6</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>下载过程中出现错误，任何其他未明确分类的错误。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>DOWNLOAD_BACK_TO_DESKTOP</p> </td> <td class="cellrowborder" width="15.75%"><p>7</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>用户在下载过程中切换出应用。</p> </td> </tr> <tr><td class="cellrowborder" width="29.959999999999997%"><p>TASK_BUSY</p> </td> <td class="cellrowborder" width="15.75%"><p>8</p> </td> <td class="cellrowborder" width="54.290000000000006%"><p>系统繁忙，正在执行另一个任务。</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section6430105121211" device-type="phone,2in1,tablet">Request<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6430105121211" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>入参变量的基类。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.4" width="13.07%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.5" width="40.98%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>inputData</p> </td> <td class="cellrowborder" width="22.02%"><p><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section1515014491877">InputData</a></p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="13.07%"><p>否</p> </td> <td class="cellrowborder" width="40.98%"><p>待识别的图片。可以为一个对象也可以为对象数组。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>scene</p> </td> <td class="cellrowborder" width="22.02%"><p><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section4298938144913">SceneMode</a></p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="13.07%"><p>是</p> </td> <td class="cellrowborder" width="40.98%"><p>请求的场景模式。</p> <p>该参数为预留字段，暂未实现。</p> </td> </tr> <tr><td class="cellrowborder" width="12.479999999999999%"><p>requestId</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="13.07%"><p>是</p> </td> <td class="cellrowborder" width="40.98%"><p>请求的标识。用于开发者跟踪和管理自己的请求。</p> <p>该参数为预留字段，暂未实现。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section13793135121418" device-type="phone,2in1,tablet">Response<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13793135121418" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>响应基类，作为能力请求的返回结果。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.1" width="12.479999999999999%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.2" width="22.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.3" width="11.450000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.4" width="15.920000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.5" width="38.129999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.479999999999999%"><p>requestId</p> </td> <td class="cellrowborder" width="22.02%"><p>string</p> </td> <td class="cellrowborder" width="11.450000000000001%"><p>否</p> </td> <td class="cellrowborder" width="15.920000000000002%"><p>是</p> </td> <td class="cellrowborder" width="38.129999999999995%"><p>请求的唯一标识。开发者可用来跟踪和管理自己的请求。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section6867321337" device-type="phone,2in1,tablet">Analyzer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6867321337" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>Analyzer基类，充当能力引擎。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection"><h3 id="section313110191338" device-type="phone,2in1,tablet" class="firsth2">destroy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section313110191338" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>destroy(): Promise&lt;void&gt;</p> <p>用于销毁多种视觉能力的进程。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="45.36%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="54.64%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="45.36%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="54.64%"><p>Promise对象，销毁接口无返回值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <p>请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-object-detection-api#section1623412106322">ObjectDetection.destroy</a></p> </div> <div class="tiledSection"><h2 id="section11263273912" device-type="phone,2in1,tablet">on('downloadStart')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section11263273912" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>on(type: 'downloadStart', callback: Callback&lt;DownloadStartData&gt;): void</p> <p>下载开始事件监听。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadStart'。监听模型开始下载事件。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section106991634151312">DownloadStartData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>Callback回调返回是哪个资源开始下载。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadStart'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 开始下载`</span>);</li><li>});</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section738314424176" device-type="phone,2in1,tablet">on('downloadComplete')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section738314424176" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>on(type: 'downloadComplete', callback: Callback&lt;DownloadCompleteData&gt;): void</p> <p>下载完成事件监听。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.38.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadComplete'。监听模型下载完成事件。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section1377410113590">DownloadCompleteData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>Callback回调返回完成下载的资源标识符及版本。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.41.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadComplete'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载完成，版本: <span class="hljs-subst">${data.resVersion}</span>`</span>);</li><li>});</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section93831322181718" device-type="phone,2in1,tablet">on( 'downloadCancel')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section93831322181718" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>on(type: 'downloadCancel', callback: Callback&lt;DownloadCancelData&gt;): void</p> <p>下载取消事件监听。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.50.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.50.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.50.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.50.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadCancel'。监听模型取消下载事件。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section4395143020014">DownloadCancelData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>Callback回调返回是哪个资源取消下载。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadCancel'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载已取消`</span>);</li><li>});</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section1052145961717" device-type="phone,2in1,tablet">on( 'downloadStatus')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1052145961717" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>on(type: 'downloadStatus', callback: Callback&lt;DownloadStatusData&gt;): void</p> <p>下载状态事件监听。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.62.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.1.5.1.3" width="11.26%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.1.5.1.4" width="47.47%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.26%"><p>是</p> </td> <td class="cellrowborder" width="47.47%"><p>固定字符串 'downloadStatus'。监听模型下载状态事件。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section207922221711">DownloadStatusData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.26%"><p>是</p> </td> <td class="cellrowborder" width="47.47%"><p>Callback回调返回下载状态信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.65.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.65.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadStatus'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载状态: <span class="hljs-subst">${data.statusCode}</span>, <span class="hljs-subst">${data.message}</span>`</span>);</li><li>});</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section1378551919181" device-type="phone,2in1,tablet">on('downloadProgress')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1378551919181" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>on(type: 'downloadProgress', callback: Callback&lt;DownloadProgressData&gt;): void</p> <p>下载进度事件监听。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.74.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadProgress'。监听模型下载进度事件。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section167614491024">DownloadProgressData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>Callback回调返回下载进度信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.77.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.77.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadProgress'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载进度: <span class="hljs-subst">${data.progressInfo}</span>`</span>);</li><li>})</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section13337184732011" device-type="phone,2in1,tablet">off('downloadStart')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13337184732011" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>off(type: 'downloadStart', callback?: Callback&lt;DownloadStartData&gt;): void</p> <p>取消监听开始下载事件。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.86.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.86.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.86.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.86.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadStart'。取消开始下载事件的监听。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section106991634151312">DownloadStartData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>否</p> </td> <td class="cellrowborder" width="47.46%"><p>需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.89.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.89.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义回调函数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">startCallback</span> = (<span class="hljs-params">data: visionBase.DownloadStartData</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 开始下载`</span>);</li><li>};</li><li><span class="hljs-comment">// 注册监听器</span></li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadStart'</span>, startCallback);</li><li><span class="hljs-comment">// 移除特定的监听器</span></li><li>visionBase.<span class="hljs-title function_">off</span>(<span class="hljs-string">'downloadStart'</span>, startCallback);</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section1214064381814" device-type="phone,2in1,tablet">off('downloadComplete')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1214064381814" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>off(type: 'downloadComplete', callback?: Callback&lt;DownloadCompleteData&gt;): void</p> <p>取消监听完成下载事件。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.98.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.98.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.98.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.98.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadComplete'。取消下载事件完成的监听。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section1377410113590">DownloadCompleteData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>否</p> </td> <td class="cellrowborder" width="47.46%"><p>需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.101.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.101.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义回调函数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">data: visionBase.DownloadCompleteData</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载完成`</span>);</li><li>};</li><li><span class="hljs-comment">// 注册监听器</span></li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadComplete'</span>, callback);</li><li><span class="hljs-comment">// 移除特定的监听器</span></li><li>visionBase.<span class="hljs-title function_">off</span>(<span class="hljs-string">'downloadComplete'</span>, callback);</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section181599523187" device-type="phone,2in1,tablet">off('downloadCancel')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section181599523187" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>off(type: 'downloadCancel', callback?: Callback&lt;DownloadCancelData&gt;): void</p> <p>取消对下载取消事件的监听。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.110.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.110.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.110.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.110.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadCancel'。取消对下载取消事件的监听。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section4395143020014">DownloadCancelData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>否</p> </td> <td class="cellrowborder" width="47.46%"><p>需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.113.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.113.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义回调函数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">data: visionBase.DownloadCancelData</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载取消`</span>);</li><li>};</li><li><span class="hljs-comment">// 注册监听器</span></li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadCancel'</span>, callback);</li><li><span class="hljs-comment">// 移除特定的监听器</span></li><li>visionBase.<span class="hljs-title function_">off</span>(<span class="hljs-string">'downloadCancel'</span>, callback);</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section8203120131919" device-type="phone,2in1,tablet">off('downloadStatus')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8203120131919" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <p>off(type: 'downloadStatus', callback?: Callback&lt;DownloadStatusData&gt;): void</p> <p>取消监听下载状态事件。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.122.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.122.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.122.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.122.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadStatus'。取消对下载状态事件的监听。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section207922221711">DownloadStatusData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>否</p> </td> <td class="cellrowborder" width="47.46%"><p>需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.125.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.125.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义回调函数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">data: visionBase.DownloadStatusData</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载状态`</span>);</li><li>};</li><li><span class="hljs-comment">// 注册监听器</span></li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadStatus'</span>, callback);</li><li><span class="hljs-comment">// 移除特定的监听器</span></li><li>visionBase.<span class="hljs-title function_">off</span>(<span class="hljs-string">'downloadStatus'</span>, callback);</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div class="tiledSection"><h2 id="section4943276198" device-type="phone,2in1,tablet">off('downloadProgress')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4943276198" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div> <div class="subsection" id="section1055731342013"><a name="section1055731342013"></a><a name="section1055731342013"></a><p>off(type: 'downloadProgress', callback?: Callback&lt;DownloadProgressData&gt;): void</p> <p>取消监听下载进度事件。该方法为预留接口，当前版本暂不支持。</p> <p><strong>系统能力：</strong>SystemCapability.AI.Vision.VisionBase</p> <p><strong>起始版本：</strong>5.0.2(14)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.2" width="22.07%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.3" width="11.27%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.4" width="47.46%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>type</p> </td> <td class="cellrowborder" width="22.07%"><p>string</p> </td> <td class="cellrowborder" width="11.27%"><p>是</p> </td> <td class="cellrowborder" width="47.46%"><p>固定字符串 'downloadProgress'。取消对下载进度事件的监听。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="22.07%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#callback" target="_blank">Callback</a><span style="color: rgb(97,175,239);">&lt;</span><a href="/consumer/cn/doc/harmonyos-references/core-vision-vision-base-api#section167614491024">DownloadProgressData</a><span style="color: rgb(97,175,239);">&gt;</span></p> </td> <td class="cellrowborder" width="11.27%"><p>否</p> </td> <td class="cellrowborder" width="47.46%"><p>需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/core-vision-error-code">Core Vision Kit错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.129.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>The parameter check failed.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-brn-c106="" class="highlight-div"><div _ngcontent-brn-c106="" class="highlight-div-header"><div _ngcontent-brn-c106="" class="highlight-div-header-left"><div _ngcontent-brn-c106="" class="handle-button expand-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-brn-c106="" class="highlight-div-header-right"><div _ngcontent-brn-c106="" class="handle-button ai-button"></div><div _ngcontent-brn-c106="" class="handle-button line-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-brn-c106="" class="handle-button theme-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-brn-c106="" class="handle-button copy-button"><div _ngcontent-brn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-brn-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { visionBase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreVisionKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 定义回调函数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">data: visionBase.DownloadProgressData</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`资源 <span class="hljs-subst">${data.resId}</span> 下载进度`</span>);</li><li>};</li><li><span class="hljs-comment">// 注册监听器</span></li><li>visionBase.<span class="hljs-title function_">on</span>(<span class="hljs-string">'downloadProgress'</span>, callback);</li><li><span class="hljs-comment">// 移除特定的监听器</span></li><li>visionBase.<span class="hljs-title function_">off</span>(<span class="hljs-string">'downloadProgress'</span>, callback);</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>
</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>