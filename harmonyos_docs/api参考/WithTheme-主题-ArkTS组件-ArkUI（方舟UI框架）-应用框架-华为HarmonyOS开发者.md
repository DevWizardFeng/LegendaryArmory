<h1 _ngcontent-bgu-c119="" class="doc-title ng-star-inserted" title="WithTheme"> WithTheme </h1>

<div _ngcontent-bgu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>WithTheme组件用于设置应用局部页面自定义主题风格，可设置子组件深浅色模式和自定义配色。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该组件从API Version 12开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>      <p>WithTheme支持的系统组件如下：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput">TextInput</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-search">Search</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-button">Button</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-badge">Badge</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-swiper">Swiper</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-text">Text</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-select">Select</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-menu">Menu</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-timepicker">TimePicker</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-datepicker">DatePicker</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textpicker">TextPicker</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-checkbox">Checkbox</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-checkboxgroup">CheckboxGroup</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-radio">Radio</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-slider">Slider</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-progress">Progress</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-qrcode">QRCode</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-toggle">Toggle</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-patternlock">PatternLock</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-divider">Divider</a></p>     </div></div></div>    <div class="tiledSection">     <h2 id="子组件" device-type="phone,2in1,tablet,wearable,tv">子组件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="子组件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>支持单个子组件。</p>    </div>    <div class="tiledSection">     <h2 id="接口" device-type="phone,2in1,tablet,wearable,tv">接口<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="接口" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>WithTheme(options: WithThemeOptions)</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-with-theme#withthemeoptions">WithThemeOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">设置作用域内组件配色。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-attributes">通用属性</a>。</p>    </div>    <div class="tiledSection">     <h2 id="事件" device-type="phone,2in1,tablet,wearable,tv">事件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="事件" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>不支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-component-general-events">通用事件</a>。</p>    </div>    <div class="tiledSection">     <h2 id="withthemeoptions" device-type="phone,2in1,tablet,wearable,tv">WithThemeOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="withthemeoptions" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置WithTheme作用域内组件缺省样式及深浅色模式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">theme</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-container-with-theme#customtheme">CustomTheme</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>用于自定义WithTheme作用域内组件缺省配色。</p>          <p>默认值：undefined，缺省样式跟随系统<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/theme_skinning#系统缺省token色值" target="_blank">token默认样式</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">colorMode</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-foreground-blur-style#themecolormode枚举说明">ThemeColorMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>用于指定WithTheme作用域内组件配色深浅色模式。</p>          <p>默认值：ThemeColorMode.SYSTEM</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="customtheme" device-type="phone,2in1,tablet,wearable,tv">CustomTheme<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="customtheme" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CustomTheme = CustomTheme</p>     <p>自定义配色。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-theme#customtheme">CustomTheme</a></td>         <td class="cellrowborder" width="50%">自定义WithTheme作用域内组件缺省配色。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置局部深浅色时，需要添加dark.json资源文件，深浅色模式才会生效。</p>     <p><span><img originheight="124" originwidth="250" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115423.12305875874970001997912722000698:50001231000000:2800:26AA2A34FC77C9537008A33DB9CB79DBE931BF884FF328841F27420A7502CEA6.png" class="notEnlarge" width="250" height="124"></span></p>     <p>dark.json数据示例：</p>     <div _ngcontent-bgu-c106="" class="highlight-div"><div _ngcontent-bgu-c106="" class="highlight-div-header"><div _ngcontent-bgu-c106="" class="highlight-div-header-left"><div _ngcontent-bgu-c106="" class="handle-button expand-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bgu-c106="" class="highlight-div-header-right"><div _ngcontent-bgu-c106="" class="handle-button ai-button"></div><div _ngcontent-bgu-c106="" class="handle-button line-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bgu-c106="" class="handle-button theme-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bgu-c106="" class="handle-button copy-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li>  {</li><li>    <span class="hljs-string">"color"</span>: [</li><li>      {</li><li>        <span class="hljs-string">"name"</span>: <span class="hljs-string">"start_window_background"</span>,</li><li>        <span class="hljs-string">"value"</span>: <span class="hljs-string">"#000000"</span></li><li>      }</li><li>    ]</li><li>  }</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="示例1指定局部深浅色模式" class="firsth2">示例1（指定局部深浅色模式）<i class="anchor-icon anchor-icon-link" anchorid="示例1指定局部深浅色模式" tips="复制节点链接"></i></h3>          <div _ngcontent-bgu-c106="" class="highlight-div"><div _ngcontent-bgu-c106="" class="highlight-div-header"><div _ngcontent-bgu-c106="" class="highlight-div-header-left"><div _ngcontent-bgu-c106="" class="handle-button expand-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bgu-c106="" class="highlight-div-header-right"><div _ngcontent-bgu-c106="" class="handle-button ai-button"></div><div _ngcontent-bgu-c106="" class="handle-button line-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bgu-c106="" class="handle-button theme-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bgu-c106="" class="handle-button copy-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 指定局部深浅色模式</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-comment">// 系统默认</span></li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'无WithTheme'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>)</li><li>          .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'33%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'app.color.start_window_background'</span>))</li><li>      <span class="hljs-comment">// 设置组件为深色模式</span></li><li>      <span class="hljs-title class_">WithTheme</span>({ <span class="hljs-attr">colorMode</span>: <span class="hljs-title class_">ThemeColorMode</span>.<span class="hljs-property">DARK</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'WithTheme'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'DARK'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'33%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_primary'</span>))</li><li>      }</li><li>      <span class="hljs-comment">// 设置组件为浅色模式</span></li><li>      <span class="hljs-title class_">WithTheme</span>({ <span class="hljs-attr">colorMode</span>: <span class="hljs-title class_">ThemeColorMode</span>.<span class="hljs-property">LIGHT</span> }) {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'WithTheme'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'LIGHT'</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">40</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'33%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>($r(<span class="hljs-string">'sys.color.background_primary'</span>))</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">TOP</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">END</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">START</span>])</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="621" originwidth="322" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115423.06835350494508275948627211015023:50001231000000:2800:571E6406C2AB247231B0C2A5E93C414B69120561DA17CC731B4C267E62291D71.png" width="322" height="621"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例2自定义withtheme作用域内组件缺省配色">示例2（自定义WithTheme作用域内组件缺省配色）<i class="anchor-icon anchor-icon-link" anchorid="示例2自定义withtheme作用域内组件缺省配色" tips="复制节点链接"></i></h3>          <div _ngcontent-bgu-c106="" class="highlight-div"><div _ngcontent-bgu-c106="" class="highlight-div-header"><div _ngcontent-bgu-c106="" class="highlight-div-header-left"><div _ngcontent-bgu-c106="" class="handle-button expand-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bgu-c106="" class="highlight-div-header-right"><div _ngcontent-bgu-c106="" class="handle-button ai-button"></div><div _ngcontent-bgu-c106="" class="handle-button line-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bgu-c106="" class="handle-button theme-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bgu-c106="" class="handle-button copy-button"><div _ngcontent-bgu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bgu-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 自定义WithTheme作用域内组件缺省配色</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">CustomTheme</span>, <span class="hljs-title class_">CustomColors</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">GreenColors</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CustomColors</span> {</li><li>  fontPrimary = <span class="hljs-string">'#ff049404'</span>;</li><li>  fontEmphasize = <span class="hljs-string">'#FF00541F'</span>;</li><li>  fontOnPrimary = <span class="hljs-string">'#FFFFFFFF'</span>;</li><li>  compBackgroundTertiary = <span class="hljs-string">'#1111FF11'</span>;</li><li>  backgroundEmphasize = <span class="hljs-string">'#FF00541F'</span>;</li><li>  compEmphasizeSecondary = <span class="hljs-string">'#3322FF22'</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">RedColors</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CustomColors</span> {</li><li>  fontPrimary = <span class="hljs-string">'#fff32b3c'</span>;</li><li>  fontEmphasize = <span class="hljs-string">'#FFD53032'</span>;</li><li>  fontOnPrimary = <span class="hljs-string">'#FFFFFFFF'</span>;</li><li>  compBackgroundTertiary = <span class="hljs-string">'#44FF2222'</span>;</li><li>  backgroundEmphasize = <span class="hljs-string">'#FFD00000'</span>;</li><li>  compEmphasizeSecondary = <span class="hljs-string">'#33FF1111'</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">PageCustomTheme</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CustomTheme</span> {</li><li>  colors?: <span class="hljs-title class_">CustomColors</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">colors: CustomColors</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">colors</span> = colors</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">IndexPage</span> {</li><li>  <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> themeCount = <span class="hljs-number">3</span>;</li><li>  <span class="hljs-attr">themeNames</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'System'</span>, <span class="hljs-string">'Custom (green)'</span>, <span class="hljs-string">'Custom (red)'</span>];</li><li>  <span class="hljs-attr">themeArray</span>: (<span class="hljs-title class_">CustomTheme</span> | <span class="hljs-literal">undefined</span>)[] = [</li><li>    <span class="hljs-literal">undefined</span>, <span class="hljs-comment">// System</span></li><li>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageCustomTheme</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">GreenColors</span>()),</li><li>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageCustomTheme</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RedColors</span>())</li><li>  ]</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">themeIndex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-string">'8vp'</span> }) {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">`未使用WithTheme`</span>)</li><li>        <span class="hljs-comment">// 点击按钮切换局部换肤</span></li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">`切换theme配色：<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.themeNames[<span class="hljs-variable language_">this</span>.themeIndex]}</span>`</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">themeIndex</span> = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">themeIndex</span> + <span class="hljs-number">1</span>) % <span class="hljs-title class_">IndexPage</span>.<span class="hljs-property">themeCount</span>;</li><li>          })</li><li>
</li><li>        <span class="hljs-comment">// 系统默认按钮配色</span></li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button.style(NORMAL) with System Theme'</span>)</li><li>          .<span class="hljs-title function_">buttonStyle</span>(<span class="hljs-title class_">ButtonStyleMode</span>.<span class="hljs-property">NORMAL</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button.style(EMP..ED) with System Theme'</span>)</li><li>          .<span class="hljs-title function_">buttonStyle</span>(<span class="hljs-title class_">ButtonStyleMode</span>.<span class="hljs-property">EMPHASIZED</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button.style(TEXTUAL) with System Theme'</span>)</li><li>          .<span class="hljs-title function_">buttonStyle</span>(<span class="hljs-title class_">ButtonStyleMode</span>.<span class="hljs-property">TEXTUAL</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">margin</span>({</li><li>        <span class="hljs-attr">top</span>: <span class="hljs-string">'50vp'</span></li><li>      })</li><li>
</li><li>      <span class="hljs-title class_">WithTheme</span>({ <span class="hljs-attr">theme</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">themeArray</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">themeIndex</span>] }) {</li><li>        <span class="hljs-comment">// WithTheme作用域</span></li><li>        <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-string">'8vp'</span> }) {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">`使用WithTheme`</span>)</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button.style(NORMAL) with Custom Theme'</span>)</li><li>            .<span class="hljs-title function_">buttonStyle</span>(<span class="hljs-title class_">ButtonStyleMode</span>.<span class="hljs-property">NORMAL</span>)</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button.style(EMP..ED) with Custom Theme'</span>)</li><li>            .<span class="hljs-title function_">buttonStyle</span>(<span class="hljs-title class_">ButtonStyleMode</span>.<span class="hljs-property">EMPHASIZED</span>)</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Button.style(TEXTUAL) with Custom Theme'</span>)</li><li>            .<span class="hljs-title function_">buttonStyle</span>(<span class="hljs-title class_">ButtonStyleMode</span>.<span class="hljs-property">TEXTUAL</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="334" originwidth="294" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115423.89249382754115846676478887981130:50001231000000:2800:6D41E38B4A573D1E18E9364F7AEEC43F12536FD0840D5FEB74D0DB80F3150C13.gif" class="notEnlarge" width="294" height="334"></span></p>    </div>   </div>   <div></div></div>