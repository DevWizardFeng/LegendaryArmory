<h1 _ngcontent-ixs-c119="" class="doc-title ng-star-inserted" title="Z序控制"> Z序控制 </h1>

<div _ngcontent-ixs-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>组件的Z序，设置同一容器中兄弟组件的堆叠顺序。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> 从API version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  </div></div></div>  <div class="tiledSection"><h2 id="zindex" device-type="phone,2in1,tablet,wearable,tv">zIndex<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="zindex" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>zIndex(value: number): T</p> <p>设置组件的堆叠顺序。</p> <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">同一容器中兄弟组件显示层级关系。zIndex值越大，显示层级越高，即zIndex值大的组件会覆盖在zIndex值小的组件上方。当不涉及新增或减少兄弟节点，动态改变zIndex时会在zIndex改变前层级顺序的基础上进行稳定排序。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">T</td> <td class="cellrowborder" width="50%">返回当前组件。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="示例1设置组件堆叠顺序" class="firsth2">示例1（设置组件堆叠顺序）<i class="anchor-icon anchor-icon-link" anchorid="示例1设置组件堆叠顺序" tips="复制节点链接"></i></h3><p>该示例通过zIndex设置组件堆叠顺序。</p> <div _ngcontent-ixs-c106="" class="highlight-div"><div _ngcontent-ixs-c106="" class="highlight-div-header"><div _ngcontent-ixs-c106="" class="highlight-div-header-left"><div _ngcontent-ixs-c106="" class="handle-button expand-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ixs-c106="" class="highlight-div-header-right"><div _ngcontent-ixs-c106="" class="handle-button ai-button"></div><div _ngcontent-ixs-c106="" class="handle-button line-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ixs-c106="" class="handle-button theme-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ixs-c106="" class="handle-button copy-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ixs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ZIndexExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-comment">// Stack会重叠组件，默认后定义的在最上面，具有较高zIndex值的元素在zIndex较小的元素前面</span></li><li>        <span class="hljs-comment">// Text1设置zIndex值为2</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1, zIndex(2)'</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'40%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'30%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xbbb2cb</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-number">2</span>)</li><li>        <span class="hljs-comment">// Text2设置zIndex值为1</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'2, default zIndex(1)'</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'70%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'50%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xd2cab3</span>).<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-number">1</span>)</li><li>        <span class="hljs-comment">// Text3设置zIndex值为0</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'3, zIndex(0)'</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'90%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'80%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xc1cbac</span>).<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-number">0</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p>Stack容器内子组件不设置zIndex的效果。</p> <p><span><img originheight="190" originwidth="377" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.74994060009829413842295216222105:50001231000000:2800:180812E805EB914D69ACFA717992A8DECAF2596C122B2C0436E37A416B9CE969.png" width="377" height="190"></span></p> <p>Stack容器子组件设置zIndex后的效果。</p> <p><span><img originheight="186" originwidth="380" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.89797093185212710845809743230793:50001231000000:2800:7B31DE55027F35A38CDF874C51415C1104DBDDAF9BF4488FC5361C561CAEFCE8.png" width="380" height="186"></span></p> </div>  <div class="tiledSection"><h3 id="示例2动态修改zindex属性">示例2（动态修改zIndex属性）<i class="anchor-icon anchor-icon-link" anchorid="示例2动态修改zindex属性" tips="复制节点链接"></i></h3><p>该示例使用Button组件动态修改zIndex属性。</p> <div _ngcontent-ixs-c106="" class="highlight-div"><div _ngcontent-ixs-c106="" class="highlight-div-header"><div _ngcontent-ixs-c106="" class="highlight-div-header-left"><div _ngcontent-ixs-c106="" class="handle-button expand-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ixs-c106="" class="highlight-div-header-right"><div _ngcontent-ixs-c106="" class="handle-button ai-button"></div><div _ngcontent-ixs-c106="" class="handle-button line-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ixs-c106="" class="handle-button theme-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ixs-c106="" class="handle-button copy-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ixs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ZIndexExample</span> {</li><li>  <span class="hljs-meta">@State</span> zIndex_ : <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-comment">// 点击Button改变zIndex后，在点击Button前的层级顺序上根据zIndex进行稳定排序。</span></li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">"change Text2 zIndex"</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">zIndex_</span> = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">zIndex_</span> + <span class="hljs-number">1</span>) % <span class="hljs-number">3</span>;</li><li>        })</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-comment">// Text1设置zIndex值为1</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1, zIndex(1)'</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'70%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'50%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xd2cab3</span>).<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-number">1</span>)</li><li>        <span class="hljs-comment">// Text2设置zIndex默认值为0</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'2, default zIndex(0), now zIndex:'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">zIndex_</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'90%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'80%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xc1cbac</span>).<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">zIndex_</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p>不点击Button修改zIndex值的效果。</p> <p><span><img originheight="248" originwidth="531" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.30550184775138239733290864456587:50001231000000:2800:4D302C4C7F479FF7748AD23AA640A1A4592A306A8BCB32D539F859D86413EA18.png" width="531" height="248"></span></p> <p>点击Button动态修改zIndex，使Text1和Text2的zIndex相等，因为在点击Button前的层级顺序上根据zIndex进行稳定排序，层级顺序不发生改变。</p> <p><span><img originheight="248" originwidth="531" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115833.95084350763453265810853831115018:50001231000000:2800:A6E25F1FE03B31ED195691842D01EDDFCD5DE1A3F9791C9674AA860250DF34C2.png" width="531" height="248"></span></p> <p>点击Button动态修改zIndex，使Text2的zIndex大于Text1，层级顺序发生改变。</p> <p><span><img originheight="248" originwidth="530" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115834.85686068766941365936705467437068:50001231000000:2800:10A402B6798C65852EDCF58C5AA4B41C93050D9DE1D2FB37D8C078D99A1645A2.png" width="530" height="248"></span></p> </div>  <div class="tiledSection"><h3 id="示例3设置不同容器内组件的zindex属性">示例3（设置不同容器内组件的zIndex属性）<i class="anchor-icon anchor-icon-link" anchorid="示例3设置不同容器内组件的zindex属性" tips="复制节点链接"></i></h3><p>该示例在不同容器内设置zIndex属性。其中，Text1、Text2和Text3在不同的Stack容器内。虽然Text3的zIndex值最小，但Text1、Text2仍无法按照预期显示在Text3的上方。</p> <div _ngcontent-ixs-c106="" class="highlight-div"><div _ngcontent-ixs-c106="" class="highlight-div-header"><div _ngcontent-ixs-c106="" class="highlight-div-header-left"><div _ngcontent-ixs-c106="" class="handle-button expand-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ixs-c106="" class="highlight-div-header-right"><div _ngcontent-ixs-c106="" class="handle-button ai-button"></div><div _ngcontent-ixs-c106="" class="handle-button line-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ixs-c106="" class="handle-button theme-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ixs-c106="" class="handle-button copy-button"><div _ngcontent-ixs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ixs-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ZIndexExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Stack</span>() {</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-comment">// Text1设置zIndex值为2</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'1, zIndex(2)'</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'40%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'30%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xbbb2cb</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-number">2</span>)</li><li>        <span class="hljs-comment">// Text2设置zIndex值为1</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'2, default zIndex(1)'</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'70%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'50%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xd2cab3</span>).<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-number">1</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>
</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-comment">// zIndex在不同容器的组件中无法生效，Text3会显示在最上方</span></li><li>        <span class="hljs-comment">// Text3设置zIndex值为0</span></li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'3, zIndex(0)'</span>)</li><li>          .<span class="hljs-title function_">size</span>({ <span class="hljs-attr">width</span>: <span class="hljs-string">'90%'</span>, <span class="hljs-attr">height</span>: <span class="hljs-string">'80%'</span> }).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xc1cbac</span>).<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>          .<span class="hljs-title function_">zIndex</span>(<span class="hljs-number">0</span>)</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="224" originwidth="439" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115834.15502830394219035766944466036957:50001231000000:2800:37DBA0786071D6F2B10D0760F6A3503E0F4C71A697A59ADECDEE43AB7813964C.png" width="439" height="224"></span></p> </div> </div> <div></div></div>