<h1 _ngcontent-qgr-c119="" class="doc-title ng-star-inserted" title="arViewController（AR场景管理能力）"> arViewController（AR场景管理能力） </h1>

<div _ngcontent-qgr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供AR Engine（AR引擎服务）的arViewController（AR场景管理能力）相关接口。</p>    <p>基础核心能力包括AR会话管理、空间对象管理与场景化管理。</p>    <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>    <p><strong>起始版本：</strong>5.1.0(18)</p>    <div class="tiledSection">     <h2 id="section13899175210107" device-type="phone,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13899175210107" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arEngine, arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section12681656121519" device-type="phone,tablet">ARViewContext<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12681656121519" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>ARView上下文，用于AR场景管理，包括初始化、暂停、恢复及销毁。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>    </div>    <div class="tiledSection">     <h3 id="section07524457283" device-type="phone,tablet" class="firsth2">ARViewContext.init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section07524457283" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>init(): Promise&lt;void&gt;</p>     <p>初始化<a href="/consumer/cn/doc/harmonyos-references/arengine-api-arviewcontroller#section12681656121519">ARViewContext</a>，初始化AR会话和设置AR渲染场景等。</p>     <p>使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.CAMERA and ohos.permission.GYROSCOPE and ohos.permission.ACCELEROMETER</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_row78001362918" class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.7.8.2.1.3.1.1" width="30%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p16800126398"><strong>类型</strong></p></th>          <th align="left" class="cellrowborder" id="mcps1.3.7.8.2.1.3.1.2" width="70%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p168001862918"><strong>说明</strong></p></th>         </tr><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_row1180019614918">          <td class="cellrowborder" width="30%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p48001561399">Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="70%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p178012611915">无返回结果的Promise对象。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="30%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="70%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="30%">          <p>201</p></td>         <td class="cellrowborder" width="70%">          <p>Permissions not granted, such as the camera permission.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>801</p></td>         <td class="cellrowborder" width="70%">          <p>Device not compatible.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200001</p></td>         <td class="cellrowborder" width="70%">          <p>Failure.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200007</p></td>         <td class="cellrowborder" width="70%">          <p>Configuration not supported.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200008</p></td>         <td class="cellrowborder" width="70%">          <p>Resource exhausted.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200009</p></td>         <td class="cellrowborder" width="70%">          <p>Service unavailable.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200010</p></td>         <td class="cellrowborder" width="70%">          <p>Camera unavailable.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200201</p></td>         <td class="cellrowborder" width="70%">          <p>ARView invalid operation.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200202</p></td>         <td class="cellrowborder" width="70%">          <p>Graphics3D AR scene required.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200203</p></td>         <td class="cellrowborder" width="70%">          <p>AREngine config required.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200204</p></td>         <td class="cellrowborder" width="70%">          <p>AR session setup failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="30%">          <p>1009200205</p></td>         <td class="cellrowborder" width="70%">          <p>AR scene camera setup failed.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li>context.<span class="hljs-title function_">init</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Initialization successful.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Initialization failed. error code: <span class="hljs-subst">${error.code}</span>`</span>);</li><li>})</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section9795165613212" device-type="phone,tablet">ARViewContext.pause<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9795165613212" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>pause(): void</p>     <p>暂停相机跟踪与AR场景渲染。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table id="table11321236122211" class="tableClass2_t">                      <tbody><tr id="ZH-CN_TOPIC_0000002363785049__row113214360223" class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__p1113210368222">错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__p161322369223">错误信息</p></th>        </tr><tr id="ZH-CN_TOPIC_0000002363785049__row4132136172218">         <td class="cellrowborder" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__p31321936182212">1009200001</p></td>         <td class="cellrowborder" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__p8835131181214">Failure.</p></td>        </tr>        <tr id="ZH-CN_TOPIC_0000002363785049__row3132133642216">         <td class="cellrowborder" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__p186653102143">1009200201</p></td>         <td class="cellrowborder" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__p2179132031211">ARView invalid operation.</p></td>        </tr>        <tr id="ZH-CN_TOPIC_0000002363785049__row91321369223">         <td class="cellrowborder" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__p11321336202213">1009200204</p></td>         <td class="cellrowborder" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__p7997115115122">AR session setup failed.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li>context.<span class="hljs-title function_">pause</span>();</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section169251835133414" device-type="phone,tablet">ARViewContext.destroy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section169251835133414" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>destroy(): Promise&lt;void&gt;</p>     <p>销毁<a href="/consumer/cn/doc/harmonyos-references/arengine-api-arviewcontroller#section12681656121519">ARViewContext</a>，释放ARView使用资源，包括AR会话与呈现场景销毁，在退出ARView时使用。</p>     <p>使用Promise异步回调。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_row78001362918_1" class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.9.7.2.1.3.1.1" width="30%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p16800126398_1"><strong>类型</strong></p></th>          <th align="left" class="cellrowborder" id="mcps1.3.9.7.2.1.3.1.2" width="70%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p168001862918_1"><strong>说明</strong></p></th>         </tr><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_row1180019614918_1">          <td class="cellrowborder" width="30%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p48001561399_1">Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="70%">           <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002329946638_p178012611915_1">无返回结果的Promise对象。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row113214360223" class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p1113210368222">错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p161322369223">错误信息</p></th>        </tr><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row4132136172218">         <td class="cellrowborder" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p31321936182212">1009200001</p></td>         <td class="cellrowborder" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p8835131181214">Failure.</p></td>        </tr>        <tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row3132133642216">         <td class="cellrowborder" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p186653102143">1009200201</p></td>         <td class="cellrowborder" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p2179132031211">ARView invalid operation.</p></td>        </tr>        <tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row91321369223">         <td class="cellrowborder" width="30%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p11321336202213">1009200204</p></td>         <td class="cellrowborder" width="70%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p7997115115122">AR session setup failed.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li>context.<span class="hljs-title function_">destroy</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Destruction successful.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Destruction failed. error code: <span class="hljs-subst">${error.code}</span>`</span>);</li><li>})</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section639015333356" device-type="phone,tablet">ARViewContext.resume<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section639015333356" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>resume(): void</p>     <p>用于恢复暂停的相机跟踪与AR场景渲染。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="28.849999999999998%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="71.15%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="28.849999999999998%">          <p>1009200001</p></td>         <td class="cellrowborder" width="71.15%">          <p>Failure.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="28.849999999999998%">          <p>1009200010</p></td>         <td class="cellrowborder" width="71.15%">          <p>Camera unavailable.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="28.849999999999998%">          <p>1009200201</p></td>         <td class="cellrowborder" width="71.15%">          <p>ARView invalid operation.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="28.849999999999998%">          <p>1009200204</p></td>         <td class="cellrowborder" width="71.15%">          <p>AR session setup failed.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li>context.<span class="hljs-title function_">resume</span>();</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section885612613616" device-type="phone,tablet">ARViewContext.scene<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section885612613616" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>set scene(scene: Scene)</p>     <p>设置ARView的AR场景。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="27.122712271227122%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="27.122712271227122%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="18.631863186318633%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="27.122712271227122%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>scene</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scene-1" target="_blank">Scene</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>AR呈现场景，用于管理空间节点。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table id="table1297917345444" class="tableClass2_t">                      <tbody><tr id="ZH-CN_TOPIC_0000002363785049__row497983414448" class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__p179791134194417">错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__p197993416448">错误信息</p></th>        </tr><tr id="ZH-CN_TOPIC_0000002363785049__row6979123414449">         <td class="cellrowborder" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__p17672831194116">1009200201</p></td>         <td class="cellrowborder" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__p148347851614">ARView invalid operation.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li><span class="hljs-keyword">import</span> { arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li>
</li><li><span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">scene</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li>  context.<span class="hljs-property">scene</span> = scene;</li><li>})</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section1371542426" device-type="phone,tablet">ARViewContext.scene<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1371542426" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>get scene(): Scene</p>     <p>获得的AR呈现场景，用于管理空间节点。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <div class="p">      <strong>返回值</strong>:       <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.12.6.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.12.6.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#scene-1" target="_blank">Scene</a></p></td>          <td class="cellrowborder" width="71.95%">           <p>AR呈现场景，用于管理空间节点。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row497983414448" class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p179791134194417">错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p197993416448">错误信息</p></th>        </tr><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row6979123414449">         <td class="cellrowborder" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p17672831194116">1009200201</p></td>         <td class="cellrowborder" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p148347851614">ARView invalid operation.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li><span class="hljs-keyword">import</span> { arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Scene</span> = context.<span class="hljs-property">scene</span>;</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section18461161774312" device-type="phone,tablet">ARViewContext.session<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18461161774312" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>get session(): arEngine.ARSession | undefined</p>     <p>获取AR会话，用于获取相关AR环境跟踪、相机跟踪、命中检测等能力，如相机位姿、平面信息、创建锚点等。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <div class="p">      <strong>返回值</strong>:       <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.13.6.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.13.6.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine">arEngine</a>.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section19193165314510">ARSession</a> | undefined</p></td>          <td class="cellrowborder" width="71.95%">           <p>获得的AR会话内容，AR会话正常设置之后返回为arEngine.ARSession，异常设置或异常操作导致ARViewContext未初始化成功，返回undefined。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arEngine, arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">arSession</span>: arEngine.<span class="hljs-property">ARSession</span> | <span class="hljs-literal">undefined</span> = context.<span class="hljs-property">session</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section4323184815436" device-type="phone,tablet">ARViewContext.config<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4323184815436" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>set config(conf: arEngine.ARConfig)</p>     <p>设置AR会话的配置文件，如北向坐标、性能模式等。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="27.122712271227122%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="27.122712271227122%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="18.631863186318633%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="27.122712271227122%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>conf</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine">arEngine</a>.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section1262116345111">ARConfig</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section19193165314510">ARSession</a>的功能配置参数。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row497983414448_1" class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p179791134194417_1">错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p197993416448_1">错误信息</p></th>        </tr><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row6979123414449_1">         <td class="cellrowborder" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p17672831194116_1">1009200201</p></td>         <td class="cellrowborder" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p148347851614_1">ARView invalid operation.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arEngine, arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li>context.<span class="hljs-property">config</span> = {</li><li>  <span class="hljs-attr">type</span>: arEngine.<span class="hljs-property">ARType</span>.<span class="hljs-property">WORLD</span>,</li><li>  <span class="hljs-attr">poseMode</span>: arEngine.<span class="hljs-property">ARPoseMode</span>.<span class="hljs-property">GRAVITY_AND_HEADING</span>,</li><li>  <span class="hljs-attr">powerMode</span>: arEngine.<span class="hljs-property">ARPowerMode</span>.<span class="hljs-property">POWER_SAVING</span>,</li><li>  <span class="hljs-attr">depthMode</span>: arEngine.<span class="hljs-property">ARDepthMode</span>.<span class="hljs-property">AUTOMATIC</span></li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section20507194174418" device-type="phone,tablet">ARViewContext.callback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section20507194174418" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>set callback(callback: ARViewCallback);</p>     <p>回调函数，可根据回调功能实现对应业务逻辑。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="27.122712271227122%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="27.122712271227122%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="18.631863186318633%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="27.122712271227122%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>callback</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="/consumer/cn/doc/harmonyos-references/arengine-api-arviewcontroller#section9396615174614">ARViewCallback</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>ARViewCallback抽象类，声明ARView的回调接口。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-error-code">AR Engine错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row497983414448_2" class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p179791134194417_2">错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p197993416448_2">错误信息</p></th>        </tr><tr id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_row6979123414449_2">         <td class="cellrowborder" width="28.849999999999998%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p17672831194116_2">1009200201</p></td>         <td class="cellrowborder" width="71.15%">          <p id="ZH-CN_TOPIC_0000002363785049__zh-cn_topic_0000002363785049_p148347851614_2">ARView invalid operation.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arEngine, arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Node</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ARViewCallbackImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">arViewController.ARViewCallback</span> {</li><li>
</li><li>  <span class="hljs-title function_">onAnchorAdd</span>(<span class="hljs-attr">ctx</span>: arViewController.<span class="hljs-property">ARViewContext</span>, <span class="hljs-attr">node</span>: <span class="hljs-title class_">Node</span>, <span class="hljs-attr">anchor</span>: arEngine.<span class="hljs-property">ARAnchor</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAnchorAdd'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`add anchor id = <span class="hljs-subst">${<span class="hljs-built_in">String</span>(anchor.id)}</span>`</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`add anchor translation = <span class="hljs-subst">${anchor.getPose().translation}</span>`</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`add node pose = <span class="hljs-subst">${node.position}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onAnchorUpdate</span>(<span class="hljs-attr">ctx</span>: arViewController.<span class="hljs-property">ARViewContext</span>, <span class="hljs-attr">node</span>: <span class="hljs-title class_">Node</span>, <span class="hljs-attr">anchor</span>: arEngine.<span class="hljs-property">ARAnchor</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'onAnchorUpdate'</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`update anchor id = <span class="hljs-subst">${<span class="hljs-built_in">String</span>(anchor.id)}</span>`</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`update anchor translation = <span class="hljs-subst">${anchor.getPose().translation}</span>`</span>);</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`update node pose = <span class="hljs-subst">${node.position}</span>`</span>);</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onFrameUpdate</span>(<span class="hljs-attr">ctx</span>: arViewController.<span class="hljs-property">ARViewContext</span>, <span class="hljs-attr">sysBootTs</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">arSession</span>: arEngine.<span class="hljs-property">ARSession</span> | <span class="hljs-literal">undefined</span> = ctx.<span class="hljs-property">session</span>;</li><li>    <span class="hljs-keyword">if</span> (arSession) {</li><li>      <span class="hljs-keyword">let</span> frame = arSession.<span class="hljs-title function_">getFrame</span>();</li><li>      <span class="hljs-keyword">if</span> (!frame) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get arSession.frame, it is undefined or null'</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting arSession.frame = <span class="hljs-subst">${frame.timestamp}</span>`</span>);</li><li>        frame.<span class="hljs-title function_">release</span>();</li><li>      }</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get arSession, arSession is undefined'</span>);</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: arViewController.<span class="hljs-property">ARViewContext</span> = <span class="hljs-keyword">new</span> arViewController.<span class="hljs-title class_">ARViewContext</span>();</li><li>context.<span class="hljs-property">callback</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ARViewCallbackImpl</span>();</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section9396615174614" device-type="phone,tablet">ARViewCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9396615174614" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>ARViewCallback抽象类，声明ARView的回调接口。</p>     <p>开发者需继承此类并且根据业务逻辑实现回调子类。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>    </div>    <div class="tiledSection">     <h3 id="section1549684954612" device-type="phone,tablet" class="firsth2">ARViewCallback.onAnchorAdd<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1549684954612" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>abstract onAnchorAdd(ctx: ARViewContext, node: Node, anchor: arEngine.ARAnchor): void</p>     <p>当AR会话检测到新平面时，平面自动创建锚点以及对应的场景节点，并在帧刷新逻辑中自动触发此回调函数。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.1" width="27.122712271227122%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.2" width="27.122712271227122%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.3" width="18.631863186318633%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.5.1.4" width="27.122712271227122%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>ctx</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="/consumer/cn/doc/harmonyos-references/arengine-api-arviewcontroller#section12681656121519">ARViewContext</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>当前ARView的上下文信息（ARViewContext）。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>node</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node" target="_blank">Node</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>新建锚点对应的AR场景节点。</p>          <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">            <p>Node属于AGP（Ark Graphics Platform）渲染引擎能力，使用了AGP齐世界坐标系，与AR Engine所使用的重力对齐世界坐标系不一致，与anchor参数一同使用时需注意区分。具体参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arengine-coordinate#section51232054151614" target="_blank">AR Engine重力对齐世界坐标系</a>与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arengine-coordinate#section7594451483" target="_blank">AGP世界坐标系</a>。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>anchor</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine">arEngine</a>.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section106411242143016">ARAnchor</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>新平面对应的新创建的锚点。</p>          <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">            <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section106411242143016">ARAnchor</a>的位姿使用了AR Engine重力对齐世界坐标系。具体参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arengine-coordinate#section51232054151614" target="_blank">AR Engine重力对齐世界坐标系</a>。</p>           </div></div></div></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arEngine, arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Node</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-comment">// 参考ARViewContext.callback接口示例代码创建callback类再实现该接口</span></li><li><span class="hljs-title function_">onAnchorAdd</span>(<span class="hljs-attr">ctx</span>: arViewController.<span class="hljs-property">ARViewContext</span>, <span class="hljs-attr">node</span>: <span class="hljs-title class_">Node</span>, <span class="hljs-attr">anchor</span>: arEngine.<span class="hljs-property">ARAnchor</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 其他操作</span></li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section15168172134711" device-type="phone,tablet">ARViewCallback.onAnchorUpdate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section15168172134711" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>abstract onAnchorUpdate(ctx: ARViewContext, node: Node, anchor: arEngine.ARAnchor): void</p>     <p>更新AR会话中的锚点时，ARView自动检测该锚点对应的场景节点，并调用该回调函数。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数</strong>：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="27.122712271227122%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="27.122712271227122%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="18.631863186318633%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="27.122712271227122%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>ctx</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="/consumer/cn/doc/harmonyos-references/arengine-api-arviewcontroller#section12681656121519">ARViewContext</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>当前ARView的上下文信息（ARViewContext）。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>node</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene-nodes#node" target="_blank">Node</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>新建锚点对应的AR场景节点。</p>          <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">            <p>Node属于AGP（Ark Graphics Platform）渲染引擎能力，使用了AGP齐世界坐标系，与AR Engine所使用的的重力对齐世界坐标系不一致，与anchor参数一同使用时需注意区分。具体参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arengine-coordinate#section51232054151614" target="_blank">AR Engine重力对齐世界坐标系</a>与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arengine-coordinate#section7594451483" target="_blank">AGP世界坐标系</a>。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>anchor</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine">arEngine</a>.<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section106411242143016">ARAnchor</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>更新锚点。</p>          <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">            <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arengine-api-arengine#section106411242143016">ARAnchor</a>的位姿使用了AR Engine重力对齐世界坐标系。具体参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arengine-coordinate#section51232054151614" target="_blank">AR Engine重力对齐世界坐标系</a>。</p>           </div></div></div></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arEngine, arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Node</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-comment">// 参考ARViewContext.callback接口示例代码创建callback类再实现该接口</span></li><li><span class="hljs-title function_">onAnchorUpdate</span>(<span class="hljs-attr">ctx</span>: arViewController.<span class="hljs-property">ARViewContext</span>, <span class="hljs-attr">node</span>: <span class="hljs-title class_">Node</span>, <span class="hljs-attr">anchor</span>: arEngine.<span class="hljs-property">ARAnchor</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 其他操作</span></li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section52341758194715" device-type="phone,tablet">ARViewCallback.onFrameUpdate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section52341758194715" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>abstract onFrameUpdate(ctx: ARViewContext, sysBootTs: number): void</p>     <p>AR场景每帧刷新前会自动触发该回调，开发者可以基于此回调进行AR实体摆放位姿调整、动画调整以及相机位姿调整等。</p>     <p><strong>系统能力：</strong>SystemCapability.AREngine.Core</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.1" width="27.122712271227122%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.2" width="27.122712271227122%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.3" width="18.631863186318633%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.5.1.4" width="27.122712271227122%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>ctx</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p><a href="/consumer/cn/doc/harmonyos-references/arengine-api-arviewcontroller#section12681656121519">ARViewContext</a></p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>当前ARView的上下文信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.122712271227122%">          <p>sysBootTs</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>number</p></td>         <td class="cellrowborder" width="18.631863186318633%">          <p>是</p></td>         <td class="cellrowborder" width="27.122712271227122%">          <p>时间戳，单位为us。</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例</strong>：      <div _ngcontent-qgr-c106="" class="highlight-div"><div _ngcontent-qgr-c106="" class="highlight-div-header"><div _ngcontent-qgr-c106="" class="highlight-div-header-left"><div _ngcontent-qgr-c106="" class="handle-button expand-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-qgr-c106="" class="highlight-div-header-right"><div _ngcontent-qgr-c106="" class="handle-button ai-button"></div><div _ngcontent-qgr-c106="" class="handle-button line-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-qgr-c106="" class="handle-button theme-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-qgr-c106="" class="handle-button copy-button"><div _ngcontent-qgr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-qgr-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { arEngine, arViewController } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AREngine'</span>;</li><li>
</li><li><span class="hljs-comment">// 参考ARViewContext.callback接口示例代码创建callback类再实现该接口</span></li><li><span class="hljs-title function_">onFrameUpdate</span>(<span class="hljs-attr">ctx</span>: arViewController.<span class="hljs-property">ARViewContext</span>, <span class="hljs-attr">sysBootTs</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">arSession</span>: arEngine.<span class="hljs-property">ARSession</span> | <span class="hljs-literal">undefined</span> = ctx.<span class="hljs-property">session</span>;</li><li>  <span class="hljs-keyword">if</span> (arSession) {</li><li>    <span class="hljs-keyword">let</span> frame = arSession.<span class="hljs-title function_">getFrame</span>();</li><li>    <span class="hljs-keyword">if</span> (!frame){</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get arSession.frame, it is undefined or null'</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting arSession.frame = <span class="hljs-subst">${frame.timestamp}</span>`</span>);</li><li>      frame.<span class="hljs-title function_">release</span>();</li><li>    }</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get arSession, arSession is undefined'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>     </div>    </div>   </div>   <div></div></div>