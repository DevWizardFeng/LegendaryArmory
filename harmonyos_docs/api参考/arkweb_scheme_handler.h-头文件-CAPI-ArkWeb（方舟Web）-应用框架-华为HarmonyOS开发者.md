<h1 _ngcontent-dmv-c119="" class="doc-title ng-star-inserted" title="arkweb_scheme_handler.h"> arkweb_scheme_handler.h </h1>

<div _ngcontent-dmv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div> <div class="tiledSection" style="contain-intrinsic-size: auto 422px;"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>声明用于拦截来自ArkWeb的请求的API。</p> <p><strong>引用文件：</strong> &lt;web/arkweb_scheme_handler.h&gt;</p> <p><strong>库：</strong> libohweb.so</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web">Web</a></p> <p><strong>相关示例：</strong> <a href="https://gitcode.com/harmonyos_samples/DocsSample_ArkWeb/tree/master/ArkWebSchemeHandler" target="_blank">ArkWebSchemeHandler</a></p> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 630px;"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler_</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_SchemeHandler</td> <td class="cellrowborder" width="33.33333333333333%">该类用于拦截指定scheme的请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler_</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_ResourceHandler</td> <td class="cellrowborder" width="33.33333333333333%">用于被拦截的URL请求。可以通过ArkWeb_ResourceHandler发送自定义请求头以及自定义请求体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response_</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_Response</td> <td class="cellrowborder" width="33.33333333333333%">为被拦截的请求构造一个ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest_</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_ResourceRequest</td> <td class="cellrowborder" width="33.33333333333333%">对应内核的一个请求，可以通过OH_ArkWeb_ResourceRequest获取请求的URL、method、post data以及其他信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-requestheaderlist">ArkWeb_RequestHeaderList_</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_RequestHeaderList</td> <td class="cellrowborder" width="33.33333333333333%">请求头列表。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream_</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_HttpBodyStream</td> <td class="cellrowborder" width="33.33333333333333%">请求的上传数据。使用OH_ArkWebHttpBodyStream_接口来读取上传的数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 322px;"><h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_customschemeoption">ArkWeb_CustomSchemeOption</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_CustomSchemeOption</td> <td class="cellrowborder" width="33.33333333333333%">custom scheme的配置信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_resourcetype">ArkWeb_ResourceType</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_ResourceType</td> <td class="cellrowborder" width="33.33333333333333%">请求的资源类型。这些常量与Chromium中的ResourceType的对应项相匹配，不应重新编号。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 9601px;"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_onrequeststart">typedef void (*ArkWeb_OnRequestStart)(const ArkWeb_SchemeHandler* schemeHandler,ArkWeb_ResourceRequest* resourceRequest,const ArkWeb_ResourceHandler* resourceHandler,bool* intercept)</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_OnRequestStart</td> <td class="cellrowborder" width="33.33333333333333%">请求开始的回调，这将在IO线程上被调用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_onrequeststop">typedef void (*ArkWeb_OnRequestStop)(const ArkWeb_SchemeHandler* schemeHandler,const ArkWeb_ResourceRequest* resourceRequest)</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_OnRequestStop</td> <td class="cellrowborder" width="33.33333333333333%"><p>请求完成时的回调函数。这将在IO线程上被调用。</p> <p>应该使用ArkWeb_ResourceRequest_Destroy销毁resourceRequest，</p> <p>并使用ArkWeb_ResourceHandler_Destroy销毁在ArkWeb_OnRequestStart中接收到的ArkWeb_ResourceHandler。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_httpbodystreamreadcallback">typedef void (*ArkWeb_HttpBodyStreamReadCallback)(const ArkWeb_HttpBodyStream* httpBodyStream,uint8_t* buffer,int bytesRead)</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_HttpBodyStreamReadCallback</td> <td class="cellrowborder" width="33.33333333333333%">当OH_ArkWebHttpBodyStream_Read读取操作完成时的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_httpbodystreamasyncreadcallback">typedef void (*ArkWeb_HttpBodyStreamAsyncReadCallback)(const ArkWeb_HttpBodyStream* httpBodyStream,uint8_t* buffer,int bytesRead)</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_HttpBodyStreamAsyncReadCallback</td> <td class="cellrowborder" width="33.33333333333333%">当OH_ArkWebHttpBodyStream_AsyncRead读取操作完成时的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_httpbodystreaminitcallback">typedef void (*ArkWeb_HttpBodyStreamInitCallback)(const ArkWeb_HttpBodyStream* httpBodyStream, ArkWeb_NetError result)</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_HttpBodyStreamInitCallback</td> <td class="cellrowborder" width="33.33333333333333%">ArkWeb_HttpBodyStream初始化操作完成时回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebrequestheaderlist_destroy">void OH_ArkWebRequestHeaderList_Destroy(ArkWeb_RequestHeaderList* requestHeaderList)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁ArkWeb_RequestHeaderList对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebrequestheaderlist_getsize">int32_t OH_ArkWebRequestHeaderList_GetSize(const ArkWeb_RequestHeaderList* requestHeaderList)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取请求头列表的大小。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebrequestheaderlist_getheader">void OH_ArkWebRequestHeaderList_GetHeader(const ArkWeb_RequestHeaderList* requestHeaderList,int32_t index,char** key,char** value)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取指定的请求头。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_setuserdata">int32_t OH_ArkWebResourceRequest_SetUserData(ArkWeb_ResourceRequest* resourceRequest, void* userData)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">将一个用户数据设置到ArkWeb_ResourceRequest对象中。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_getuserdata">void* OH_ArkWebResourceRequest_GetUserData(const ArkWeb_ResourceRequest* resourceRequest)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">从ArkWeb_ResourceRequest获取用户数据。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_getmethod">void OH_ArkWebResourceRequest_GetMethod(const ArkWeb_ResourceRequest* resourceRequest, char** method)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取请求的method。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_geturl">void OH_ArkWebResourceRequest_GetUrl(const ArkWeb_ResourceRequest* resourceRequest, char** url)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取请求的url。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_gethttpbodystream">void OH_ArkWebResourceRequest_GetHttpBodyStream(const ArkWeb_ResourceRequest* resourceRequest,ArkWeb_HttpBodyStream** httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建一个ArkWeb_HttpBodyStream，用于读取请求的上传数据。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_destroyhttpbodystream">void OH_ArkWebResourceRequest_DestroyHttpBodyStream(ArkWeb_HttpBodyStream* httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁ArkWeb_HttpBodyStream对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_getresourcetype">int32_t OH_ArkWebResourceRequest_GetResourceType(const ArkWeb_ResourceRequest* resourceRequest)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取请求的资源类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_getframeurl">void OH_ArkWebResourceRequest_GetFrameUrl(const ArkWeb_ResourceRequest* resourceRequest, char** frameUrl)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取触发此请求的Frame的URL。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_setuserdata">int32_t OH_ArkWebHttpBodyStream_SetUserData(ArkWeb_HttpBodyStream* httpBodyStream, void* userData)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">将一个用户数据设置到ArkWeb_HttpBodyStream对象中。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_getuserdata">void* OH_ArkWebHttpBodyStream_GetUserData(const ArkWeb_HttpBodyStream* httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">从ArkWeb_HttpBodyStream获取用户数据。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_setreadcallback">int32_t OH_ArkWebHttpBodyStream_SetReadCallback(ArkWeb_HttpBodyStream* httpBodyStream,ArkWeb_HttpBodyStreamReadCallback readCallback)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>为OH_ArkWebHttpBodyStream_Read设置回调函数。OH_ArkWebHttpBodyStream_Read的结果将通过readCallback通知给调用者。</p> <p>该回调函数将在与OH_ArkWebHttpBodyStream_Read相同的线程中运行。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_setasyncreadcallback">int32_t OH_ArkWebHttpBodyStream_SetAsyncReadCallback(ArkWeb_HttpBodyStream* httpBodyStream,ArkWeb_HttpBodyStreamReadCallback readCallback)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>为OH_ArkWebHttpBodyStream_AsyncRead设置回调函数。OH_ArkWebHttpBodyStream_AsyncRead的结果将通过readCallback通知给开发者。</p> <p>该回调函数将在与OH_ArkWebHttpBodyStream_AsyncRead相同的线程中运行。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_init">int32_t OH_ArkWebHttpBodyStream_Init(ArkWeb_HttpBodyStream* httpBodyStream,ArkWeb_HttpBodyStreamInitCallback initCallback)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">初始化ArkWeb_HttpBodyStream。在调用任何其他函数之前，必须调用此函数。该接口需要在IO线程调用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_read">void OH_ArkWebHttpBodyStream_Read(const ArkWeb_HttpBodyStream* httpBodyStream, uint8_t* buffer, int bufLen)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">将请求的上传数据读取到buffer。buffer的大小必须大于bufLen。我们将从工作线程读取数据到buffer，因此在回调函数返回之前，不应在其他线程中使用buffer，以避免并发问题。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_asyncread">void OH_ArkWebHttpBodyStream_AsyncRead(const ArkWeb_HttpBodyStream* httpBodyStream, uint8_t* buffer, int bufLen)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">将请求的上传数据读取到buffer。buffer的大小必须大于bufLen。数据将从工作线程读取数据到buffer，因此在回调函数返回之前，不应在其他线程中使用buffer，以避免并发问题。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_getsize">uint64_t OH_ArkWebHttpBodyStream_GetSize(const ArkWeb_HttpBodyStream* httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取httpBodyStream的大小。当数据以分块的形式传输或httpBodyStream无效时，始终返回0。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_getposition">uint64_t OH_ArkWebHttpBodyStream_GetPosition(const ArkWeb_HttpBodyStream* httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取httpBodyStream当前的读取位置。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_ischunked">bool OH_ArkWebHttpBodyStream_IsChunked(const ArkWeb_HttpBodyStream* httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取httpBodyStream是否采用分块传输。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_iseof">bool OH_ArkWebHttpBodyStream_IsEof(const ArkWeb_HttpBodyStream* httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">如果httpBodyStream中的所有数据都已被读取，则返回true。对于分块传输类型的httpBodyStream，在第一次读取尝试之前返回false。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebhttpbodystream_isinmemory">bool OH_ArkWebHttpBodyStream_IsInMemory(const ArkWeb_HttpBodyStream* httpBodyStream)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">如果httpBodyStream中的上传数据完全在内存中，并且所有读取请求都将同步成功，则返回true。对于分块传输类型的数据，预期返回false。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_destroy">int32_t OH_ArkWebResourceRequest_Destroy(const ArkWeb_ResourceRequest* resourceRequest)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁ArkWeb_ResourceRequest对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_getreferrer">void OH_ArkWebResourceRequest_GetReferrer(const ArkWeb_ResourceRequest* resourceRequest, char** referrer)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取请求的Referrer。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_getrequestheaders">void OH_ArkWebResourceRequest_GetRequestHeaders(const ArkWeb_ResourceRequest* resourceRequest,ArkWeb_RequestHeaderList** requestHeaderList)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取请求的请求头列表OH_ArkWeb_RequestHeaderList。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_isredirect">bool OH_ArkWebResourceRequest_IsRedirect(const ArkWeb_ResourceRequest* resourceRequest)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">判断这是否是一个重定向请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_ismainframe">bool OH_ArkWebResourceRequest_IsMainFrame(const ArkWeb_ResourceRequest* resourceRequest)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">判断这是否是主框架文档资源的请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcerequest_hasgesture">bool OH_ArkWebResourceRequest_HasGesture(const ArkWeb_ResourceRequest* resourceRequest)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">判断这是否是一个由用户手势触发的请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_registercustomschemes">int32_t OH_ArkWeb_RegisterCustomSchemes(const char* scheme, int32_t option)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>将custom scheme注册到ArkWeb。对于内置的HTTP、HTTPS、FILE、FTP、ABOUT和DATA协议，不应调用此函数。</p> <p>此函数应在主线程上调用并且需要在内核初始化之前调用。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebserviceworker_setschemehandler">bool OH_ArkWebServiceWorker_SetSchemeHandler(const char* scheme, ArkWeb_SchemeHandler* schemeHandler)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>为指定scheme设置一个ArkWeb_SchemeHandler以拦截ServiceWorker触发的该scheme类型的请求。应该在创建BrowserContext之后设置SchemeHandler。</p> <p>可以使用WebviewController.initializeWebEngine来初始化BrowserContext而无需创建ArkWeb。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_setschemehandler">bool OH_ArkWeb_SetSchemeHandler(const char* scheme, const char* webTag, ArkWeb_SchemeHandler* schemeHandler)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>为指定scheme设置一个ArkWeb_SchemeHandler以拦截该scheme类型的请求。应该在创建BrowserContext之后设置SchemeHandler。</p> <p>可以使用WebviewController.initializeWebEngine来初始化BrowserContext而无需创建ArkWeb。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebserviceworker_clearschemehandlers">int32_t OH_ArkWebServiceWorker_ClearSchemeHandlers()</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">清除为ServiceWorker注册的SchemeHandler。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_clearschemehandlers">int32_t OH_ArkWeb_ClearSchemeHandlers(const char* webTag)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">清除为指定web注册的SchemeHandler。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_createschemehandler">void OH_ArkWeb_CreateSchemeHandler(ArkWeb_SchemeHandler** schemeHandler)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建一个ArkWeb_SchemeHandler对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_destroyschemehandler">void OH_ArkWeb_DestroySchemeHandler(ArkWeb_SchemeHandler* schemeHandler)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁一个ArkWeb_SchemeHandler对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebschemehandler_setuserdata">int32_t OH_ArkWebSchemeHandler_SetUserData(ArkWeb_SchemeHandler* schemeHandler, void* userData)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">将一个用户数据设置到ArkWeb_SchemeHandler对象中。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebschemehandler_getuserdata">void* OH_ArkWebSchemeHandler_GetUserData(const ArkWeb_SchemeHandler* schemeHandler)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">从ArkWeb_SchemeHandler获取用户数据。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebschemehandler_setonrequeststart">int32_t OH_ArkWebSchemeHandler_SetOnRequestStart(ArkWeb_SchemeHandler* schemeHandler,ArkWeb_OnRequestStart onRequestStart)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为SchemeHandler设置OnRequestStart回调。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebschemehandler_setonrequeststop">int32_t OH_ArkWebSchemeHandler_SetOnRequestStop(ArkWeb_SchemeHandler* schemeHandler,ArkWeb_OnRequestStop onRequestStop)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为SchemeHandler设置OnRequestStop回调。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_createresponse">void OH_ArkWeb_CreateResponse(ArkWeb_Response** response)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为被拦截的请求创建一个ArkWeb_Response对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_destroyresponse">void OH_ArkWeb_DestroyResponse(ArkWeb_Response* response)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁一个ArkWeb_Response对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_seturl">int32_t OH_ArkWebResponse_SetUrl(ArkWeb_Response* response, const char* url)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置经过重定向或由于HSTS而改变后的解析URL，设置后会触发跳转。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_geturl">void OH_ArkWebResponse_GetUrl(const ArkWeb_Response* response, char** url)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取经过重定向或由于HSTS而更改后的解析URL。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_seterror">int32_t OH_ArkWebResponse_SetError(ArkWeb_Response* response, ArkWeb_NetError errorCode)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">给ArkWeb_Response对象设置一个错误码。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_geterror">ArkWeb_NetError OH_ArkWebResponse_GetError(const ArkWeb_Response* response)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取ArkWeb_Response的错误码。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_setstatus">int32_t OH_ArkWebResponse_SetStatus(ArkWeb_Response* response, int status)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为ArkWeb_Response对象设置一个HTTP状态码。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_getstatus">int OH_ArkWebResponse_GetStatus(const ArkWeb_Response* response)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取ArkWeb_Response的HTTP状态码。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_setstatustext">int32_t OH_ArkWebResponse_SetStatusText(ArkWeb_Response* response, const char* statusText)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为ArkWeb_Response设置状态文本。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_getstatustext">void OH_ArkWebResponse_GetStatusText(const ArkWeb_Response* response, char** statusText)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取ArkWeb_Response的状态文本。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_setmimetype">int32_t OH_ArkWebResponse_SetMimeType(ArkWeb_Response* response, const char* mimeType)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为ArkWeb_Response设置媒体类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_getmimetype">void OH_ArkWebResponse_GetMimeType(const ArkWeb_Response* response, char** mimeType)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取ArkWeb_Response的媒体类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_setcharset">int32_t OH_ArkWebResponse_SetCharset(ArkWeb_Response* response, const char* charset)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为ArkWeb_Response设置字符集。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_getcharset">void OH_ArkWebResponse_GetCharset(const ArkWeb_Response* response, char** charset)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取ArkWeb_Response的字符集。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_setheaderbyname">int32_t OH_ArkWebResponse_SetHeaderByName(ArkWeb_Response* response,const char* name,const char* value,bool overwrite)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">为ArkWeb_Response设置一个header。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresponse_getheaderbyname">void OH_ArkWebResponse_GetHeaderByName(const ArkWeb_Response* response, const char* name, char** value)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">从ArkWeb_Response中获取header。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_destroy">int32_t OH_ArkWebResourceHandler_Destroy(const ArkWeb_ResourceHandler* resourceHandler)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁一个ArkWeb_ResourceHandler对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didreceiveresponse">int32_t OH_ArkWebResourceHandler_DidReceiveResponse(const ArkWeb_ResourceHandler* resourceHandler,const ArkWeb_Response* response)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">将构造的响应头传递给被拦截的请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didreceivedata">int32_t OH_ArkWebResourceHandler_DidReceiveData(const ArkWeb_ResourceHandler* resourceHandler,const uint8_t* buffer,int64_t bufLen)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">将构造的响应体传递给被拦截的请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didfinish">int32_t OH_ArkWebResourceHandler_DidFinish(const ArkWeb_ResourceHandler* resourceHandler)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">通知ArkWeb内核被拦截的请求已经完成，并且没有更多的数据可用。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didfailwitherror">int32_t OH_ArkWebResourceHandler_DidFailWithError(const ArkWeb_ResourceHandler* resourceHandler,ArkWeb_NetError errorCode)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">通知ArkWeb内核，被拦截的请求应该失败。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didfailwitherrorv2">int32_t OH_ArkWebResourceHandler_DidFailWithErrorV2(const ArkWeb_ResourceHandler* resourceHandler,ArkWeb_NetError errorCode,bool completeIfNoResponse)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">通知ArkWeb内核，被拦截的请求应该失败。对比OH_ArkWebResourceHandler_DidFailWithError接口，新增参数completeIfNoResponse，当值为true时，若之前未调用过OH_ArkWebResourceHandler_DidReceiveResponse，则会自动生成一个response以完成此次网络请求，网络错误码为-104；值为false时，将等待应用调用OH_ArkWebResourceHandler_DidReceiveResponse并传入response，不会直接完成此次网络请求。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_releasestring">void OH_ArkWeb_ReleaseString(char* string)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">释放由NDK接口创建的字符串。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkweb_releasebytearray">void OH_ArkWeb_ReleaseByteArray(uint8_t* byteArray)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">释放由NDK接口创建的字节数组。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1285px;"><h3 id="arkweb_customschemeoption" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ArkWeb_CustomSchemeOption<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkweb_customschemeoption" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ArkWeb_CustomSchemeOption</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>custom scheme的配置信息。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OH_ARKWEB_SCHEME_OPTION_NONE = 0</td> <td class="cellrowborder" width="50%">表示注册自定义scheme时不赋予它任何特殊行为或能力。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_STANDARD = 1 &lt;&lt; 0</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_STANDARD，那么该scheme将被视为标准scheme来处理。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_LOCAL = 1 &lt;&lt; 1</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_LOCAL，则将使用与“file” URL相同的安全规则来处理该scheme。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_DISPLAY_ISOLATED = 1 &lt;&lt; 2</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_DISPLAY_ISOLATED，则该scheme的请求只能由使用相同scheme加载的页面中发起。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_SECURE = 1 &lt;&lt; 3</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_SECURE，则将使用与“https” URL相同的安全规则来处理该scheme。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_CORS_ENABLED = 1 &lt;&lt; 4</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_CORS_ENABLED，则该scheme可以发送CORS请求。在大多数情况下，当设置了ARKWEB_SCHEME_OPTION_STANDARD时，应该设置此值。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_CSP_BYPASSING = 1 &lt;&lt; 5</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_CSP_BYPASSING，则该scheme可以绕过内容安全策略（CSP）检查。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_FETCH_ENABLED = 1 &lt;&lt; 6</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_FETCH_ENABLED，则可以发起该scheme的FETCH API请求。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKWEB_SCHEME_OPTION_CODE_CACHE_ENABLED = 1 &lt;&lt; 7</td> <td class="cellrowborder" width="50%">如果设置了ARKWEB_SCHEME_OPTION_CODE_CACHE_ENABLED，则该scheme的js资源支持生成code cache。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1594px;"><h3 id="arkweb_resourcetype" device-type="phone,2in1,tablet,wearable,tv">ArkWeb_ResourceType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkweb_resourcetype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ArkWeb_ResourceType</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>请求的资源类型。这些常量与Chromium中的ResourceType的对应项相匹配，不应重新编号。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">MAIN_FRAME = 0</td> <td class="cellrowborder" width="50%">顶层页面。</td> </tr> <tr><td class="cellrowborder" width="50%">SUB_FRAME = 1</td> <td class="cellrowborder" width="50%">Frame或Iframe。</td> </tr> <tr><td class="cellrowborder" width="50%">STYLE_SHEET = 2</td> <td class="cellrowborder" width="50%">CSS样式表。</td> </tr> <tr><td class="cellrowborder" width="50%">SCRIPT = 3</td> <td class="cellrowborder" width="50%">外部脚本。</td> </tr> <tr><td class="cellrowborder" width="50%">IMAGE = 4</td> <td class="cellrowborder" width="50%">图片（jpg/gif/png/以及其他）。</td> </tr> <tr><td class="cellrowborder" width="50%">FONT_RESOURCE = 5</td> <td class="cellrowborder" width="50%">字体。</td> </tr> <tr><td class="cellrowborder" width="50%">SUB_RESOURCE = 6</td> <td class="cellrowborder" width="50%">其他子资源。如果实际类型未知，则是默认类型。</td> </tr> <tr><td class="cellrowborder" width="50%">OBJECT = 7</td> <td class="cellrowborder" width="50%">插件的Object（或embed）标签，或者插件请求的资源。</td> </tr> <tr><td class="cellrowborder" width="50%">MEDIA = 8</td> <td class="cellrowborder" width="50%">媒体资源。</td> </tr> <tr><td class="cellrowborder" width="50%">WORKER = 9</td> <td class="cellrowborder" width="50%">专用工作线程的主资源。</td> </tr> <tr><td class="cellrowborder" width="50%">SHARED_WORKER = 10</td> <td class="cellrowborder" width="50%">共享工作线程的主资源。</td> </tr> <tr><td class="cellrowborder" width="50%">PREFETCH = 11</td> <td class="cellrowborder" width="50%">明确的预取请求。</td> </tr> <tr><td class="cellrowborder" width="50%">FAVICON = 12</td> <td class="cellrowborder" width="50%">网站图标。</td> </tr> <tr><td class="cellrowborder" width="50%">XHR = 13</td> <td class="cellrowborder" width="50%">XMLHttpRequest。</td> </tr> <tr><td class="cellrowborder" width="50%">PING = 14</td> <td class="cellrowborder" width="50%">/sendBeacon的Ping请求。</td> </tr> <tr><td class="cellrowborder" width="50%">SERVICE_WORKER = 15</td> <td class="cellrowborder" width="50%">service worker的主资源。</td> </tr> <tr><td class="cellrowborder" width="50%">CSP_REPORT = 16</td> <td class="cellrowborder" width="50%">内容安全策略违规报告。</td> </tr> <tr><td class="cellrowborder" width="50%">PLUGIN_RESOURCE = 17</td> <td class="cellrowborder" width="50%">插件请求的资源。</td> </tr> <tr><td class="cellrowborder" width="50%">NAVIGATION_PRELOAD_MAIN_FRAME = 19</td> <td class="cellrowborder" width="50%">触发service worker预热的主frame跳转请求。</td> </tr> <tr><td class="cellrowborder" width="50%">NAVIGATION_PRELOAD_SUB_FRAME = 20</td> <td class="cellrowborder" width="50%">触发service worker预热的子frame跳转请求。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 770px;"><h3 id="arkweb_onrequeststart" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ArkWeb_OnRequestStart()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkweb_onrequeststart" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*ArkWeb_OnRequestStart)(<span class="hljs-keyword">const</span> ArkWeb_SchemeHandler* schemeHandler,ArkWeb_ResourceRequest* resourceRequest,<span class="hljs-keyword">const</span> ArkWeb_ResourceHandler* resourceHandler,<span class="hljs-type">bool</span>* intercept)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>请求开始的回调，这将在IO线程上被调用。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">ArkWeb_SchemeHandler。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">通过该对象获取请求的信息。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler</a>* resourceHandler</td> <td class="cellrowborder" width="50%">请求的ArkWeb_ResourceHandler。如果intercept设置为false，则不应使用它。</td> </tr> <tr><td class="cellrowborder" width="50%">bool* intercept</td> <td class="cellrowborder" width="50%">如果为true，则会拦截请求；如果为false，则不会拦截。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 724px;"><h3 id="arkweb_onrequeststop" device-type="phone,2in1,tablet,wearable,tv">ArkWeb_OnRequestStop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkweb_onrequeststop" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*ArkWeb_OnRequestStop)(<span class="hljs-keyword">const</span> ArkWeb_SchemeHandler* schemeHandler,<span class="hljs-keyword">const</span> ArkWeb_ResourceRequest* resourceRequest)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>请求完成时的回调函数。这将在IO线程上被调用。</p> <p>应该使用ArkWeb_ResourceRequest_Destroy销毁resourceRequest，并使用ArkWeb_ResourceHandler_Destroy销毁在ArkWeb_OnRequestStart中接收到的ArkWeb_ResourceHandler。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">ArkWeb_SchemeHandler。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 803px;"><h3 id="arkweb_httpbodystreamreadcallback" device-type="phone,2in1,tablet,wearable,tv">ArkWeb_HttpBodyStreamReadCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkweb_httpbodystreamreadcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*ArkWeb_HttpBodyStreamReadCallback)</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream,<span class="hljs-type">uint8_t</span>* buffer,<span class="hljs-type">int</span> bytesRead)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>当OH_ArkWebHttpBodyStream_Read读取操作完成时的回调函数。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%">uint8_t* buffer</td> <td class="cellrowborder" width="50%">接收数据的buffer。</td> </tr> <tr><td class="cellrowborder" width="50%">int bytesRead</td> <td class="cellrowborder" width="50%">OH_ArkWebHttpBodyStream_Read后的回调函数。如果bytesRead大于0，则表示buffer已填充了bytesRead大小的数据。调用者可以从buffer中读取数据，如果OH_ArkWebHttpBodyStream_IsEOF为false，则调用者可以继续读取剩余的数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 803px;"><h3 id="arkweb_httpbodystreamasyncreadcallback" device-type="phone,2in1,tablet,wearable,tv">ArkWeb_HttpBodyStreamAsyncReadCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkweb_httpbodystreamasyncreadcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*ArkWeb_HttpBodyStreamAsyncReadCallback)</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream *httpBodyStream,<span class="hljs-type">uint8_t</span> *buffer,<span class="hljs-type">int</span> bytesRead)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>当OH_ArkWebHttpBodyStream_AsyncRead读取操作完成时的回调函数。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%">uint8_t* buffer</td> <td class="cellrowborder" width="50%">接收数据的缓存区。</td> </tr> <tr><td class="cellrowborder" width="50%">int bytesRead</td> <td class="cellrowborder" width="50%">标识异步读取操作执行结果的字节计数值。如果bytesRead大于0，则表示buffer已填充了bytesRead大小的数据。开发者可以从buffer中读取数据，如果OH_ArkWebHttpBodyStream_IsEOF为false，则开发者可以继续读取剩余的数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 676px;"><h3 id="arkweb_httpbodystreaminitcallback" device-type="phone,2in1,tablet,wearable,tv">ArkWeb_HttpBodyStreamInitCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkweb_httpbodystreaminitcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*ArkWeb_HttpBodyStreamInitCallback)(<span class="hljs-keyword">const</span> ArkWeb_HttpBodyStream* httpBodyStream, ArkWeb_NetError result)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>ArkWeb_HttpBodyStream初始化操作完成时回调函数。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h#arkweb_neterror">ArkWeb_NetError</a> result</td> <td class="cellrowborder" width="50%">成功时返回ARKWEB_NET_OK，否则请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h">arkweb_net_error_list.h</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="oh_arkwebrequestheaderlist_destroy" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebRequestHeaderList_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebrequestheaderlist_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkWebRequestHeaderList_Destroy</span><span class="hljs-params">(ArkWeb_RequestHeaderList* requestHeaderList)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁ArkWeb_RequestHeaderList对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-requestheaderlist">ArkWeb_RequestHeaderList</a>* requestHeaderList</td> <td class="cellrowborder" width="50%">将被销毁的ArkWeb_RequestHeaderList。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebrequestheaderlist_getsize" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebRequestHeaderList_GetSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebrequestheaderlist_getsize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebRequestHeaderList_GetSize</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_RequestHeaderList* requestHeaderList)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取请求头列表的大小。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-requestheaderlist">ArkWeb_RequestHeaderList</a>* requestHeaderList</td> <td class="cellrowborder" width="50%">请求头的列表。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">请求头的大小。如果requestHeaderList无效，则为-1。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 810px;"><h3 id="oh_arkwebrequestheaderlist_getheader" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebRequestHeaderList_GetHeader()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebrequestheaderlist_getheader" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebRequestHeaderList_GetHeader</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_RequestHeaderList* requestHeaderList,<span class="hljs-type">int32_t</span> index,<span class="hljs-type">char</span>** key,<span class="hljs-type">char</span>** value)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取指定的请求头。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const ArkWeb_RequestHeaderList* requestHeaderList</td> <td class="cellrowborder" width="50%">请求头列表。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t index</td> <td class="cellrowborder" width="50%">请求头的索引。</td> </tr> <tr><td class="cellrowborder" width="50%">char** key</td> <td class="cellrowborder" width="50%">请求头的键（key）。调用者必须使用OH_ArkWeb_ReleaseString函数来释放这个字符串。</td> </tr> <tr><td class="cellrowborder" width="50%">char** value</td> <td class="cellrowborder" width="50%">请求头的值（value）。调用者必须使用OH_ArkWeb_ReleaseString函数来释放这个字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresourcerequest_setuserdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_SetUserData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_setuserdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceRequest_SetUserData</span><span class="hljs-params">(ArkWeb_ResourceRequest* resourceRequest, <span class="hljs-type">void</span>* userData)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将一个用户数据设置到ArkWeb_ResourceRequest对象中。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">将要设置的用户数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcerequest_getuserdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetUserData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_getuserdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span>* <span class="hljs-title">OH_ArkWebResourceRequest_GetUserData</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkWeb_ResourceRequest获取用户数据。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">void*</td> <td class="cellrowborder" width="50%">设置的用户数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 676px;"><h3 id="oh_arkwebresourcerequest_getmethod" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetMethod()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_getmethod" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResourceRequest_GetMethod</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest, <span class="hljs-type">char</span>** method)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取请求的method。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr> <tr><td class="cellrowborder" width="50%">char** method</td> <td class="cellrowborder" width="50%">HTTP请求方法。此函数将为method字符串分配内存，调用者必须使用OH_ArkWeb_ReleaseString释放字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 676px;"><h3 id="oh_arkwebresourcerequest_geturl" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetUrl()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_geturl" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResourceRequest_GetUrl</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest, <span class="hljs-type">char</span>** url)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取请求的url。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr> <tr><td class="cellrowborder" width="50%">char** url</td> <td class="cellrowborder" width="50%">请求的URL。此函数将为URL字符串分配内存，调用者必须通过OH_ArkWeb_ReleaseString释放该字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 724px;"><h3 id="oh_arkwebresourcerequest_gethttpbodystream" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetHttpBodyStream()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_gethttpbodystream" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResourceRequest_GetHttpBodyStream</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest,ArkWeb_HttpBodyStream** httpBodyStream)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>创建一个ArkWeb_HttpBodyStream，用于读取请求的上传数据。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>** httpBodyStream</td> <td class="cellrowborder" width="50%">请求的上传数据。此函数将为httpBodyStream分配内存，调用者必须使用OH_ArkWebResourceRequest_DestroyHttpBodyStream释放httpBodyStream。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="oh_arkwebresourcerequest_destroyhttpbodystream" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_DestroyHttpBodyStream()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_destroyhttpbodystream" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkWebResourceRequest_DestroyHttpBodyStream</span><span class="hljs-params">(ArkWeb_HttpBodyStream* httpBodyStream)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁ArkWeb_HttpBodyStream对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">待销毁的httpBodyStream。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcerequest_getresourcetype" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetResourceType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_getresourcetype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceRequest_GetResourceType</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取请求的资源类型。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">请求的资源类型。如果resourceRequest无效，则为-1。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="oh_arkwebresourcerequest_getframeurl" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetFrameUrl()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_getframeurl" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResourceRequest_GetFrameUrl</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest, <span class="hljs-type">char</span>** frameUrl)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取触发此请求的Frame的URL。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr> <tr><td class="cellrowborder" width="50%">char** frameUrl</td> <td class="cellrowborder" width="50%">触发此请求的Frame的URL。此函数将为URL字符串分配内存，并且调用者必须通过OH_ArkWeb_ReleaseString来释放该字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebhttpbodystream_setuserdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_SetUserData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_setuserdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_SetUserData</span><span class="hljs-params">(ArkWeb_HttpBodyStream* httpBodyStream, <span class="hljs-type">void</span>* userData)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将一个用户数据设置到ArkWeb_HttpBodyStream对象中。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">要设置的用户数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebhttpbodystream_getuserdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_GetUserData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_getuserdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span>* <span class="hljs-title">OH_ArkWebHttpBodyStream_GetUserData</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkWeb_HttpBodyStream获取用户数据。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">void*</td> <td class="cellrowborder" width="50%">设置的用户数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 895px;"><h3 id="oh_arkwebhttpbodystream_setreadcallback" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_SetReadCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_setreadcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkWebHttpBodyStream_SetReadCallback</span>(ArkWeb_HttpBodyStream* httpBodyStream,ArkWeb_HttpBodyStreamReadCallback readCallback)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为OH_ArkWebHttpBodyStream_Read设置回调函数。OH_ArkWebHttpBodyStream_Read的结果将通过readCallback通知给调用者。</p> <p>该回调函数将在与OH_ArkWebHttpBodyStream_Read相同的线程中运行。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_httpbodystreamreadcallback">ArkWeb_HttpBodyStreamReadCallback</a> readCallback</td> <td class="cellrowborder" width="50%">OH_ArkWebHttpBodyStream_Read的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 919px;"><h3 id="oh_arkwebhttpbodystream_setasyncreadcallback" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_SetAsyncReadCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_setasyncreadcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkWebHttpBodyStream_SetAsyncReadCallback</span>(ArkWeb_HttpBodyStream* httpBodyStream,ArkWeb_HttpBodyStreamAsyncReadCallback readCallback)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为OH_ArkWebHttpBodyStream_AsyncRead设置回调函数。OH_ArkWebHttpBodyStream_AsyncRead的结果将通过readCallback通知给开发者。</p> <p>该回调函数会在ArkWeb工作线程中运行。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_httpbodystreamasyncreadcallback">ArkWeb_HttpBodyStreamAsyncReadCallback</a> readCallback</td> <td class="cellrowborder" width="50%">OH_ArkWebHttpBodyStream_AsyncRead的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebhttpbodystream_init" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_Init()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_init" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkWebHttpBodyStream_Init</span>(ArkWeb_HttpBodyStream* httpBodyStream,ArkWeb_HttpBodyStreamInitCallback initCallback)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>初始化ArkWeb_HttpBodyStream。在调用任何其他函数之前，必须调用此函数。该接口需要在IO线程调用。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_httpbodystreaminitcallback">ArkWeb_HttpBodyStreamInitCallback</a> initCallback</td> <td class="cellrowborder" width="50%">初始化的回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 731px;"><h3 id="oh_arkwebhttpbodystream_read" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_Read()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_read" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_Read</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream, <span class="hljs-type">uint8_t</span>* buffer, <span class="hljs-type">int</span> bufLen)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将请求的上传数据读取到buffer。buffer的大小必须大于bufLen。我们将从工作线程读取数据到buffer，因此在回调函数返回之前，不应在其他线程中使用buffer，以避免并发问题。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.31.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%">uint8_t* buffer</td> <td class="cellrowborder" width="50%">接收数据的buffer。</td> </tr> <tr><td class="cellrowborder" width="50%">int bufLen</td> <td class="cellrowborder" width="50%">要读取的字节的大小。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 731px;"><h3 id="oh_arkwebhttpbodystream_asyncread" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_AsyncRead()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_asyncread" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_AsyncRead</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream, <span class="hljs-type">uint8_t</span>* buffer, <span class="hljs-type">int</span> bufLen)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将请求的上传数据读取至buffer，buffer的大小必须超过bufLen。数据将由工作线程读取至buffer，因此在回调函数返回前，不应在其他线程中使用缓冲区，以避免并发问题。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr> <tr><td class="cellrowborder" width="50%">uint8_t* buffer</td> <td class="cellrowborder" width="50%">接收数据的缓存区。</td> </tr> <tr><td class="cellrowborder" width="50%">int bufLen</td> <td class="cellrowborder" width="50%">要读取的字节的大小。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebhttpbodystream_getsize" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_GetSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_getsize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">uint64_t</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_GetSize</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取httpBodyStream的大小。当数据以分块的形式传输或httpBodyStream无效时，始终返回0。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">uint64_t</td> <td class="cellrowborder" width="50%">httpBodyStream的大小。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_arkwebhttpbodystream_getposition" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_GetPosition()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_getposition" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">uint64_t</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_GetPosition</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取httpBodyStream当前的读取位置。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">uint64_t</td> <td class="cellrowborder" width="50%">httpBodyStream当前的读取位置。如果httpBodyStream无效，则位置为0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebhttpbodystream_ischunked" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_IsChunked()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_ischunked" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_IsChunked</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取httpBodyStream是否采用分块传输。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果采用分块传输则返回true;否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_arkwebhttpbodystream_iseof" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_IsEof()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_iseof" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_IsEof</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>如果httpBodyStream中的所有数据都已被读取，则返回true。对于分块传输类型的httpBodyStream，在第一次读取尝试之前返回false。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果所有数据都已被读取则返回true；否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_arkwebhttpbodystream_isinmemory" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebHttpBodyStream_IsInMemory()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebhttpbodystream_isinmemory" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWebHttpBodyStream_IsInMemory</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_HttpBodyStream* httpBodyStream)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>如果httpBodyStream中的上传数据完全在内存中，并且所有读取请求都将同步成功，则返回true。对于分块传输类型的数据，预期返回false。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-httpbodystream">ArkWeb_HttpBodyStream</a>* httpBodyStream</td> <td class="cellrowborder" width="50%">ArkWeb_HttpBodyStream。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果上传数据完全在内存中则返回true；否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcerequest_destroy" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceRequest_Destroy</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁ArkWeb_ResourceRequest对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 676px;"><h3 id="oh_arkwebresourcerequest_getreferrer" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetReferrer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_getreferrer" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResourceRequest_GetReferrer</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest, <span class="hljs-type">char</span>** referrer)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取请求的Referrer。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr> <tr><td class="cellrowborder" width="50%">char** referrer</td> <td class="cellrowborder" width="50%">请求的Referrer。此函数将为referrer字符串分配内存，调用者必须使用 OH_ArkWeb_ReleaseString 释放该字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 652px;"><h3 id="oh_arkwebresourcerequest_getrequestheaders" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_GetRequestHeaders()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_getrequestheaders" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResourceRequest_GetRequestHeaders</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest,ArkWeb_RequestHeaderList** requestHeaderList)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取请求的请求头列表OH_ArkWeb_RequestHeaderList。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-requestheaderlist">ArkWeb_RequestHeaderList</a>** requestHeaderList</td> <td class="cellrowborder" width="50%">请求的请求头列表。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcerequest_isredirect" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_IsRedirect()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_isredirect" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWebResourceRequest_IsRedirect</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>判断这是否是一个重定向请求。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果这是一个重定向，则返回true；否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcerequest_ismainframe" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_IsMainFrame()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_ismainframe" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWebResourceRequest_IsMainFrame</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>判断这是否是主框架文档资源的请求。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果这是来自主框架，则返回true；否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcerequest_hasgesture" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceRequest_HasGesture()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcerequest_hasgesture" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWebResourceRequest_HasGesture</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceRequest* resourceRequest)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>判断这是否是一个由用户手势触发的请求。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcerequest">ArkWeb_ResourceRequest</a>* resourceRequest</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceRequest。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果这是由用户手势触发的，则返回true；否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 895px;"><h3 id="oh_arkweb_registercustomschemes" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_RegisterCustomSchemes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_registercustomschemes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWeb_RegisterCustomSchemes</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* scheme, <span class="hljs-type">int32_t</span> option)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将custom scheme注册到ArkWeb。对于内置的HTTP、HTTPS、FILE、FTP、ABOUT和DATA协议，不应调用此函数。此函数应在主线程上调用并且需要在内核初始化之前调用。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.44.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* scheme</td> <td class="cellrowborder" width="50%">待注册的scheme。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t option</td> <td class="cellrowborder" width="50%">scheme的配置（行为）。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.44.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100100，表示未知错误；返回17100101，表示参数无效；返回17100102，表示注册scheme的配置失败，应该在创建ArkWeb之前注册。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 967px;"><h3 id="oh_arkwebserviceworker_setschemehandler" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebServiceWorker_SetSchemeHandler()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebserviceworker_setschemehandler" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWebServiceWorker_SetSchemeHandler</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* scheme, ArkWeb_SchemeHandler* schemeHandler)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为指定scheme设置一个ArkWeb_SchemeHandler以拦截ServiceWorker触发的该scheme类型的请求。应该在创建BrowserContext之后设置SchemeHandler。</p> <p>可以使用WebviewController.initializeWebEngine来初始化BrowserContext而无需创建ArkWeb。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* scheme</td> <td class="cellrowborder" width="50%">需要被拦截的scheme。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">该scheme的拦截器ArkWeb_SchemeHandler。只有通过ServiceWorker触发的请求才会通过这个schemeHandler进行通知。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.45.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果为指定scheme设置SchemeHandler成功，则返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1022px;"><h3 id="oh_arkweb_setschemehandler" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_SetSchemeHandler()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_setschemehandler" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ArkWeb_SetSchemeHandler</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* scheme, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* webTag, ArkWeb_SchemeHandler* schemeHandler)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为指定scheme设置一个ArkWeb_SchemeHandler以拦截该scheme类型的请求。应该在创建BrowserContext之后设置SchemeHandler。</p> <p>可以使用WebviewController.initializeWebEngine来初始化BrowserContext而无需创建ArkWeb。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* scheme</td> <td class="cellrowborder" width="50%">需要被拦截的scheme。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* webTag</td> <td class="cellrowborder" width="50%">Web组件的标签名称，用于标识某个唯一组件，由开发者来保证名称唯一性。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">该scheme的拦截器ArkWeb_SchemeHandler。只有从指定web触发的请求才会通过这个schemeHandler进行通知。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.46.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">如果为指定scheme设置SchemeHandler成功，则返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="oh_arkwebserviceworker_clearschemehandlers" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebServiceWorker_ClearSchemeHandlers()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebserviceworker_clearschemehandlers" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkWebServiceWorker_ClearSchemeHandlers</span>()</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>清除为ServiceWorker注册的SchemeHandler。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_arkweb_clearschemehandlers" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_ClearSchemeHandlers()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_clearschemehandlers" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWeb_ClearSchemeHandlers</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* webTag)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>清除为指定web注册的SchemeHandler。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* webTag</td> <td class="cellrowborder" width="50%">Web组件的标签名称，用于标识某个唯一组件，由开发者来保证名称唯一性。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 621px;"><h3 id="oh_arkweb_createschemehandler" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_CreateSchemeHandler()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_createschemehandler" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkWeb_CreateSchemeHandler</span><span class="hljs-params">(ArkWeb_SchemeHandler** schemeHandler)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>创建一个ArkWeb_SchemeHandler对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>** schemeHandler</td> <td class="cellrowborder" width="50%">返回创建的ArkWeb_SchemeHandler。在不需要时使用OH_ArkWeb_DestroyschemeHandler销毁它。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="oh_arkweb_destroyschemehandler" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_DestroySchemeHandler()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_destroyschemehandler" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkWeb_DestroySchemeHandler</span><span class="hljs-params">(ArkWeb_SchemeHandler* schemeHandler)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁一个ArkWeb_SchemeHandler对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">待销毁的ArkWeb_SchemeHandler。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebschemehandler_setuserdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebSchemeHandler_SetUserData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebschemehandler_setuserdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebSchemeHandler_SetUserData</span><span class="hljs-params">(ArkWeb_SchemeHandler* schemeHandler, <span class="hljs-type">void</span>* userData)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将一个用户数据设置到ArkWeb_SchemeHandler对象中。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.51.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.51.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">ArkWeb_SchemeHandler。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">要设置的用户数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.51.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebschemehandler_getuserdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebSchemeHandler_GetUserData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebschemehandler_getuserdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span>* <span class="hljs-title">OH_ArkWebSchemeHandler_GetUserData</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_SchemeHandler* schemeHandler)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkWeb_SchemeHandler获取用户数据。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.52.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">ArkWeb_SchemeHandler。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.52.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">void*</td> <td class="cellrowborder" width="50%">设置的用户数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebschemehandler_setonrequeststart" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebSchemeHandler_SetOnRequestStart()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebschemehandler_setonrequeststart" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkWebSchemeHandler_SetOnRequestStart</span>(ArkWeb_SchemeHandler* schemeHandler,ArkWeb_OnRequestStart onRequestStart)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为SchemeHandler设置OnRequestStart回调。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.53.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">该scheme的SchemeHandler。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_onrequeststart">ArkWeb_OnRequestStart</a> onRequestStart</td> <td class="cellrowborder" width="50%">OnRequestStart回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.53.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebschemehandler_setonrequeststop" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebSchemeHandler_SetOnRequestStop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebschemehandler_setonrequeststop" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkWebSchemeHandler_SetOnRequestStop</span>(ArkWeb_SchemeHandler* schemeHandler,ArkWeb_OnRequestStop onRequestStop)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为SchemeHandler设置OnRequestStop回调。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.54.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-schemehandler">ArkWeb_SchemeHandler</a>* schemeHandler</td> <td class="cellrowborder" width="50%">该scheme的SchemeHandler。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#arkweb_onrequeststop">ArkWeb_OnRequestStop</a> onRequestStop</td> <td class="cellrowborder" width="50%">OnRequestStop回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.54.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 621px;"><h3 id="oh_arkweb_createresponse" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_CreateResponse()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_createresponse" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkWeb_CreateResponse</span><span class="hljs-params">(ArkWeb_Response** response)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为被拦截的请求创建一个ArkWeb_Response对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.55.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.55.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>** response</td> <td class="cellrowborder" width="50%">返回创建的ArkWeb_Response。在不需要时使用OH_ArkWeb_DestroyResponse进行销毁。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="oh_arkweb_destroyresponse" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_DestroyResponse()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_destroyresponse" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkWeb_DestroyResponse</span><span class="hljs-params">(ArkWeb_Response* response)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁一个ArkWeb_Response对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.56.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.56.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">待销毁的ArkWeb_Response。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresponse_seturl" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_SetUrl()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_seturl" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResponse_SetUrl</span><span class="hljs-params">(ArkWeb_Response* response, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* url)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置经过重定向或由于HSTS而改变后的解析URL，设置后会触发跳转。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.57.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.57.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* url</td> <td class="cellrowborder" width="50%">解析后的URL。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.57.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 652px;"><h3 id="oh_arkwebresponse_geturl" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_GetUrl()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_geturl" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResponse_GetUrl</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_Response* response, <span class="hljs-type">char</span>** url)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取经过重定向或由于HSTS而更改后的解析URL。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.58.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.58.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">char** url</td> <td class="cellrowborder" width="50%">解析后的URL。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresponse_seterror" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_SetError()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_seterror" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkWebResponse_SetError</span>(ArkWeb_Response* response, ArkWeb_NetError errorCode)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>给ArkWeb_Response对象设置一个错误码。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.59.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h#arkweb_neterror">ArkWeb_NetError</a> errorCode</td> <td class="cellrowborder" width="50%">失败请求的错误码。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.59.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresponse_geterror" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_GetError()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_geterror" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkWeb_NetError <span class="hljs-built_in">OH_ArkWebResponse_GetError</span>(const ArkWeb_Response* response)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取ArkWeb_Response的错误码。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.60.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.60.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.60.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h#arkweb_neterror">ArkWeb_NetError</a></td> <td class="cellrowborder" width="50%">ArkWeb_Response的错误码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresponse_setstatus" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_SetStatus()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_setstatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResponse_SetStatus</span><span class="hljs-params">(ArkWeb_Response* response, <span class="hljs-type">int</span> status)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为ArkWeb_Response对象设置一个HTTP状态码。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.61.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">int status</td> <td class="cellrowborder" width="50%">请求的HTTP状态码。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.61.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_arkwebresponse_getstatus" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_GetStatus()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_getstatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">OH_ArkWebResponse_GetStatus</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_Response* response)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取ArkWeb_Response的HTTP状态码。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.62.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.62.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int</td> <td class="cellrowborder" width="50%">ArkWeb_Response的HTTP状态码。如果ArkWeb_Response无效，则为-1。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresponse_setstatustext" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_SetStatusText()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_setstatustext" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResponse_SetStatusText</span><span class="hljs-params">(ArkWeb_Response* response, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* statusText)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为ArkWeb_Response设置状态文本。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.63.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* statusText</td> <td class="cellrowborder" width="50%">请求的状态文本。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.63.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="oh_arkwebresponse_getstatustext" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_GetStatusText()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_getstatustext" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResponse_GetStatusText</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_Response* response, <span class="hljs-type">char</span>** statusText)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取ArkWeb_Response的状态文本。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.64.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">char** statusText</td> <td class="cellrowborder" width="50%">返回ArkWeb_Response的状态文本。此函数将为statusText字符串分配内存，调用方必须通过OH_ArkWeb_ReleaseString释放该字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresponse_setmimetype" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_SetMimeType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_setmimetype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResponse_SetMimeType</span><span class="hljs-params">(ArkWeb_Response* response, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* mimeType)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为ArkWeb_Response设置媒体类型。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.65.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* mimeType</td> <td class="cellrowborder" width="50%">请求的媒体类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.65.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="oh_arkwebresponse_getmimetype" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_GetMimeType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_getmimetype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResponse_GetMimeType</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_Response* response, <span class="hljs-type">char</span>** mimeType)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取ArkWeb_Response的媒体类型。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.66.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">char** mimeType</td> <td class="cellrowborder" width="50%">返回ArkWeb_Response的媒体类型。此函数将为mimeType字符串分配内存，调用方必须通过OH_ArkWeb_ReleaseString释放该字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresponse_setcharset" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_SetCharset()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_setcharset" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResponse_SetCharset</span><span class="hljs-params">(ArkWeb_Response* response, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* charset)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为ArkWeb_Response设置字符集。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.67.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.67.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* charset</td> <td class="cellrowborder" width="50%">请求的字符集。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.67.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 700px;"><h3 id="oh_arkwebresponse_getcharset" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_GetCharset()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_getcharset" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResponse_GetCharset</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_Response* response, <span class="hljs-type">char</span>** charset)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取ArkWeb_Response的字符集。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.68.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">char** charset</td> <td class="cellrowborder" width="50%">返回ArkWeb_Response的字符集。此函数将为charset字符串分配内存，调用方必须通过OH_ArkWeb_ReleaseString释放字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 933px;"><h3 id="oh_arkwebresponse_setheaderbyname" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_SetHeaderByName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_setheaderbyname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResponse_SetHeaderByName</span><span class="hljs-params">(ArkWeb_Response* response,<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name,<span class="hljs-type">const</span> <span class="hljs-type">char</span>* value,<span class="hljs-type">bool</span> overwrite)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>为ArkWeb_Response设置一个header。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.69.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.69.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* name</td> <td class="cellrowborder" width="50%">header的名称。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* value</td> <td class="cellrowborder" width="50%">header的值。</td> </tr> <tr><td class="cellrowborder" width="50%">bool overwrite</td> <td class="cellrowborder" width="50%">如果为true，将覆盖现有的header，否则不覆盖。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.69.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 731px;"><h3 id="oh_arkwebresponse_getheaderbyname" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResponse_GetHeaderByName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresponse_getheaderbyname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWebResponse_GetHeaderByName</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_Response* response, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* name, <span class="hljs-type">char</span>** value)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkWeb_Response中获取header。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.70.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.70.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">ArkWeb_Response。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* name</td> <td class="cellrowborder" width="50%">header的名称。</td> </tr> <tr><td class="cellrowborder" width="50%">char** value</td> <td class="cellrowborder" width="50%">返回header的值。此函数将为value字符串分配内存，调用方必须通过OH_ArkWeb_ReleaseString释放该字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcehandler_destroy" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceHandler_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcehandler_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceHandler_Destroy</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceHandler* resourceHandler)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁一个ArkWeb_ResourceHandler对象。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.71.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.71.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler</a>* resourceHandler</td> <td class="cellrowborder" width="50%">ArkWeb_ResourceHandler。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.71.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkwebresourcehandler_didreceiveresponse" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceHandler_DidReceiveResponse()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcehandler_didreceiveresponse" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceHandler_DidReceiveResponse</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceHandler* resourceHandler,<span class="hljs-type">const</span> ArkWeb_Response* response)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将构造的响应头传递给被拦截的请求。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.72.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.72.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler</a>* resourceHandler</td> <td class="cellrowborder" width="50%">该请求的ArkWeb_ResourceHandler。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-response">ArkWeb_Response</a>* response</td> <td class="cellrowborder" width="50%">该拦截请求的ArkWeb_Response。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.72.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.72.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 878px;"><h3 id="oh_arkwebresourcehandler_didreceivedata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceHandler_DidReceiveData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcehandler_didreceivedata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceHandler_DidReceiveData</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceHandler* resourceHandler,<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span>* buffer,<span class="hljs-type">int64_t</span> bufLen)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将构造的响应体传递给被拦截的请求。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.73.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.73.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler</a>* resourceHandler</td> <td class="cellrowborder" width="50%">该请求的ArkWeb_ResourceHandler。</td> </tr> <tr><td class="cellrowborder" width="50%">const uint8_t* buffer</td> <td class="cellrowborder" width="50%">要发送的buffer数据。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t bufLen</td> <td class="cellrowborder" width="50%">buffer的大小。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.73.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.73.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkwebresourcehandler_didfinish" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceHandler_DidFinish()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcehandler_didfinish" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceHandler_DidFinish</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceHandler* resourceHandler)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>通知ArkWeb内核被拦截的请求已经完成，并且没有更多的数据可用。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.74.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.74.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler</a>* resourceHandler</td> <td class="cellrowborder" width="50%">该请求的ArkWeb_ResourceHandler。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.74.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.74.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 871px;"><h3 id="oh_arkwebresourcehandler_didfailwitherror" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceHandler_DidFailWithError()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcehandler_didfailwitherror" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceHandler_DidFailWithError</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceHandler* resourceHandler,ArkWeb_NetError errorCode)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>通知ArkWeb内核，被拦截的请求应该失败。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.75.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.75.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler</a>* resourceHandler</td> <td class="cellrowborder" width="50%">用于被拦截的URL请求。可以通过ArkWeb_ResourceHandler发送自定义请求头以及自定义请求体。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h#arkweb_neterror">ArkWeb_NetError</a> errorCode</td> <td class="cellrowborder" width="50%">该请求的错误码。请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h">arkweb_net_error_list.h</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.75.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.75.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1190px;"><h3 id="oh_arkwebresourcehandler_didfailwitherrorv2" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWebResourceHandler_DidFailWithErrorV2()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkwebresourcehandler_didfailwitherrorv2" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkWebResourceHandler_DidFailWithErrorV2</span><span class="hljs-params">(<span class="hljs-type">const</span> ArkWeb_ResourceHandler* resourceHandler,ArkWeb_NetError errorCode,<span class="hljs-type">bool</span> completeIfNoResponse)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>通知ArkWeb内核，被拦截的请求应该失败。对比<a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didfailwitherror">OH_ArkWebResourceHandler_DidFailWithError</a>接口，新增参数completeIfNoResponse，值为true时，若之前未调用过<a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didreceiveresponse">OH_ArkWebResourceHandler_DidReceiveResponse</a>，则会自动生成一个response以完成此次网络请求，网络错误码为-104；值为false时，将等待应用调用<a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didreceiveresponse">OH_ArkWebResourceHandler_DidReceiveResponse</a>并传入response，不会直接完成此次网络请求。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.76.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.76.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-web-arkweb-resourcehandler">ArkWeb_ResourceHandler</a>* resourceHandler</td> <td class="cellrowborder" width="50%">用于被拦截的URL请求。可以通过ArkWeb_ResourceHandler发送自定义请求头以及自定义请求体。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h#arkweb_neterror">ArkWeb_NetError</a> errorCode</td> <td class="cellrowborder" width="50%">该请求的错误码。请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkweb-net-error-list-h">arkweb_net_error_list.h</a>。</td> </tr> <tr><td class="cellrowborder" width="50%">bool completeIfNoResponse</td> <td class="cellrowborder" width="50%">若之前未调用过<a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didreceiveresponse">OH_ArkWebResourceHandler_DidReceiveResponse</a>，调用<a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didfailwitherrorv2">OH_ArkWebResourceHandler_DidFailWithErrorV2</a>时，此次网络请求是否完成；值为true时，若之前未调用过<a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didreceiveresponse">OH_ArkWebResourceHandler_DidReceiveResponse</a>，则会自动生成一个response以完成此次网络请求，网络错误码为-104；值为false时，将等待应用调用<a href="/consumer/cn/doc/harmonyos-references/capi-arkweb-scheme-handler-h#oh_arkwebresourcehandler_didreceiveresponse">OH_ArkWebResourceHandler_DidReceiveResponse</a>并传入response，不会直接完成此次网络请求。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果返回0，表示成功；返回17100101，表示参数无效。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="oh_arkweb_releasestring" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_ReleaseString()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_releasestring" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OH_ArkWeb_ReleaseString</span>(<span class="hljs-params"><span class="hljs-built_in">char</span>* <span class="hljs-built_in">string</span></span>)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>释放由NDK接口创建的字符串。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.77.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.77.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">char* string</td> <td class="cellrowborder" width="50%">待释放的字符串。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 597px;"><h3 id="oh_arkweb_releasebytearray" device-type="phone,2in1,tablet,wearable,tv">OH_ArkWeb_ReleaseByteArray()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkweb_releasebytearray" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dmv-c106="" class="highlight-div"><div _ngcontent-dmv-c106="" class="highlight-div-header"><div _ngcontent-dmv-c106="" class="highlight-div-header-left"><div _ngcontent-dmv-c106="" class="handle-button expand-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dmv-c106="" class="highlight-div-header-right"><div _ngcontent-dmv-c106="" class="handle-button ai-button"></div><div _ngcontent-dmv-c106="" class="handle-button line-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dmv-c106="" class="handle-button theme-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dmv-c106="" class="handle-button copy-button"><div _ngcontent-dmv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dmv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_ArkWeb_ReleaseByteArray</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* byteArray)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>释放由NDK接口创建的字节数组。</p> <p><strong>系统能力：</strong> SystemCapability.Web.Webview.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.78.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">uint8_t* byteArray</td> <td class="cellrowborder" width="50%">待释放的字节数组。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>