<h1 _ngcontent-ias-c119="" class="doc-title ng-star-inserted" title="attributionTestManager（应用归因接入调试功能）"> attributionTestManager（应用归因接入调试功能） </h1>

<div _ngcontent-ias-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>提供验证归因来源、设置归因结果回传、触发归因结果回传调试功能。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>调用接口需捕获异常。</p>     </div></div></div>    <p><strong>起始版本：</strong>5.0.0(12)</p>    <div class="tiledSection">     <h2 id="section16609101116259" device-type="phone,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16609101116259" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><div _ngcontent-ias-c106="" class="highlight-div"><div _ngcontent-ias-c106="" class="highlight-div-header"><div _ngcontent-ias-c106="" class="highlight-div-header-left"><div _ngcontent-ias-c106="" class="handle-button expand-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ias-c106="" class="highlight-div-header-right"><div _ngcontent-ias-c106="" class="handle-button ai-button"></div><div _ngcontent-ias-c106="" class="handle-button line-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ias-c106="" class="handle-button theme-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ias-c106="" class="handle-button copy-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ias-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { attributionTestManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>; </li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section193411799297" device-type="phone,tablet">attributionTestManager.validateSource<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section193411799297" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>validateSource(adSourceInfo: AdSourceInfo, publicKey: string): Promise&lt;void&gt;</p>     <p>验证媒体App/分发平台登记的归因来源信息，通过Promise异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.AttributionManager</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>adSourceInfo</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/store-attributiontestmanager#section1262013338292">AdSourceInfo</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>媒体app/分发平台登记的归因来源信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">          <p>publicKey</p></td>         <td class="cellrowborder" width="25%">          <p>string</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>已<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/store-attribution-register#section1810151768" target="_blank">生成密钥对</a>中的公钥。注册归因角色时提供给应用归因服务云侧的公钥。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Promise&lt;void&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>Promise对象。无返回结果的Promise对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码</strong>：</p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.1" width="49.94%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.13.1.3.1.2" width="50.06%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="49.94%">          <p>401</p></td>         <td class="cellrowborder" width="50.06%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300001</p></td>         <td class="cellrowborder" width="50.06%">          <p>The specified service extension connect failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300002</p></td>         <td class="cellrowborder" width="50.06%">          <p>System internal error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300101</p></td>         <td class="cellrowborder" width="50.06%">          <p>AdTechId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300102</p></td>         <td class="cellrowborder" width="50.06%">          <p>CampaignId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300104</p></td>         <td class="cellrowborder" width="50.06%">          <p>DestinationId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300105</p></td>         <td class="cellrowborder" width="50.06%">          <p>SourceType is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300106</p></td>         <td class="cellrowborder" width="50.06%">          <p>Nonce is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300107</p></td>         <td class="cellrowborder" width="50.06%">          <p>Timestamp is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300108</p></td>         <td class="cellrowborder" width="50.06%">          <p>Signature is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300111</p></td>         <td class="cellrowborder" width="50.06%">          <p>AdSourceInfo is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300112</p></td>         <td class="cellrowborder" width="50.06%">          <p>PublicKey is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300114</p></td>         <td class="cellrowborder" width="50.06%">          <p>The signature verification failed in the testing environment.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ias-c106="" class="highlight-div"><div _ngcontent-ias-c106="" class="highlight-div-header"><div _ngcontent-ias-c106="" class="highlight-div-header-left"><div _ngcontent-ias-c106="" class="handle-button expand-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ias-c106="" class="highlight-div-header-right"><div _ngcontent-ias-c106="" class="handle-button ai-button"></div><div _ngcontent-ias-c106="" class="handle-button line-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ias-c106="" class="handle-button theme-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ias-c106="" class="handle-button copy-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ias-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { attributionTestManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SignUtil</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../common/utils/SignUtil'</span>; <span class="hljs-comment">//参考指南附录</span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/appgallery-attribution-appendix-triger#section5203225132112" target="_blank"><span class="hljs-comment">生成签名方法</span></a><span class="hljs-comment">部分代码</span></li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'AttributionTest'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span>  <span class="hljs-title class_">AttributionTest</span> {</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">validateSource</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-comment">// 使用在应用归因服务云侧注册角色时，提供的公钥和对应的私钥, 验证接口， 用户可自己生成</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">privateKey</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">publicKey</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>      <span class="hljs-comment">// 在应用归因云侧注册广告生态伙伴角色时，由应用归因服务分配</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">adTechId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'12345678'</span>;</li><li>      <span class="hljs-comment">// 分发平台创建的营销任务id</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">campaignId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'123456'</span>;</li><li>      <span class="hljs-comment">// 开发者应用上架华为应用市场的appId，不带C</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">destinationId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'102345678'</span>;</li><li>      <span class="hljs-comment">// 归因监测平台id</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">mmpIds</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'12345678'</span>, <span class="hljs-string">'23456789'</span>];</li><li>      <span class="hljs-comment">// 分发平台关注的业务信息</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">serviceTag</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'testServiceTag'</span>;</li><li>      <span class="hljs-comment">// 用于计算签名的随机数，不带'-'</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">nonce</span>: <span class="hljs-built_in">string</span> = util.<span class="hljs-title function_">generateRandomUUID</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/-/g</span>, <span class="hljs-string">''</span>);</li><li>      <span class="hljs-comment">// 时间戳</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">adSourceInfo</span>: attributionTestManager.<span class="hljs-property">AdSourceInfo</span> = {</li><li>        <span class="hljs-attr">adTechId</span>: adTechId,</li><li>        <span class="hljs-attr">campaignId</span>: campaignId,</li><li>        <span class="hljs-attr">destinationId</span>: destinationId,</li><li>        <span class="hljs-comment">// 归因来源类型：曝光</span></li><li>        <span class="hljs-attr">sourceType</span>: attributionTestManager.<span class="hljs-property">SourceType</span>.<span class="hljs-property">IMPRESSION</span>,</li><li>        <span class="hljs-attr">mmpIds</span>: mmpIds,</li><li>        <span class="hljs-attr">serviceTag</span>: serviceTag,</li><li>        <span class="hljs-attr">nonce</span>: nonce,</li><li>        <span class="hljs-attr">timestamp</span>: timestamp,</li><li>        <span class="hljs-comment">// 签名值</span></li><li>        <span class="hljs-attr">signature</span>: <span class="hljs-keyword">await</span> <span class="hljs-title class_">SignUtil</span>.<span class="hljs-title function_">getSign</span>(<span class="hljs-title class_">SignUtil</span>.<span class="hljs-title function_">genSignContent</span>(adTechId, campaignId, destinationId, mmpIds, serviceTag, nonce, timestamp), privateKey)</li><li>      };</li><li>
</li><li>      <span class="hljs-keyword">await</span> attributionTestManager.<span class="hljs-title function_">validateSource</span>(adSourceInfo, publicKey);</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Succeeded in validating source.'</span>);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`validateSource error.code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section16797112811814" device-type="phone,tablet">attributionTestManager.setPostback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16797112811814" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>setPostback(postbackInfo: PostbackInfo): Promise&lt;void&gt;</p>     <p>设置归因结果回传信息。用于验证triggerData的合法性，设置调试使用的归因结果回传信息，通过Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>单个adTechId下，待回传的调试postbackInfo数据量&lt;=5。</p>       <p>单个设备下，待回传的调试postbackInfo数据量&lt;=100。</p>      </div></div></div>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.AttributionManager</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>postbackInfo</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/store-attributiontestmanager#section1812319373298">PostbackInfo</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>归因结果回传信息。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Promise&lt;void&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>Promise对象。无返回结果的Promise对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.14.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.14.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>401</p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300001</p></td>         <td class="cellrowborder" width="50%">          <p>The specified service extension connect failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300002</p></td>         <td class="cellrowborder" width="50%">          <p>System internal error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300101</p></td>         <td class="cellrowborder" width="50%">          <p>AdTechId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300102</p></td>         <td class="cellrowborder" width="50%">          <p>CampaignId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300103</p></td>         <td class="cellrowborder" width="50%">          <p>SourceId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300104</p></td>         <td class="cellrowborder" width="50%">          <p>DestinationId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300109</p></td>         <td class="cellrowborder" width="50%">          <p>TriggerData is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300110</p></td>         <td class="cellrowborder" width="50%">          <p>PostbackUrl is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300113</p></td>         <td class="cellrowborder" width="50%">          <p>PostbackInfo is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1009300115</p></td>         <td class="cellrowborder" width="50%">          <p>Too many postbacks setting to the testing environment.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例</strong>：</p>     <div _ngcontent-ias-c106="" class="highlight-div"><div _ngcontent-ias-c106="" class="highlight-div-header"><div _ngcontent-ias-c106="" class="highlight-div-header-left"><div _ngcontent-ias-c106="" class="handle-button expand-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ias-c106="" class="highlight-div-header-right"><div _ngcontent-ias-c106="" class="handle-button ai-button"></div><div _ngcontent-ias-c106="" class="handle-button line-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ias-c106="" class="handle-button theme-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ias-c106="" class="handle-button copy-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ias-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { attributionTestManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'AttributionTest'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">AttributionTest</span> {</li><li>
</li><li>  <span class="hljs-title function_">setPostback</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">postbackInfo</span>: attributionTestManager.<span class="hljs-property">PostbackInfo</span> = {</li><li>        <span class="hljs-attr">adTechId</span>: <span class="hljs-string">'12345678'</span>,</li><li>        <span class="hljs-attr">campaignId</span>: <span class="hljs-string">'123456'</span>,</li><li>        <span class="hljs-attr">sourceId</span>: <span class="hljs-string">'112345678'</span>,</li><li>        <span class="hljs-attr">destinationId</span>: <span class="hljs-string">'102345678'</span>,</li><li>        <span class="hljs-attr">serviceTag</span>: <span class="hljs-string">'testServiceTag'</span>,</li><li>        <span class="hljs-attr">businessScene</span>: <span class="hljs-number">5</span>,</li><li>        <span class="hljs-attr">triggerData</span>: <span class="hljs-number">123</span>,</li><li>        <span class="hljs-attr">postbackUrl</span>: <span class="hljs-string">'https://xxx.com'</span></li><li>      };</li><li>      attributionTestManager.<span class="hljs-title function_">setPostback</span>(postbackInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Succeeded in setting postback.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`setPostback onError.code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      })</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`setPostback onError.code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section1890815407320" device-type="phone,tablet">attributionTestManager.flushPostbacks<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1890815407320" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>flushPostbacks(adTechId: string): Promise&lt;void&gt;</p>     <p>触发归因结果回传。验证开发者服务器接收及处理归因回传结果的逻辑是否正确，通过Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>单个设备上，每5秒调用次数&lt;=1。</p>      </div></div></div>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.AttributionManager</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>adTechId</p></td>         <td class="cellrowborder" width="25%">          <p>string</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>分发平台对应的归因角色ID，本次登记归因来源对应营销任务所归属的分发平台的标识符，长度固定为8字符。</p>          <p>使用setPostback()接口中成功设置的adTechId值。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>调试过程不依赖云侧注册，开发者可以使用虚拟的adTechId。</p>           </div></div></div></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Promise&lt;void&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>Promise对象。无返回结果的Promise对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/store-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.14.1.3.1.1" width="49.94%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.14.1.3.1.2" width="50.06%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="49.94%">          <p>401</p></td>         <td class="cellrowborder" width="50.06%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300001</p></td>         <td class="cellrowborder" width="50.06%">          <p>The specified service extension connect failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300002</p></td>         <td class="cellrowborder" width="50.06%">          <p>System internal error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300101</p></td>         <td class="cellrowborder" width="50.06%">          <p>AdTechId is missing in the request.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300116</p></td>         <td class="cellrowborder" width="50.06%">          <p>There is no postback to be sent of this adTechId.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300117</p></td>         <td class="cellrowborder" width="50.06%">          <p>Failed to send postbacks to the postbackUrl.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300119</p></td>         <td class="cellrowborder" width="50.06%">          <p>Network error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="49.94%">          <p>1009300120</p></td>         <td class="cellrowborder" width="50.06%">          <p>Request too frequent.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ias-c106="" class="highlight-div"><div _ngcontent-ias-c106="" class="highlight-div-header"><div _ngcontent-ias-c106="" class="highlight-div-header-left"><div _ngcontent-ias-c106="" class="handle-button expand-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ias-c106="" class="highlight-div-header-right"><div _ngcontent-ias-c106="" class="handle-button ai-button"></div><div _ngcontent-ias-c106="" class="handle-button line-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ias-c106="" class="handle-button theme-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ias-c106="" class="handle-button copy-button"><div _ngcontent-ias-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ias-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { attributionTestManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AppGalleryKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'AttributionTest'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">AttributionTest</span> {</li><li>  <span class="hljs-title function_">flushPostbacks</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">try</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">adTechId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'12345678'</span>;</li><li>      attributionTestManager.<span class="hljs-title function_">flushPostbacks</span>(adTechId).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">'Succeeded in flushing postbacks.'</span>);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`flushPostbacks onError.code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      })</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`flushPostbacks onError.code is <span class="hljs-subst">${error.code}</span>, message is <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section1262013338292" device-type="phone,tablet">AdSourceInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1262013338292" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>媒体app/分发平台登记的归因来源信息。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.AttributionManager</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.6.1.1" width="27.362736273627362%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.6.1.2" width="27.362736273627362%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.6.1.3" width="8.890889088908892%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.6.1.4" width="9.02090209020902%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.6.1.5" width="27.362736273627362%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>adTechId</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>string</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>否</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>分发平台对应的归因角色ID，本次登记归因来源对应营销任务所归属的分发平台的标识符。</p>          <p>分发平台向应用归因云侧<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/store-attribution-register#section11218192952612" target="_blank">注册归因角色</a>时，由应用归因服务分配，长度固定为8字符。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>调试过程不依赖云侧注册，开发者可以使用虚拟的adTechId。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>campaignId</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>string</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>否</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>营销任务ID，登记归因来源对应的营销任务的ID，长度不超过6字符。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>destinationId</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>string</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>否</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>开发者应用上架华为应用市场的AppId，长度不超过64字符。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>您的应用ID参考<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-appinfo-0000001100014694" target="_blank">查看应用基本信息</a>获取。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>sourceType</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p><a href="/consumer/cn/doc/harmonyos-references/store-attributiontestmanager#section142399205014">SourceType</a></p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>否</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>归因来源类型：</p>          <p>0：曝光。</p>          <p>1：点击。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>mmpIds</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>string[]</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>是</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>本次广告投放，使用的归因监测平台对应的归因角色ID。最大数量2个，每个ID字符串长度固定为8字符。</p>          <p>如果调用方传递了归因监测平台ID，应用归因服务会向归因监测平台回传归因结果；如果调用方没有传递归因监测平台ID，则归因监测平台收不到回传的归因结果。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>serviceTag</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>string</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>是</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>分发平台关注的业务信息，如创意、素材等，长度不超过32字符。</p>          <p>如果调用方传递了serviceTag，应用归因服务通过白名单方式向分发平台开放（白名单开放方式请联系华为运营）；如果调用方没有传递serviceTag，则分发平台收不到回传的serviceTag。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>nonce</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>string</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>否</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>用于计算签名的随机数，每次广告请求，nonce唯一。长度固定为32字符。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>timestamp</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>number</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>否</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>unix时间戳，单位：毫秒，请求广告的时间戳。（即广告投放时间，与当前时间偏差不超过10分钟）。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.362736273627362%">          <p>signature</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>string</p></td>         <td class="cellrowborder" width="8.890889088908892%">          <p>否</p></td>         <td class="cellrowborder" width="9.02090209020902%">          <p>否</p></td>         <td class="cellrowborder" width="27.362736273627362%">          <p>签名值，分发平台/媒体根据广告相应信息按照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/appgallery-attribution-appendix-triger#section4208115642013" target="_blank">归因来源签名计算规则</a>计算并提供，长度不超过800字符。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section1812319373298" device-type="phone,tablet">PostbackInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1812319373298" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>待回传数据信息。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.AttributionManager</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.1" width="27.1972802719728%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.2" width="27.1972802719728%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.3" width="8.83911608839116%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.4" width="9.569043095690429%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.5" width="27.1972802719728%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>adTechId</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>string</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>否</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>分发平台对应的归因角色ID，本次登记归因来源对应营销任务所归属的分发平台的标识符。</p>          <p>使用setPostback()接口中成功设置的adTechId值。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>调试过程不依赖云侧注册，开发者可以使用虚拟的adTechId。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>campaignId</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>string</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>否</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>营销任务ID，登记归因来源对应的营销任务的ID，长度不超过6个字符。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>sourceId</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>string</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>否</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>媒体应用id，长度不超过64个字符。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>destinationId</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>string</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>否</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>开发者应用上架华为应用市场的AppId，长度不超过64个字符。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>serviceTag</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>string</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>是</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>分发平台关注的业务信息，如创意、素材等，长度不超过32字符。</p>          <p>如果调用方传递了serviceTag，应用归因服务会向分发平台回传serviceTag；如果调用方没有传递serviceTag，则分发平台收不到回传的serviceTag。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>businessScene</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>number</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>是</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>业务场景值，在开发者登记转化时，用于标识开发者的业务场景。</p>          <p>取值范围：[0,99]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>triggerData</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>number</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>否</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>转化事件编码。</p>          <p>取值范围：[0,999]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="27.1972802719728%">          <p>postbackUrl</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p>string</p></td>         <td class="cellrowborder" width="8.83911608839116%">          <p>否</p></td>         <td class="cellrowborder" width="9.569043095690429%">          <p>否</p></td>         <td class="cellrowborder" width="27.1972802719728%">          <p><span style="color: rgb(29,29,26);">用于接收归因回传归因结果的URL</span>地址，推荐使用HTTPS协议。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section142399205014" device-type="phone,tablet">SourceType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section142399205014" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span></div><p>归因来源类型的枚举。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AppGalleryService.AttributionManager</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.4.1.1" width="33.33333333333333%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.4.1.2" width="33.33333333333333%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.4.1.3" width="33.33333333333333%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>IMPRESSION</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>0</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>归因来源类型：曝光。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>CLICK</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>1</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>归因来源类型：点击。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>