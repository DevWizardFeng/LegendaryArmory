<h1 _ngcontent-hvj-c119="" class="doc-title ng-star-inserted" title="avplayer_base.h"> avplayer_base.h </h1>

<div _ngcontent-hvj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义AVPlayer的结构体和枚举。</p>     <p><strong>引用文件：</strong> &lt;multimedia/player_framework/avplayer_base.h&gt;</p>     <p><strong>库：</strong> libavplayer.so</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer">AVPlayer</a></p>    </div>    <div class="tiledSection">     <h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-avplayercallback">AVPlayerCallback</a></td>         <td class="cellrowborder" width="33.33333333333333%">AVPlayerCallback</td>         <td class="cellrowborder" width="33.33333333333333%">包含了<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfo">OH_AVPlayerOnInfo</a>和OH_AVPlayerOnInfo回调函数指针的集合。应用需注册此结构体到OH_AVPlayer实例中，并处理回调上报的信息，保证AVPlayer的正常运行。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-oh-avplayer">OH_AVPlayer</a></td>         <td class="cellrowborder" width="33.33333333333333%">OH_AVPlayer</td>         <td class="cellrowborder" width="33.33333333333333%">初始化AVPlayer。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerstate">AVPlayerState</a></td>         <td class="cellrowborder" width="33.33333333333333%">AVPlayerState</td>         <td class="cellrowborder" width="33.33333333333333%">播放状态。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerseekmode">AVPlayerSeekMode</a></td>         <td class="cellrowborder" width="33.33333333333333%">AVPlayerSeekMode</td>         <td class="cellrowborder" width="33.33333333333333%">跳转模式。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplaybackspeed">AVPlaybackSpeed</a></td>         <td class="cellrowborder" width="33.33333333333333%">AVPlaybackSpeed</td>         <td class="cellrowborder" width="33.33333333333333%">播放速度。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayeroninfotype">AVPlayerOnInfoType</a></td>         <td class="cellrowborder" width="33.33333333333333%">AVPlayerOnInfoType</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>OnInfo类型。</p>          <p>可用于<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfocallback">OH_AVPlayerOnInfoCallback</a>和<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfo">OH_AVPlayerOnInfo</a>(已废弃)，用于表示收到的播放器信息类型。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerbufferingtype">AVPlayerBufferingType</a></td>         <td class="cellrowborder" width="33.33333333333333%">AVPlayerBufferingType</td>         <td class="cellrowborder" width="33.33333333333333%">播放缓冲消息类型定义。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfo">typedef void (*OH_AVPlayerOnInfo)(OH_AVPlayer *player, AVPlayerOnInfoType type, int32_t extra)</a></td>         <td class="cellrowborder" width="33.33333333333333%">OH_AVPlayerOnInfo</td>         <td class="cellrowborder" width="33.33333333333333%">收到播放器消息时调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfocallback">typedef void (*OH_AVPlayerOnInfoCallback)(OH_AVPlayer *player, AVPlayerOnInfoType type, OH_AVFormat* infoBody, void *userData)</a></td>         <td class="cellrowborder" width="33.33333333333333%">OH_AVPlayerOnInfoCallback</td>         <td class="cellrowborder" width="33.33333333333333%">收到播放器消息时被调用。如果应用成功设置该回调，则不会回调<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfo">OH_AVPlayerOnInfo</a>函数。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeronerror">typedef void (*OH_AVPlayerOnError)(OH_AVPlayer *player, int32_t errorCode, const char *errorMsg)</a></td>         <td class="cellrowborder" width="33.33333333333333%">OH_AVPlayerOnError</td>         <td class="cellrowborder" width="33.33333333333333%">在API 9以上的版本发生错误时调用。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeronerrorcallback">typedef void (*OH_AVPlayerOnErrorCallback)(OH_AVPlayer *player, int32_t errorCode, const char *errorMsg, void *userData)</a></td>         <td class="cellrowborder" width="33.33333333333333%">OH_AVPlayerOnErrorCallback</td>         <td class="cellrowborder" width="33.33333333333333%">发生错误时被调用。如果应用成功设置该回调，则不会回调<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeronerror">OH_AVPlayerOnError</a>函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="变量" device-type="phone,2in1,tablet,wearable,tv">变量<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="变量" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.1" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_STATE</td>         <td class="cellrowborder" width="50%">          <p>获取播放状态的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_STATE_CHANGE_REASON</td>         <td class="cellrowborder" width="50%">          <p>获取播放状态变更原因的关键字，对应值类型是int32_t。</p>          <p>1：用户操作触发；2：系统变更触发。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_VOLUME</td>         <td class="cellrowborder" width="50%">          <p>获取音量的关键字，对应值类型是float。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_BITRATE_ARRAY</td>         <td class="cellrowborder" width="50%">          <p>获取比特率列表的关键字，对应值类型是uint8_t字节数组。通过该关键字获取信息时：</p>          <p>需要先使用uint8_t类型指针变量保存比特率列表，使用size_t类型变量保存字节数组长度。</p>          <p>然后分配若干个uint32_t类型的存储空间，接收将uint8_t字节数组转换为uint32_t类型比特率整数值。</p>          <p>可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/using-ndk-avplayer-for-playback" target="_blank">开发指南</a>中<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfocallback">OH_AVPlayerOnInfoCallback</a>函数。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_AUDIO_INTERRUPT_TYPE</td>         <td class="cellrowborder" width="50%">          <p>获取音频打断类型的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_AUDIO_INTERRUPT_FORCE</td>         <td class="cellrowborder" width="50%">          <p>获取音频打断FORCE类型的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_AUDIO_INTERRUPT_HINT</td>         <td class="cellrowborder" width="50%">          <p>获取音频打断HINT类型的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_AUDIO_DEVICE_CHANGE_REASON</td>         <td class="cellrowborder" width="50%">          <p>获取音频设备变更原因的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_BUFFERING_TYPE</td>         <td class="cellrowborder" width="50%">          <p>获取缓冲更新消息类型的关键字，对应值类型是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerbufferingtype">AVPlayerBufferingType</a>。</p>          <p>通过该关键字获取信息时，需要先使用int32_t类型变量保存结果，再转换为AVPlayerBufferingType类型。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_BUFFERING_VALUE</td>         <td class="cellrowborder" width="50%">          <p>获取缓冲更新消息数值的关键字，对应值类型是int32_t，参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerbufferingtype">AVPlayerBufferingType</a>。</p>          <p>当缓冲更新消息类型是AVPLAYER_BUFFERING_PERCENT、AVPLAYER_BUFFERING_CACHED_DURATION时有效。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_SEEK_POSITION</td>         <td class="cellrowborder" width="50%">          <p>获取Seek后播放进度的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_PLAYBACK_SPEED</td>         <td class="cellrowborder" width="50%">          <p>获取播放倍速信息的关键字, 对应值类型是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplaybackspeed">AVPlaybackSpeed</a>。</p>          <p>通过该关键字获取信息时，需要先使用int32_t类型变量保存结果，再转换为AVPlaybackSpeed类型。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_PLAYBACK_RATE</td>         <td class="cellrowborder" width="50%">          <p>获取有效播放速率的关键字，对应值类型是浮点数。</p>          <p><strong>起始版本：</strong> 20</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_BITRATE</td>         <td class="cellrowborder" width="50%">          <p>获取比特率信息的关键字，对应值类型是uint32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_CURRENT_POSITION</td>         <td class="cellrowborder" width="50%">          <p>获取播放进度信息的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_DURATION</td>         <td class="cellrowborder" width="50%">          <p>获取媒体资源时长信息的关键字，对应值类型是int64_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_VIDEO_WIDTH</td>         <td class="cellrowborder" width="50%">          <p>获取视频宽度信息的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_VIDEO_HEIGHT</td>         <td class="cellrowborder" width="50%">          <p>获取视频高度信息的关键字，对应值类型是int32_t。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_MESSAGE_TYPE</td>         <td class="cellrowborder" width="50%">          <p>获取播放器消息信息的关键字，对应值类型是int32_t。</p>          <p>1：视频帧开始渲染。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char * OH_PLAYER_IS_LIVE_STREAM</td>         <td class="cellrowborder" width="50%">          <p>获取媒体资源是否为直播类型信息的关键字，对应值类型是int32_t。</p>          <p>1：直播。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="avplayerstate" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">AVPlayerState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="avplayerstate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-built_in">AVPlayerState</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>播放状态。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 11</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">枚举项</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">AV_IDLE = 0</td>         <td class="cellrowborder" width="50%">空闲</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INITIALIZED = 1</td>         <td class="cellrowborder" width="50%">初始化</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_PREPARED = 2</td>         <td class="cellrowborder" width="50%">准备</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_PLAYING = 3</td>         <td class="cellrowborder" width="50%">播放</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_PAUSED = 4</td>         <td class="cellrowborder" width="50%">暂停</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_STOPPED = 5</td>         <td class="cellrowborder" width="50%">停止</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_COMPLETED = 6</td>         <td class="cellrowborder" width="50%">结束</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_RELEASED = 7</td>         <td class="cellrowborder" width="50%">释放</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_ERROR = 8</td>         <td class="cellrowborder" width="50%">错误</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="avplayerseekmode" device-type="phone,2in1,tablet,wearable,tv">AVPlayerSeekMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="avplayerseekmode" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-built_in">AVPlayerSeekMode</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>跳转模式。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 11</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">枚举项</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">AV_SEEK_NEXT_SYNC = 0</td>         <td class="cellrowborder" width="50%">同步到时间点之后的关键帧。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SEEK_PREVIOUS_SYNC</td>         <td class="cellrowborder" width="50%">同步到时间点之前的关键帧。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SEEK_CLOSEST = 2</td>         <td class="cellrowborder" width="50%">          <p>同步到距离指定时间点最近的帧。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="avplaybackspeed" device-type="phone,2in1,tablet,wearable,tv">AVPlaybackSpeed<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="avplaybackspeed" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-built_in">AVPlaybackSpeed</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>播放速度。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 11</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">枚举项</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_0_75_X</td>         <td class="cellrowborder" width="50%">0.75倍速播放。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_1_00_X</td>         <td class="cellrowborder" width="50%">正常播放。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_1_25_X</td>         <td class="cellrowborder" width="50%">1.25倍速播放。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_1_75_X</td>         <td class="cellrowborder" width="50%">1.75倍速播放。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_2_00_X</td>         <td class="cellrowborder" width="50%">2.0倍速播放。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_0_50_X</td>         <td class="cellrowborder" width="50%">          <p>0.5倍速播放。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_1_50_X</td>         <td class="cellrowborder" width="50%">          <p>1.5倍速播放。</p>          <p><strong>起始版本：</strong> 12</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_3_00_X</td>         <td class="cellrowborder" width="50%">          <p>3.0倍速播放。</p>          <p><strong>起始版本：</strong> 13</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_0_25_X</td>         <td class="cellrowborder" width="50%">          <p>0.25倍速播放。</p>          <p><strong>起始版本：</strong> 13</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_SPEED_FORWARD_0_125_X</td>         <td class="cellrowborder" width="50%">          <p>0.125倍速播放。</p>          <p><strong>起始版本：</strong> 13</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="avplayeroninfotype" device-type="phone,2in1,tablet,wearable,tv">AVPlayerOnInfoType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="avplayeroninfotype" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-built_in">AVPlayerOnInfoType</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>OnInfo类型。</p>     <p>可用于OH_AVPlayerOnInfoCallback和OH_AVPlayerOnInfo(已废弃)，用于表示收到的播放器信息类型。</p>     <p>从API version 12开始，推荐用户使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfocallback">OH_AVPlayerOnInfoCallback</a>。不同的OnInfo类型，可获取到不同信息（infoBody），infoBody中包含key-value关系表，详见下述枚举值表。</p>     <p>使用API version 11版本的开发者，需要使用旧接口。针对已废弃接口OH_AVPlayerOnInfo中使用的对应关系，可直接参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfo">OH_AVPlayerOnInfo</a>的API说明。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 11</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">枚举项</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_SEEKDONE = 0</td>         <td class="cellrowborder" width="50%">          <p>跳转到对应播放位置时返回消息。</p>          <p>key为OH_PLAYER_SEEK_POSITION：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_SPEEDDONE = 1</td>         <td class="cellrowborder" width="50%">          <p>播放倍速设置完成时返回消息。</p>          <p>key为OH_PLAYER_PLAYBACK_SPEED：取值类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplaybackspeed">AVPlaybackSpeed</a>。系统通过int32_t传递value，应用需先通过int32_t获取，再强制转为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplaybackspeed">AVPlaybackSpeed</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_BITRATEDONE = 2</td>         <td class="cellrowborder" width="50%">          <p>比特率设置完成时返回消息。</p>          <p>key为OH_PLAYER_BITRATE：取值类型uint32_t。系统通过int32_t传递value，应用需先通过int32_t获取，再强制为uint32_t。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_EOS = 3</td>         <td class="cellrowborder" width="50%">播放完成时返回消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_STATE_CHANGE = 4</td>         <td class="cellrowborder" width="50%">          <p>状态改变时返回消息。</p>          <p>key为OH_PLAYER_STATE：取值类型int32_t。系统通过int32_t传递value，应用需先通过int32_t获取，再强制转为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerstate">AVPlayerState</a>。</p>          <p>key为OH_PLAYER_STATE_CHANGE_REASON：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。1：用户操作触发；2：系统变更触发。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_POSITION_UPDATE = 5</td>         <td class="cellrowborder" width="50%">          <p>返回当前播放位置。</p>          <p>key为OH_PLAYER_CURRENT_POSITION：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_MESSAGE = 6</td>         <td class="cellrowborder" width="50%">          <p>视频开始渲染时返回消息。</p>          <p>key为OH_PLAYER_MESSAGE_TYPE：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。1表示视频开始渲染。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_VOLUME_CHANGE = 7</td>         <td class="cellrowborder" width="50%">          <p>音量改变时返回消息。</p>          <p>key为OH_PLAYER_VOLUME：取值类型float。系统通过float传递value，应用需通过float获取。取值范围[0.0, 1.0]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_RESOLUTION_CHANGE = 8</td>         <td class="cellrowborder" width="50%">          <p>首次获取视频大小或视频大小更新时返回消息。</p>          <p>key为OH_PLAYER_VIDEO_WIDTH 或 OH_PLAYER_VIDEO_HEIGHT：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_BUFFERING_UPDATE = 9</td>         <td class="cellrowborder" width="50%">          <p>返回多队列缓冲时间。</p>          <p>key为OH_PLAYER_BUFFERING_TYPE：取值类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerbufferingtype">AVPlayerBufferingType</a>。系统通过int32_t传递value，应用需先通过int32_t获取，再强制转为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerbufferingtype">AVPlayerBufferingType</a>。</p>          <p>key为OH_PLAYER_BUFFERING_VALUE：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。</p>          <p>当缓冲更新消息类型是AVPLAYER_BUFFERING_PERCENT、AVPLAYER_BUFFERING_CACHED_DURATION时有效，分别表示缓冲进度完成百分比、缓冲数据可播放时长。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_BITRATE_COLLECT = 10</td>         <td class="cellrowborder" width="50%">          <p>上报HLS视频比特率列表消息。</p>          <p>key为OH_PLAYER_BITRATE_ARRAY：取值类型uint8_t字节数组。应用需要先使用uint8_t类型指针变量保存比特率列表，使用size_t类型变量保存字节数组长度。然后分配若干个uint32_t类型的存储空间，接收将uint8_t字节数组转换为uint32_t类型比特率整数值。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_INTERRUPT_EVENT = 11</td>         <td class="cellrowborder" width="50%">          <p>音频焦点改变时返回消息。</p>          <p>取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。</p>          <p>key为：</p>          <p>OH_PLAYER_AUDIO_INTERRUPT_TYPE：取值1表示中断事件开始；2表示结束。</p>          <p>OH_PLAYER_AUDIO_INTERRUPT_FORCE：取值0表示强制打断，系统改变音频播放状态；1表示共享打断，应用改变音频播放状态。</p>          <p>OH_PLAYER_AUDIO_INTERRUPT_HINT：取值0表示NONE，无提示；1表示RESUME，提示音频恢复；2表示PAUSE，提示音频暂停暂时失去焦点；3表示STOP，提示音频停止；4表示DUCK，音频降低音量；5表示UNDUCK，音频恢复音量。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_DURATION_UPDATE = 12</td>         <td class="cellrowborder" width="50%">          <p>返回播放时长。</p>          <p>key为OH_PLAYER_DURATION：取值类型int64_t。系统通过int64_t传递value，应用需通过int64_t获取。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_IS_LIVE_STREAM = 13</td>         <td class="cellrowborder" width="50%">播放为直播流时返回消息。key为OH_PLAYER_IS_LIVE_STREAM：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。0表示非直播流，1表示直播流。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_TRACKCHANGE = 14</td>         <td class="cellrowborder" width="50%">轨道改变时返回消息，此场景extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_TRACK_INFO_UPDATE = 15</td>         <td class="cellrowborder" width="50%">轨道更新时返回消息，此场景extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_SUBTITLE_UPDATE = 16</td>         <td class="cellrowborder" width="50%">字幕信息更新时返回消息，此场景extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_AUDIO_OUTPUT_DEVICE_CHANGE = 17</td>         <td class="cellrowborder" width="50%">          <p>音频输出设备改变时返回消息。</p>          <p>key为OH_PLAYER_AUDIO_DEVICE_CHANGE_REASON：取值类型int32_t。系统通过int32_t传递value，应用需通过int32_t获取。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_PLAYBACK_RATE_DONE = 18</td>         <td class="cellrowborder" width="50%">          <p>播放速率成功应用时返回消息。</p>          <p>key为OH_PLAYER_PLAYBACK_RATE：取值类型float。系统通过float传递value，应用通过float获取。</p>          <p><strong>起始版本：</strong> 20</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="avplayerbufferingtype" device-type="phone,2in1,tablet,wearable,tv">AVPlayerBufferingType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="avplayerbufferingtype" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-built_in">AVPlayerBufferingType</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>播放缓冲消息类型定义。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 12</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">枚举项</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">AVPLAYER_BUFFERING_START = 1</td>         <td class="cellrowborder" width="50%">缓冲开始消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AVPLAYER_BUFFERING_END</td>         <td class="cellrowborder" width="50%">缓冲结束消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AVPLAYER_BUFFERING_PERCENT</td>         <td class="cellrowborder" width="50%">缓冲执行进度百分比，取值范围：整数，[0, 100]。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AVPLAYER_BUFFERING_CACHED_DURATION</td>         <td class="cellrowborder" width="50%">缓冲数据可播放时长，单位：毫秒。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="oh_avplayeroninfo" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_AVPlayerOnInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_avplayeroninfo" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*OH_AVPlayerOnInfo)(OH_AVPlayer *player, <span class="hljs-built_in">AVPlayerOnInfoType</span> type, int32_t extra)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>收到播放器消息时调用。</p>     <p>信息类型（type）和信息（extra）的对应关系如表所示。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">信息类型（type）</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">对应的extra描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_SEEKDONE</td>         <td class="cellrowborder" width="50%">跳转到对应播放位置时返回消息，extra表示跳转到的位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_SPEEDDONE</td>         <td class="cellrowborder" width="50%">播放倍速设置完成时返回消息，extra表示播放倍速信息，具体请参考<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplaybackspeed">AVPlaybackSpeed</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_BITRATEDONE</td>         <td class="cellrowborder" width="50%">比特率设置完成时返回消息，extra表示比特率信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_EOS</td>         <td class="cellrowborder" width="50%">播放完成时返回消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_STATE_CHANGE</td>         <td class="cellrowborder" width="50%">状态改变时返回消息，extra表示当前播放状态，具体请参见<a href="/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayerstate">AVPlayerState</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_POSITION_UPDATE</td>         <td class="cellrowborder" width="50%">返回当前播放位置，extra表示当前位置。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_MESSAGE</td>         <td class="cellrowborder" width="50%">视频开始渲染时返回消息，extra表示视频首帧渲染。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_VOLUME_CHANGE</td>         <td class="cellrowborder" width="50%">音量改变时返回消息，此场景下extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_RESOLUTION_CHANGE</td>         <td class="cellrowborder" width="50%">首次获取视频大小或视频大小更新时返回消息，此场景下extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_BUFFERING_UPDATE</td>         <td class="cellrowborder" width="50%">返回多队列缓冲时间，extra表示视频时长。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_BITRATE_COLLECT</td>         <td class="cellrowborder" width="50%">上报HLS视频比特率列表消息。上报时每个比特率已经转化为uint8_t字节数组，使用者需要将uint8_t字节数组强制转换为uint32_t整型数组。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_INTERRUPT_EVENT</td>         <td class="cellrowborder" width="50%">音频焦点改变时返回消息，extra表示音频打断提示，具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_hint">OH_AudioInterrupt_Hint</a>，应用可决定是否根据打断提示作进一步处理。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_DURATION_UPDATE</td>         <td class="cellrowborder" width="50%">返回播放时长，extra表示视频时长。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_IS_LIVE_STREAM</td>         <td class="cellrowborder" width="50%">播放为直播流时返回消息，extra表示是否为直播流，0表示非直播流，1表示直播流。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_TRACKCHANGE</td>         <td class="cellrowborder" width="50%">轨道改变时返回消息，此场景extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_TRACK_INFO_UPDATE</td>         <td class="cellrowborder" width="50%">轨道更新时返回消息，此场景extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_SUBTITLE_UPDATE</td>         <td class="cellrowborder" width="50%">字幕信息更新时返回消息，此场景extra未定义。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">AV_INFO_TYPE_AUDIO_OUTPUT_DEVICE_CHANGE</td>         <td class="cellrowborder" width="50%">音频输出设备改变时返回消息，extra表示设备改变原因，具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_devicechangereason">OH_AudioStream_DeviceChangeReason</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>废弃版本：</strong> 12</p>     <p><strong>替代接口：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeroninfocallback">OH_AVPlayerOnInfoCallback</a></p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-oh-avplayer">OH_AVPlayer</a> *player</td>         <td class="cellrowborder" width="50%">指向OH_AVPlayer实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayeroninfotype">AVPlayerOnInfoType</a> type</td>         <td class="cellrowborder" width="50%">信息类型。类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayeroninfotype">AVPlayerOnInfoType</a>，与extra的对应关系可见方法描述。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int32_t extra</td>         <td class="cellrowborder" width="50%">其他信息，如播放文件的开始时间位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_avplayeroninfocallback" device-type="phone,2in1,tablet,wearable,tv">OH_AVPlayerOnInfoCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_avplayeroninfocallback" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*OH_AVPlayerOnInfoCallback)(OH_AVPlayer *player, <span class="hljs-built_in">AVPlayerOnInfoType</span> type, OH_AVFormat* infoBody,<span class="hljs-type">void</span> *userData)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>收到播放器消息时被调用。如果应用成功设置该回调，则不会回调OH_AVPlayerOnInfo函数。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-oh-avplayer">OH_AVPlayer</a> *player</td>         <td class="cellrowborder" width="50%">指向OH_AVPlayer实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayeroninfotype">AVPlayerOnInfoType</a> type</td>         <td class="cellrowborder" width="50%">信息类型。具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#avplayeroninfotype">AVPlayerOnInfoType</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a>* infoBody</td>         <td class="cellrowborder" width="50%">指向携带具体消息的指针，仅在该回调方法内有效。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">void *userData</td>         <td class="cellrowborder" width="50%">指向应用调用者设置该回调函数时提供的实例的指针。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_avplayeronerror" device-type="phone,2in1,tablet,wearable,tv">OH_AVPlayerOnError()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_avplayeronerror" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*OH_AVPlayerOnError)</span><span class="hljs-params">(OH_AVPlayer *player, <span class="hljs-type">int32_t</span> errorCode, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *errorMsg)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>在API 9以上的版本发生错误时调用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>废弃版本：</strong> 12</p>     <p><strong>替代接口：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-base-h#oh_avplayeronerrorcallback">OH_AVPlayerOnErrorCallback</a></p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-oh-avplayer">OH_AVPlayer</a> *player</td>         <td class="cellrowborder" width="50%">指向OH_AVPlayer实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int32_t errorCode</td>         <td class="cellrowborder" width="50%">          <p>错误码。</p>          <p>AV_ERR_NO_MEMORY：无内存，取值为1。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：操作不允许，取值为2。</p>          <p>AV_ERR_INVALID_VAL：无效值，取值为3。</p>          <p>AV_ERR_IO：IO错误，取值为4。</p>          <p>AV_ERR_TIMEOUT：超时错误，取值为5。</p>          <p>AV_ERR_UNKNOWN：未知错误，取值为6。</p>          <p>AV_ERR_SERVICE_DIED：服务死亡，取值为7。</p>          <p>AV_ERR_INVALID_STATE：当前状态不支持此操作，取值为8。</p>          <p>AV_ERR_UNSUPPORT：未支持的接口，取值为9。</p>          <p>AV_ERR_EXTEND_START：扩展错误码初始值，取值为100。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char *errorMsg</td>         <td class="cellrowborder" width="50%">错误消息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_avplayeronerrorcallback" device-type="phone,2in1,tablet,wearable,tv">OH_AVPlayerOnErrorCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_avplayeronerrorcallback" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-hvj-c106="" class="highlight-div"><div _ngcontent-hvj-c106="" class="highlight-div-header"><div _ngcontent-hvj-c106="" class="highlight-div-header-left"><div _ngcontent-hvj-c106="" class="handle-button expand-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hvj-c106="" class="highlight-div-header-right"><div _ngcontent-hvj-c106="" class="handle-button ai-button"></div><div _ngcontent-hvj-c106="" class="handle-button line-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hvj-c106="" class="handle-button theme-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hvj-c106="" class="handle-button copy-button"><div _ngcontent-hvj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hvj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*OH_AVPlayerOnErrorCallback)</span><span class="hljs-params">(OH_AVPlayer *player, <span class="hljs-type">int32_t</span> errorCode, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *errorMsg,<span class="hljs-type">void</span> *userData)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>发生错误时被调用。如果应用成功设置该回调，则不会调用OH_AVPlayerOnError函数。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.AVPlayer</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avplayer-oh-avplayer">OH_AVPlayer</a> *player</td>         <td class="cellrowborder" width="50%">指向OH_AVPlayer实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int32_t errorCode</td>         <td class="cellrowborder" width="50%">          <p>错误码。</p>          <p>AV_ERR_NO_MEMORY：无内存，取值为1。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：操作不允许，取值为2。</p>          <p>AV_ERR_INVALID_VAL：无效值，取值为3。</p>          <p>AV_ERR_IO：IO错误。API version 12-13取值为4；API version 14及以后，对应错误细化为错误码5411001~5411011。</p>          <p>AV_ERR_TIMEOUT：超时错误，取值为5。</p>          <p>AV_ERR_UNKNOWN：未知错误，取值为6。</p>          <p>AV_ERR_SERVICE_DIED：服务死亡，取值为7。</p>          <p>AV_ERR_INVALID_STATE：当前状态不支持此操作，取值为8。</p>          <p>AV_ERR_UNSUPPORT：未支持的接口，取值为9。</p>          <p>AV_ERR_EXTEND_START：扩展错误码初始值，取值为100。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char *errorMsg</td>         <td class="cellrowborder" width="50%">错误消息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">void *userData</td>         <td class="cellrowborder" width="50%">原样返回用户设置回调时传入的userData数据。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>