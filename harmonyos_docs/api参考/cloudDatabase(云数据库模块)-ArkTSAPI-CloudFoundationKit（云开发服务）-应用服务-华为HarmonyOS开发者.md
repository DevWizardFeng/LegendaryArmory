<h1 _ngcontent-jir-c119="" class="doc-title ng-star-inserted" title="cloudDatabase (云数据库模块)"> cloudDatabase (云数据库模块) </h1>

<div _ngcontent-jir-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块提供使用云数据库进行数据写入、查询、删除等操作的能力。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <div class="tiledSection"><h2 id="section7800336194812" device-type="phone,tablet,tv,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section7800336194812" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section155901447219" device-type="phone,tablet,tv,wearable">zone<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section155901447219" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>zone(zone: string): DatabaseZone</p> <p>通过zone名称初始化云数据库实例。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.2" width="17.62%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.3" width="19.470000000000002%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.4" width="49.6%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>zone</p> </td> <td class="cellrowborder" width="17.62%"><p>string</p> </td> <td class="cellrowborder" width="19.470000000000002%"><p>是</p> </td> <td class="cellrowborder" width="49.6%"><p>zone的名称。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section18912210182513">DatabaseZone</a></p> </td> <td class="cellrowborder" width="68.84%"><p>云数据库处理数据的实例。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">"storageArea"</span>);</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section18912210182513" device-type="phone,tablet,tv,wearable">DatabaseZone<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18912210182513" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>云数据库处理数据的实例。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection"><h3 id="section390417613213" device-type="phone,tablet,tv,wearable" class="firsth2">query<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section390417613213" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>query&lt;T extends DatabaseObject&gt;(condition: DatabaseQuery&lt;T&gt;): Promise&lt;T[]&gt;</p> <p>通过条件查询数据。使用Promise异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.2" width="17.62%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.3" width="19.470000000000002%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.4" width="49.6%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>condition</p> </td> <td class="cellrowborder" width="17.62%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="19.470000000000002%"><p>是</p> </td> <td class="cellrowborder" width="49.6%"><p>提供丰富的查询条件。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.12.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.12.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p>Promise&lt;T[]&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>Promise对象，返回查询结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.15.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.15.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 在代码工程中创建BookInfo.ets文件</span></li><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BookInfo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">cloudDatabase.DatabaseObject</span>{</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">naturalbase_ClassName</span>(): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">'BookInfo'</span>;</li><li>  }</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_string</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_boolean</span>: <span class="hljs-built_in">boolean</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_byte</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_short</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_integer</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_long</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_float</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_double</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_text</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_date</span>: <span class="hljs-title class_">Date</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-attr">key_byte_array</span>: <span class="hljs-title class_">Uint8Array</span> | <span class="hljs-literal">undefined</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> { <span class="hljs-title class_">BookInfo</span> };</li></ol></pre></div></div> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// 在云数据库代码工程中引入BookInfo.ets文件，xx是文件的路径</span></li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li>  <span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>  condition.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'key_string'</span>, <span class="hljs-string">'string_123'</span>);</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in querying data, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(bookInfoArray)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query data, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section2105131521913" device-type="phone,tablet,tv,wearable">query<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section2105131521913" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>query&lt;T extends DatabaseObject&gt;(condition: DatabaseQuery&lt;T&gt;, callback: AsyncCallback&lt;T[]&gt;): void</p> <p>通过条件查询数据。使用callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.5.1.2" width="25.7%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.5.1.3" width="11.39%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.5.1.4" width="49.6%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>condition</p> </td> <td class="cellrowborder" width="25.7%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="11.39%"><p>是</p> </td> <td class="cellrowborder" width="49.6%"><p>提供丰富的查询条件。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>callback</p> </td> <td class="cellrowborder" width="25.7%"><p>AsyncCallback&lt;T[]&gt;</p> </td> <td class="cellrowborder" width="11.39%"><p>是</p> </td> <td class="cellrowborder" width="49.6%"><p>回调函数。当查询数据成功，err为undefined，data为查询到的结果数组；否则为错误对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'key_string'</span>, <span class="hljs-string">'string_123'</span>);</li><li>databaseZone.<span class="hljs-title function_">query</span>(condition, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, bookInfoArray</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query data, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in querying data, result: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(bookInfoArray)}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1248132432017" device-type="phone,tablet,tv,wearable">calculateQuery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1248132432017" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>calculateQuery&lt;T extends DatabaseObject&gt;(condition: DatabaseQuery&lt;T&gt;, fieldName: string, calculate: QueryCalculate): Promise&lt;number&gt;</p> <p>从数据库中查询符合条件的数据，并对指定字段进行算术计算。使用Promise异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p class="typescript"><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>condition</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>提供丰富的查询条件。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>指定查询对象中要计算的字段名称。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>calculate</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section530095545712">QueryCalculate</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库查询算术计算的类型。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.12.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p>Promise&lt;number&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p class="typescript">Promise对象。返回查询字段名称算术运算结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.15.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.15.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p class="typescript">Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li>  <span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>  condition.<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-keyword">let</span> count = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">calculateQuery</span>(condition, <span class="hljs-string">'key_integer'</span>, cloudDatabase.<span class="hljs-property">QueryCalculate</span>.<span class="hljs-property">AVERAGE</span>);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in calculating queried data, result: <span class="hljs-subst">${count}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to calculate queried data, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section15120218279" device-type="phone,tablet,tv,wearable">calculateQuery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section15120218279" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>calculateQuery&lt;T extends DatabaseObject&gt;(condition: DatabaseQuery&lt;T&gt;, fieldName: string, calculate: QueryCalculate, callback: AsyncCallback&lt;number&gt;): void</p> <p>从数据库中查询符合条件的数据，并对指定字段进行算术计算。使用callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.3" width="11.05%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.5.1.4" width="46.22%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>condition</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="11.05%"><p>是</p> </td> <td class="cellrowborder" width="46.22%"><p>提供丰富的查询条件。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.05%"><p>是</p> </td> <td class="cellrowborder" width="46.22%"><p>指定查询对象中要计算的字段名称。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>calculate</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section530095545712">QueryCalculate</a></p> </td> <td class="cellrowborder" width="11.05%"><p>是</p> </td> <td class="cellrowborder" width="46.22%"><p>云数据库查询算术计算的类型。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>callback</p> </td> <td class="cellrowborder" width="29.42%"><p>AsyncCallback&lt;number&gt;</p> </td> <td class="cellrowborder" width="11.05%"><p>是</p> </td> <td class="cellrowborder" width="46.22%"><p>回调函数。返回查询字段名称算术运算结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.13.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.13.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li>databaseZone.<span class="hljs-title function_">calculateQuery</span>(condition, <span class="hljs-string">'key_integer'</span>, cloudDatabase.<span class="hljs-property">QueryCalculate</span>.<span class="hljs-property">AVERAGE</span>,</li><li>  <span class="hljs-function">(<span class="hljs-params">err: BusinessError, num</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to calculate queried data, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in calculating queried data, result: <span class="hljs-subst">${num}</span>`</span>);</li><li>    }</li><li>  });</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section686153211276" device-type="phone,tablet,tv,wearable">upsert<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section686153211276" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>upsert&lt;T extends DatabaseObject&gt;(objectList: T[] | T): Promise&lt;number&gt;</p> <p>向数据库更新数据。使用Promise异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p class="typescript"><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>objectList</p> </td> <td class="cellrowborder" width="29.42%"><p>T[] | T</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>一个或多个对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p>Promise&lt;number&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>Promise对象。返回更新成功的数据数量。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.15.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.15.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li>  <span class="hljs-keyword">let</span> book = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BookInfo</span>();</li><li>  book.<span class="hljs-property">key_string</span> = <span class="hljs-string">'string_12'</span>;</li><li>  book.<span class="hljs-property">key_integer</span> = <span class="hljs-number">90</span>;</li><li>  <span class="hljs-keyword">let</span> book1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BookInfo</span>();</li><li>  book1.<span class="hljs-property">key_string</span> = <span class="hljs-string">'string_1234'</span>;</li><li>  book1.<span class="hljs-property">key_integer</span> = <span class="hljs-number">101</span>;</li><li>  <span class="hljs-keyword">let</span> num = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">upsert</span>([book, book1]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in upserting data, result: <span class="hljs-subst">${num}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to upsert data, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section155531930112715" device-type="phone,tablet,tv,wearable">upsert<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section155531930112715" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>upsert&lt;T extends DatabaseObject&gt;(objectList: T[] | T, callback: AsyncCallback&lt;number&gt;): void</p> <p>向数据库更新数据。使用callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>objectList</p> </td> <td class="cellrowborder" width="29.42%"><p>T[] | T</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>一个或多个对象。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>callback</p> </td> <td class="cellrowborder" width="29.42%"><p>AsyncCallback&lt;number&gt;</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>回调函数。返回更新成功的数据数量。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.13.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.13.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> book = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BookInfo</span>();</li><li>book.<span class="hljs-property">key_string</span> = <span class="hljs-string">'string_12'</span>;</li><li>book.<span class="hljs-property">key_integer</span> = <span class="hljs-number">90</span>;</li><li><span class="hljs-keyword">let</span> book1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BookInfo</span>();</li><li>book1.<span class="hljs-property">key_string</span> = <span class="hljs-string">'string_1234'</span>;</li><li>book1.<span class="hljs-property">key_integer</span> = <span class="hljs-number">101</span>;</li><li>databaseZone.<span class="hljs-title function_">upsert</span>([book, book1], <span class="hljs-function">(<span class="hljs-params">err: BusinessError, num</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (err) {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to upsert data, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  } <span class="hljs-keyword">else</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in upserting data, result: <span class="hljs-subst">${num}</span>`</span>);</li><li>  }</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1630522892714" device-type="phone,tablet,tv,wearable">delete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1630522892714" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete&lt;T extends DatabaseObject&gt;(objectList: T[] | T): Promise&lt;number&gt;</p> <p>在数据库中删除一条或者多条数据。使用Promise异步回调。</p> <p class="typescript"><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>objectList</p> </td> <td class="cellrowborder" width="29.42%"><p>T[] | T</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>一个或多个对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p>Promise&lt;number&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>Promise对象。返回删除成功的数据数量。</p> </td> </tr>  </tbody></table></div> </div> <p><strong class="typescript">错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.15.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.15.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li>  <span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>  condition.<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li>  <span class="hljs-keyword">let</span> bookArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>  <span class="hljs-keyword">let</span> deleteNum = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">delete</span>(bookArray);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in deleting a book, result: <span class="hljs-subst">${deleteNum}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to delete a book, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section947112513279" device-type="phone,tablet,tv,wearable">delete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section947112513279" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete&lt;T extends DatabaseObject&gt;(objectList: T[] | T, callback: AsyncCallback&lt;number&gt;): void</p> <p>在数据库中删除一条或者多条数据。使用callback异步回调。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>需要权限：</strong>ohos.permission.INTERNET</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>objectList</p> </td> <td class="cellrowborder" width="29.42%"><p>T[] | T</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>一个或多个对象。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>callback</p> </td> <td class="cellrowborder" width="29.42%"><p>AsyncCallback&lt;number&gt;</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>回调函数。返回删除成功的数据数量。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/cloudfoundation-arkts-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.1" style="border: none;" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.2" style="border: none;" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" style="border: none;" width="50%"><p>201</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>No Internet permission.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>401</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Network connection error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230002</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Schema config error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230003</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Natural object error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008230009</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Client internal error.</p> </td> </tr> <tr><td class="cellrowborder" style="border: none;" width="50%"><p>1008231001</p> </td> <td class="cellrowborder" style="border: none;" width="50%"><p>Server error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>  databaseZone.<span class="hljs-title function_">delete</span>(bookArray, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, num</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to delete a book, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Succeeded in deleting a book, result: <span class="hljs-subst">${num}</span>`</span>);</li><li>    }</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section667151455416" device-type="phone,tablet,tv,wearable">DatabaseObject<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section667151455416" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>数据库数据类型基类，在云端生成表结构时继承。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection"><h3 id="section18486159134814" device-type="phone,tablet,tv,wearable" class="firsth2">naturalbase_ClassName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18486159134814" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>naturalbase_ClassName(): string</p> <p>数据类型基类名称。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p>string</p> </td> <td class="cellrowborder" width="68.84%"><p>返回数据类型基类名称，需要与创建的对象类型名称一致。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">BookInfo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">cloudDatabase.DatabaseObject</span>{</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">naturalbase_ClassName</span>(): <span class="hljs-built_in">string</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">"BookInfo"</span>;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">export</span> { <span class="hljs-title class_">BookInfo</span> };</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section15219172491013" device-type="phone,tablet,tv,wearable">FieldType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section15219172491013" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type FieldType = string | number | boolean | Uint8Array | Date</p> <p>云数据库支持的数据类型。取值类型为下表类型中的并集/交集。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="32.36%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="67.64%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.36%"><p>string</p> </td> <td class="cellrowborder" width="67.64%"><p>表示值类型为字符，可取任意值。</p> </td> </tr> <tr><td class="cellrowborder" width="32.36%"><p>number</p> </td> <td class="cellrowborder" width="67.64%"><p>表示值类型为数字，可取任意值。</p> </td> </tr> <tr><td class="cellrowborder" width="32.36%"><p>boolean</p> </td> <td class="cellrowborder" width="67.64%"><p>表示值类型为布尔类型，可取true或者false。</p> </td> </tr> <tr><td class="cellrowborder" width="32.36%"><p>Uint8Array</p> </td> <td class="cellrowborder" width="67.64%"><p>表示值类型为8位无符号整型数组，可取任意值。</p> </td> </tr> <tr><td class="cellrowborder" width="32.36%"><p>Date</p> </td> <td class="cellrowborder" width="67.64%"><p>表示值类型为日期，值固定格式为“YYYY-MM-DD”。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section530095545712" device-type="phone,tablet,tv,wearable">QueryCalculate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section530095545712" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>枚举， 查询算术计算类型。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.4.1.1" width="25.73257325732573%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.4.1.2" width="24.59245924592459%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.4.1.3" width="49.67496749674967%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25.73257325732573%"><p>AVERAGE</p> </td> <td class="cellrowborder" width="24.59245924592459%"><p>0</p> </td> <td class="cellrowborder" width="49.67496749674967%"><p>计算平均数。</p> </td> </tr> <tr><td class="cellrowborder" width="25.73257325732573%"><p>SUM</p> </td> <td class="cellrowborder" width="24.59245924592459%"><p>1</p> </td> <td class="cellrowborder" width="49.67496749674967%"><p>计算总和。</p> </td> </tr> <tr><td class="cellrowborder" width="25.73257325732573%"><p>MAXIMUM</p> </td> <td class="cellrowborder" width="24.59245924592459%"><p>2</p> </td> <td class="cellrowborder" width="49.67496749674967%"><p>计算最大值。</p> </td> </tr> <tr><td class="cellrowborder" width="25.73257325732573%"><p>MINIMUM</p> </td> <td class="cellrowborder" width="24.59245924592459%"><p>3</p> </td> <td class="cellrowborder" width="49.67496749674967%"><p>计算最小值。</p> </td> </tr> <tr><td class="cellrowborder" width="25.73257325732573%"><p>COUNT</p> </td> <td class="cellrowborder" width="24.59245924592459%"><p>4</p> </td> <td class="cellrowborder" width="49.67496749674967%"><p>计算记录总数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section76501736191415" device-type="phone,tablet,tv,wearable">DatabaseQuery<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section76501736191415" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>DatabaseQuery&lt;T extends DatabaseObject&gt;</p> <p>提供丰富的谓词查询来构建查询条件。根据谓词查询方法构造自己的DatabaseQuery对象。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection"><h3 id="section1193314164018" device-type="phone,tablet,tv,wearable" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1193314164018" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(entityClass: new () =&gt; T)</p> <p>构造查询实体类信息。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>entityClass</p> </td> <td class="cellrowborder" width="29.42%"><p>new () =&gt; T</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>数据对象的实体类。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section9706571488" device-type="phone,tablet,tv,wearable">equalTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9706571488" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>equalTo(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类中某个字段的值等于指定值的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'key_string'</span>, <span class="hljs-string">'string_123'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section16955165444812" device-type="phone,tablet,tv,wearable">notEqualTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16955165444812" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>notEqualTo(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类中某个字段的值不等于指定值的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">notEqualTo</span>(<span class="hljs-string">'key_string'</span>, <span class="hljs-string">'string_123'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section92145217489" device-type="phone,tablet,tv,wearable">beginsWith<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section92145217489" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>beginsWith(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类中string类型字段值以指定子串开头的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">beginsWith</span>(<span class="hljs-string">'key_string'</span>, <span class="hljs-string">'key'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section770384164510" device-type="phone,tablet,tv,wearable">endsWith<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section770384164510" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>endsWith(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类中string类型字段值以指定子串结尾的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'key_string'</span>, <span class="hljs-string">'string'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section410140164511" device-type="phone,tablet,tv,wearable">contains<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section410140164511" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>contains(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类中字符串类型字段值包含指定子字符串的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'key_string'</span>, <span class="hljs-string">'string'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1126713810452" device-type="phone,tablet,tv,wearable">greaterThan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1126713810452" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>greaterThan(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类字段值大于指定值的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">greaterThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section66752361452" device-type="phone,tablet,tv,wearable">greaterThanOrEqualTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section66752361452" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>greaterThanOrEqualTo(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类字段值大于或等于指定值的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">greaterThanOrEqualTo</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section951063417451" device-type="phone,tablet,tv,wearable">lessThan<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section951063417451" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lessThan(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类字段值小于指定值的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section178173314450" device-type="phone,tablet,tv,wearable">lessThanOrEqualTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section178173314450" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>lessThanOrEqualTo(fieldName: string, value: FieldType): DatabaseQuery&lt;T&gt;</p> <p>添加实体类字段值小于或等于指定值的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>value</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a></p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">lessThanOrEqualTo</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section6276103955110" device-type="phone,tablet,tv,wearable">in<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6276103955110" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>in(fieldName: string, values: FieldType[]): DatabaseQuery&lt;T&gt;</p> <p>添加实体类字段值包含在指定数组中的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>values</p> </td> <td class="cellrowborder" width="29.42%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section15219172491013">FieldType</a>[]</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>云数据库中支持的数据类型的值的数组。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">in</span>(<span class="hljs-string">'key_integer'</span>, [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>]);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section14661840125119" device-type="phone,tablet,tv,wearable">isNull<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14661840125119" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isNull(fieldName: string): DatabaseQuery&lt;T&gt;</p> <p>添加实体类某字段值为空的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">isNull</span>(<span class="hljs-string">'key_date'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1717714235116" device-type="phone,tablet,tv,wearable">isNotNull<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1717714235116" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>isNotNull(fieldName: string): DatabaseQuery&lt;T&gt;</p> <p>添加实体类某字段值不为空的查询条件。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">isNotNull</span>(<span class="hljs-string">'key_date'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section0344144315513" device-type="phone,tablet,tv,wearable">orderByAsc<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section0344144315513" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>orderByAsc(fieldName: string): DatabaseQuery&lt;T&gt;</p> <p>按指定字段升序对查询结果进行排序。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.32.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">orderByAsc</span>(<span class="hljs-string">'key_integer'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1754544435111" device-type="phone,tablet,tv,wearable">orderByDesc<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1754544435111" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>orderByDesc(fieldName: string): DatabaseQuery&lt;T&gt;</p> <p>按指定字段降序对查询结果进行排序。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>fieldName</p> </td> <td class="cellrowborder" width="29.42%"><p>string</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>实体类中的字段名。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">orderByDesc</span>(<span class="hljs-string">'key_integer'</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section19149641220" device-type="phone,tablet,tv,wearable">orderByRandom<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19149641220" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>orderByRandom(): DatabaseQuery&lt;T&gt;</p> <p>调用此方法可以将查询结果按随机顺序展示。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>使用orderByRandom()对数据进行排序时，建议与limit()配合使用。否则，当该对象类型的数据记录数量过多时，可能会影响查询效率，导致查询超时或失败。</p> </div></div></div> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本6.0.1(21)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>6.0.1(21)</p> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">orderByRandom</span>().<span class="hljs-title function_">limit</span>(<span class="hljs-number">10</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section9232724175819" device-type="phone,tablet,tv,wearable">limit<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9232724175819" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>limit(count: number, offset?: number): DatabaseQuery&lt;T&gt;</p> <p>指定返回的查询结果集中的数据记录条数。如果不设置offset，则默认从首个对象开始获取前count个对象。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.35.9.1.5.1.1" width="13.309999999999999%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.5.1.2" width="29.42%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.5.1.3" width="11.06%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.5.1.4" width="46.21%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="13.309999999999999%"><p>count</p> </td> <td class="cellrowborder" width="29.42%"><p>number</p> </td> <td class="cellrowborder" width="11.06%"><p>是</p> </td> <td class="cellrowborder" width="46.21%"><p>限制可以获得的数据记录数量。</p> </td> </tr> <tr><td class="cellrowborder" width="13.309999999999999%"><p>offset</p> </td> <td class="cellrowborder" width="29.42%"><p>number</p> </td> <td class="cellrowborder" width="11.06%"><p>否</p> </td> <td class="cellrowborder" width="46.21%"><p>指定数据记录的起始位置。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.11.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.35.11.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">100</span>);</li><li>condition.<span class="hljs-title function_">limit</span>(<span class="hljs-number">4</span>, <span class="hljs-number">1</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section144831118116" device-type="phone,tablet,tv,wearable">beginGroup<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section144831118116" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>beginGroup(): DatabaseQuery&lt;T&gt;</p> <p>调用此方法是为了放置左括号“(”附加到任何查询条件并将右括号“)”与相同的查询连接起来组合使用。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>beginGroup()和endGroup()必须成对出现，并且必须与其他查询条件一起使用。</li><li>在beginGroup()和endGroup()之间，必须存在以下查询条件中的一个或多个：<p>equalTo()、notEqualTo()、greaterThan()、greaterThanOrEqualTo()、lessThan()、lessThanOrEqualTo()、in()、beginsWith()、endsWith()、isNull()、isNotNull()和contains()。</p> </li><li>beginGroup()不能直接用在and()和or()之前。即不支持beginGroup().and()、beginGroup().and().endGroup()、beginGroup().or()和beginGroup().or().endGroup()。</li></ul> </div></div></div> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">beginGroup</span>().<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'string_string'</span>, <span class="hljs-string">'string_123'</span>).<span class="hljs-title function_">endGroup</span>();</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section237718917111" device-type="phone,tablet,tv,wearable">endGroup<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section237718917111" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>endGroup(): DatabaseQuery&lt;T&gt;</p> <p>调用此方法是为了放置右括号“)”附加到任何查询条件并将左括号“(”与相同的查询连接起来组合使用。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>beginGroup()和endGroup()必须成对出现，并且必须与其他查询条件一起使用。</li><li>在beginGroup()和endGroup()之间，必须存在以下查询条件中的一个或多个：<p>equalTo()、notEqualTo()、greaterThan()、greaterThanOrEqualTo()、lessThan()、lessThanOrEqualTo()、in()、beginsWith()、endsWith()、isNull()、isNotNull()和contains()。</p> </li><li>endGroup()不能直接用在and()和or()之前。即不支持and().endGroup()、beginGroup().and().endGroup()、or().endGroup()和beginGroup().or().endGroup()。</li></ul> </div></div></div> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">beginGroup</span>().<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'string_string'</span>, <span class="hljs-string">'string_123'</span>).<span class="hljs-title function_">endGroup</span>();</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section115881764114" device-type="phone,tablet,tv,wearable">or<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section115881764114" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>or(): DatabaseQuery&lt;T&gt;</p> <p>使用or运算组合两个条件并返回两个查询结果的并集。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>or()只能与其他查询条件一起使用。</li><li>当和equalTo()、notEqualTo()、greaterThan()、greaterThanOrEqualTo()、lessThan()、lessThanOrEqualTo()、in()、beginsWith()、endsWith()、isNull()、isNotNull()和contains()一起使用时，返回两个查询结果的交集。</li><li>当or()与and()一起使用时，or()前面不能直接跟and()，即不支持and().or()。</li><li>与beginGroup()和endGroup()结合使用时：<ul><li>支持多层嵌套，beginGroup()和endGroup()必须成对出现。</li><li>beginGroup()不能在or()之前使用，endGroup()不能在or()之后使用。</li><li>即不支持beginGroup().or()、beginGroup().or().endGroup()和or().endGroup()。</li><li>不能与orderByAsc()、orderByDesc()或limit()一起使用。</li></ul> </li></ul> </div></div></div> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong><strong>：</strong></p> <div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'string_string'</span>, <span class="hljs-string">'string_123'</span>).<span class="hljs-title function_">or</span>().<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">50</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section5720417163313" device-type="phone,tablet,tv,wearable">and<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section5720417163313" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>and(): DatabaseQuery&lt;T&gt;</p> <p>使用and运算组合两个条件并返回两个查询结果的交集。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>and()只能与其他查询条件一起使用。</li><li>当和equalTo()、notEqualTo()、greaterThan()、greaterThanOrEqualTo()、lessThan()、lessThanOrEqualTo()、in()、beginsWith()、endsWith()、isNull()、isNotNull()和contains()一起使用时，返回两个查询结果的交集。</li><li>当and()与or()一起使用时，and()后面不能直接跟or()，即不支持and().or()。</li><li>与beginGroup()和endGroup()结合使用时：<ul><li>支持多层嵌套，beginGroup()和endGroup()必须成对出现。</li><li>beginGroup()不能在and()之前使用，endGroup()不能在and()之后使用。</li><li>即不支持beginGroup().and()、beginGroup().and().endGroup()和and().endGroup()。</li><li>不能与orderByAsc()、orderByDesc()或limit()一起使用。</li></ul> </li></ul> </div></div></div> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API</strong><strong>：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力</strong><strong>：</strong>SystemCapability.DeviceCloudGateway.CloudFoundation</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值</strong><strong>：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="31.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="68.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="31.16%"><p><a href="/consumer/cn/doc/harmonyos-references/cloudfoundation-clouddatabase#section76501736191415">DatabaseQuery</a>&lt;T&gt;</p> </td> <td class="cellrowborder" width="68.84%"><p>DatabaseQuery对象。</p> </td> </tr>  </tbody></table></div> </div> <div class="p"><strong>示例</strong><strong>：</strong><div _ngcontent-jir-c106="" class="highlight-div"><div _ngcontent-jir-c106="" class="highlight-div-header"><div _ngcontent-jir-c106="" class="highlight-div-header-left"><div _ngcontent-jir-c106="" class="handle-button expand-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jir-c106="" class="highlight-div-header-right"><div _ngcontent-jir-c106="" class="handle-button ai-button"></div><div _ngcontent-jir-c106="" class="handle-button line-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jir-c106="" class="handle-button theme-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jir-c106="" class="handle-button copy-button"><div _ngcontent-jir-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jir-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { cloudDatabase } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CloudFoundationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BookInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'xx/BookInfo'</span>; <span class="hljs-comment">// xx是BookInfo文件的路径</span></li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建一个BookInfo的类继承 cloudDatabase.DatabaseObject ，内容与使用Promise异步回调的query接口示例一致</span></li><li><span class="hljs-keyword">let</span> databaseZone = cloudDatabase.<span class="hljs-title function_">zone</span>(<span class="hljs-string">'storageArea'</span>);</li><li><span class="hljs-keyword">let</span> condition = <span class="hljs-keyword">new</span> cloudDatabase.<span class="hljs-title class_">DatabaseQuery</span>(<span class="hljs-title class_">BookInfo</span>);</li><li>condition.<span class="hljs-title function_">equalTo</span>(<span class="hljs-string">'string_string'</span>, <span class="hljs-string">'string_123'</span>).<span class="hljs-title function_">and</span>().<span class="hljs-title function_">lessThan</span>(<span class="hljs-string">'key_integer'</span>, <span class="hljs-number">50</span>);</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> bookInfoArray = <span class="hljs-keyword">await</span> databaseZone.<span class="hljs-title function_">query</span>(condition);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to query books, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> </div> </div> <div></div></div>