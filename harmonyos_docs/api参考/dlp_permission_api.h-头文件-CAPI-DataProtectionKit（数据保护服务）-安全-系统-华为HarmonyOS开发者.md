<h1 _ngcontent-ith-c119="" class="doc-title ng-star-inserted" title="dlp_permission_api.h"> dlp_permission_api.h </h1>

<div _ngcontent-ith-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>声明用于跨设备的文件的权限管理、加密存储、授权访问等能力的接口。</p> <p><strong>库：</strong> libohdlp_permission.so</p> <p><strong>引用文件：</strong> &lt;DataProtectionKit/dlp_permission_api.h&gt;</p> <p><strong>系统能力：</strong> SystemCapability.Security.DataLossPrevention</p> <p><strong>起始版本：</strong> 14</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-dlppermissionapi">DlpPermissionApi</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div>  <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,tv" class="firsth2">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_errcode">DLP_ErrCode</a></td> <td class="cellrowborder" width="33.33333333333333%">DLP_ErrCode</td> <td class="cellrowborder" width="33.33333333333333%">DLP错误码的枚举。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_fileaccess">DLP_FileAccess</a></td> <td class="cellrowborder" width="33.33333333333333%">DLP_FileAccess</td> <td class="cellrowborder" width="33.33333333333333%">DLP文件授权类型的枚举。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#oh_dlp_getdlppermissioninfo">DLP_ErrCode OH_DLP_GetDlpPermissionInfo(DLP_FileAccess *dlpFileAccess, uint32_t *flags)</a></td> <td class="cellrowborder" width="50%">查询当前DLP沙箱的权限信息。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#oh_dlp_getoriginalfilename">DLP_ErrCode OH_DLP_GetOriginalFileName(const char *fileName, char **originalFileName)</a></td> <td class="cellrowborder" width="50%">获取指定DLP文件名的原始文件名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#oh_dlp_isinsandbox">DLP_ErrCode OH_DLP_IsInSandbox(bool *isInSandbox)</a></td> <td class="cellrowborder" width="50%">查询当前应用是否运行在DLP沙箱环境。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#oh_dlp_setsandboxappconfig">DLP_ErrCode OH_DLP_SetSandboxAppConfig(const char *configInfo)</a></td> <td class="cellrowborder" width="50%">设置沙箱应用配置信息。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#oh_dlp_getsandboxappconfig">DLP_ErrCode OH_DLP_GetSandboxAppConfig(char **configInfo)</a></td> <td class="cellrowborder" width="50%">获取沙箱应用配置信息。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#oh_dlp_cleansandboxappconfig">DLP_ErrCode OH_DLP_CleanSandboxAppConfig()</a></td> <td class="cellrowborder" width="50%">清理沙箱应用配置信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div>  <div class="tiledSection"><h3 id="dlp_errcode" device-type="phone,2in1,tablet,tv" class="firsth2">DLP_ErrCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlp_errcode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">DLP_ErrCode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>DLP错误码的枚举。</p> <p><strong>起始版本：</strong> 14</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">ERR_OH_SUCCESS = 0</td> <td class="cellrowborder" width="50%">表示操作成功。</td> </tr> <tr><td class="cellrowborder" width="50%">ERR_OH_INVALID_PARAMETER = 19100001</td> <td class="cellrowborder" width="50%">表示入参错误。</td> </tr> <tr><td class="cellrowborder" width="50%">ERR_OH_API_ONLY_FOR_SANDBOX = 19100006</td> <td class="cellrowborder" width="50%">表示非DLP沙箱应用。</td> </tr> <tr><td class="cellrowborder" width="50%">ERR_OH_API_NOT_FOR_SANDBOX = 19100007</td> <td class="cellrowborder" width="50%">表示DLP沙箱应用不允许调用此接口。</td> </tr> <tr><td class="cellrowborder" width="50%">ERR_OH_SYSTEM_SERVICE_EXCEPTION = 19100011</td> <td class="cellrowborder" width="50%">表示系统服务工作异常。</td> </tr> <tr><td class="cellrowborder" width="50%">ERR_OH_OUT_OF_MEMORY = 19100012</td> <td class="cellrowborder" width="50%">表示内存申请失败。</td> </tr> <tr><td class="cellrowborder" width="50%">ERR_OH_APPLICATION_NOT_AUTHORIZED = 19100018</td> <td class="cellrowborder" width="50%">表示应用未授权。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="dlp_fileaccess" device-type="phone,2in1,tablet,tv">DLP_FileAccess<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="dlp_fileaccess" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">DLP_FileAccess</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>DLP文件授权类型的枚举。</p> <p><strong>起始版本：</strong> 14</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">NO_PERMISSION = 0</td> <td class="cellrowborder" width="50%">表示无文件权限。</td> </tr> <tr><td class="cellrowborder" width="50%">READ_ONLY = 1</td> <td class="cellrowborder" width="50%">表示文件的只读权限。</td> </tr> <tr><td class="cellrowborder" width="50%">CONTENT_EDIT = 2</td> <td class="cellrowborder" width="50%">表示文件的编辑权限。</td> </tr> <tr><td class="cellrowborder" width="50%">FULL_CONTROL = 3</td> <td class="cellrowborder" width="50%">表示文件的完全控制权限。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div>  <div class="tiledSection"><h3 id="oh_dlp_getdlppermissioninfo" device-type="phone,2in1,tablet,tv" class="firsth2">OH_DLP_GetDlpPermissionInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_dlp_getdlppermissioninfo" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>DLP_ErrCode <span class="hljs-built_in">OH_DLP_GetDlpPermissionInfo</span>(DLP_FileAccess *dlpFileAccess, uint32_t *flags)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询当前DLP沙箱的权限信息。</p> <p><strong>起始版本：</strong> 14</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_fileaccess">DLP_FileAccess</a> *dlpFileAccess</td> <td class="cellrowborder" width="50%">表示DLP文件针对用户的授权类型，例如：只读。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t *flags</td> <td class="cellrowborder" width="50%"><p>表示DLP文件的详细操作权限，操作权限的具体含义为：</p> <p>0x00000000-表示无文件权限。</p> <p>0x00000001-表示文件的查看权限。</p> <p>0x00000002-表示文件的保存权限。</p> <p>0x00000004-表示文件的另存为权限。</p> <p>0x00000008-表示文件的编辑权限。</p> <p>0x00000010-表示文件的截屏权限。</p> <p>0x00000020-表示文件的共享屏幕权限。</p> <p>0x00000040-表示文件的录屏权限。</p> <p>0x00000080-表示文件的复制权限。</p> <p>0x00000100-表示文件的打印权限。</p> <p>0x00000200-表示文件的导出权限。</p> <p>0x00000400-表示文件的修改文件权限。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_errcode">DLP_ErrCode</a></td> <td class="cellrowborder" width="50%"><p>0 - 操作成功。</p> <p> 19100001 - 入参错误。</p> <p> 19100006 - 非DLP沙箱应用。</p> <p> 19100011 - 系统服务工作异常。</p> <p> 19100012 - 内存申请失败。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_dlp_getoriginalfilename" device-type="phone,2in1,tablet,tv">OH_DLP_GetOriginalFileName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_dlp_getoriginalfilename" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">DLP_ErrCode <span class="hljs-title">OH_DLP_GetOriginalFileName</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *fileName, <span class="hljs-type">char</span> **originalFileName)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取指定DLP文件名的原始文件名。</p> <p><strong>起始版本：</strong> 14</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *fileName</td> <td class="cellrowborder" width="50%">指定要查询的文件名。</td> </tr> <tr><td class="cellrowborder" width="50%">char **originalFileName</td> <td class="cellrowborder" width="50%">DLP文件的原始文件名。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_errcode">DLP_ErrCode</a></td> <td class="cellrowborder" width="50%"><p>0 - 操作成功。</p> <p> 19100001 - 入参错误。</p> <p> 19100012 - 内存申请失败。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_dlp_isinsandbox" device-type="phone,2in1,tablet,tv">OH_DLP_IsInSandbox()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_dlp_isinsandbox" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>DLP_ErrCode <span class="hljs-built_in">OH_DLP_IsInSandbox</span>(bool *isInSandbox)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询当前应用是否运行在DLP沙箱环境。</p> <p><strong>起始版本：</strong> 14</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">bool *isInSandbox</td> <td class="cellrowborder" width="50%">true表示当前应用运行在DLP沙箱环境，false表示当前应用不是运行在DLP沙箱环境。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_errcode">DLP_ErrCode</a></td> <td class="cellrowborder" width="50%"><p>0 - 操作成功。</p> <p> 19100011 - 系统服务工作异常。</p> <p> 19100012 - 内存申请失败。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_dlp_setsandboxappconfig" device-type="phone,2in1,tablet,tv">OH_DLP_SetSandboxAppConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_dlp_setsandboxappconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">DLP_ErrCode <span class="hljs-title">OH_DLP_SetSandboxAppConfig</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *configInfo)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置沙箱应用配置信息。</p> <p><strong>起始版本：</strong> 14</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *configInfo</td> <td class="cellrowborder" width="50%">沙箱应用配置信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_errcode">DLP_ErrCode</a></td> <td class="cellrowborder" width="50%"><p>0 - 操作成功。</p> <p> 19100001 - 入参错误。</p> <p> 19100007 - DLP沙箱应用不允许调用此接口。</p> <p> 19100011 - 系统服务工作异常。</p> <p> 19100018 - 应用未授权。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_dlp_getsandboxappconfig" device-type="phone,2in1,tablet,tv">OH_DLP_GetSandboxAppConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_dlp_getsandboxappconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>DLP_ErrCode <span class="hljs-title function_">OH_DLP_GetSandboxAppConfig</span><span class="hljs-params">(<span class="hljs-type">char</span> **configInfo)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取沙箱应用配置信息。</p> <p><strong>起始版本：</strong> 14</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">char **configInfo</td> <td class="cellrowborder" width="50%">沙箱应用配置信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_errcode">DLP_ErrCode</a></td> <td class="cellrowborder" width="50%"><p>0 - 操作成功。</p> <p> 19100011 - 系统服务工作异常。</p> <p> 19100012 - 内存申请失败。</p> <p> 19100018 - 应用未授权。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_dlp_cleansandboxappconfig" device-type="phone,2in1,tablet,tv">OH_DLP_CleanSandboxAppConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_dlp_cleansandboxappconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ith-c106="" class="highlight-div"><div _ngcontent-ith-c106="" class="highlight-div-header"><div _ngcontent-ith-c106="" class="highlight-div-header-left"><div _ngcontent-ith-c106="" class="handle-button expand-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ith-c106="" class="highlight-div-header-right"><div _ngcontent-ith-c106="" class="handle-button ai-button"></div><div _ngcontent-ith-c106="" class="handle-button line-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ith-c106="" class="handle-button theme-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ith-c106="" class="handle-button copy-button"><div _ngcontent-ith-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ith-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>DLP_ErrCode <span class="hljs-built_in">OH_DLP_CleanSandboxAppConfig</span>()</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>清理沙箱应用配置信息。</p> <p><strong>起始版本：</strong> 14</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-dlp-permission-api-h#dlp_errcode">DLP_ErrCode</a></td> <td class="cellrowborder" width="50%"><p>0 - 操作成功。</p> <p> 19100007 - DLP沙箱应用不允许调用此接口。</p> <p> 19100011 - 系统服务工作异常。</p> <p> 19100018 - 应用未授权。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>