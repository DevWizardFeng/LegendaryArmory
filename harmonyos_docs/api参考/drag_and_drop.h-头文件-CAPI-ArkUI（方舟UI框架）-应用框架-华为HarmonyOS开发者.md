<h1 _ngcontent-uvy-c119="" class="doc-title ng-star-inserted" title="drag_and_drop.h"> drag_and_drop.h </h1>

<div _ngcontent-uvy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div> <div class="tiledSection" style="contain-intrinsic-size: auto 422px;"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供NativeDrag相关接口定义。</p> <p><strong>引用文件：</strong> &lt;arkui/drag_and_drop.h&gt;</p> <p><strong>库：</strong> libace_ndk.z.so</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>起始版本：</strong> 12</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule">ArkUI_NativeModule</a></p> <p><strong>相关示例：</strong> <a href="https://gitcode.com/HarmonyOS_Samples/guide-snippets/tree/master/ArkUIKit/NativeDragDrop" target="_blank">NativeDragDrop</a></p> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 507px;"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-nodeevent">ArkUI_NodeEvent</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_NodeEvent</td> <td class="cellrowborder" width="33.33333333333333%">组件事件的通用结构类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-context">ArkUI_Context</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_Context</td> <td class="cellrowborder" width="33.33333333333333%">native UI的上下文实例对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-context8h">ArkUI_Context*</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_ContextHandle</td> <td class="cellrowborder" width="33.33333333333333%">native UI的上下文实例对象指针定义。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DragEvent</td> <td class="cellrowborder" width="33.33333333333333%">拖拽事件。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DragPreviewOption</td> <td class="cellrowborder" width="33.33333333333333%">设置拖拽跟手图的相关自定义参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DragAction</td> <td class="cellrowborder" width="33.33333333333333%">拖拽行为，用于主动发起拖拽。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-draganddropinfo">ArkUI_DragAndDropInfo</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DragAndDropInfo</td> <td class="cellrowborder" width="33.33333333333333%">主动发起拖拽后，通过拖拽状态监听返回的系统拖拽相关数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 505px;"><h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragresult">ArkUI_DragResult</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DragResult</td> <td class="cellrowborder" width="33.33333333333333%">拖拽结果定义，由数据接收方设置，并由系统传递给数据拖出方，拖出方可感知接收方对数据的处理结果。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dropoperation">ArkUI_DropOperation</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DropOperation</td> <td class="cellrowborder" width="33.33333333333333%">定义拖拽释放时的数据处理方式，可影响角标的显示。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_predragstatus">ArkUI_PreDragStatus</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_PreDragStatus</td> <td class="cellrowborder" width="33.33333333333333%">定义拖拽发起前的长按交互阶段的变化状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragpreviewscalemode">ArkUI_DragPreviewScaleMode</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DragPreviewScaleMode</td> <td class="cellrowborder" width="33.33333333333333%">拖拽预览缩放模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragstatus">ArkUI_DragStatus</a></td> <td class="cellrowborder" width="33.33333333333333%">ArkUI_DragStatus</td> <td class="cellrowborder" width="33.33333333333333%">拖拽状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 7623px;"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_nodeevent_getdragevent">ArkUI_DragEvent* OH_ArkUI_NodeEvent_GetDragEvent(ArkUI_NodeEvent* nodeEvent)</a></td> <td class="cellrowborder" width="50%">从 NodeEvent 中获取DragEvent。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_nodeevent_getpredragstatus">ArkUI_PreDragStatus OH_ArkUI_NodeEvent_GetPreDragStatus(ArkUI_NodeEvent* nodeEvent)</a></td> <td class="cellrowborder" width="50%">获取预览拖拽事件状态。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_disabledefaultdropanimation">int32_t OH_ArkUI_DragEvent_DisableDefaultDropAnimation(ArkUI_DragEvent* event, bool disable)</a></td> <td class="cellrowborder" width="50%">设置是否禁用松手时的系统默认动效，默认不禁用，通常在应用需要自定义落位动效时配置。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setsuggesteddropoperation">int32_t OH_ArkUI_DragEvent_SetSuggestedDropOperation(ArkUI_DragEvent* event, ArkUI_DropOperation dropOperation)</a></td> <td class="cellrowborder" width="50%">设置数据处理方式。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setdragresult">int32_t OH_ArkUI_DragEvent_SetDragResult(ArkUI_DragEvent* event, ArkUI_DragResult result)</a></td> <td class="cellrowborder" width="50%">设置拖拽事件的结果。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setdata">int32_t OH_ArkUI_DragEvent_SetData(ArkUI_DragEvent* event, OH_UdmfData* data)</a></td> <td class="cellrowborder" width="50%">向ArkUI_DragEvent中设置拖拽数据。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setdataloadparams">ArkUI_ErrorCode OH_ArkUI_DragEvent_SetDataLoadParams(ArkUI_DragEvent* event, OH_UdmfDataLoadParams* dataLoadParams)</a></td> <td class="cellrowborder" width="50%">调用此方法向系统提供数据加载参数，而非直接传入完整的数据对象。当用户将数据拖拽至目标应用程序并释放时，系统将使用dataLoadParams请求数据。这可以显著提高拖拽大量数据及目标应用程序处理释放数据的效率。此方法应始终优先于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setdata">OH_ArkUI_DragEvent_SetData</a>使用。请参考<strong>udmf.h</strong>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-h#oh_udmfdataloadparams_create">OH_UdmfDataLoadParams_Create</a>了解如何创建和准备数据加载参数。该方法与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setdata">OH_ArkUI_DragEvent_SetData</a>存在冲突，系统始终以最后调用的方法为准。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getudmfdata">int32_t OH_ArkUI_DragEvent_GetUdmfData(ArkUI_DragEvent* event, OH_UdmfData *data)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取拖拽默认相关数据。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getdatatypecount">int32_t OH_ArkUI_DragEvent_GetDataTypeCount(ArkUI_DragEvent* event, int32_t* count)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取所拖拽的数据类型种类个数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getdatatypes">int32_t OH_ArkUI_DragEvent_GetDataTypes(ArkUI_DragEvent *event, char *eventTypeArray[], int32_t length, int32_t maxStrLen)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取拖拽数据的类型列表。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getdragresult">int32_t OH_ArkUI_DragEvent_GetDragResult(ArkUI_DragEvent* event, ArkUI_DragResult* result)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取拖拽结果。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getdropoperation">int32_t OH_ArkUI_DragEvent_GetDropOperation(ArkUI_DragEvent* event, ArkUI_DropOperation* operation)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取数据处理方式。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getpreviewtouchpointx">float OH_ArkUI_DragEvent_GetPreviewTouchPointX(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取预览图跟手点的x轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getpreviewtouchpointy">float OH_ArkUI_DragEvent_GetPreviewTouchPointY(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取预览图跟手点的y轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getpreviewrectwidth">float OH_ArkUI_DragEvent_GetPreviewRectWidth(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取预览图的宽。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getpreviewrectheight">float OH_ArkUI_DragEvent_GetPreviewRectHeight(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取预览图的高。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_gettouchpointxtowindow">float OH_ArkUI_DragEvent_GetTouchPointXToWindow(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取跟手点相对于window的x轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_gettouchpointytowindow">float OH_ArkUI_DragEvent_GetTouchPointYToWindow(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取跟手点相对于window的y轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_gettouchpointxtodisplay">float OH_ArkUI_DragEvent_GetTouchPointXToDisplay(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取跟手点相对于当前Display的x轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_gettouchpointytodisplay">float OH_ArkUI_DragEvent_GetTouchPointYToDisplay(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取跟手点相对于当前Display的y轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getvelocityx">float OH_ArkUI_DragEvent_GetVelocityX(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">获取当前拖拽的x轴方向拖动速度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getvelocityy">float OH_ArkUI_DragEvent_GetVelocityY(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">获取当前拖拽的y轴方向拖动速度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getvelocity">float OH_ArkUI_DragEvent_GetVelocity(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">获取当前拖拽的主方向拖动速度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getmodifierkeystates">int32_t OH_ArkUI_DragEvent_GetModifierKeyStates(ArkUI_DragEvent* event, uint64_t* keys)</a></td> <td class="cellrowborder" width="50%">获取功能键按压状态。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_startdataloading">int32_t OH_ArkUI_DragEvent_StartDataLoading(ArkUI_DragEvent* event, OH_UdmfGetDataParams* options, char* key, unsigned int keyLen)</a></td> <td class="cellrowborder" width="50%">使用指定的同步参数开始数据同步。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_canceldataloading">int32_t OH_ArkUI_CancelDataLoading(ArkUI_ContextHandle uiContext, const char* key)</a></td> <td class="cellrowborder" width="50%">取消正在进行的数据同步。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_disabledropdataprefetchonnode">int32_t OH_ArkUI_DisableDropDataPrefetchOnNode(ArkUI_NodeHandle node, bool disabled)</a></td> <td class="cellrowborder" width="50%">设置是否在执行onDrop回调之前禁用数据预获取过程。系统将重试获取数据，直到达到最大时间限制（目前为2.4秒），这对跨设备的拖动操作非常有用，因为它有助于系统稳定通信。然而，对于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_startdataloading">OH_ArkUI_DragEvent_StartDataLoading</a>方法而言，这一特性显得多余。该方法采用异步机制获取数据，因此在onDrop中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_startdataloading">OH_ArkUI_DragEvent_StartDataLoading</a>时，为了避免在onDrop执行前意外获取数据，必须将此字段设置为true。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setdrageventstrictreportwithnode">int32_t OH_ArkUI_SetDragEventStrictReportWithNode(ArkUI_NodeHandle node, bool enabled)</a></td> <td class="cellrowborder" width="50%">控制是否使能严格dragEvent上报，建议开启；默认是不开启的；当不开启时，从父组件拖移进子组件时，父组件并不会收到leave的通知；而开启之后，只要前后两个组件发生变化，上一个组件就会收到leave，新的组件收到enter通知；该配置与具体的UI实例相关，需要通过传入一个当前UI实例上的一个具体的组件节点来关联。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setdrageventstrictreportwithcontext">int32_t OH_ArkUI_SetDragEventStrictReportWithContext(ArkUI_ContextHandle uiContext, bool enabled)</a></td> <td class="cellrowborder" width="50%">控制是否使能严格dragEvent上报，建议开启；默认是不开启的;当不开启时，从父组件拖移进子组件时，父组件并不会收到leave的通知；而开启之后，只要前后两个组件发生变化，上一个组件就会收到leave，新的组件收到enter通知；该配置与具体的UI实例相关，可通过传入一个UI实例进行关联。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodealloweddropdatatypes">int32_t OH_ArkUI_SetNodeAllowedDropDataTypes(ArkUI_NodeHandle node, const char* typesArray[], int32_t count)</a></td> <td class="cellrowborder" width="50%">配置组件允许接受落入的数据类型，该接口会重置通过 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_disallownodeanydropdatatypes">OH_ArkUI_DisallowNodeAnyDropDataTypes</a> 或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_allownodealldropdatatypes">OH_ArkUI_AllowNodeAllDropDataTypes</a>进行的配置。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_disallownodeanydropdatatypes">int32_t OH_ArkUI_DisallowNodeAnyDropDataTypes(ArkUI_NodeHandle node)</a></td> <td class="cellrowborder" width="50%">配置组件不允许接受任何数据类型，该接口会重置通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodealloweddropdatatypes">OH_ArkUI_SetNodeAllowedDropDataTypes</a>配置的数据类型。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_allownodealldropdatatypes">int32_t OH_ArkUI_AllowNodeAllDropDataTypes(ArkUI_NodeHandle node)</a></td> <td class="cellrowborder" width="50%">配置组件允许接受任意数据类型，该接口会重置通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodealloweddropdatatypes">OH_ArkUI_SetNodeAllowedDropDataTypes</a>配置的数据类型。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodedraggable">int32_t OH_ArkUI_SetNodeDraggable(ArkUI_NodeHandle node, bool enabled)</a></td> <td class="cellrowborder" width="50%">设置该组件是否允许进行拖拽。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodedragpreview">int32_t OH_ArkUI_SetNodeDragPreview(ArkUI_NodeHandle node, OH_PixelmapNative* preview)</a></td> <td class="cellrowborder" width="50%">设置组件在被拖拽时的自定义跟手图。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_createdragpreviewoption">ArkUI_DragPreviewOption* OH_ArkUI_CreateDragPreviewOption(void)</a></td> <td class="cellrowborder" width="50%">构建一个ArkUI_DragPreviewOption对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragpreviewoption_dispose">void OH_ArkUI_DragPreviewOption_Dispose(ArkUI_DragPreviewOption* option)</a></td> <td class="cellrowborder" width="50%">销毁跟手图自定义参数对象实例。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragpreviewoption_setscalemode">int32_t OH_ArkUI_DragPreviewOption_SetScaleMode(ArkUI_DragPreviewOption* option, ArkUI_DragPreviewScaleMode scaleMode)</a></td> <td class="cellrowborder" width="50%">设置拖拽跟手图是否根据系统定义自动进行缩放。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragpreviewoption_setdefaultshadowenabled">int32_t OH_ArkUI_DragPreviewOption_SetDefaultShadowEnabled(ArkUI_DragPreviewOption* option, bool enabled)</a></td> <td class="cellrowborder" width="50%">设置跟手图背板默认的投影效果，默认不开启。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragpreviewoption_setdefaultradiusenabled">int32_t OH_ArkUI_DragPreviewOption_SetDefaultRadiusEnabled(ArkUI_DragPreviewOption* option, bool enabled)</a></td> <td class="cellrowborder" width="50%">设置跟手图背板默认的圆角效果，默认不开启。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragpreviewoption_setnumberbadgeenabled">int32_t OH_ArkUI_DragPreviewOption_SetNumberBadgeEnabled(ArkUI_DragPreviewOption* option, bool enabled)</a></td> <td class="cellrowborder" width="50%">设置跟手图背板是否显示角标,开启后,系统会根据拖拽数量自动进行角标显示。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragpreviewoption_setbadgenumber">int32_t OH_ArkUI_DragPreviewOption_SetBadgeNumber(ArkUI_DragPreviewOption* option, uint32_t forcedNumber)</a></td> <td class="cellrowborder" width="50%">强制显示角标的数量,覆盖SetDragPreviewNumberBadgeEnabled设置的值。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragpreviewoption_setdefaultanimationbeforeliftingenabled">int32_t OH_ArkUI_DragPreviewOption_SetDefaultAnimationBeforeLiftingEnabled(ArkUI_DragPreviewOption* option, bool enabled)</a></td> <td class="cellrowborder" width="50%">配置是否开启点按时的默认动画。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodedragpreviewoption">int32_t OH_ArkUI_SetNodeDragPreviewOption(ArkUI_NodeHandle node, ArkUI_DragPreviewOption* option)</a></td> <td class="cellrowborder" width="50%">将构造的ArkUI_DragPreviewOption设置给组件。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_createdragactionwithnode">ArkUI_DragAction* OH_ArkUI_CreateDragActionWithNode(ArkUI_NodeHandle node)</a></td> <td class="cellrowborder" width="50%">创建一个拖拽操作对象，该对象需与一个UI实例相关联，可通过传入一个当前UI实例的某个组件节点来指定。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_createdragactionwithcontext">ArkUI_DragAction* OH_ArkUI_CreateDragActionWithContext(ArkUI_ContextHandle uiContext)</a></td> <td class="cellrowborder" width="50%">创建一个拖拽操作对象，该对象需与一个UI实例相关联，可通过传入一个UI实例指针来关联。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_dispose">void OH_ArkUI_DragAction_Dispose(ArkUI_DragAction* dragAction)</a></td> <td class="cellrowborder" width="50%">销毁创建的 ArkUI_DragAction 对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setpointerid">int32_t OH_ArkUI_DragAction_SetPointerId(ArkUI_DragAction* dragAction, int32_t pointer)</a></td> <td class="cellrowborder" width="50%">设置手指ID，当屏幕上仅有一只手指在操作时，pointer ID 为 0；一般情况下，配置 0 即可。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setpixelmaps">int32_t OH_ArkUI_DragAction_SetPixelMaps(ArkUI_DragAction* dragAction, OH_PixelmapNative* pixelmapArray[], int32_t size)</a></td> <td class="cellrowborder" width="50%">设置拖拽跟手图，只能使用 pixelmap 格式对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_settouchpointx">int32_t OH_ArkUI_DragAction_SetTouchPointX(ArkUI_DragAction* dragAction, float x)</a></td> <td class="cellrowborder" width="50%">设置跟手点，相对于设置的第一个pixelmap的左上角。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_settouchpointy">int32_t OH_ArkUI_DragAction_SetTouchPointY(ArkUI_DragAction* dragAction, float y)</a></td> <td class="cellrowborder" width="50%">设置跟手点,相对于设置的第一个pixelmap的左上角。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setdata">int32_t OH_ArkUI_DragAction_SetData(ArkUI_DragAction* dragAction, OH_UdmfData* data)</a></td> <td class="cellrowborder" width="50%">设置拖拽数据。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setdataloadparams">ArkUI_ErrorCode OH_ArkUI_DragAction_SetDataLoadParams(ArkUI_DragAction* dragAction,OH_UdmfDataLoadParams* dataLoadParams)</a></td> <td class="cellrowborder" width="50%">使用此方法为系统提供一个数据加载参数，而不是直接提供一个完整的数据对象。当用户拖拽到目标应用程序并落入时，系统将使用dataLoadParams请求数据。可以极大地提高拖拽大量数据的效率，以及目标应用程序中处理落入数据的效率。此方法应始终优先于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setdata">OH_ArkUI_DragAction_SetData</a>使用。请参考<strong>udmf.h</strong>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-h#oh_udmfdataloadparams_create">OH_UdmfDataLoadParams_Create</a>了解如何创建和准备数据加载参数。该方法与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setdata">OH_ArkUI_DragAction_SetData</a>存在冲突，系统始终以最后调用的方法为准。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setdragpreviewoption">int32_t OH_ArkUI_DragAction_SetDragPreviewOption(ArkUI_DragAction* dragAction, ArkUI_DragPreviewOption* option)</a></td> <td class="cellrowborder" width="50%">将构造的ArkUI_DragPreviewOption设置给ArkUI_DragAction。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_registerstatuslistener">int32_t OH_ArkUI_DragAction_RegisterStatusListener(ArkUI_DragAction* dragAction, void* userData,void(*listener)(ArkUI_DragAndDropInfo* dragAndDropInfo, void* userData))</a></td> <td class="cellrowborder" width="50%">注册拖拽状态监听回调，该回调可感知到拖拽已经发起或用户松手结束的状态，可通过该监听获取到落入方对数据的接收处理是否成功。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getdisplayid">ArkUI_ErrorCode OH_ArkUI_DragEvent_GetDisplayId(ArkUI_DragEvent event, int32_t* displayId)</a></td> <td class="cellrowborder" width="50%">获取当前拖拽事件发生时所在的屏幕ID，不支持当eventType为NODE_ON_DRAG_END时获取。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_unregisterstatuslistener">void OH_ArkUI_DragAction_UnregisterStatusListener(ArkUI_DragAction* dragAction)</a></td> <td class="cellrowborder" width="50%">解注册拖拽状态监听回调。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_draganddropinfo_getdragstatus">ArkUI_DragStatus OH_ArkUI_DragAndDropInfo_GetDragStatus(ArkUI_DragAndDropInfo* dragAndDropInfo)</a></td> <td class="cellrowborder" width="50%">获取dragAction发起拖拽的状态，获取异常时返回 ArkUI_DRAG_STATUS_UNKNOWN。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_draganddropinfo_getdragevent">ArkUI_DragEvent* OH_ArkUI_DragAndDropInfo_GetDragEvent(ArkUI_DragAndDropInfo* dragAndDropInfo)</a></td> <td class="cellrowborder" width="50%">通过dragAndDropInfo获取到DragEvent，可通过DragEvent获取释放结果等。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_startdrag">int32_t OH_ArkUI_StartDrag(ArkUI_DragAction* dragAction)</a></td> <td class="cellrowborder" width="50%">通过构造的DragAction对象发起拖拽。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_requestdragendpending">int32_t OH_ArkUI_DragEvent_RequestDragEndPending(ArkUI_DragEvent* event, int32_t* requestIdentify)</a></td> <td class="cellrowborder" width="50%">请求延迟处理拖拽结束事件，等待应用程序确认操作结果。应用程序需通过 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_notifydragresult">OH_ArkUI_NotifyDragResult</a>接口将最终结果回传至系统，并在所有处理完成后调用 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_notifydragendpendingdone">OH_ArkUI_NotifyDragEndPendingDone</a>。最大等待时间为2秒。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_notifydragresult">int32_t OH_ArkUI_NotifyDragResult(int32_t requestIdentify, ArkUI_DragResult result)</a></td> <td class="cellrowborder" width="50%">通知系统最终拖拽结果。系统会校验请求标识符是否与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_requestdragendpending">OH_ArkUI_DragEvent_RequestDragEndPending</a>返回的一致，不一致则忽略本次调用。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_notifydragendpendingdone">int32_t OH_ArkUI_NotifyDragEndPendingDone(int32_t requestIdentify)</a></td> <td class="cellrowborder" width="50%">通知系统所有异步处理已完成，可结束拖拽结束挂起状态。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_enabledropdisallowedbadge">ArkUI_ErrorCode OH_ArkUI_EnableDropDisallowedBadge(ArkUI_ContextHandle uiContext, bool enabled)</a></td> <td class="cellrowborder" width="50%">设置是否可以显示禁用角标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_gettouchpointxtoglobaldisplay">float OH_ArkUI_DragEvent_GetTouchPointXToGlobalDisplay(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取跟手点相对于全局屏幕的x轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_gettouchpointytoglobaldisplay">float OH_ArkUI_DragEvent_GetTouchPointYToGlobalDisplay(ArkUI_DragEvent* event)</a></td> <td class="cellrowborder" width="50%">从ArkUI_DragEvent中获取跟手点相对于全局屏幕的y轴坐标。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_getdragsource">ArkUI_ErrorCode OH_ArkUI_DragEvent_GetDragSource(ArkUI_DragEvent* event, char *bundleName, int32_t length)</a></td> <td class="cellrowborder" width="50%">获取拖拽发起方的应用包名信息，需要传递一个字符数组来接收包名字符串，并显式指明数组长度，该数组长度不小于128个字符。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_isremote">ArkUI_ErrorCode OH_ArkUI_DragEvent_IsRemote(ArkUI_DragEvent* event, bool* isRemote)</a></td> <td class="cellrowborder" width="50%">判断当前的拖拽操作是否是跨设备拖拽。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 595px;"><h3 id="arkui_dragresult" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ArkUI_DragResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkui_dragresult" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ArkUI_DragResult</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>拖拽结果定义，由数据接收方设置，并由系统传递给数据拖出方，拖出方可感知接收方对数据的处理结果。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">ARKUI_DRAG_RESULT_SUCCESSFUL = 0</td> <td class="cellrowborder" width="50%">拖拽处理成功。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_DRAG_RESULT_FAILED = 1</td> <td class="cellrowborder" width="50%">拖拽处理失败。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_DRAG_RESULT_CANCELED = 2</td> <td class="cellrowborder" width="50%">拖拽处理取消。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 556px;"><h3 id="arkui_dropoperation" device-type="phone,2in1,tablet,wearable,tv">ArkUI_DropOperation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkui_dropoperation" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ArkUI_DropOperation</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>定义拖拽释放时的数据处理方式，可影响角标的显示。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">ARKUI_DROP_OPERATION_COPY = 0</td> <td class="cellrowborder" width="50%">复制行为。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_DROP_OPERATION_MOVE = 1</td> <td class="cellrowborder" width="50%">剪切行为。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 982px;"><h3 id="arkui_predragstatus" device-type="phone,2in1,tablet,wearable,tv">ArkUI_PreDragStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkui_predragstatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ArkUI_PreDragStatus</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>定义拖拽发起前的长按交互阶段的变化状态。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_UNKNOWN = -1</td> <td class="cellrowborder" width="50%">Unknown。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_ACTION_DETECTING = 0</td> <td class="cellrowborder" width="50%">拖拽手势启动阶段。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_READY_TO_TRIGGER_DRAG = 1</td> <td class="cellrowborder" width="50%">拖拽准备完成，可发起拖拽阶段。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_PREVIEW_LIFT_STARTED = 2</td> <td class="cellrowborder" width="50%">拖拽浮起动效发起阶段。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_PREVIEW_LIFT_FINISHED = 3</td> <td class="cellrowborder" width="50%">拖拽浮起动效结束阶段。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_PREVIEW_LANDING_STARTED = 4</td> <td class="cellrowborder" width="50%">拖拽落回动效发起阶段。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_PREVIEW_LANDING_FINISHED = 5</td> <td class="cellrowborder" width="50%">拖拽落回动效结束阶段。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_PRE_DRAG_STATUS_CANCELED_BEFORE_DRAG = 6</td> <td class="cellrowborder" width="50%">拖拽浮起落位动效中断。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 580px;"><h3 id="arkui_dragpreviewscalemode" device-type="phone,2in1,tablet,wearable,tv">ArkUI_DragPreviewScaleMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkui_dragpreviewscalemode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ArkUI_DragPreviewScaleMode</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>拖拽预览缩放模式。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">ARKUI_DRAG_PREVIEW_SCALE_AUTO = 0</td> <td class="cellrowborder" width="50%">系统根据拖拽场景自动改变跟手点位置，根据规则自动对拖拽背板图进行缩放变换等。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_DRAG_PREVIEW_SCALE_DISABLED = 1</td> <td class="cellrowborder" width="50%">禁用系统对拖拽背板图的缩放行为。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 611px;"><h3 id="arkui_dragstatus" device-type="phone,2in1,tablet,wearable,tv">ArkUI_DragStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="arkui_dragstatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ArkUI_DragStatus</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>拖拽状态。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">ARKUI_DRAG_STATUS_UNKNOWN = -1</td> <td class="cellrowborder" width="50%">未知的拖拽状态。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_DRAG_STATUS_STARTED = 0</td> <td class="cellrowborder" width="50%">拖拽开始。</td> </tr> <tr><td class="cellrowborder" width="50%">ARKUI_DRAG_STATUS_ENDED = 1</td> <td class="cellrowborder" width="50%">拖拽结束。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 728px;"><h3 id="oh_arkui_nodeevent_getdragevent" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_ArkUI_NodeEvent_GetDragEvent()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_nodeevent_getdragevent" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_DragEvent* <span class="hljs-built_in">OH_ArkUI_NodeEvent_GetDragEvent</span>(ArkUI_NodeEvent* nodeEvent)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从 NodeEvent 中获取DragEvent。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-nodeevent">ArkUI_NodeEvent</a>* nodeEvent</td> <td class="cellrowborder" width="50%">ArkUI_NodeEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>*</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent 事件指针，当传入的 NodeEvent 无效或不是拖拽相关的事件时，则返回空。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 720px;"><h3 id="oh_arkui_nodeevent_getpredragstatus" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_NodeEvent_GetPreDragStatus()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_nodeevent_getpredragstatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_PreDragStatus <span class="hljs-built_in">OH_ArkUI_NodeEvent_GetPreDragStatus</span>(ArkUI_NodeEvent* nodeEvent)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取预览拖拽事件状态。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-nodeevent">ArkUI_NodeEvent</a>* nodeEvent</td> <td class="cellrowborder" width="50%">ArkUI_NodeEvent节点对象。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_predragstatus">ArkUI_PreDragStatus</a></td> <td class="cellrowborder" width="50%">ArkUI_PreDragStatus 拖拽发起前交互状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragevent_disabledefaultdropanimation" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_DisableDefaultDropAnimation()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_disabledefaultdropanimation" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragEvent_DisableDefaultDropAnimation</span><span class="hljs-params">(ArkUI_DragEvent* event, <span class="hljs-type">bool</span> disable)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置是否禁用松手时的系统默认动效，默认不禁用，通常在应用需要自定义落位动效时配置。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool disable</td> <td class="cellrowborder" width="50%">是否禁用松手时的系统默认动效，true禁用，false不禁用。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragevent_setsuggesteddropoperation" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_SetSuggestedDropOperation()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_setsuggesteddropoperation" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragEvent_SetSuggestedDropOperation</span>(ArkUI_DragEvent* event, ArkUI_DropOperation dropOperation)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置数据处理方式。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dropoperation">ArkUI_DropOperation</a> dropOperation</td> <td class="cellrowborder" width="50%">角标显示状态的类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragevent_setdragresult" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_SetDragResult()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_setdragresult" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragEvent_SetDragResult</span>(ArkUI_DragEvent* event, ArkUI_DragResult result)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置拖拽事件的结果。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragresult">ArkUI_DragResult</a> result</td> <td class="cellrowborder" width="50%">拖拽数据处理结果。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragevent_setdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_SetData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_setdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragEvent_SetData</span>(ArkUI_DragEvent* event, OH_UdmfData* data)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>向ArkUI_DragEvent中设置拖拽数据。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-oh-udmfdata">OH_UdmfData</a>* data</td> <td class="cellrowborder" width="50%">拖拽数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 895px;"><h3 id="oh_arkui_dragevent_setdataloadparams" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_SetDataLoadParams()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_setdataloadparams" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_ErrorCode <span class="hljs-built_in">OH_ArkUI_DragEvent_SetDataLoadParams</span>(ArkUI_DragEvent* event, OH_UdmfDataLoadParams* dataLoadParams)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>使用此方法为系统提供一个数据加载参数，而不是直接提供一个完整的数据对象。当用户拖拽到目标应用程序并落入时，系统将使用dataLoadParams请求数据。可以极大地提高拖拽大量数据的效率，以及目标应用程序中处理落入数据的效率。此方法应始终优先于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setdata">OH_ArkUI_DragEvent_SetData</a>使用。请参考<strong>udmf.h</strong>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-h#oh_udmfdataloadparams_create">OH_UdmfDataLoadParams_Create</a>了解如何创建和准备数据加载参数。该方法与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_setdata">OH_ArkUI_DragEvent_SetData</a>存在冲突，系统始终以最后调用的方法为准。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-oh-udmfdataloadparams">OH_UdmfDataLoadParams</a>* dataLoadParams</td> <td class="cellrowborder" width="50%">落入操作时使用的数据加载参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ArkUI_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragevent_getudmfdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetUdmfData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getudmfdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragEvent_GetUdmfData</span>(ArkUI_DragEvent* event, OH_UdmfData *data)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取拖拽默认相关数据。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-oh-udmfdata">OH_UdmfData</a> *data</td> <td class="cellrowborder" width="50%">OH_UdmfData 拖拽的数据指针，应用在接收时需通过 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-h#oh_udmfdata_create">OH_UdmfData_Create</a> 方法创建一个用于接收数据的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragevent_getdatatypecount" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetDataTypeCount()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getdatatypecount" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragEvent_GetDataTypeCount</span><span class="hljs-params">(ArkUI_DragEvent* event, <span class="hljs-type">int32_t</span>* count)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取所拖拽的数据类型种类个数。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* count</td> <td class="cellrowborder" width="50%">出参，返回所拖拽数据的类型的数量。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1005px;"><h3 id="oh_arkui_dragevent_getdatatypes" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetDataTypes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getdatatypes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragEvent_GetDataTypes</span><span class="hljs-params">(ArkUI_DragEvent *event, <span class="hljs-type">char</span> *eventTypeArray[], <span class="hljs-type">int32_t</span> length, <span class="hljs-type">int32_t</span> maxStrLen)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取拖拽数据的类型列表。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a> *event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%">char *eventTypeArray[]</td> <td class="cellrowborder" width="50%">返回拖拽数据的类型列表，需要先自行创建字符串数组。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t length</td> <td class="cellrowborder" width="50%">数组总长度，不应少于使用OH_ArkUI_DragEvent_GetDataTypesCount获取到的数量。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t maxStrLen</td> <td class="cellrowborder" width="50%">拖拽数据类型的最大字符串长度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_BUFFER_SIZE_ERROR</a> 缓冲区大小不足。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragevent_getdragresult" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetDragResult()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getdragresult" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragEvent_GetDragResult</span>(ArkUI_DragEvent* event, ArkUI_DragResult* result)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取拖拽结果。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragresult">ArkUI_DragResult</a>* result</td> <td class="cellrowborder" width="50%">出参，返回拖拽事件对应的拖拽结果。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragevent_getdropoperation" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetDropOperation()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getdropoperation" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragEvent_GetDropOperation</span>(ArkUI_DragEvent* event, ArkUI_DropOperation* operation)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取数据处理方式。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dropoperation">ArkUI_DropOperation</a>* operation</td> <td class="cellrowborder" width="50%">数据的处理方式.</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> <p> 可能原因: 1. 参数为空或event非有效的DragEvent.</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_getpreviewtouchpointx" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetPreviewTouchPointX()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getpreviewtouchpointx" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetPreviewTouchPointX</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取预览图跟手点的x轴坐标。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手点的x轴坐标，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_getpreviewtouchpointy" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetPreviewTouchPointY()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getpreviewtouchpointy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetPreviewTouchPointY</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取预览图跟手点的y轴坐标。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手点的y轴坐标，单位px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_getpreviewrectwidth" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetPreviewRectWidth()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getpreviewrectwidth" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetPreviewRectWidth</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取预览图的宽。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手图宽度，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_getpreviewrectheight" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetPreviewRectHeight()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getpreviewrectheight" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetPreviewRectHeight</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取预览图的高。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手图高度，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_gettouchpointxtowindow" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetTouchPointXToWindow()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_gettouchpointxtowindow" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetTouchPointXToWindow</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取跟手点相对于window的x轴坐标。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回跟手点相对于window的x轴坐标，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_gettouchpointytowindow" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetTouchPointYToWindow()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_gettouchpointytowindow" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetTouchPointYToWindow</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取跟手点相对于window的y轴坐标。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回跟手点相对于window的y轴坐标，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_gettouchpointxtodisplay" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetTouchPointXToDisplay()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_gettouchpointxtodisplay" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetTouchPointXToDisplay</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取跟手点相对于当前Display的x轴坐标。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手点相对于当前Display的x轴坐标，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_gettouchpointytodisplay" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetTouchPointYToDisplay()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_gettouchpointytodisplay" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetTouchPointYToDisplay</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取跟手点相对于当前Display的y轴坐标。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手点相对于当前Display的y轴坐标，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_getvelocityx" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetVelocityX()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getvelocityx" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetVelocityX</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取当前拖拽的x轴方向拖动速度。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回当前拖拽的x轴方向移动速度，单位为px/s，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_getvelocityy" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetVelocityY()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getvelocityy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetVelocityY</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取当前拖拽的y轴方向拖动速度。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回当前拖拽的y轴方向移动速度，单位为px/s，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_getvelocity" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetVelocity()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getvelocity" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetVelocity</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取当前拖拽的主方向拖动速度。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回当前拖拽移动速度，单位为px/s，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragevent_getmodifierkeystates" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetModifierKeyStates()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getmodifierkeystates" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragEvent_GetModifierKeyStates</span><span class="hljs-params">(ArkUI_DragEvent* event, <span class="hljs-type">uint64_t</span>* keys)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取功能键按压状态。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint64_t* keys</td> <td class="cellrowborder" width="50%">返回当前处于按下状态的 modifier key组合，应用可通过位运算进行判断。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 957px;"><h3 id="oh_arkui_dragevent_startdataloading" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_StartDataLoading()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_startdataloading" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragEvent_StartDataLoading</span><span class="hljs-params">(ArkUI_DragEvent* event, OH_UdmfGetDataParams* options, <span class="hljs-type">char</span>* key, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> keyLen)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>使用指定的同步参数开始数据同步。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-oh-udmfgetdataparams">OH_UdmfGetDataParams</a>* options</td> <td class="cellrowborder" width="50%">OH_UdmfGetDataParams参数指针。</td> </tr> <tr><td class="cellrowborder" width="50%">char* key</td> <td class="cellrowborder" width="50%">返回数据设置成功之后的key值，字符串长度不小于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-h#udmf_key_buffer_len">UDMF_KEY_BUFFER_LEN</a>。</td> </tr> <tr><td class="cellrowborder" width="50%">unsigned int keyLen</td> <td class="cellrowborder" width="50%">表示key字符串的长度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.37.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_canceldataloading" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_CancelDataLoading()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_canceldataloading" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_CancelDataLoading</span><span class="hljs-params">(ArkUI_ContextHandle uiContext, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* key)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>取消正在进行的数据同步。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-context8h">ArkUI_ContextHandle</a> uiContext</td> <td class="cellrowborder" width="50%">UI实例对象指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* key</td> <td class="cellrowborder" width="50%">表示数据的key值并通过 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_startdataloading">OH_ArkUI_DragEvent_StartDataLoading</a> 返回。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 919px;"><h3 id="oh_arkui_disabledropdataprefetchonnode" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DisableDropDataPrefetchOnNode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_disabledropdataprefetchonnode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DisableDropDataPrefetchOnNode</span><span class="hljs-params">(ArkUI_NodeHandle node, <span class="hljs-type">bool</span> disabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置是否在执行onDrop回调之前禁用数据预获取过程。系统将重试获取数据，直到达到最大时间限制（目前为2.4秒），这对跨设备的拖动操作非常有用，因为它有助于系统稳定通信。然而，对于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_startdataloading">OH_ArkUI_DragEvent_StartDataLoading</a>方法而言，这一特性显得多余。该方法采用异步机制获取数据，因此在onDrop中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_startdataloading">OH_ArkUI_DragEvent_StartDataLoading</a>时，为了避免在onDrop执行前意外获取数据，必须将此字段设置为true。</p> <p><strong>起始版本：</strong> 15</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool disabled</td> <td class="cellrowborder" width="50%">表示是禁用数据预取过程。true表示禁止，false表示不禁止。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 895px;"><h3 id="oh_arkui_setdrageventstrictreportwithnode" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_SetDragEventStrictReportWithNode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_setdrageventstrictreportwithnode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_SetDragEventStrictReportWithNode</span><span class="hljs-params">(ArkUI_NodeHandle node, <span class="hljs-type">bool</span> enabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>控制是否使能严格dragEvent上报，建议开启；默认是不开启的；当不开启时，从父组件拖移进子组件时，父组件并不会收到leave的通知；而开启之后，只要前后两个组件发生变化，上一个组件就会收到leave，新的组件收到enter通知；该配置与具体的UI实例相关，需要通过传入一个当前UI实例上的一个具体的组件节点来关联。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否开启严格上报。true表示开启严格上报，false表示关闭严格上报。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 895px;"><h3 id="oh_arkui_setdrageventstrictreportwithcontext" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_SetDragEventStrictReportWithContext()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_setdrageventstrictreportwithcontext" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_SetDragEventStrictReportWithContext</span><span class="hljs-params">(ArkUI_ContextHandle uiContext, <span class="hljs-type">bool</span> enabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>控制是否使能严格dragEvent上报，建议开启；默认是不开启的;当不开启时，从父组件拖移进子组件时，父组件并不会收到leave的通知；而开启之后，只要前后两个组件发生变化，上一个组件就会收到leave，新的组件收到enter通知；该配置与具体的UI实例相关，可通过传入一个UI实例进行关联。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-context8h">ArkUI_ContextHandle</a> uiContext</td> <td class="cellrowborder" width="50%">UI实例指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否开启严格上报。true表示开启严格上报，false表示关闭严格上报。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.41.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h3 id="oh_arkui_setnodealloweddropdatatypes" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_SetNodeAllowedDropDataTypes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_setnodealloweddropdatatypes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_SetNodeAllowedDropDataTypes</span><span class="hljs-params">(ArkUI_NodeHandle node, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* typesArray[], <span class="hljs-type">int32_t</span> count)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>配置组件允许接受落入的数据类型，该接口会重置通过 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_disallownodeanydropdatatypes">OH_ArkUI_DisallowNodeAnyDropDataTypes</a> 或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_allownodealldropdatatypes">OH_ArkUI_AllowNodeAllDropDataTypes</a>进行的配置。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* typesArray[]</td> <td class="cellrowborder" width="50%">允许落入的数据类型数组。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t count</td> <td class="cellrowborder" width="50%">数组的长度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.42.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkui_disallownodeanydropdatatypes" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DisallowNodeAnyDropDataTypes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_disallownodeanydropdatatypes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DisallowNodeAnyDropDataTypes</span>(ArkUI_NodeHandle node)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>配置组件不允许接受任何数据类型，该接口会重置通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodealloweddropdatatypes">OH_ArkUI_SetNodeAllowedDropDataTypes</a>配置的数据类型。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.43.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.43.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkui_allownodealldropdatatypes" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_AllowNodeAllDropDataTypes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_allownodealldropdatatypes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_AllowNodeAllDropDataTypes</span>(ArkUI_NodeHandle node)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>配置组件允许接受任意数据类型，该接口会重置通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_setnodealloweddropdatatypes">OH_ArkUI_SetNodeAllowedDropDataTypes</a>配置的数据类型。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.44.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_setnodedraggable" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_SetNodeDraggable()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_setnodedraggable" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_SetNodeDraggable</span><span class="hljs-params">(ArkUI_NodeHandle node, <span class="hljs-type">bool</span> enabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置该组件是否允许进行拖拽。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.45.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否支持拖出。true表示支持拖出，false表示不支持拖出。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.45.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_setnodedragpreview" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_SetNodeDragPreview()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_setnodedragpreview" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_SetNodeDragPreview</span>(ArkUI_NodeHandle node, OH_PixelmapNative* preview)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置组件在被拖拽时的自定义跟手图。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.46.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">目标组件节点指针。</td> </tr> <tr><td class="cellrowborder" width="50%">OH_PixelmapNative* preview</td> <td class="cellrowborder" width="50%">自定义跟手图，使用 pixelmap 格式。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.46.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 549px;"><h3 id="oh_arkui_createdragpreviewoption" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_CreateDragPreviewOption()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_createdragpreviewoption" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_DragPreviewOption* <span class="hljs-built_in">OH_ArkUI_CreateDragPreviewOption</span>(void)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>构建一个ArkUI_DragPreviewOption对象。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>*</td> <td class="cellrowborder" width="50%">ArkUI_DragPreviewOption对象。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 549px;"><h3 id="oh_arkui_dragpreviewoption_dispose" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragPreviewOption_Dispose()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragpreviewoption_dispose" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkUI_DragPreviewOption_Dispose</span><span class="hljs-params">(ArkUI_DragPreviewOption* option)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁跟手图自定义参数对象实例。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.48.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragpreviewoption_setscalemode" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragPreviewOption_SetScaleMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragpreviewoption_setscalemode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragPreviewOption_SetScaleMode</span>(ArkUI_DragPreviewOption* option, ArkUI_DragPreviewScaleMode scaleMode)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置拖拽跟手图是否根据系统定义自动进行缩放。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.49.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragpreviewscalemode">ArkUI_DragPreviewScaleMode</a> scaleMode</td> <td class="cellrowborder" width="50%">设置组件拖拽过程中的跟手图缩放模式。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.49.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragpreviewoption_setdefaultshadowenabled" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragPreviewOption_SetDefaultShadowEnabled()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragpreviewoption_setdefaultshadowenabled" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragPreviewOption_SetDefaultShadowEnabled</span><span class="hljs-params">(ArkUI_DragPreviewOption* option, <span class="hljs-type">bool</span> enabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置跟手图背板默认的投影效果，默认不开启。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.50.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否使用默认投影效果。true表示使用默认投影效果，false表示不使用默认投影效果。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.50.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragpreviewoption_setdefaultradiusenabled" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragPreviewOption_SetDefaultRadiusEnabled()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragpreviewoption_setdefaultradiusenabled" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragPreviewOption_SetDefaultRadiusEnabled</span><span class="hljs-params">(ArkUI_DragPreviewOption* option, <span class="hljs-type">bool</span> enabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置跟手图背板默认的圆角效果，默认不开启。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.51.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.51.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否开启圆角效果显示。true表示开启圆角效果显示，false表示不开启圆角效果显示。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.51.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragpreviewoption_setnumberbadgeenabled" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragPreviewOption_SetNumberBadgeEnabled()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragpreviewoption_setnumberbadgeenabled" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragPreviewOption_SetNumberBadgeEnabled</span><span class="hljs-params">(ArkUI_DragPreviewOption* option, <span class="hljs-type">bool</span> enabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置跟手图背板是否显示角标,开启后,系统会根据拖拽数量自动进行角标显示。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.52.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否开启角标显示。true表示开启角标显示，false表示不开启角标显示。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.52.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragpreviewoption_setbadgenumber" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragPreviewOption_SetBadgeNumber()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragpreviewoption_setbadgenumber" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragPreviewOption_SetBadgeNumber</span><span class="hljs-params">(ArkUI_DragPreviewOption* option, <span class="hljs-type">uint32_t</span> forcedNumber)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>强制显示角标的数量,覆盖SetDragPreviewNumberBadgeEnabled设置的值。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.53.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t forcedNumber</td> <td class="cellrowborder" width="50%">角标的数量。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.53.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragpreviewoption_setdefaultanimationbeforeliftingenabled" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragPreviewOption_SetDefaultAnimationBeforeLiftingEnabled()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragpreviewoption_setdefaultanimationbeforeliftingenabled" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragPreviewOption_SetDefaultAnimationBeforeLiftingEnabled</span><span class="hljs-params">(ArkUI_DragPreviewOption* option, <span class="hljs-type">bool</span> enabled)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>配置是否开启点按时的默认动画。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.54.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否开启默认点按效果。true表示开启默认点按效果，false表示不开启默认点按效果。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.54.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_setnodedragpreviewoption" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_SetNodeDragPreviewOption()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_setnodedragpreviewoption" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_SetNodeDragPreviewOption</span>(ArkUI_NodeHandle node, ArkUI_DragPreviewOption* option)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将构造的ArkUI_DragPreviewOption设置给组件。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.55.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.55.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.55.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 720px;"><h3 id="oh_arkui_createdragactionwithnode" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_CreateDragActionWithNode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_createdragactionwithnode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_DragAction* <span class="hljs-built_in">OH_ArkUI_CreateDragActionWithNode</span>(ArkUI_NodeHandle node)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>创建一个拖拽操作对象，该对象需与一个UI实例相关联，可通过传入一个当前UI实例的某个组件节点来指定。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.56.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-node8h">ArkUI_NodeHandle</a> node</td> <td class="cellrowborder" width="50%">组件节点指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.56.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>*</td> <td class="cellrowborder" width="50%">ArkUI_DragAction对象指针，如果创建失败，则返回空。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 720px;"><h3 id="oh_arkui_createdragactionwithcontext" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_CreateDragActionWithContext()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_createdragactionwithcontext" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_DragAction* <span class="hljs-built_in">OH_ArkUI_CreateDragActionWithContext</span>(ArkUI_ContextHandle uiContext)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>创建一个拖拽操作对象，该对象需与一个UI实例相关联，可通过传入一个UI实例指针来关联。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.57.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.57.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-context8h">ArkUI_ContextHandle</a> uiContext</td> <td class="cellrowborder" width="50%">UI实例对象指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.57.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>*</td> <td class="cellrowborder" width="50%">ArkUI_DragAction对象，如果创建失败，则返回空。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 549px;"><h3 id="oh_arkui_dragaction_dispose" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_Dispose()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_dispose" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkUI_DragAction_Dispose</span><span class="hljs-params">(ArkUI_DragAction* dragAction)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>销毁创建的 ArkUI_DragAction 对象。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.58.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragaction_setpointerid" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_SetPointerId()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_setpointerid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragAction_SetPointerId</span><span class="hljs-params">(ArkUI_DragAction* dragAction, <span class="hljs-type">int32_t</span> pointer)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置手指ID，当屏幕上仅有一只手指在操作时，pointer ID 为 0；一般情况下，配置 0 即可。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.59.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.59.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t pointer</td> <td class="cellrowborder" width="50%">手指ID，范围 0～9。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.59.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 878px;"><h3 id="oh_arkui_dragaction_setpixelmaps" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_SetPixelMaps()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_setpixelmaps" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragAction_SetPixelMaps</span><span class="hljs-params">(ArkUI_DragAction* dragAction, OH_PixelmapNative* pixelmapArray[], <span class="hljs-type">int32_t</span> size)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置拖拽跟手图，只能使用 pixelmap 格式对象。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.60.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.60.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%">OH_PixelmapNative* pixelmapArray[]</td> <td class="cellrowborder" width="50%">拖拽跟手图位图数组。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t size</td> <td class="cellrowborder" width="50%">拖拽跟手图数量。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.60.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.60.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragaction_settouchpointx" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_SetTouchPointX()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_settouchpointx" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragAction_SetTouchPointX</span><span class="hljs-params">(ArkUI_DragAction* dragAction, <span class="hljs-type">float</span> x)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置跟手点，相对于设置的第一个pixelmap的左上角。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.61.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.61.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%">float x</td> <td class="cellrowborder" width="50%">跟手点坐标x值，单位为px。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.61.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.61.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragaction_settouchpointy" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_SetTouchPointY()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_settouchpointy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragAction_SetTouchPointY</span><span class="hljs-params">(ArkUI_DragAction* dragAction, <span class="hljs-type">float</span> y)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置跟手点,相对于设置的第一个pixelmap的左上角。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.62.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%">float y</td> <td class="cellrowborder" width="50%">跟手点坐标y值，单位为px。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.62.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragaction_setdata" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_SetData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_setdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragAction_SetData</span>(ArkUI_DragAction* dragAction, OH_UdmfData* data)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置拖拽数据。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.63.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.63.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-oh-udmfdata">OH_UdmfData</a>* data</td> <td class="cellrowborder" width="50%">拖拽数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.63.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 895px;"><h3 id="oh_arkui_dragaction_setdataloadparams" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_SetDataLoadParams()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_setdataloadparams" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_ErrorCode <span class="hljs-built_in">OH_ArkUI_DragAction_SetDataLoadParams</span>(ArkUI_DragAction* dragAction,OH_UdmfDataLoadParams* dataLoadParams)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>使用此方法为系统提供一个数据加载参数，而不是直接提供一个完整的数据对象。当用户拖拽到目标应用程序并落入时，系统将使用dataLoadParams请求数据。可以极大地提高拖拽大量数据的效率，以及目标应用程序中处理落入数据的效率。此方法应始终优先于<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setdata">OH_ArkUI_DragAction_SetData</a>使用。请参考<strong>udmf.h</strong>中的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-h#oh_udmfdataloadparams_create">OH_UdmfDataLoadParams_Create</a>了解如何创建和准备数据加载参数。该方法与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragaction_setdata">OH_ArkUI_DragAction_SetData</a>存在冲突，系统始终以最后调用的方法为准。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.64.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.64.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-udmf-oh-udmfdataloadparams">OH_UdmfDataLoadParams</a>* dataLoadParams</td> <td class="cellrowborder" width="50%">在落入操作时使用的数据加载参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.64.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ArkUI_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragaction_setdragpreviewoption" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_SetDragPreviewOption()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_setdragpreviewoption" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_DragAction_SetDragPreviewOption</span>(ArkUI_DragAction* dragAction, ArkUI_DragPreviewOption* option)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>将构造的ArkUI_DragPreviewOption设置给ArkUI_DragAction。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.65.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.65.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragpreviewoption">ArkUI_DragPreviewOption</a>* option</td> <td class="cellrowborder" width="50%">自定义参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.65.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 950px;"><h3 id="oh_arkui_dragaction_registerstatuslistener" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_RegisterStatusListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_registerstatuslistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragAction_RegisterStatusListener</span><span class="hljs-params">(ArkUI_DragAction* dragAction, <span class="hljs-type">void</span>* userData,<span class="hljs-type">void</span>(*listener)(ArkUI_DragAndDropInfo* dragAndDropInfo, <span class="hljs-type">void</span>* userData))</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>注册拖拽状态监听回调，该回调可感知到拖拽已经发起或用户松手结束的状态，可通过该监听获取到落入方对数据的接收处理是否成功。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.66.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">应用自定义数据。</td> </tr> <tr><td class="cellrowborder" width="50%">listener</td> <td class="cellrowborder" width="50%">状态监听回调，回调触发时，系统会返回一个拖拽状态对象指针，该指针会在回调执行完成后被销毁，应用不应再持有。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_arkui_dragevent_getdisplayid" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetDisplayId()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getdisplayid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_ErrorCode <span class="hljs-built_in">OH_ArkUI_DragEvent_GetDisplayId</span>(ArkUI_DragEvent event, int32_t* displayId)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取当前拖拽事件发生时所在的屏幕ID，不支持当eventType为NODE_ON_DRAG_END时获取。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.67.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.67.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a> event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* displayId</td> <td class="cellrowborder" width="50%">返回当前拖拽事件发生时所在的屏幕ID。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.67.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ArkUI_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 549px;"><h3 id="oh_arkui_dragaction_unregisterstatuslistener" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAction_UnregisterStatusListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragaction_unregisterstatuslistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_ArkUI_DragAction_UnregisterStatusListener</span><span class="hljs-params">(ArkUI_DragAction* dragAction)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>解注册拖拽状态监听回调。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.68.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽行为对象。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_draganddropinfo_getdragstatus" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAndDropInfo_GetDragStatus()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_draganddropinfo_getdragstatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_DragStatus <span class="hljs-built_in">OH_ArkUI_DragAndDropInfo_GetDragStatus</span>(ArkUI_DragAndDropInfo* dragAndDropInfo)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取dragaction发起拖拽的状态，获取异常时返回 ArkUI_DRAG_STATUS_UNKNOWN。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.69.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-draganddropinfo">ArkUI_DragAndDropInfo</a>* dragAndDropInfo</td> <td class="cellrowborder" width="50%">拖拽状态监听返回的拖拽相关信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.69.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragstatus">ArkUI_DragStatus</a></td> <td class="cellrowborder" width="50%">ArkUI_DragStatus 拖拽状态，如果获取失败，返回默认值 ArkUI_DRAG_STATUS_UNKNOWN。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 720px;"><h3 id="oh_arkui_draganddropinfo_getdragevent" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragAndDropInfo_GetDragEvent()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_draganddropinfo_getdragevent" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_DragEvent* <span class="hljs-built_in">OH_ArkUI_DragAndDropInfo_GetDragEvent</span>(ArkUI_DragAndDropInfo* dragAndDropInfo)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>通过dragAndDropInfo获取到DragEvent，可通过DragEvent获取释放结果等。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.70.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-draganddropinfo">ArkUI_DragAndDropInfo</a>* dragAndDropInfo</td> <td class="cellrowborder" width="50%">拖拽状态监听返回的拖拽相关信息。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>*</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent 拖拽事件，如果获取失败，则返回空。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_arkui_startdrag" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_StartDrag()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_startdrag" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_ArkUI_StartDrag</span>(ArkUI_DragAction* dragAction)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>通过构造的DragAction对象发起拖拽。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.71.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragaction">ArkUI_DragAction</a>* dragAction</td> <td class="cellrowborder" width="50%">拖拽action对象。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.71.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 919px;"><h3 id="oh_arkui_dragevent_requestdragendpending" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_RequestDragEndPending()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_requestdragendpending" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_DragEvent_RequestDragEndPending</span><span class="hljs-params">(ArkUI_DragEvent* event, <span class="hljs-type">int32_t</span>* requestIdentify)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>请求延迟处理拖拽结束事件，等待应用程序确认操作结果。应用程序需通过 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_notifydragresult">OH_ArkUI_NotifyDragResult</a>接口将最终结果回传至系统，并在所有处理完成后调用 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_notifydragendpendingdone">OH_ArkUI_NotifyDragEndPendingDone</a>。最大等待时间为2秒。</p> <p><strong>起始版本：</strong> 19</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.72.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">指向 <strong>ArkUI_DragEvent</strong> 对象的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* requestIdentify</td> <td class="cellrowborder" width="50%">系统自动生成的请求标识符，是一个输出参数，需要为一个有效的地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_DRAG_DROP_OPERATION_NOT_ALLOWED</a> 执行函数时不在落入的时机。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 919px;"><h3 id="oh_arkui_notifydragresult" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_NotifyDragResult()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_notifydragresult" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_NotifyDragResult</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> requestIdentify, ArkUI_DragResult result)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>通知系统最终拖拽结果。系统会校验请求标识符是否与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_requestdragendpending">OH_ArkUI_DragEvent_RequestDragEndPending</a>返回的一致，不一致则忽略本次调用。</p> <p><strong>起始版本：</strong> 19</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.73.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.73.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">int32_t requestIdentify</td> <td class="cellrowborder" width="50%">由 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_requestdragendpending">OH_ArkUI_DragEvent_RequestDragEndPending</a> 返回的标识符。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragresult">ArkUI_DragResult</a> result</td> <td class="cellrowborder" width="50%">拖拽结果枚举值（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#arkui_dragresult">ArkUI_DragResult</a> 类型）。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.73.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_DRAG_DROP_OPERATION_NOT_ALLOWED</a> 执行函数时不在落入的时机。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 840px;"><h3 id="oh_arkui_notifydragendpendingdone" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_NotifyDragEndPendingDone()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_notifydragendpendingdone" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_ArkUI_NotifyDragEndPendingDone</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> requestIdentify)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>通知系统所有异步处理已完成，可结束拖拽结束挂起状态。</p> <p><strong>起始版本：</strong> 19</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.74.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">int32_t requestIdentify</td> <td class="cellrowborder" width="50%">由 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drag-and-drop-h#oh_arkui_dragevent_requestdragendpending">OH_ArkUI_DragEvent_RequestDragEndPending</a> 返回的标识符。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_DRAG_DROP_OPERATION_NOT_ALLOWED</a> 执行函数时不在落入的时机。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_enabledropdisallowedbadge" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_EnableDropDisallowedBadge()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_enabledropdisallowedbadge" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ArkUI_ErrorCode <span class="hljs-built_in">OH_ArkUI_EnableDropDisallowedBadge</span>(ArkUI_ContextHandle uiContext, bool enabled)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>设置是否可以显示禁用角标。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.75.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.75.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-context8h">ArkUI_ContextHandle</a> uiContext</td> <td class="cellrowborder" width="50%">UI实例对象指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enabled</td> <td class="cellrowborder" width="50%">是否可以显示禁用角标。true表示可以显示禁用角标，false表示不可以显示禁用角标。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.75.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ArkUI_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_gettouchpointxtoglobaldisplay" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetTouchPointXToGlobalDisplay()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_gettouchpointxtoglobaldisplay" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetTouchPointXToGlobalDisplay</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取跟手点相对于全局屏幕的x轴坐标。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.76.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手点相对于全局Display的x轴坐标，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 744px;"><h3 id="oh_arkui_dragevent_gettouchpointytoglobaldisplay" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetTouchPointYToGlobalDisplay()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_gettouchpointytoglobaldisplay" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-attribute">float</span> <span class="hljs-built_in">OH_ArkUI_DragEvent_GetTouchPointYToGlobalDisplay</span>(ArkUI_DragEvent* event)</li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>从ArkUI_DragEvent中获取跟手点相对于全局屏幕的y轴坐标。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.77.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.77.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">ArkUI_DragEvent事件指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.77.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">float</td> <td class="cellrowborder" width="50%">float 返回拖拽跟手点相对于全局Display的y轴坐标，单位为px，传入参数无效时返回默认值0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 926px;"><h3 id="oh_arkui_dragevent_getdragsource" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_GetDragSource()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_getdragsource" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">ArkUI_ErrorCode <span class="hljs-title">OH_ArkUI_DragEvent_GetDragSource</span><span class="hljs-params">(ArkUI_DragEvent* event, <span class="hljs-type">char</span> *bundleName, <span class="hljs-type">int32_t</span> length)</span></span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>获取拖拽发起方的应用包名信息，需要传递一个字符数组来接收包名字符串，并显式指明数组长度，该数组长度不小于128个字符。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.78.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.78.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">指向<strong>ArkUI_DragEvent</strong>对象的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">char *bundleName</td> <td class="cellrowborder" width="50%">用来接收拖起方包名的字符串数组，长度不应小于128个字符。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t length</td> <td class="cellrowborder" width="50%">用来显式指明传入的字符串数组长度，不应小于128个字符。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ArkUI_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_arkui_dragevent_isremote" device-type="phone,2in1,tablet,wearable,tv">OH_ArkUI_DragEvent_IsRemote()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_arkui_dragevent_isremote" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-uvy-c106="" class="highlight-div"><div _ngcontent-uvy-c106="" class="highlight-div-header"><div _ngcontent-uvy-c106="" class="highlight-div-header-left"><div _ngcontent-uvy-c106="" class="handle-button expand-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvy-c106="" class="highlight-div-header-right"><div _ngcontent-uvy-c106="" class="handle-button ai-button"></div><div _ngcontent-uvy-c106="" class="handle-button line-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvy-c106="" class="handle-button theme-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvy-c106="" class="handle-button copy-button"><div _ngcontent-uvy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">ArkUI_ErrorCode <span class="hljs-title">OH_ArkUI_DragEvent_IsRemote</span>(<span class="hljs-params">ArkUI_DragEvent* <span class="hljs-keyword">event</span>, <span class="hljs-built_in">bool</span>* isRemote</span>)</span></li></ol></pre></div></div> <p><strong>描述：</strong></p> <p>判断当前的拖拽操作是否是跨设备拖拽。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.79.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-arkui-nativemodule-arkui-dragevent">ArkUI_DragEvent</a>* event</td> <td class="cellrowborder" width="50%">指向<strong>ArkUI_DragEvent</strong>对象的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool* isRemote</td> <td class="cellrowborder" width="50%">布尔变量指针，用来接收是否是跨设备拖拽。true表示是跨设备拖拽，false表示非跨设备拖拽。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.79.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.79.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ArkUI_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>错误码。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_NO_ERROR</a> 成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-type-h#arkui_errorcode">ARKUI_ERROR_CODE_PARAM_INVALID</a> 函数参数异常。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>