<h1 _ngcontent-ouf-c119="" class="doc-title ng-star-inserted" title="drawing_bitmap.h"> drawing_bitmap.h </h1>

<div _ngcontent-ouf-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件中定义了与位图相关的功能函数。</p> <p><strong>相关示例：</strong> <a href="https://gitcode.com/HarmonyOS_Samples/DocsSample_Graphics/tree/master/ArkGraphics2D/Drawing/NDKGraphicsDraw" target="_blank">Drawing API示例(C/C++)</a></p> <p><strong>引用文件：</strong> &lt;native_drawing/drawing_bitmap.h&gt;</p> <p><strong>库：</strong> libnative_drawing.so</p> <p><strong>起始版本：</strong> 8</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing">Drawing</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmapformat">OH_Drawing_BitmapFormat</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_Drawing_BitmapFormat</td> <td class="cellrowborder" width="33.33333333333333%">结构体用于描述位图像素的格式，包括颜色类型和透明度类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapcreate">OH_Drawing_Bitmap* OH_Drawing_BitmapCreate(void)</a></td> <td class="cellrowborder" width="50%">用于创建一个位图对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapdestroy">void OH_Drawing_BitmapDestroy(OH_Drawing_Bitmap* bitmap)</a></td> <td class="cellrowborder" width="50%">用于销毁位图对象并回收该对象占有内存。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapcreatefrompixels">OH_Drawing_Bitmap* OH_Drawing_BitmapCreateFromPixels(OH_Drawing_Image_Info* imageInfo, void* pixels, uint32_t rowBytes)</a></td> <td class="cellrowborder" width="50%"><p>用于创建一个位图对象，并将位图像素存储内存地址设置为开发者申请内存的地址。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>imageInfo、pixels任意一个为NULL或者rowBytes等于0时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapbuild">void OH_Drawing_BitmapBuild(OH_Drawing_Bitmap* bitmap,const uint32_t width, const uint32_t height, const OH_Drawing_BitmapFormat* bitmapFormat)</a></td> <td class="cellrowborder" width="50%"><p>用于初始化位图对象的宽度和高度，并且为该位图设置像素格式。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap、bitmapFormat任意一个为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapgetwidth">uint32_t OH_Drawing_BitmapGetWidth(OH_Drawing_Bitmap* bitmap)</a></td> <td class="cellrowborder" width="50%"><p>用于获取指定位图的宽度。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapgetheight">uint32_t OH_Drawing_BitmapGetHeight(OH_Drawing_Bitmap* bitmap)</a></td> <td class="cellrowborder" width="50%"><p>用于获取指定位图的高度。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapgetcolorformat">OH_Drawing_ColorFormat OH_Drawing_BitmapGetColorFormat(OH_Drawing_Bitmap* bitmap)</a></td> <td class="cellrowborder" width="50%"><p>用于获取指定位图的像素存储格式。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapgetalphaformat">OH_Drawing_AlphaFormat OH_Drawing_BitmapGetAlphaFormat(OH_Drawing_Bitmap* bitmap)</a></td> <td class="cellrowborder" width="50%"><p>用于获取指定位图的像素透明度分量。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapgetpixels">void* OH_Drawing_BitmapGetPixels(OH_Drawing_Bitmap* bitmap)</a></td> <td class="cellrowborder" width="50%"><p>用于获取指定位图的像素地址，可以通过像素地址获取到位图的像素数据。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapgetimageinfo">void OH_Drawing_BitmapGetImageInfo(OH_Drawing_Bitmap* bitmap, OH_Drawing_Image_Info* imageInfo)</a></td> <td class="cellrowborder" width="50%"><p>用于获取指定位图的信息。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap、imageInfo任意一个为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-bitmap-h#oh_drawing_bitmapreadpixels">bool OH_Drawing_BitmapReadPixels(OH_Drawing_Bitmap* bitmap, const OH_Drawing_Image_Info* dstInfo,void* dstPixels, size_t dstRowBytes, int32_t srcX, int32_t srcY)</a></td> <td class="cellrowborder" width="50%"><p>将位图中的矩形区域像素数据读取到指定的内存缓冲区中。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap、dstInfo、dstPixels任意一个为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapcreate" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_Drawing_BitmapCreate()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapcreate" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_Bitmap* <span class="hljs-built_in">OH_Drawing_BitmapCreate</span>(void)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于创建一个位图对象。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 8</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>*</td> <td class="cellrowborder" width="50%">函数会返回一个指针，指针指向创建的位图对象。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapdestroy" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapDestroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapdestroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Drawing_BitmapDestroy</span><span class="hljs-params">(OH_Drawing_Bitmap* bitmap)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于销毁位图对象并回收该对象占有内存。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 8</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapcreatefrompixels" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapCreateFromPixels()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapcreatefrompixels" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_Drawing_Bitmap* <span class="hljs-title">OH_Drawing_BitmapCreateFromPixels</span><span class="hljs-params">(OH_Drawing_Image_Info* imageInfo, <span class="hljs-type">void</span>* pixels, <span class="hljs-type">uint32_t</span> rowBytes)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于创建一个位图对象，并将位图像素存储内存地址设置为开发者申请内存的地址。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>imageInfo、pixels任意一个为NULL或者rowBytes等于0时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-image-info">OH_Drawing_Image_Info</a>* imageInfo</td> <td class="cellrowborder" width="50%">指向图片信息对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-image-info">OH_Drawing_Image_Info</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">void* pixels</td> <td class="cellrowborder" width="50%">指向像素存储的内存首地址，内存由开发者申请，保证有效性。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t rowBytes</td> <td class="cellrowborder" width="50%">每行像素的大小，小于等于0时无效。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>*</td> <td class="cellrowborder" width="50%">函数返回一个指针，指针指向创建的位图对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapbuild" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapBuild()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapbuild" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_Drawing_BitmapBuild</span><span class="hljs-params">(OH_Drawing_Bitmap* bitmap,<span class="hljs-type">const</span> <span class="hljs-type">uint32_t</span> width, <span class="hljs-type">const</span> <span class="hljs-type">uint32_t</span> height, <span class="hljs-type">const</span> OH_Drawing_BitmapFormat* bitmapFormat)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于初始化位图对象的宽度和高度，并且为该位图设置像素格式。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap、bitmapFormat任意一个为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 8</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const uint32_t width</td> <td class="cellrowborder" width="50%">位图要初始化设置的宽度。</td> </tr> <tr><td class="cellrowborder" width="50%">const uint32_t height</td> <td class="cellrowborder" width="50%">位图要初始化设置的高度。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmapformat">OH_Drawing_BitmapFormat</a>* bitmapFormat</td> <td class="cellrowborder" width="50%">位图要初始化设置的像素格式，包括像素的颜色类型和透明度类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapgetwidth" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapGetWidth()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapgetwidth" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>uint32_t <span class="hljs-built_in">OH_Drawing_BitmapGetWidth</span>(OH_Drawing_Bitmap* bitmap)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于获取指定位图的宽度。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 8</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">uint32_t</td> <td class="cellrowborder" width="50%">函数返回位图的宽度。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapgetheight" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapGetHeight()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapgetheight" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>uint32_t <span class="hljs-built_in">OH_Drawing_BitmapGetHeight</span>(OH_Drawing_Bitmap* bitmap)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于获取指定位图的高度。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 8</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">uint32_t</td> <td class="cellrowborder" width="50%">函数返回位图的高度。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapgetcolorformat" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapGetColorFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapgetcolorformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_ColorFormat <span class="hljs-built_in">OH_Drawing_BitmapGetColorFormat</span>(OH_Drawing_Bitmap* bitmap)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于获取指定位图的像素存储格式。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-types-h#oh_drawing_colorformat">OH_Drawing_ColorFormat</a></td> <td class="cellrowborder" width="50%">函数返回位图的像素存储格式，支持格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-types-h#oh_drawing_colorformat">OH_Drawing_ColorFormat</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapgetalphaformat" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapGetAlphaFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapgetalphaformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_AlphaFormat <span class="hljs-built_in">OH_Drawing_BitmapGetAlphaFormat</span>(OH_Drawing_Bitmap* bitmap)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于获取指定位图的像素透明度分量。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-types-h#oh_drawing_alphaformat">OH_Drawing_AlphaFormat</a></td> <td class="cellrowborder" width="50%">函数返回位图的像素透明度分量，支持格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-types-h#oh_drawing_alphaformat">OH_Drawing_AlphaFormat</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapgetpixels" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapGetPixels()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapgetpixels" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>void* <span class="hljs-built_in">OH_Drawing_BitmapGetPixels</span>(OH_Drawing_Bitmap* bitmap)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于获取指定位图的像素地址，可以通过像素地址获取到位图的像素数据。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 8</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">void*</td> <td class="cellrowborder" width="50%">函数返回位图的像素地址。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapgetimageinfo" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapGetImageInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapgetimageinfo" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Drawing_BitmapGetImageInfo</span><span class="hljs-params">(OH_Drawing_Bitmap* bitmap, OH_Drawing_Image_Info* imageInfo)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于获取指定位图的信息。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap、imageInfo任意一个为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-image-info">OH_Drawing_Image_Info</a>* imageInfo</td> <td class="cellrowborder" width="50%">指向图片信息对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-image-info">OH_Drawing_Image_Info</a>的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_bitmapreadpixels" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_BitmapReadPixels()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_bitmapreadpixels" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-ouf-c106="" class="highlight-div"><div _ngcontent-ouf-c106="" class="highlight-div-header"><div _ngcontent-ouf-c106="" class="highlight-div-header-left"><div _ngcontent-ouf-c106="" class="handle-button expand-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ouf-c106="" class="highlight-div-header-right"><div _ngcontent-ouf-c106="" class="handle-button ai-button"></div><div _ngcontent-ouf-c106="" class="handle-button line-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ouf-c106="" class="handle-button theme-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ouf-c106="" class="handle-button copy-button"><div _ngcontent-ouf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ouf-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_Drawing_BitmapReadPixels</span><span class="hljs-params">(OH_Drawing_Bitmap* bitmap, <span class="hljs-type">const</span> OH_Drawing_Image_Info* dstInfo,<span class="hljs-type">void</span>* dstPixels, <span class="hljs-type">size_t</span> dstRowBytes, <span class="hljs-type">int32_t</span> srcX, <span class="hljs-type">int32_t</span> srcY)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>将位图中的矩形区域像素数据读取到指定的内存缓冲区中。</p> <p>本接口会产生错误码，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-error-code-h#oh_drawing_errorcodeget">OH_Drawing_ErrorCodeGet</a>查看错误码的取值。</p> <p>bitmap、dstInfo、dstPixels任意一个为NULL时返回OH_DRAWING_ERROR_INVALID_PARAMETER。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>* bitmap</td> <td class="cellrowborder" width="50%">指向位图对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-bitmap">OH_Drawing_Bitmap</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-image-info">OH_Drawing_Image_Info</a>* dstInfo</td> <td class="cellrowborder" width="50%">指向图片信息对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-image-info">OH_Drawing_Image_Info</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">void* dstPixels</td> <td class="cellrowborder" width="50%">目标像素存储区域。</td> </tr> <tr><td class="cellrowborder" width="50%">size_t dstRowBytes</td> <td class="cellrowborder" width="50%">目标像素数据每行的字节数，应大于或等于图片信息对象中的最小每行字节数。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t srcX</td> <td class="cellrowborder" width="50%">源位图中读取像素数据的起始x轴坐标，应小于源位图的宽度。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t srcY</td> <td class="cellrowborder" width="50%">源位图中读取像素数据的起始y轴坐标，应小于源位图的高度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">返回接口调用成功与否的结果。true表示复制成功，false表示复制失败。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>