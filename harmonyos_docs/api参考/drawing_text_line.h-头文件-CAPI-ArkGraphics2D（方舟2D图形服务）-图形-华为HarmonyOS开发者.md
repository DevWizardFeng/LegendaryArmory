<h1 _ngcontent-gal-c119="" class="doc-title ng-star-inserted" title="drawing_text_line.h"> drawing_text_line.h </h1>

<div _ngcontent-gal-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供获取文本行内的字符位置、获取渲染单元信息和按行截断等功能。</p> <p><strong>引用文件：</strong> &lt;native_drawing/drawing_text_line.h&gt;</p> <p><strong>库：</strong> libnative_drawing.so</p> <p><strong>起始版本：</strong> 18</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing">Drawing</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_typographygettextlines">OH_Drawing_Array* OH_Drawing_TypographyGetTextLines(OH_Drawing_Typography* typography)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取排版对象的文本行数组。文本行数组中包含一个或多个文本行对象。不再需要<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>时，请使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_destroytextlines">OH_Drawing_DestroyTextLines</a>接口释放该对象的指针。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_destroytextlines">void OH_Drawing_DestroyTextLines(OH_Drawing_Array* lines)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">释放文本行数组的内存。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_destroytextline">void OH_Drawing_DestroyTextLine(OH_Drawing_TextLine* line)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">释放单个文本行对象的内存。只能释放单独申请内存的文本行对象，不能释放文本行数组中的某一个文本行对象的内存。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_gettextlinebyindex">OH_Drawing_TextLine* OH_Drawing_GetTextLineByIndex(OH_Drawing_Array* lines, size_t index)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行数组指定索引处的文本行对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegetglyphcount">double OH_Drawing_TextLineGetGlyphCount(OH_Drawing_TextLine* line)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行对象中字形的数量。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegettextrange">void OH_Drawing_TextLineGetTextRange(OH_Drawing_TextLine* line, size_t* start, size_t* end)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行对象中的文本在整个段落文本中的索引区间。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegetglyphruns">OH_Drawing_Array* OH_Drawing_TextLineGetGlyphRuns(OH_Drawing_TextLine* line)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行对象中的文本渲染单元数组。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_destroyruns">void OH_Drawing_DestroyRuns(OH_Drawing_Array* runs)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">释放文本渲染单元数组的内存。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_getrunbyindex">OH_Drawing_Run* OH_Drawing_GetRunByIndex(OH_Drawing_Array* runs, size_t index)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本渲染单元数组指定索引处的文本渲染单元对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinepaint">void OH_Drawing_TextLinePaint(OH_Drawing_TextLine* line, OH_Drawing_Canvas* canvas, double x, double y)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">在画布上以坐标点 (x, y) 为左上角位置绘制文本行。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinecreatetruncatedline">OH_Drawing_TextLine* OH_Drawing_TextLineCreateTruncatedLine(OH_Drawing_TextLine* line, double width, int mode,const char* ellipsis)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建一个截断的文本行对象。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegettypographicbounds">double OH_Drawing_TextLineGetTypographicBounds(OH_Drawing_TextLine* line, double* ascent, double* descent,double* leading)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>获取文本行对象的排版边界。文本行排版边界与排版字体、排版字号有关，与字符本身无关。</p> <p>例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格，排版边界就包括行首和末尾空格的边界。例如字符串为"j"或"E"，排版边界相同，即与字符本身无关。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegetimagebounds">OH_Drawing_Rect* OH_Drawing_TextLineGetImageBounds(OH_Drawing_TextLine* line)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>获取文本行对象的图像边界。文本行图像边界与排版字体、排版字号、字符本身都有关，相当于视觉边界。</p> <p>例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格,用户在界面上只能看到"a b"，图像边界即为不包括带行首和末尾空格的边界。</p> <p>例如字符串为"j"或"E"，视觉边界不同，即与字符本身有关，"j"字符串的视觉边界宽度小于"E"字符串的视觉边界宽度，"j"字符串的视觉边界高度大于"E"字符串的视觉边界高度。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegettrailingspacewidth">double OH_Drawing_TextLineGetTrailingSpaceWidth(OH_Drawing_TextLine* line)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行对象尾部空白字符的宽度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegetstringindexforposition">int32_t OH_Drawing_TextLineGetStringIndexForPosition(OH_Drawing_TextLine* line, OH_Drawing_Point* point)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行对象中指定位置处的字符索引。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegetoffsetforstringindex">double OH_Drawing_TextLineGetOffsetForStringIndex(OH_Drawing_TextLine* line, int32_t index)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行对象中指定字符串索引处的偏移量。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#drawing_caretoffsetscallback">typedef bool (*Drawing_CaretOffsetsCallback)(double offset, int32_t index, bool leadingEdge)</a></td> <td class="cellrowborder" width="33.33333333333333%">Drawing_CaretOffsetsCallback</td> <td class="cellrowborder" width="33.33333333333333%">用户自定义的回调函数。将文本行对象中每个字符的偏移量、索引值作为参数传递给用户自定义的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlineenumeratecaretoffsets">void OH_Drawing_TextLineEnumerateCaretOffsets(OH_Drawing_TextLine* line, Drawing_CaretOffsetsCallback callback)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">枚举文本行对象中每个字符的偏移量和索引值，传递给用户自定义的回调函数，用户可以使用偏移量和索引值进行其他操作。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_textlinegetalignmentoffset">double OH_Drawing_TextLineGetAlignmentOffset(OH_Drawing_TextLine* line, double alignmentFactor, double alignmentWidth)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取文本行对象根据对齐因子和对齐宽度计算对齐后所需的偏移量。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_drawing_typographygettextlines" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_Drawing_TypographyGetTextLines()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_typographygettextlines" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_Array* <span class="hljs-built_in">OH_Drawing_TypographyGetTextLines</span>(OH_Drawing_Typography* typography)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取排版对象的文本行数组。文本行数组中包含一个或多个文本行对象。不再需要<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>时，请使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_destroytextlines">OH_Drawing_DestroyTextLines</a>接口释放该对象的指针。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-typography">OH_Drawing_Typography</a>* typography</td> <td class="cellrowborder" width="50%">指向排版对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-typography">OH_Drawing_Typography</a>的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>*</td> <td class="cellrowborder" width="50%">指向文本行数组<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_destroytextlines" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_DestroyTextLines()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_destroytextlines" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Drawing_DestroyTextLines</span><span class="hljs-params">(OH_Drawing_Array* lines)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放文本行数组的内存。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>* lines</td> <td class="cellrowborder" width="50%">指向文本行数组<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_destroytextline" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_DestroyTextLine()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_destroytextline" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Drawing_DestroyTextLine</span><span class="hljs-params">(OH_Drawing_TextLine* line)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放单个文本行对象的内存。只能释放单独申请内存的文本行对象，不能释放文本行数组中的某一个文本行对象的内存。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_gettextlinebyindex" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_GetTextLineByIndex()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_gettextlinebyindex" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_TextLine* <span class="hljs-built_in">OH_Drawing_GetTextLineByIndex</span>(OH_Drawing_Array* lines, size_t index)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行数组指定索引处的文本行对象。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>* lines</td> <td class="cellrowborder" width="50%">指向文本行数组<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">size_t index</td> <td class="cellrowborder" width="50%">指定的文本行数组的索引。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>*</td> <td class="cellrowborder" width="50%">指向指定索引处的文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegetglyphcount" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetGlyphCount()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegetglyphcount" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>double <span class="hljs-built_in">OH_Drawing_TextLineGetGlyphCount</span>(OH_Drawing_TextLine* line)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象中字形的数量。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">double</td> <td class="cellrowborder" width="50%">文本行对象中字形的数量。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegettextrange" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetTextRange()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegettextrange" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">OH_Drawing_TextLineGetTextRange</span><span class="hljs-params">(OH_Drawing_TextLine* line, <span class="hljs-type">size_t</span>* start, <span class="hljs-type">size_t</span>* end)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象中的文本在整个段落文本中的索引区间。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">size_t* start</td> <td class="cellrowborder" width="50%">指向区间左侧端点索引的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">size_t* end</td> <td class="cellrowborder" width="50%">指向区间右侧端点索引的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegetglyphruns" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetGlyphRuns()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegetglyphruns" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_Array* <span class="hljs-built_in">OH_Drawing_TextLineGetGlyphRuns</span>(OH_Drawing_TextLine* line)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象中的文本渲染单元数组。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>*</td> <td class="cellrowborder" width="50%">指向文本渲染单元<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-run">OH_Drawing_Run</a>数组<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>的指针，不再需要<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>时，请使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#oh_drawing_destroyruns">OH_Drawing_DestroyRuns</a>释放该对象的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_destroyruns" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_DestroyRuns()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_destroyruns" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Drawing_DestroyRuns</span><span class="hljs-params">(OH_Drawing_Array* runs)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放文本渲染单元数组的内存。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>* runs</td> <td class="cellrowborder" width="50%">指向文本渲染单元<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-run">OH_Drawing_Run</a>数组<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_getrunbyindex" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_GetRunByIndex()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_getrunbyindex" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_Run* <span class="hljs-built_in">OH_Drawing_GetRunByIndex</span>(OH_Drawing_Array* runs, size_t index)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本渲染单元数组指定索引处的文本渲染单元对象。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>* runs</td> <td class="cellrowborder" width="50%">指向文本渲染单元<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-run">OH_Drawing_Run</a>数组<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-array">OH_Drawing_Array</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">size_t index</td> <td class="cellrowborder" width="50%">文本渲染单元数组的索引。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-run">OH_Drawing_Run</a>*</td> <td class="cellrowborder" width="50%">指向指定索引处的文本渲染单元对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-run">OH_Drawing_Run</a>的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinepaint" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLinePaint()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinepaint" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Drawing_TextLinePaint</span><span class="hljs-params">(OH_Drawing_TextLine* line, OH_Drawing_Canvas* canvas, <span class="hljs-type">double</span> x, <span class="hljs-type">double</span> y)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>在画布上以坐标点 (x, y) 为左上角位置绘制文本行。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-canvas">OH_Drawing_Canvas</a>* canvas</td> <td class="cellrowborder" width="50%">指向绘制的目标画布<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-canvas">OH_Drawing_Canvas</a>。</td> </tr> <tr><td class="cellrowborder" width="50%">double x</td> <td class="cellrowborder" width="50%">绘制的左上角位置的横坐标，单位为物理像素px。</td> </tr> <tr><td class="cellrowborder" width="50%">double y</td> <td class="cellrowborder" width="50%">绘制的左上角位置的纵坐标，单位为物理像素px。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinecreatetruncatedline" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineCreateTruncatedLine()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinecreatetruncatedline" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_Drawing_TextLine* <span class="hljs-title">OH_Drawing_TextLineCreateTruncatedLine</span><span class="hljs-params">(OH_Drawing_TextLine* line, <span class="hljs-type">double</span> width, <span class="hljs-type">int</span> mode,<span class="hljs-type">const</span> <span class="hljs-type">char</span>* ellipsis)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个截断的文本行对象。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">double width</td> <td class="cellrowborder" width="50%">截断后的行宽度。</td> </tr> <tr><td class="cellrowborder" width="50%">int mode</td> <td class="cellrowborder" width="50%">截断的类型，取值对应为 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-text-typography-h#oh_drawing_ellipsismodal">OH_Drawing_EllipsisModal</a> 枚举，当前仅支持头部截断ELLIPSIS_MODAL_HEAD和尾部截断ELLIPSIS_MODAL_TAIL。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* ellipsis</td> <td class="cellrowborder" width="50%">截断的标记字符串。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>*</td> <td class="cellrowborder" width="50%">返回指向截断的文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegettypographicbounds" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetTypographicBounds()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegettypographicbounds" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">double</span> <span class="hljs-title function_">OH_Drawing_TextLineGetTypographicBounds</span><span class="hljs-params">(OH_Drawing_TextLine* line, <span class="hljs-type">double</span>* ascent, <span class="hljs-type">double</span>* descent,<span class="hljs-type">double</span>* leading)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象的排版边界。文本行排版边界与排版字体、排版字号有关，与字符本身无关。</p> <p>例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格，排版边界就包括行首和末尾空格的边界。例如字符串为"j"或"E"，排版边界相同，即与字符本身无关。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。height = ascent + descent + leading。</td> </tr> <tr><td class="cellrowborder" width="50%">double* ascent</td> <td class="cellrowborder" width="50%">指向文本行对象上升高度的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">double* descent</td> <td class="cellrowborder" width="50%">指向文本行对象下降高度的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">double* leading</td> <td class="cellrowborder" width="50%">指向文本行对象行间距的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">double</td> <td class="cellrowborder" width="50%">排版边界的总宽度。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegetimagebounds" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetImageBounds()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegetimagebounds" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_Drawing_Rect* <span class="hljs-built_in">OH_Drawing_TextLineGetImageBounds</span>(OH_Drawing_TextLine* line)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象的图像边界。文本行图像边界与排版字体、排版字号、字符本身都有关，相当于视觉边界。</p> <p>例如字符串为" a b "，'a'字符前面有1个空格，'b'字符后面有1个空格,用户在界面上只能看到"a b"，图像边界即为不包括带行首和末尾空格的边界。</p> <p>例如字符串为"j"或"E"，视觉边界不同，即与字符本身有关，"j"字符串的视觉边界宽度小于"E"字符串的视觉边界宽度，"j"字符串的视觉边界高度大于"E"字符串的视觉边界高度。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-rect">OH_Drawing_Rect</a>*</td> <td class="cellrowborder" width="50%">指向文本行对象的图像边界<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-rect">OH_Drawing_Rect</a>的指针，不再需要<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-rect">OH_Drawing_Rect</a>时，请使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-rect-h#oh_drawing_rectdestroy">OH_Drawing_RectDestroy</a>接口释放该对象的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegettrailingspacewidth" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetTrailingSpaceWidth()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegettrailingspacewidth" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>double <span class="hljs-built_in">OH_Drawing_TextLineGetTrailingSpaceWidth</span>(OH_Drawing_TextLine* line)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象尾部空白字符的宽度。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">double</td> <td class="cellrowborder" width="50%">文本行对象尾部空白字符的宽度。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegetstringindexforposition" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetStringIndexForPosition()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegetstringindexforposition" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_Drawing_TextLineGetStringIndexForPosition</span>(OH_Drawing_TextLine* line, OH_Drawing_Point* point)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象中指定位置处的字符索引。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-point">OH_Drawing_Point</a>* point</td> <td class="cellrowborder" width="50%">指向要查找索引的位置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-point">OH_Drawing_Point</a>指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">指定位置处的字符串索引。例如文本字符串为"abc"，"a"字符的索引为0，"b"字符的索引为1，"c"字符的索引为2。如果指定的位置在"a"字符处，则返回0。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegetoffsetforstringindex" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetOffsetForStringIndex()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegetoffsetforstringindex" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>double <span class="hljs-built_in">OH_Drawing_TextLineGetOffsetForStringIndex</span>(OH_Drawing_TextLine* line, int32_t index)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象中指定字符串索引处的偏移量。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t index</td> <td class="cellrowborder" width="50%">要获取偏移量的字符串索引。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">double</td> <td class="cellrowborder" width="50%">指定字符串索引处的偏移量。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="drawing_caretoffsetscallback" device-type="phone,2in1,tablet,wearable,tv">Drawing_CaretOffsetsCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="drawing_caretoffsetscallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">bool</span> <span class="hljs-params">(*Drawing_CaretOffsetsCallback)</span><span class="hljs-params">(<span class="hljs-type">double</span> offset, <span class="hljs-type">int32_t</span> index, <span class="hljs-type">bool</span> leadingEdge)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用户自定义的回调函数。将文本行对象中每个字符的偏移量、索引值作为参数传递给用户自定义的回调函数。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">double offset</td> <td class="cellrowborder" width="50%">文本行对象中每个字符的偏移量。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t index</td> <td class="cellrowborder" width="50%">文本行对象中每个字符的索引值。</td> </tr> <tr><td class="cellrowborder" width="50%">bool leadingEdge</td> <td class="cellrowborder" width="50%">光标是否位于字符的前缘。true表示位于字符前缘，即偏移量不包含该字符宽度，false表示位于字符后缘，即偏移量包含该字符宽度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">表示是否停止调用该回调函数。true表示停止调用该回调函数，false表示继续调用该回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlineenumeratecaretoffsets" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineEnumerateCaretOffsets()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlineenumeratecaretoffsets" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Drawing_TextLineEnumerateCaretOffsets</span><span class="hljs-params">(OH_Drawing_TextLine* line, Drawing_CaretOffsetsCallback callback)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>枚举文本行对象中每个字符的偏移量和索引值，传递给用户自定义的回调函数，用户可以使用偏移量和索引值进行其他操作。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#drawing_caretoffsetscallback">Drawing_CaretOffsetsCallback</a> callback</td> <td class="cellrowborder" width="50%">用户自定义函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-text-line-h#drawing_caretoffsetscallback">Drawing_CaretOffsetsCallback</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_drawing_textlinegetalignmentoffset" device-type="phone,2in1,tablet,wearable,tv">OH_Drawing_TextLineGetAlignmentOffset()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_drawing_textlinegetalignmentoffset" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-gal-c106="" class="highlight-div"><div _ngcontent-gal-c106="" class="highlight-div-header"><div _ngcontent-gal-c106="" class="highlight-div-header-left"><div _ngcontent-gal-c106="" class="handle-button expand-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gal-c106="" class="highlight-div-header-right"><div _ngcontent-gal-c106="" class="handle-button ai-button"></div><div _ngcontent-gal-c106="" class="handle-button line-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gal-c106="" class="handle-button theme-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gal-c106="" class="handle-button copy-button"><div _ngcontent-gal-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gal-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">double</span> <span class="hljs-title function_">OH_Drawing_TextLineGetAlignmentOffset</span><span class="hljs-params">(OH_Drawing_TextLine* line, <span class="hljs-type">double</span> alignmentFactor, <span class="hljs-type">double</span> alignmentWidth)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取文本行对象根据对齐因子和对齐宽度计算对齐后所需的偏移量。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeDrawing</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>* line</td> <td class="cellrowborder" width="50%">指向文本行对象<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drawing-oh-drawing-textline">OH_Drawing_TextLine</a>的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">double alignmentFactor</td> <td class="cellrowborder" width="50%">对齐因子，即对齐的程度。小于等于0.0表示左对齐，大于0.0小于0.5表示偏左对齐，0.5表示居中对齐，大于0.5小于1.0表示偏右对齐，大于等于1.0表示右对齐。</td> </tr> <tr><td class="cellrowborder" width="50%">double alignmentWidth</td> <td class="cellrowborder" width="50%">对齐宽度，即最终偏移后的文本行对象右下角相对于起始位置的偏移值。如果指定对齐宽度小于文本行对象的实际宽度，则返回0。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">double</td> <td class="cellrowborder" width="50%">计算得到的对齐所需偏移量。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>