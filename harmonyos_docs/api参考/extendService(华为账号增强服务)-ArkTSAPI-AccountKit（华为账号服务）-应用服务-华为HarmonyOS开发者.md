<h1 _ngcontent-ity-c119="" class="doc-title ng-star-inserted" title="extendService (华为账号增强服务)"> extendService (华为账号增强服务) </h1>

<div _ngcontent-ity-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供Account Kit的增强能力，包括身份验证、跳转账号中心等功能。</p>    <p><strong>起始版本：</strong>4.0.0(10)</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>该服务目前仅对系统应用开放。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="section164051883419" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section164051883419" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ity-c106="" class="highlight-div"><div _ngcontent-ity-c106="" class="highlight-div-header"><div _ngcontent-ity-c106="" class="highlight-div-header-left"><div _ngcontent-ity-c106="" class="handle-button expand-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ity-c106="" class="highlight-div-header-right"><div _ngcontent-ity-c106="" class="handle-button ai-button"></div><div _ngcontent-ity-c106="" class="handle-button line-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ity-c106="" class="handle-button theme-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ity-c106="" class="handle-button copy-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ity-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { extendService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section816451553012" device-type="phone,2in1,tablet,tv">IdType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section816451553012" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该枚举为ID类型枚举对象。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.1" width="34.13%">          <p><strong>名称</strong></p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.2" width="28.660000000000004%">          <p><strong>值</strong></p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.3" width="37.21%">          <p><strong>说明</strong></p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="34.13%">          <p>USER_ID</p></td>         <td class="cellrowborder" width="28.660000000000004%">          <p>1</p></td>         <td class="cellrowborder" width="37.21%">          <p>华为账号用户的UID。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>该参数仅对系统应用开放。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="34.13%">          <p>OPEN_ID</p></td>         <td class="cellrowborder" width="28.660000000000004%">          <p>2</p></td>         <td class="cellrowborder" width="37.21%">          <p>华为账号用户的OpenID。具体格式要求请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/account-faq-9" target="_blank">OpenID和UnionID的格式说明</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="34.13%">          <p>UNION_ID</p></td>         <td class="cellrowborder" width="28.660000000000004%">          <p>3</p></td>         <td class="cellrowborder" width="37.21%">          <p>华为账号用户的UnionID。具体格式要求请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/account-faq-9" target="_blank">OpenID和UnionID的格式说明</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section7913052143518" device-type="phone,2in1,tablet,tv">RiskLevel<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section7913052143518" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该枚举为风险值枚举对象。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.4.1.1" width="34.13%">          <p><strong>名称</strong></p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.4.1.2" width="28.660000000000004%">          <p><strong>值</strong></p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.4.1.3" width="37.21%">          <p><strong>说明</strong></p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="34.13%">          <p>LOW</p></td>         <td class="cellrowborder" width="28.660000000000004%">          <p>1</p></td>         <td class="cellrowborder" width="37.21%">          <p>低风险</p></td>        </tr>        <tr>         <td class="cellrowborder" width="34.13%">          <p>HIGH</p></td>         <td class="cellrowborder" width="28.660000000000004%">          <p>2</p></td>         <td class="cellrowborder" width="37.21%">          <p>高风险</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section9615740103819" device-type="phone,2in1,tablet,tv">VerifyRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9615740103819" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该类为身份验证请求对象。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>    </div>    <div class="tablenoborder">     <div class="tbBox"><table>      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.8.1.6.1.1" width="17.330000000000002%">         <p><strong>名称</strong></p></th>        <th align="left" class="cellrowborder" id="mcps1.3.8.1.6.1.2" width="11.76%">         <p><strong>类型</strong></p></th>        <th align="left" class="cellrowborder" id="mcps1.3.8.1.6.1.3" width="20.200000000000003%">         <p>只读</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.8.1.6.1.4" width="15.290000000000001%">         <p>可选</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.8.1.6.1.5" width="35.42%">         <p><strong>说明</strong></p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" width="17.330000000000002%">         <p>idType</p></td>        <td class="cellrowborder" width="11.76%">         <p><a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section816451553012">IdType</a></p></td>        <td class="cellrowborder" width="20.200000000000003%">         <p>否</p></td>        <td class="cellrowborder" width="15.290000000000001%">         <p>否</p></td>        <td class="cellrowborder" width="35.42%">         <p>属性idValue的ID类型。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="17.330000000000002%">         <p>idValue</p></td>        <td class="cellrowborder" width="11.76%">         <p>string</p></td>        <td class="cellrowborder" width="20.200000000000003%">         <p>否</p></td>        <td class="cellrowborder" width="15.290000000000001%">         <p>否</p></td>        <td class="cellrowborder" width="35.42%">         <p>用户获取的UnionID、OpenID值，传递的类型通过idType属性定义。长度限制1-256。</p>         <p>UnionID、OpenID值可以通过使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-authentication#section15454203811311">LoginWithHuaweiIDResponse</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-authentication#section10418450161620">AuthorizationWithHuaweiIDResponse</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-loginpanel#section72281234181611">LoginPanel</a>或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-huawei-id-button#section1624716107193">LoginWithHuaweiIDButton</a>接口获取，具体方法参考其示例代码。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="17.330000000000002%">         <p>sceneId</p></td>        <td class="cellrowborder" width="11.76%">         <p>string</p></td>        <td class="cellrowborder" width="20.200000000000003%">         <p>否</p></td>        <td class="cellrowborder" width="15.290000000000001%">         <p>否</p></td>        <td class="cellrowborder" width="35.42%">         <p>身份验证的场景值，该值与riskLevel属性一起代表了应用在华为账号服务器上的一组配置，包括验证次数、首次验证方式、二次验证方式等。长度限制1-10。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="17.330000000000002%">         <p>riskLevel</p></td>        <td class="cellrowborder" width="11.76%">         <p><a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section7913052143518">RiskLevel</a></p></td>        <td class="cellrowborder" width="20.200000000000003%">         <p>否</p></td>        <td class="cellrowborder" width="15.290000000000001%">         <p>否</p></td>        <td class="cellrowborder" width="35.42%">         <p>风险等级，该值与sceneId一起代表了应用在华为账号服务器上的一组配置，一般风险等级高的场景，需要进行二次验证。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="17.330000000000002%">         <p>nonce</p></td>        <td class="cellrowborder" width="11.76%">         <p>string</p></td>        <td class="cellrowborder" width="20.200000000000003%">         <p>否</p></td>        <td class="cellrowborder" width="15.290000000000001%">         <p>否</p></td>        <td class="cellrowborder" width="35.42%">         <p>请求体中的nonce参数，长度限制1-64。该参数会包含在返回的verifyToken中，通过校验一致性，可用于防止重放攻击。</p>         <p>推荐开发者用随机数并做一致性校验。建议生成方式：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-util#utilgeneraterandomuuid9" target="_blank">util.generateRandomUUID()</a>。</p></td>       </tr>           </tbody></table></div>    </div>    <p><strong>示例：</strong></p>    <div _ngcontent-ity-c106="" class="highlight-div"><div _ngcontent-ity-c106="" class="highlight-div-header"><div _ngcontent-ity-c106="" class="highlight-div-header-left"><div _ngcontent-ity-c106="" class="handle-button expand-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ity-c106="" class="highlight-div-header-right"><div _ngcontent-ity-c106="" class="handle-button ai-button"></div><div _ngcontent-ity-c106="" class="handle-button line-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ity-c106="" class="handle-button theme-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ity-c106="" class="handle-button copy-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ity-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { extendService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建请求参数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">request</span>: extendService.<span class="hljs-property">VerifyRequest</span> = {</li><li>  <span class="hljs-attr">idType</span>: extendService.<span class="hljs-property">IdType</span>.<span class="hljs-property">UNION_ID</span>,</li><li>  <span class="hljs-attr">idValue</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;可通过华为账号登录接口获取&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 该值可以通过华为账号登录接口获取</span></li><li>  <span class="hljs-attr">sceneId</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;触发身份认证的场景ID&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 触发身份验证的场景ID</span></li><li>  <span class="hljs-attr">riskLevel</span>: extendService.<span class="hljs-property">RiskLevel</span>.<span class="hljs-property">LOW</span>,</li><li>  <span class="hljs-attr">nonce</span>: util.<span class="hljs-title function_">generateRandomUUID</span>() <span class="hljs-comment">// 建议使用generateRandomUUID生成nonce</span></li><li>  }</li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section155352089012" device-type="phone,2in1,tablet,tv">VerifyResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section155352089012" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该类为身份验证请求结果对象。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>    </div>    <div class="tablenoborder">     <div class="tbBox"><table>      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.1" width="17.330000000000002%">         <p><strong>名称</strong></p></th>        <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.2" width="11.76%">         <p><strong>类型</strong></p></th>        <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.3" width="20.200000000000003%">         <p>只读</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.4" width="17.89%">         <p>可选</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.5" width="32.82%">         <p><strong>说明</strong></p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" width="17.330000000000002%">         <p>verifyToken</p></td>        <td class="cellrowborder" width="11.76%">         <p>string</p></td>        <td class="cellrowborder" width="20.200000000000003%">         <p>是</p></td>        <td class="cellrowborder" width="17.89%">         <p>否</p></td>        <td class="cellrowborder" width="32.82%">         <p>身份验证返回的Token，JWT格式的数据。</p></td>       </tr>           </tbody></table></div>    </div>    <p><strong>示例：</strong></p>    <div _ngcontent-ity-c106="" class="highlight-div"><div _ngcontent-ity-c106="" class="highlight-div-header"><div _ngcontent-ity-c106="" class="highlight-div-header-left"><div _ngcontent-ity-c106="" class="handle-button expand-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ity-c106="" class="highlight-div-header-right"><div _ngcontent-ity-c106="" class="handle-button ai-button"></div><div _ngcontent-ity-c106="" class="handle-button line-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ity-c106="" class="handle-button theme-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ity-c106="" class="handle-button copy-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ity-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { extendService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建请求参数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">request</span>: extendService.<span class="hljs-property">VerifyRequest</span> = {</li><li>  <span class="hljs-attr">idType</span>: extendService.<span class="hljs-property">IdType</span>.<span class="hljs-property">UNION_ID</span>,</li><li>  <span class="hljs-attr">idValue</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;可通过华为账号登录接口获取&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 该值可以通过华为账号登录或授权接口获取</span></li><li>  <span class="hljs-attr">sceneId</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;触发身份认证的场景ID&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 触发身份验证的场景ID</span></li><li>  <span class="hljs-attr">riskLevel</span>: extendService.<span class="hljs-property">RiskLevel</span>.<span class="hljs-property">LOW</span>,</li><li>  <span class="hljs-attr">nonce</span>: util.<span class="hljs-title function_">generateRandomUUID</span>() <span class="hljs-comment">// 建议使用generateRandomUUID生成nonce</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 执行身份验证请求，并处理结果</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 此示例为代码片段，实际需在自定义组件实例中使用，以获取UIContext对象作为函数入参</span></li><li>  extendService.<span class="hljs-title function_">verifyAccount</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), request, <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-title function_">dealAllError</span>(error);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">const</span> verifyResult = data <span class="hljs-keyword">as</span> extendService.<span class="hljs-property">VerifyResult</span>;</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in verifying.'</span>);</li><li>    <span class="hljs-keyword">const</span> verifyToken = verifyResult.<span class="hljs-property">verifyToken</span>;</li><li>    <span class="hljs-comment">// 开发者处理verifyToken</span></li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-title function_">dealAllError</span>(error);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 错误处理</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dealAllError</span>(<span class="hljs-params">error: BusinessError</span>): <span class="hljs-built_in">void</span> {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to verify. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section138902217187" device-type="phone,2in1,tablet,tv">ExtendErrorCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section138902217187" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该枚举定义了Account Kit扩展模块错误码。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.4.1.1" width="41.91%">          <p><strong>名称</strong></p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.4.1.2" width="20.880000000000003%">          <p><strong>值</strong></p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.4.1.3" width="37.21%">          <p><strong>说明</strong></p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="41.91%">          <p>INVALID_PARAMETER</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section88861315453">401</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>参数检查失败</p></td>        </tr>        <tr>         <td class="cellrowborder" width="41.91%">          <p>NETWORK_ERROR</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1211715201154">1001600001</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>网络不可用</p></td>        </tr>        <tr>         <td class="cellrowborder" width="41.91%">          <p>ACCOUNT_NOT_LOGGED_IN</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section174914372610">1001600002</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>用户未登录华为账号</p></td>        </tr>        <tr>         <td class="cellrowborder" width="41.91%">          <p>PACKAGE_FINGERPRINT_CHECK_ERROR</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section176803402816">1001600003</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>应用指纹证书校验失败</p></td>        </tr>        <tr>         <td class="cellrowborder" width="41.91%">          <p>PERMISSION_CHECK_ERROR</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1924781781013">1001600004</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>应用未申请对应permissions权限</p></td>        </tr>        <tr>         <td class="cellrowborder" width="41.91%">          <p>USER_CANCELED</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section051982312124">1001600005</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>用户取消当前操作</p></td>        </tr>        <tr>         <td class="cellrowborder" width="41.91%">          <p>VERIFICATION_FACTOR_UNAVAILABLE</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1140794171313">1001600006</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>当前设备不支持此验证要素</p></td>        </tr>        <tr>         <td class="cellrowborder" width="41.91%">          <p>INTERNAL_ERROR</p></td>         <td class="cellrowborder" width="20.880000000000003%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section7982145091511">1001600007</a></p></td>         <td class="cellrowborder" width="37.21%">          <p>内部错误</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section165561341570" device-type="phone,2in1,tablet,tv">verifyAccount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section165561341570" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>verifyAccount(context: common.Context, request: VerifyRequest, callback: AsyncCallback&lt;VerifyResult&gt;): void</p>     <p>执行Account Kit身份验证请求，使用Callback异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.1" width="10.530000000000001%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.2" width="17.810000000000002%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.3" width="28.93%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.5.1.4" width="42.730000000000004%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>context</p></td>         <td class="cellrowborder" width="17.810000000000002%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-common#context" target="_blank">common.Context</a></p></td>         <td class="cellrowborder" width="28.93%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>Context上下文。</p>          <p>应用可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>。不支持应用在半模态、弹出框、子窗口等非全页面组件中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>调用。</p>          <p>元服务可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <ul>             <li>在4.0.0(10)版本，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>。</li>             <li>从4.1.0(11)版本开始，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">Context</a>。</li>            </ul>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>request</p></td>         <td class="cellrowborder" width="17.810000000000002%">          <p><a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section9615740103819">VerifyRequest</a></p></td>         <td class="cellrowborder" width="28.93%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>身份验证请求对象，包含请求参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>callback</p></td>         <td class="cellrowborder" width="17.810000000000002%">          <p>AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section155352089012">VerifyResult</a>&gt;</p></td>         <td class="cellrowborder" width="28.93%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>回调函数。</p>          <p>当身份验证请求成功，err为undefined，data为获取到的<a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section155352089012">VerifyResult</a>对象；否则为错误对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code">ArkTS错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.1" width="33.72%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.12.1.3.1.2" width="66.28%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section88861315453">401</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1211715201154">1001600001</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The network is unavailable.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section174914372610">1001600002</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The user has not logged in with HUAWEI ID.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section176803402816">1001600003</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Failed to check the fingerprint of the application bundle.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1924781781013">1001600004</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The application does not have the required permissions.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section051982312124">1001600005</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The user canceled the current operation.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1140794171313">1001600006</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The requested verification factors are unavailable on the device.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section7982145091511">1001600007</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Internal error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ity-c106="" class="highlight-div"><div _ngcontent-ity-c106="" class="highlight-div-header"><div _ngcontent-ity-c106="" class="highlight-div-header-left"><div _ngcontent-ity-c106="" class="handle-button expand-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ity-c106="" class="highlight-div-header-right"><div _ngcontent-ity-c106="" class="handle-button ai-button"></div><div _ngcontent-ity-c106="" class="handle-button line-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ity-c106="" class="handle-button theme-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ity-c106="" class="handle-button copy-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ity-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { extendService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建请求参数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">request</span>: extendService.<span class="hljs-property">VerifyRequest</span> = {</li><li>  <span class="hljs-attr">idType</span>: extendService.<span class="hljs-property">IdType</span>.<span class="hljs-property">UNION_ID</span>,</li><li>  <span class="hljs-attr">idValue</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;可通过华为账号登录接口获取&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 该值可以通过华为账号登录接口获取</span></li><li>  <span class="hljs-attr">sceneId</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;触发身份认证的场景ID&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 触发身份验证的场景ID，通过配置申请获取</span></li><li>  <span class="hljs-attr">riskLevel</span>: extendService.<span class="hljs-property">RiskLevel</span>.<span class="hljs-property">LOW</span>,</li><li>  <span class="hljs-attr">nonce</span>: util.<span class="hljs-title function_">generateRandomUUID</span>() <span class="hljs-comment">// 建议使用generateRandomUUID生成nonce</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 执行身份验证请求，并处理结果</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 此示例为代码片段，实际需在自定义组件实例中使用，以获取UIContext对象作为函数入参</span></li><li>  extendService.<span class="hljs-title function_">verifyAccount</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), request, <span class="hljs-function">(<span class="hljs-params">error, data</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-title function_">dealAllError</span>(error);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-keyword">const</span> verifyResult = data <span class="hljs-keyword">as</span> extendService.<span class="hljs-property">VerifyResult</span>;</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in verifying.'</span>);</li><li>    <span class="hljs-keyword">const</span> verifyToken = verifyResult.<span class="hljs-property">verifyToken</span>;</li><li>    <span class="hljs-comment">// 开发者处理verifyToken</span></li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-title function_">dealAllError</span>(error);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 错误处理</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dealAllError</span>(<span class="hljs-params">error: BusinessError</span>): <span class="hljs-built_in">void</span> {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to verify. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section663913419183" device-type="phone,2in1,tablet,tv">verifyAccount<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section663913419183" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>verifyAccount(context: common.Context, request: VerifyRequest): Promise&lt;VerifyResult&gt;</p>     <p>执行Account Kit身份验证请求，使用Promise异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>元服务API：</strong>从版本4.1.0(11)开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.1" width="10.530000000000001%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.2" width="17.810000000000002%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.3" width="28.93%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.5.1.4" width="42.730000000000004%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>context</p></td>         <td class="cellrowborder" width="17.810000000000002%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-common#context" target="_blank">common.Context</a></p></td>         <td class="cellrowborder" width="28.93%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>Context上下文。</p>          <p>应用可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>。不支持应用在半模态、弹出框、子窗口等非全页面组件中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>调用。</p>          <p>元服务可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <ul>             <li>在4.0.0(10)版本，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>。</li>             <li>从4.1.0(11)版本开始，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">Context</a>。</li>            </ul>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>request</p></td>         <td class="cellrowborder" width="17.810000000000002%">          <p><a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section9615740103819">VerifyRequest</a></p></td>         <td class="cellrowborder" width="28.93%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>身份验证请求对象，包含请求参数。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="34.88%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="65.12%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="34.88%">          <p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section155352089012">VerifyResult</a>&gt;</p></td>         <td class="cellrowborder" width="65.12%">          <p>Promise对象，返回<a href="/consumer/cn/doc/harmonyos-references/account-api-extendservice#section155352089012">VerifyResult</a>对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code">ArkTS错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.14.1.3.1.1" width="33.72%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.14.1.3.1.2" width="66.28%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section88861315453">401</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1211715201154">1001600001</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The network is unavailable.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section174914372610">1001600002</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The user has not logged in with HUAWEI ID.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section176803402816">1001600003</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Failed to check the fingerprint of the application bundle.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1924781781013">1001600004</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The application does not have the required permissions.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section051982312124">1001600005</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The user canceled the current operation.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1140794171313">1001600006</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The requested verification factors are unavailable on the device.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section7982145091511">1001600007</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Internal error.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-ity-c106="" class="highlight-div"><div _ngcontent-ity-c106="" class="highlight-div-header"><div _ngcontent-ity-c106="" class="highlight-div-header-left"><div _ngcontent-ity-c106="" class="handle-button expand-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ity-c106="" class="highlight-div-header-right"><div _ngcontent-ity-c106="" class="handle-button ai-button"></div><div _ngcontent-ity-c106="" class="handle-button line-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ity-c106="" class="handle-button theme-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ity-c106="" class="handle-button copy-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ity-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { extendService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 创建请求参数</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">request</span>: extendService.<span class="hljs-property">VerifyRequest</span> = {</li><li>  <span class="hljs-attr">idType</span>: extendService.<span class="hljs-property">IdType</span>.<span class="hljs-property">UNION_ID</span>,</li><li>  <span class="hljs-attr">idValue</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;可通过华为账号登录接口获取&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 该值可以通过华为账号登录接口获取</span></li><li>  <span class="hljs-attr">sceneId</span>: <span class="hljs-string">'</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;触发身份认证的场景ID&gt;</span></span></div></i><span class="hljs-string">'</span>, <span class="hljs-comment">// 触发身份验证的场景ID，通过配置申请获取</span></li><li>  <span class="hljs-attr">riskLevel</span>: extendService.<span class="hljs-property">RiskLevel</span>.<span class="hljs-property">LOW</span>,</li><li>  <span class="hljs-attr">nonce</span>: util.<span class="hljs-title function_">generateRandomUUID</span>() <span class="hljs-comment">// 建议使用generateRandomUUID生成nonce</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// 此示例为代码片段，实际需在自定义组件实例中使用，以获取UIContext对象作为函数入参</span></li><li><span class="hljs-comment">// 执行身份验证请求，并处理结果</span></li><li>extendService.<span class="hljs-title function_">verifyAccount</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> verifyResult = data <span class="hljs-keyword">as</span> extendService.<span class="hljs-property">VerifyResult</span>;</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in verifying.'</span>);</li><li>  <span class="hljs-keyword">const</span> verifyToken = verifyResult.<span class="hljs-property">verifyToken</span>;</li><li>  <span class="hljs-comment">// 开发者处理verifyToken</span></li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-title function_">dealAllError</span>(error);</li><li>})</li><li>
</li><li><span class="hljs-comment">// 错误处理</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dealAllError</span>(<span class="hljs-params">error: BusinessError</span>): <span class="hljs-built_in">void</span> {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to verify. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section12154142943216" device-type="phone,2in1,tablet,tv">startAccountCenter<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12154142943216" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>startAccountCenter(context: common.Context, callback: AsyncCallback&lt;void&gt;): void</p>     <p>当开发者需要实现查看当前登录的华为账号的基本信息时，执行打开账号中心请求，会拉起账号中心页面，使用Callback异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.1" width="10.530000000000001%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.2" width="22.33%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.3" width="24.41%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.4" width="42.730000000000004%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>context</p></td>         <td class="cellrowborder" width="22.33%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-common#context" target="_blank">common.Context</a></p></td>         <td class="cellrowborder" width="24.41%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>Context上下文。</p>          <p>可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>。不支持应用在半模态、弹出框、子窗口等非全页面组件中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>调用。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <ul>             <li>在4.0.0(10)版本，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>。</li>             <li>从4.1.0(11)版本开始，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">Context</a>。</li>            </ul>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>callback</p></td>         <td class="cellrowborder" width="22.33%">          <p>AsyncCallback&lt;void&gt;</p></td>         <td class="cellrowborder" width="24.41%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>回调函数。</p>          <p>当执行打开账号中心请求成功，err为undefined；否则为错误对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code">ArkTS错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.1" width="33.72%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.2" width="66.28%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section88861315453">401</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1211715201154">1001600001</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The network is unavailable.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section174914372610">1001600002</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The user has not logged in with HUAWEI ID.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section176803402816">1001600003</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Failed to check the fingerprint of the application bundle.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1924781781013">1001600004</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The application does not have the required permissions.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section7982145091511">1001600007</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Internal error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ity-c106="" class="highlight-div"><div _ngcontent-ity-c106="" class="highlight-div-header"><div _ngcontent-ity-c106="" class="highlight-div-header-left"><div _ngcontent-ity-c106="" class="handle-button expand-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ity-c106="" class="highlight-div-header-right"><div _ngcontent-ity-c106="" class="handle-button ai-button"></div><div _ngcontent-ity-c106="" class="handle-button line-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ity-c106="" class="handle-button theme-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ity-c106="" class="handle-button copy-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ity-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { extendService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 执行打开账号中心请求，并处理结果</span></li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-comment">// 此示例为代码片段，实际需在自定义组件实例中使用，以获取UIContext对象作为函数入参</span></li><li>  extendService.<span class="hljs-title function_">startAccountCenter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (error) {</li><li>      <span class="hljs-title function_">dealAllError</span>(error);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in starting account center'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (error) {</li><li>  <span class="hljs-title function_">dealAllError</span>(error);</li><li>}</li><li>
</li><li><span class="hljs-comment">// 错误处理</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dealAllError</span>(<span class="hljs-params">error: BusinessError</span>): <span class="hljs-built_in">void</span> {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to startAccountCenter. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section144121134837" device-type="phone,2in1,tablet,tv">startAccountCenter<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section144121134837" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>startAccountCenter(context: common.Context): Promise&lt;void&gt;</p>     <p>当开发者需要实现查看当前登录的华为账号的基本信息时，执行打开账号中心请求，会拉起账号中心页面，使用Promise异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.ExtendService</p>     <p><strong>起始版本：</strong>4.0.0(10)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="10.530000000000001%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="17.810000000000002%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="28.93%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="42.730000000000004%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="10.530000000000001%">          <p>context</p></td>         <td class="cellrowborder" width="17.810000000000002%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-common#context" target="_blank">common.Context</a></p></td>         <td class="cellrowborder" width="28.93%">          <p>是</p></td>         <td class="cellrowborder" width="42.730000000000004%">          <p>Context上下文。</p>          <p>可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>。不支持应用在半模态、弹出框、子窗口等非全页面组件中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>调用。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <ul>             <li>在4.0.0(10)版本，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>。</li>             <li>从4.1.0(11)版本开始，参数类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">Context</a>。</li>            </ul>           </div></div></div></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="34.88%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="65.12%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="34.88%">          <p>Promise&lt;void&gt;</p></td>         <td class="cellrowborder" width="65.12%">          <p>Promise对象，无返回结果的Promise对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code">ArkTS错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.1" width="33.72%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.2" width="66.28%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section88861315453">401</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1211715201154">1001600001</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The network is unavailable.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section174914372610">1001600002</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The user has not logged in with HUAWEI ID.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section176803402816">1001600003</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Failed to check the fingerprint of the application bundle.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1924781781013">1001600004</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>The application does not have the required permissions.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.72%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section7982145091511">1001600007</a></p></td>         <td class="cellrowborder" width="66.28%">          <p>Internal error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ity-c106="" class="highlight-div"><div _ngcontent-ity-c106="" class="highlight-div-header"><div _ngcontent-ity-c106="" class="highlight-div-header-left"><div _ngcontent-ity-c106="" class="handle-button expand-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ity-c106="" class="highlight-div-header-right"><div _ngcontent-ity-c106="" class="handle-button ai-button"></div><div _ngcontent-ity-c106="" class="handle-button line-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ity-c106="" class="handle-button theme-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ity-c106="" class="handle-button copy-button"><div _ngcontent-ity-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ity-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { extendService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 此示例为代码片段，实际需在自定义组件实例中使用，以获取UIContext对象作为函数入参</span></li><li><span class="hljs-comment">// 执行打开账号中心请求，并处理结果</span></li><li>extendService.<span class="hljs-title function_">startAccountCenter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in starting account center'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError&lt;<span class="hljs-built_in">Object</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-title function_">dealAllError</span>(error);</li><li>})</li><li>
</li><li><span class="hljs-comment">// 错误处理</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dealAllError</span>(<span class="hljs-params">error: BusinessError&lt;<span class="hljs-built_in">Object</span>&gt;</span>): <span class="hljs-built_in">void</span> {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to startAccountCenter. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>