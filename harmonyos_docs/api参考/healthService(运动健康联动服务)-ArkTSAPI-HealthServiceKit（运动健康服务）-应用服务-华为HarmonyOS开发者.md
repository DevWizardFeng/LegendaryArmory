<h1 _ngcontent-krc-c119="" class="doc-title ng-star-inserted" title="healthService(运动健康联动服务)"> healthService(运动健康联动服务) </h1>

<div _ngcontent-krc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块提供运动健康联动服务。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <div class="tiledSection"><h2 id="section4539115425616" device-type="phone,tablet,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4539115425616" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section599483722019" device-type="phone,tablet,wearable">SampleEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section599483722019" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动控制事件。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.1" width="15.469999999999997%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.2" width="35.279999999999994%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.3" width="6.199999999999998%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.4" width="6.419999999999998%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.5" width="36.629999999999995%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.469999999999997%"><p>eventId</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>否</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>事件ID。</p> </td> </tr> <tr><td class="cellrowborder" width="15.469999999999997%"><p>eventLevel</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>否</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>事件等级。</p> <p>取值参考：[0, 255]</p> </td> </tr> <tr><td class="cellrowborder" width="15.469999999999997%"><p>eventData</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>string</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>否</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>事件携带的信息。</p> </td> </tr> <tr><td class="cellrowborder" width="15.469999999999997%"><p>srcPkgName</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>string</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>是</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>事件发送源包名，若未填写，默认为空。</p> </td> </tr> <tr><td class="cellrowborder" width="15.469999999999997%"><p>destPkgName</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>string</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>是</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>事件发送目标包名，若未填写，默认为空。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section133382582612" device-type="phone,tablet,wearable">SampleReal<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section133382582612" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>SampleReal&lt;K extends Record&lt;string, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section14966196131311">healthStore.HealthValueType</a>&gt; = Record&lt;string, <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section14966196131311">healthStore.HealthValueType</a>&gt;&gt;</p> <p>联动实时运动数据。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.6.1.6.1.1" width="15.469999999999997%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.6.1.2" width="35.279999999999994%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.6.1.3" width="6.199999999999998%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.6.1.4" width="6.419999999999998%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.6.1.5" width="36.629999999999995%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.469999999999997%"><p>dataType</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section136147472298">healthStore.DataType</a></p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>否</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>实时融合数据类型。</p> </td> </tr> <tr><td class="cellrowborder" width="15.469999999999997%"><p>time</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>否</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>实时融合数据产生时间，Unix时间戳，以毫秒为单位。</p> </td> </tr> <tr><td class="cellrowborder" width="15.469999999999997%"><p>fields</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>Pick&lt;K, keyof K&gt;</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>否</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>实时融合数据字段。</p> </td> </tr> <tr><td class="cellrowborder" width="15.469999999999997%"><p>deviceUniqueId</p> </td> <td class="cellrowborder" width="35.279999999999994%"><p>string</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.419999999999998%"><p>是</p> </td> <td class="cellrowborder" width="36.629999999999995%"><p>实时融合数据来源，若未填写，默认为空。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section690230135118" device-type="phone,tablet,wearable">workout<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section690230135118" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>提供运动健康实时数据。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection"><h3 id="section17562157135210" device-type="phone,tablet,wearable" class="firsth2">ActivityReport<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17562157135210" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>实时三环数据。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.6.1.1" width="17.99%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.6.1.2" width="32.76%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.6.1.3" width="6.199999999999998%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.6.1.4" width="6.409999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.6.1.5" width="36.63999999999999%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.99%"><p>steps</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>步数。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>stepsGoal</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>是</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>步数目标（若未设置过，无法读取到运动健康App中展示的默认目标）。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>activeCalories</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>活动热量。</p> <p>单位：卡</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>activeCaloriesGoal</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>是</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>活动热量目标。</p> <p>单位：卡</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>exercise</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>锻炼时长。</p> <p>单位：分钟</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>exerciseGoal</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>是</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>锻炼时长目标。</p> <p>单位：分钟</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>activeHours</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>活动小时数。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>activeHoursGoal</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>是</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>活动小时数目标。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section895913201519" device-type="phone,tablet,wearable">ConfigType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section895913201519" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>type ConfigType = number | string | boolean</p> <p>联动配置项类型。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="37.01%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="62.99%"><p><strong>说明</strong></p> </th> </tr><tr><td class="cellrowborder" width="37.01%"><p>number</p> </td> <td class="cellrowborder" width="62.99%"><p>表示值类型为数字，可取任意值。</p> </td> </tr> <tr><td class="cellrowborder" width="37.01%"><p>string</p> </td> <td class="cellrowborder" width="62.99%"><p>表示值类型为字符串，可取任意值。</p> </td> </tr> <tr><td class="cellrowborder" width="37.01%"><p>boolean</p> </td> <td class="cellrowborder" width="62.99%"><p>表示值类型为布尔类型，可取true或false，具体含义以实际使用场景为准。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section1466304421712" device-type="phone,tablet,wearable">DeviceState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1466304421712" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动设备状态。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.1" width="17.99%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.2" width="32.76%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.3" width="6.199999999999998%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.4" width="6.409999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.6.1.5" width="36.63999999999999%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.99%"><p>deviceId</p> </td> <td class="cellrowborder" width="32.76%"><p>string</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>设备ID。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>state</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>设备状态。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>deviceName</p> </td> <td class="cellrowborder" width="32.76%"><p>string</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>是</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>设备名称，若未填写，默认为空。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section1847017072015" device-type="phone,tablet,wearable">Goal<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1847017072015" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动运动目标。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.1" width="17.99%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.2" width="32.76%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.3" width="6.199999999999998%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.4" width="6.409999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.6.1.5" width="36.63999999999999%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.99%"><p>type</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>目标类型，取值参考：<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section7230195122817">TargetType</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>value</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>目标值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section15978631122119" device-type="phone,tablet,wearable">LinkageType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section15978631122119" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动类型。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.1" width="28.02280228022802%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.2" width="12.521252125212524%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.3" width="59.45594559455946%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="28.02280228022802%"><p>COURSE_LINK</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>0</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>课程联动。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>ACTIVITY_LINK</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>1</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>运动联动。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section16819124442317" device-type="phone,tablet,wearable">StartCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16819124442317" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动开启结果码。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.5.1.4.1.1" width="28.02280228022802%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.4.1.2" width="12.521252125212524%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.4.1.3" width="59.45594559455946%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="28.02280228022802%"><p>SUCCESS</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>0</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>联动开启成功。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>WORKOUT_WORKING</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>1</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>联动已开始。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>NO_SUPPORTED_DEVICE</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>2</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>无可支持联动的设备。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>DEVICE_BUSY</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>3</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>联动设备忙碌。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section103341756122412" device-type="phone,tablet,wearable">StartResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section103341756122412" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动开启结果。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.1" width="17.99%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.2" width="32.76%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.3" width="6.199999999999998%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.4" width="6.409999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.5" width="36.63999999999999%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.99%"><p>startCode</p> </td> <td class="cellrowborder" width="32.76%"><p><a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section16819124442317">StartCode</a></p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>联动开启结果码。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>deviceState</p> </td> <td class="cellrowborder" width="32.76%"><p><a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section1466304421712">DeviceState</a>[]</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>联动设备状态。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section7230195122817" device-type="phone,tablet,wearable">TargetType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section7230195122817" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动目标类型。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.1" width="28.02280228022802%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.2" width="12.521252125212524%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.5.1.4.1.3" width="59.45594559455946%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="28.02280228022802%"><p>NONE</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>0</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>无目标。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>DISTANCE</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>1</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>距离。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>CALORIE</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>2</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>卡路里。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>TIME</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>3</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>时长。</p> </td> </tr> <tr><td class="cellrowborder" width="28.02280228022802%"><p>SKIPPING_TIMES</p> </td> <td class="cellrowborder" width="12.521252125212524%"><p>4</p> </td> <td class="cellrowborder" width="59.45594559455946%"><p>跳绳次数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section77282239296" device-type="phone,tablet,wearable">WorkoutConfig<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section77282239296" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>联动配置项。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.1" width="17.99%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.2" width="32.76%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.3" width="6.199999999999998%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.4" width="6.409999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.5" width="36.63999999999999%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.99%"><p>linkageType</p> </td> <td class="cellrowborder" width="32.76%"><p><a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section15978631122119">LinkageType</a></p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>联动类型。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>sportType</p> </td> <td class="cellrowborder" width="32.76%"><p>number</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>否</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>运动类型，参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-exercisedequencehelper">锻炼记录类型常量</a>子数据类型id。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>activityGoals</p> </td> <td class="cellrowborder" width="32.76%"><p><a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section1847017072015">Goal</a>[]</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>是</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>联动运动目标，若未填写，默认为空。</p> </td> </tr> <tr><td class="cellrowborder" width="17.99%"><p>extensionConfig</p> </td> <td class="cellrowborder" width="32.76%"><p>Record&lt;string, <a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section895913201519">ConfigType</a>&gt;</p> </td> <td class="cellrowborder" width="6.199999999999998%"><p>否</p> </td> <td class="cellrowborder" width="6.409999999999999%"><p>是</p> </td> <td class="cellrowborder" width="36.63999999999999%"><p>扩展配置项，若未填写，默认为空。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section1467236123417" device-type="phone,tablet,wearable">workout.config<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1467236123417" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>config(workoutConfig: WorkoutConfig): Promise&lt;void&gt;</p> <p>配置联动，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="19.45%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25.929999999999996%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.45%"><p>workoutConfig</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p><a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section77282239296">WorkoutConfig</a></p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动配置项。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section2796145134414">1009104003</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Illegal command. Called when workout not in stoped or idle state.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section358195916206">1009104999</a></p> </td> <td class="cellrowborder" width="66.28%"><p>System internal error.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService, healthStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">workoutOptions</span>: healthService.<span class="hljs-property">workout</span>.<span class="hljs-property">WorkoutConfig</span> = {</li><li>    <span class="hljs-attr">linkageType</span>: healthService.<span class="hljs-property">workout</span>.<span class="hljs-property">LinkageType</span>.<span class="hljs-property">COURSE_LINK</span>,</li><li>    <span class="hljs-attr">sportType</span>: healthStore.<span class="hljs-property">exerciseSequenceHelper</span>.<span class="hljs-property">running</span>.<span class="hljs-property">EXERCISE_TYPE</span>.<span class="hljs-property">id</span></li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">config</span>(workoutOptions);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeed in configuring workout'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to configure workout. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section1358617491190" device-type="phone,tablet,wearable">workout.start<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1358617491190" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>start(): Promise&lt;StartResult&gt;</p> <p>开启联动，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section103341756122412">StartResult</a>&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>Promise对象，返回联动开启结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section9399145163817">1009104001</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Sport service busy. Workout is already started by other application.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1492831113409">1009104002</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Unsupported sport type.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section2796145134414">1009104003</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Illegal command. Called when workout in sporting, paused or stoped state.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section5369132174419">1009104004</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification error. Application has no permission, such as Motion Permission.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section358195916206">1009104999</a></p> </td> <td class="cellrowborder" width="66.28%"><p>System internal error.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">start</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeed in starting workout'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to start workout. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section91411581874" device-type="phone,tablet,wearable">workout.pause<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section91411581874" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>pause(): Promise&lt;void&gt;</p> <p>暂停联动，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section2796145134414">1009104003</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Illegal command. Called when workout in ready, paused or stoped state.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section358195916206">1009104999</a></p> </td> <td class="cellrowborder" width="66.28%"><p>System internal error.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">pause</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeed in pausing workout'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to pause workout. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section823861814912" device-type="phone,tablet,wearable">workout.resume<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section823861814912" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>resume(): Promise&lt;void&gt;</p> <p>恢复联动，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section2796145134414">1009104003</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Illegal command. Called when workout in ready, sporting or stoped state.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section358195916206">1009104999</a></p> </td> <td class="cellrowborder" width="66.28%"><p>System internal error.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">resume</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeed in resuming workout'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to resume workout. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section17316453103016" device-type="phone,tablet,wearable">workout.stop<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17316453103016" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>stop(): Promise&lt;void&gt;</p> <p>停止联动，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section2796145134414">1009104003</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Illegal command. Called when workout is not started.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section358195916206">1009104999</a></p> </td> <td class="cellrowborder" width="66.28%"><p>System internal error.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">stop</span>();</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeed in stopping workout'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to stop workout. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section761418380570" device-type="phone,tablet,wearable">workout.onData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section761418380570" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>onData(dataType: healthStore.DataType, listener: Callback&lt;SampleReal[]&gt;): Promise&lt;void&gt;</p> <p>注册指定联动运动数据监听，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.1" width="16.72%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.2" width="28.660000000000004%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.72%"><p>dataType</p> </td> <td class="cellrowborder" width="28.660000000000004%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section136147472298">healthStore.DataType</a></p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动运动数据类型。</p> </td> </tr> <tr><td class="cellrowborder" width="16.72%"><p>listener</p> </td> <td class="cellrowborder" width="28.660000000000004%"><p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section133382582612">SampleReal</a>[]&gt;</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动运动数据监听回调。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService, healthStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;healthService.<span class="hljs-property">SampleReal</span>[]&gt; = <span class="hljs-function">(<span class="hljs-params">sampleReals</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Workout onData receive data. The sampleReals size is <span class="hljs-subst">${sampleReals.length}</span>`</span>);</li><li>  };</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">realTimeMotionDataType</span>: healthStore.<span class="hljs-property">DataType</span> = {</li><li>    <span class="hljs-attr">id</span>: <span class="hljs-number">50004</span></li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">onData</span>(realTimeMotionDataType, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to onData. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section156162384574" device-type="phone,tablet,wearable">workout.onData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section156162384574" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>onData(dataType: undefined, listener: Callback&lt;SampleReal[]&gt;): Promise&lt;void&gt;</p> <p>注册所有联动运动数据监听，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="19.45%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25.929999999999996%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.45%"><p>dataType</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>undefined</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>监听所有联动运动数据类型。</p> </td> </tr> <tr><td class="cellrowborder" width="19.45%"><p>listener</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section133382582612">SampleReal</a>[]&gt;</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动运动数据监听回调。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;healthService.<span class="hljs-property">SampleReal</span>[]&gt; = <span class="hljs-function">(<span class="hljs-params">sampleReals</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Workout onData receive data. The sampleReals size is <span class="hljs-subst">${sampleReals.length}</span>`</span>);</li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">onData</span>(<span class="hljs-literal">undefined</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to onData. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section4169104515016" device-type="phone,tablet,wearable">workout.offData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4169104515016" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>offData(dataType: healthStore.DataType, listener: Callback&lt;SampleReal[]&gt;): Promise&lt;void&gt;</p> <p>取消指定联动运动数据的监听，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="16.72%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="28.660000000000004%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.72%"><p>dataType</p> </td> <td class="cellrowborder" width="28.660000000000004%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section136147472298">healthStore.DataType</a></p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动运动数据类型。</p> </td> </tr> <tr><td class="cellrowborder" width="16.72%"><p>listener</p> </td> <td class="cellrowborder" width="28.660000000000004%"><p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section133382582612">SampleReal</a>[]&gt;</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动运动数据监听回调。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types; 3.Parameter verification failed.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService, healthStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;healthService.<span class="hljs-property">SampleReal</span>[]&gt; = <span class="hljs-function">(<span class="hljs-params">sampleReals</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Workout offData receive data. The sampleReals size is <span class="hljs-subst">${sampleReals.length}</span>`</span>);</li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">offData</span>(healthStore.<span class="hljs-property">healthDataTypes</span>.<span class="hljs-property">WORKOUT</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to offData. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section63323531292" device-type="phone,tablet,wearable">workout.offData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section63323531292" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>offData(dataType: undefined, listener: Callback&lt;SampleReal[]&gt;): Promise&lt;void&gt;</p> <p>取消所有联动运动数据的监听，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="19.45%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25.929999999999996%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="6.01%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="48.61%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.45%"><p>dataType</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>undefined</p> </td> <td class="cellrowborder" width="6.01%"><p>是</p> </td> <td class="cellrowborder" width="48.61%"><p>监听所有联动运动数据类型。</p> </td> </tr> <tr><td class="cellrowborder" width="19.45%"><p>listener</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section133382582612">SampleReal</a>[]&gt;</p> </td> <td class="cellrowborder" width="6.01%"><p>是</p> </td> <td class="cellrowborder" width="48.61%"><p>联动运动数据监听回调。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified;2. Parameter verification failed.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;healthService.<span class="hljs-property">SampleReal</span>[]&gt; = <span class="hljs-function">(<span class="hljs-params">sampleReals</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Workout offData receive data. The sampleReals size is <span class="hljs-subst">${sampleReals.length}</span>`</span>);</li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">offData</span>(<span class="hljs-literal">undefined</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to offData. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section197432556596" device-type="phone,tablet,wearable">workout.onEvent("*")<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section197432556596" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>onEvent(event: "*", listener: Callback&lt;SampleEvent&gt;): Promise&lt;void&gt;</p> <p>注册联动设备事件监听，使用Promise异步方式。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet中可正常调用，在Wearable中返回401错误码。</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="19.45%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25.929999999999996%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.45%"><p>event</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>string</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动设备事件类型，支持的事件为："*"，当联动设备运动状态改变时，触发该事件。</p> </td> </tr> <tr><td class="cellrowborder" width="19.45%"><p>listener</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section599483722019">SampleEvent</a>&gt;</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动设备事件监听回调。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;healthService.<span class="hljs-property">SampleEvent</span>&gt; = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Workout onEvent receive event. Event data: <span class="hljs-subst">${event.eventData}</span>, event id: <span class="hljs-subst">${event.eventId}</span>`</span>);</li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">onEvent</span>(<span class="hljs-string">'*'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to onEvent. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section3468853152518" device-type="phone,tablet,wearable">workout.offEvent("*")<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3468853152518" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>offEvent(event: "*", listener: Callback&lt;SampleEvent&gt;): Promise&lt;void&gt;</p> <p>取消联动设备事件的监听，使用Promise异步方式。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet中可正常调用，在Wearable中返回401错误码。</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="19.45%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25.929999999999996%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.45%"><p>event</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>string</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动设备事件类型，支持的事件为："*"，当联动设备运动状态改变时，触发该事件。</p> </td> </tr> <tr><td class="cellrowborder" width="19.45%"><p>listener</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section599483722019">SampleEvent</a>&gt;</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动设备事件监听回调。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.26.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified;2. Parameter verification failed.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">callback</span>: <span class="hljs-title class_">Callback</span>&lt;healthService.<span class="hljs-property">SampleEvent</span>&gt; = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Workout offEvent receive event. Event data: <span class="hljs-subst">${event.eventData}</span>, event id: <span class="hljs-subst">${event.eventId}</span>`</span>);</li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">offEvent</span>(<span class="hljs-string">'*'</span>, callback);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to offEvent. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section9432058162017" device-type="phone,tablet,wearable">workout.readActivityReport<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9432058162017" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>readActivityReport(): Promise&lt;ActivityReport&gt;</p> <p>读取实时三环数据，使用Promise异步方式。</p> <p>该接口从API 19 Release开始，支持Wearable设备开发。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section17562157135210">ActivityReport</a>&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>Promise对象，返回实时三环数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.12.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.12.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission denied.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section6671152405412">14500101</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Service exception.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">result</span>: healthService.<span class="hljs-property">workout</span>.<span class="hljs-property">ActivityReport</span> = <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">readActivityReport</span>();</li><li>  </li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in reading ActivityReport'</span>);</li><li>  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(result).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`the <span class="hljs-subst">${key}</span> is <span class="hljs-subst">${result[key]}</span>`</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span>(err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to read ActivityReport. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section643010714420" device-type="phone,tablet,wearable">workout.sendData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section643010714420" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>sendData(sampleReal: SampleReal[]): Promise&lt;void&gt;</p> <p>下发融合运动数据到联动设备，使用Promise异步方式。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet中可正常调用，在Wearable中返回401错误码。</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.1" width="19.45%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.2" width="25.929999999999996%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.45%"><p>sampleReal</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p><a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section133382582612">SampleReal</a>[]</p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>融合运动数据。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.28.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified;2. Incorrect parameter types.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">sampleReal</span>: healthService.<span class="hljs-property">SampleReal</span> = {</li><li>    <span class="hljs-attr">dataType</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">50004</span> },</li><li>    <span class="hljs-attr">time</span>: <span class="hljs-number">1695740400000</span>, <span class="hljs-comment">// 2023-09-26 23:00:00,</span></li><li>    <span class="hljs-attr">fields</span>: {</li><li>      <span class="hljs-attr">hr</span>: <span class="hljs-number">90</span></li><li>    }</li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">sendData</span>([sampleReal]);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeed in sending data.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to send data. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h3 id="section9921152217488" device-type="phone,tablet,wearable">workout.sendEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9921152217488" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>sendEvent(event: SampleEvent): Promise&lt;void&gt;</p> <p>下发控制事件到联动设备，使用Promise异步方式。</p> <p><strong>系统能力：</strong>SystemCapability.Health.HealthService</p> <p><strong>设备行为差异：</strong>该接口在Phone、Tablet中可正常调用，在Wearable中返回401错误码。</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.1" width="19.45%"><p><strong>参数名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.2" width="25.929999999999996%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.3" width="6.02%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.5.1.4" width="48.6%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.45%"><p>event</p> </td> <td class="cellrowborder" width="25.929999999999996%"><p><a href="/consumer/cn/doc/harmonyos-references/health-api-healthservice#section599483722019">SampleEvent</a></p> </td> <td class="cellrowborder" width="6.02%"><p>是</p> </td> <td class="cellrowborder" width="48.6%"><p>联动控制事件。</p> </td> </tr>  </tbody></table></div> </div> <p class="msonormal"><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="32.16%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="67.84%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="32.16%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="67.84%"><p>无结果返回的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice">运动健康服务ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.13.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.13.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section383228112410">201</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Permission verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-healthservice#section1598111146271">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error.Possible causes: 1. Mandatory parameters are left unspecified.</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>上述接口调用前，需先使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/health-api-healthstore#section1571935817328">init</a>方法进行初始化。</p> </div></div></div> <p><strong>示例：</strong></p> <div _ngcontent-krc-c106="" class="highlight-div"><div _ngcontent-krc-c106="" class="highlight-div-header"><div _ngcontent-krc-c106="" class="highlight-div-header-left"><div _ngcontent-krc-c106="" class="handle-button expand-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-krc-c106="" class="highlight-div-header-right"><div _ngcontent-krc-c106="" class="handle-button ai-button"></div><div _ngcontent-krc-c106="" class="handle-button line-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-krc-c106="" class="handle-button theme-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-krc-c106="" class="handle-button copy-button"><div _ngcontent-krc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-krc-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { healthService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.HealthServiceKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">sampleEvent</span>: healthService.<span class="hljs-property">SampleEvent</span> = {</li><li>    <span class="hljs-attr">eventId</span>: <span class="hljs-number">800400002</span>,</li><li>    <span class="hljs-attr">eventLevel</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">eventData</span>: <span class="hljs-string">'start'</span></li><li>  };</li><li>  <span class="hljs-keyword">await</span> healthService.<span class="hljs-property">workout</span>.<span class="hljs-title function_">sendEvent</span>(sampleEvent);</li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeed in sending event.'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to send event. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>