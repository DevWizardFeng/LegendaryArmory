<h1 _ngcontent-ehs-c119="" class="doc-title ng-star-inserted" title="image_effect_filter.h"> image_effect_filter.h </h1>

<div _ngcontent-ehs-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div> <div class="tiledSection" style="contain-intrinsic-size: auto 446px;"><h2 id="概述" device-type="phone,2in1,tablet,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>声明滤镜相关接口。</p> <p> 开发者可以通过滤镜的接口快速实现基本的效果处理，也可以将滤镜添加到效果器中，组合成滤镜链串联执行。系统提供了如“亮度”、“裁剪”等基本的效果处理滤镜。</p> <p><strong>引用文件：</strong> &lt;multimedia/image_effect/image_effect_filter.h&gt;</p> <p><strong>库：</strong> libimage_effect.so</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect">ImageEffect</a></p> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 146px;"><h2 id="汇总" device-type="phone,2in1,tablet,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 573px;"><h3 id="结构体" device-type="phone,2in1,tablet,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-datavalue">ImageEffect_DataValue</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_DataValue</td> <td class="cellrowborder" width="33.33333333333333%">数据值联合体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-any">ImageEffect_Any</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_Any</td> <td class="cellrowborder" width="33.33333333333333%">参数结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-filternames">ImageEffect_FilterNames</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_FilterNames</td> <td class="cellrowborder" width="33.33333333333333%">滤镜名信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-filterdelegate">ImageEffect_FilterDelegate</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_FilterDelegate</td> <td class="cellrowborder" width="33.33333333333333%">自定义滤镜回调函数结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-region">ImageEffect_Region</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_Region</td> <td class="cellrowborder" width="33.33333333333333%">图像区域结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-size">ImageEffect_Size</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_Size</td> <td class="cellrowborder" width="33.33333333333333%">图像尺寸结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectFilter</td> <td class="cellrowborder" width="33.33333333333333%">定义滤镜结构类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectFilterInfo</td> <td class="cellrowborder" width="33.33333333333333%">定义滤镜信息结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectBufferInfo</td> <td class="cellrowborder" width="33.33333333333333%">定义图像信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 319px;"><h3 id="枚举" device-type="phone,2in1,tablet,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_datatype">ImageEffect_DataType</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_DataType</td> <td class="cellrowborder" width="33.33333333333333%">数据类型枚举值。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_Format</td> <td class="cellrowborder" width="33.33333333333333%">像素格式枚举值。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_buffertype">ImageEffect_BufferType</a></td> <td class="cellrowborder" width="33.33333333333333%">ImageEffect_BufferType</td> <td class="cellrowborder" width="33.33333333333333%">内存类型枚举值。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 877px;"><h3 id="宏定义" device-type="phone,2in1,tablet,tv">宏定义<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="宏定义" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OH_EFFECT_BRIGHTNESS_FILTER "Brightness"</td> <td class="cellrowborder" width="50%"><p>亮度滤镜，对应的参数为OH_EFFECT_FILTER_INTENSITY_KEY，参数类型为<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_datatype">EFFECT_DATA_TYPE_FLOAT</a>。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> </td> </tr> <tr><td class="cellrowborder" width="50%">OH_EFFECT_CONTRAST_FILTER "Contrast"</td> <td class="cellrowborder" width="50%"><p>对比度滤镜，对应的参数为OH_EFFECT_FILTER_INTENSITY_KEY，参数类型为<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_datatype">EFFECT_DATA_TYPE_FLOAT</a>。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> </td> </tr> <tr><td class="cellrowborder" width="50%">OH_EFFECT_CROP_FILTER "Crop"</td> <td class="cellrowborder" width="50%"><p>裁剪滤镜，对应的参数为OH_EFFECT_FILTER_REGION_KEY，参数类型为<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_datatype">EFFECT_DATA_TYPE_PTR</a>，参数值为结构体 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-region">ImageEffect_Region</a>。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> </td> </tr> <tr><td class="cellrowborder" width="50%">OH_EFFECT_FILTER_INTENSITY_KEY "FilterIntensity"</td> <td class="cellrowborder" width="50%"><p>强度参数。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> </td> </tr> <tr><td class="cellrowborder" width="50%">OH_EFFECT_FILTER_REGION_KEY "FilterRegion"</td> <td class="cellrowborder" width="50%"><p>图像区域参数。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 4531px;"><h3 id="函数" device-type="phone,2in1,tablet,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_create">OH_EffectFilterInfo *OH_EffectFilterInfo_Create()</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建OH_EffectFilterInfo实例，调用<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_release">OH_EffectFilterInfo_Release</a>进行资源释放。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_setfiltername">ImageEffect_ErrorCode OH_EffectFilterInfo_SetFilterName(OH_EffectFilterInfo *info, const char *name)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置滤镜名。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_getfiltername">ImageEffect_ErrorCode OH_EffectFilterInfo_GetFilterName(OH_EffectFilterInfo *info, char **name)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取滤镜名。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_setsupportedbuffertypes">ImageEffect_ErrorCode OH_EffectFilterInfo_SetSupportedBufferTypes(OH_EffectFilterInfo *info, uint32_t size, ImageEffect_BufferType *bufferTypeArray)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置滤镜所支持的内存类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_getsupportedbuffertypes">ImageEffect_ErrorCode OH_EffectFilterInfo_GetSupportedBufferTypes(OH_EffectFilterInfo *info, uint32_t *size, ImageEffect_BufferType **bufferTypeArray)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取滤镜所支持的内存类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_setsupportedformats">ImageEffect_ErrorCode OH_EffectFilterInfo_SetSupportedFormats(OH_EffectFilterInfo *info, uint32_t size, ImageEffect_Format *formatArray)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置滤镜所支持的像素格式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_getsupportedformats">ImageEffect_ErrorCode OH_EffectFilterInfo_GetSupportedFormats(OH_EffectFilterInfo *info, uint32_t *size, ImageEffect_Format **formatArray)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取滤镜所支持的像素格式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_release">ImageEffect_ErrorCode OH_EffectFilterInfo_Release(OH_EffectFilterInfo *info)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁OH_EffectFilterInfo实例。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_create">OH_EffectBufferInfo *OH_EffectBufferInfo_Create()</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建OH_EffectBufferInfo实例，调用<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_release">OH_EffectBufferInfo_Release</a>进行资源释放。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_setaddr">ImageEffect_ErrorCode OH_EffectBufferInfo_SetAddr(OH_EffectBufferInfo *info, void *addr)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置图像内存地址。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_getaddr">ImageEffect_ErrorCode OH_EffectBufferInfo_GetAddr(OH_EffectBufferInfo *info, void **addr)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取图像内存地址。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_setwidth">ImageEffect_ErrorCode OH_EffectBufferInfo_SetWidth(OH_EffectBufferInfo *info, int32_t width)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置图像宽度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_getwidth">ImageEffect_ErrorCode OH_EffectBufferInfo_GetWidth(OH_EffectBufferInfo *info, int32_t *width)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取图像宽度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_setheight">ImageEffect_ErrorCode OH_EffectBufferInfo_SetHeight(OH_EffectBufferInfo *info, int32_t height)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置图像高度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_getheight">ImageEffect_ErrorCode OH_EffectBufferInfo_GetHeight(OH_EffectBufferInfo *info, int32_t *height)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取图像高度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_setrowsize">ImageEffect_ErrorCode OH_EffectBufferInfo_SetRowSize(OH_EffectBufferInfo *info, int32_t rowSize)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置图像每一行的字节数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_getrowsize">ImageEffect_ErrorCode OH_EffectBufferInfo_GetRowSize(OH_EffectBufferInfo *info, int32_t *rowSize)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取图像每一行的字节数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_seteffectformat">ImageEffect_ErrorCode OH_EffectBufferInfo_SetEffectFormat(OH_EffectBufferInfo *info, ImageEffect_Format format)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置图像的像素格式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_geteffectformat">ImageEffect_ErrorCode OH_EffectBufferInfo_GetEffectFormat(OH_EffectBufferInfo *info, ImageEffect_Format *format)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取图像的像素格式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_settextureid">ImageEffect_ErrorCode OH_EffectBufferInfo_SetTextureId(OH_EffectBufferInfo *info, int32_t textureId)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置OH_EffectBufferInfo的图像的textureId。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_gettextureid">ImageEffect_ErrorCode OH_EffectBufferInfo_GetTextureId(OH_EffectBufferInfo *info, int32_t *textureId)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">从OH_EffectBufferInfo中获取图像的textureId。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_release">ImageEffect_ErrorCode OH_EffectBufferInfo_Release(OH_EffectBufferInfo *info)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁OH_EffectBufferInfo实例。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_setvalue">typedef bool (*OH_EffectFilterDelegate_SetValue)(OH_EffectFilter *filter, const char *key, const ImageEffect_Any *value)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectFilterDelegate_SetValue</td> <td class="cellrowborder" width="33.33333333333333%">自定义滤镜设置参数的回调函数，用于开发者校验参数及参数值。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_pushdata">typedef void (*OH_EffectFilterDelegate_PushData)(OH_EffectFilter *filter, OH_EffectBufferInfo *info)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectFilterDelegate_PushData</td> <td class="cellrowborder" width="33.33333333333333%">自定义滤镜传递图像信息到下一级滤镜的函数指针。需要在<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_render">OH_EffectFilterDelegate_Render</a>的回调中主动调用该函数指针。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_render">typedef bool (*OH_EffectFilterDelegate_Render)(OH_EffectFilter *filter, OH_EffectBufferInfo *info, OH_EffectFilterDelegate_PushData pushData)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectFilterDelegate_Render</td> <td class="cellrowborder" width="33.33333333333333%">自定义滤镜渲染图像的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_save">typedef bool (*OH_EffectFilterDelegate_Save)(OH_EffectFilter *filter, char **info)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectFilterDelegate_Save</td> <td class="cellrowborder" width="33.33333333333333%">自定义滤镜序列化的回调函数，按照JSON格式进行滤镜序列化处理。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_restore">typedef OH_EffectFilter *(*OH_EffectFilterDelegate_Restore)(const char *info)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_EffectFilterDelegate_Restore</td> <td class="cellrowborder" width="33.33333333333333%">自定义滤镜反序列化的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_create">OH_EffectFilter *OH_EffectFilter_Create(const char *name)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建OH_EffectFilter实例，调用<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_release">OH_EffectFilter_Release</a>进行资源释放。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_setvalue">ImageEffect_ErrorCode OH_EffectFilter_SetValue(OH_EffectFilter *filter, const char *key, const ImageEffect_Any *value)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置滤镜参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_getvalue">ImageEffect_ErrorCode OH_EffectFilter_GetValue(OH_EffectFilter *filter, const char *key, ImageEffect_Any *value)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取滤镜参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_register">ImageEffect_ErrorCode OH_EffectFilter_Register(const OH_EffectFilterInfo *info, const ImageEffect_FilterDelegate *delegate)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">注册自定义滤镜。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_lookupfilters">ImageEffect_FilterNames *OH_EffectFilter_LookupFilters(const char *key)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">查询满足条件的滤镜。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_releasefilternames">void OH_EffectFilter_ReleaseFilterNames()</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">释放滤镜名内存资源。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_lookupfilterinfo">ImageEffect_ErrorCode OH_EffectFilter_LookupFilterInfo(const char *name, OH_EffectFilterInfo *info)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">查询滤镜信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_render">ImageEffect_ErrorCode OH_EffectFilter_Render(OH_EffectFilter *filter, OH_PixelmapNative *inputPixelmap, OH_PixelmapNative *outputPixelmap)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">执行图像渲染。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_renderwithtextureid">ImageEffect_ErrorCode OH_EffectFilter_RenderWithTextureId(OH_EffectFilter *filter, int32_t inputTextureId, int32_t outputTextureId, int32_t colorSpace)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">使用纹理标识渲染滤镜效果。该函数不支持相同的输入和输出图像。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_release">ImageEffect_ErrorCode OH_EffectFilter_Release(OH_EffectFilter *filter)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁OH_EffectFilter实例。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_settimestamp">ImageEffect_ErrorCode OH_EffectBufferInfo_SetTimestamp(OH_EffectBufferInfo *info, int64_t timestamp)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置滤镜时间戳。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_gettimestamp">ImageEffect_ErrorCode OH_EffectBufferInfo_GetTimestamp(OH_EffectBufferInfo *info, int64_t *timestamp)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取滤镜时间戳。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 918px;"><h3 id="imageeffect_datatype" device-type="phone,2in1,tablet,tv" class="firsth2">ImageEffect_DataType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="imageeffect_datatype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ImageEffect_DataType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>数据类型枚举值。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_UNKNOWN = 0</td> <td class="cellrowborder" width="50%">未定义类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_INT32 = 1</td> <td class="cellrowborder" width="50%">整形。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_FLOAT = 2</td> <td class="cellrowborder" width="50%">单精度浮点型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_DOUBLE = 3</td> <td class="cellrowborder" width="50%">双精度浮点型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_CHAR = 4</td> <td class="cellrowborder" width="50%">字节类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_LONG = 5</td> <td class="cellrowborder" width="50%">长整型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_BOOL = 6</td> <td class="cellrowborder" width="50%">布尔类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DATA_TYPE_PTR = 7</td> <td class="cellrowborder" width="50%">指针类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 879px;"><h3 id="imageeffect_format" device-type="phone,2in1,tablet,tv">ImageEffect_Format<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="imageeffect_format" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ImageEffect_Format</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>像素格式枚举值。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">EFFECT_PIXEL_FORMAT_UNKNOWN = 0</td> <td class="cellrowborder" width="50%">未定义类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_PIXEL_FORMAT_RGBA8888 = 1</td> <td class="cellrowborder" width="50%">RGBA8888类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_PIXEL_FORMAT_NV21 = 2</td> <td class="cellrowborder" width="50%">NV21类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_PIXEL_FORMAT_NV12 = 3</td> <td class="cellrowborder" width="50%">NV12类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_PIXEL_FORMAT_RGBA1010102 = 4</td> <td class="cellrowborder" width="50%">10bit RGBA类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_PIXEL_FORMAT_YCBCR_P010 = 5</td> <td class="cellrowborder" width="50%">10bit YCBCR420类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_PIXEL_FORMAT_YCRCB_P010 = 6</td> <td class="cellrowborder" width="50%">10bit YCRCB420类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 659px;"><h3 id="imageeffect_buffertype" device-type="phone,2in1,tablet,tv">ImageEffect_BufferType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="imageeffect_buffertype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ImageEffect_BufferType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>内存类型枚举值。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">EFFECT_BUFFER_TYPE_UNKNOWN = 0</td> <td class="cellrowborder" width="50%">未定义类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_BUFFER_TYPE_PIXEL = 1</td> <td class="cellrowborder" width="50%">像素图类型。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_BUFFER_TYPE_TEXTURE = 2</td> <td class="cellrowborder" width="50%">纹理类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 146px;"><h2 id="函数说明" device-type="phone,2in1,tablet,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div></div>  <div class="tiledSection" style="contain-intrinsic-size: auto 605px;"><h3 id="oh_effectfilterinfo_create" device-type="phone,2in1,tablet,tv" class="firsth2">OH_EffectFilterInfo_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_EffectFilterInfo *<span class="hljs-built_in">OH_EffectFilterInfo_Create</span>()</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建OH_EffectFilterInfo实例，调用<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterinfo_release">OH_EffectFilterInfo_Release</a>进行资源释放。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *</td> <td class="cellrowborder" width="50%">返回一个指向OH_EffectFilterInfo实例的指针，创建失败时返回空指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectfilterinfo_setfiltername" device-type="phone,2in1,tablet,tv">OH_EffectFilterInfo_SetFilterName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_setfiltername" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">ImageEffect_ErrorCode <span class="hljs-title">OH_EffectFilterInfo_SetFilterName</span><span class="hljs-params">(OH_EffectFilterInfo *info, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置滤镜名。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const char *name</td> <td class="cellrowborder" width="50%">滤镜名，例如：OH_EFFECT_BRIGHTNESS_FILTER。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectfilterinfo_getfiltername" device-type="phone,2in1,tablet,tv">OH_EffectFilterInfo_GetFilterName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_getfiltername" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-title function_">OH_EffectFilterInfo_GetFilterName</span><span class="hljs-params">(OH_EffectFilterInfo *info, <span class="hljs-type">char</span> **name)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取滤镜名。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">char **name</td> <td class="cellrowborder" width="50%">指向char数组的指针，返回滤镜名。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h3 id="oh_effectfilterinfo_setsupportedbuffertypes" device-type="phone,2in1,tablet,tv">OH_EffectFilterInfo_SetSupportedBufferTypes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_setsupportedbuffertypes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectFilterInfo_SetSupportedBufferTypes</span>(OH_EffectFilterInfo *info, uint32_t size, ImageEffect_BufferType *bufferTypeArray)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置滤镜所支持的内存类型。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t size</td> <td class="cellrowborder" width="50%">滤镜所支持内存类型<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_buffertype">ImageEffect_BufferType</a>个数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_buffertype">ImageEffect_BufferType</a> *bufferTypeArray</td> <td class="cellrowborder" width="50%">滤镜所支持内存类型<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_buffertype">ImageEffect_BufferType</a>数组。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h3 id="oh_effectfilterinfo_getsupportedbuffertypes" device-type="phone,2in1,tablet,tv">OH_EffectFilterInfo_GetSupportedBufferTypes()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_getsupportedbuffertypes" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectFilterInfo_GetSupportedBufferTypes</span>(OH_EffectFilterInfo *info, uint32_t *size, ImageEffect_BufferType **bufferTypeArray)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取滤镜所支持的内存类型。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t *size</td> <td class="cellrowborder" width="50%">滤镜所支持内存类型<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_buffertype">ImageEffect_BufferType</a>个数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_buffertype">ImageEffect_BufferType</a> **bufferTypeArray</td> <td class="cellrowborder" width="50%">滤镜所支持内存类型<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_buffertype">ImageEffect_BufferType</a>数组。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h3 id="oh_effectfilterinfo_setsupportedformats" device-type="phone,2in1,tablet,tv">OH_EffectFilterInfo_SetSupportedFormats()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_setsupportedformats" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectFilterInfo_SetSupportedFormats</span>(OH_EffectFilterInfo *info, uint32_t size, ImageEffect_Format *formatArray)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置滤镜所支持的像素格式。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t size</td> <td class="cellrowborder" width="50%">滤镜所支持像素格式<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a>个数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a> *formatArray</td> <td class="cellrowborder" width="50%">滤镜所支持像素格式<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a>数组。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h3 id="oh_effectfilterinfo_getsupportedformats" device-type="phone,2in1,tablet,tv">OH_EffectFilterInfo_GetSupportedFormats()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_getsupportedformats" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectFilterInfo_GetSupportedFormats</span>(OH_EffectFilterInfo *info, uint32_t *size, ImageEffect_Format **formatArray)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取滤镜所支持的像素格式。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t *size</td> <td class="cellrowborder" width="50%">滤镜所支持像素格式<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a>个数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a> **formatArray</td> <td class="cellrowborder" width="50%">滤镜所支持像素格式<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a>数组。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_effectfilterinfo_release" device-type="phone,2in1,tablet,tv">OH_EffectFilterInfo_Release()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterinfo_release" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectFilterInfo_Release</span>(OH_EffectFilterInfo *info)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁OH_EffectFilterInfo实例。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 621px;"><h3 id="oh_effectbufferinfo_create" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_EffectBufferInfo *<span class="hljs-built_in">OH_EffectBufferInfo_Create</span>()</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建OH_EffectBufferInfo实例，调用<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectbufferinfo_release">OH_EffectBufferInfo_Release</a>进行资源释放。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *</td> <td class="cellrowborder" width="50%">返回一个指向OH_EffectBufferInfo实例的指针，创建失败时返回空指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_setaddr" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_SetAddr()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_setaddr" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-title function_">OH_EffectBufferInfo_SetAddr</span><span class="hljs-params">(OH_EffectBufferInfo *info, <span class="hljs-keyword">void</span> *addr)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置图像内存地址。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">void *addr</td> <td class="cellrowborder" width="50%">图像虚拟内存地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_getaddr" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_GetAddr()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_getaddr" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-title function_">OH_EffectBufferInfo_GetAddr</span><span class="hljs-params">(OH_EffectBufferInfo *info, <span class="hljs-keyword">void</span> **addr)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取图像内存地址。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">void **addr</td> <td class="cellrowborder" width="50%">图像虚拟内存地址。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_setwidth" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_SetWidth()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_setwidth" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_SetWidth</span>(OH_EffectBufferInfo *info, int32_t width)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置图像宽度。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t width</td> <td class="cellrowborder" width="50%">图像宽度，单位：像素。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_getwidth" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_GetWidth()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_getwidth" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_GetWidth</span>(OH_EffectBufferInfo *info, int32_t *width)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取图像宽度。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t *width</td> <td class="cellrowborder" width="50%">图像宽度，单位：像素。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_setheight" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_SetHeight()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_setheight" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_SetHeight</span>(OH_EffectBufferInfo *info, int32_t height)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置图像高度。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t height</td> <td class="cellrowborder" width="50%">图像高度，单位：像素。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_getheight" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_GetHeight()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_getheight" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_GetHeight</span>(OH_EffectBufferInfo *info, int32_t *height)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取图像高度。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t *height</td> <td class="cellrowborder" width="50%">图像高度，单位：像素。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_setrowsize" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_SetRowSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_setrowsize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_SetRowSize</span>(OH_EffectBufferInfo *info, int32_t rowSize)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置图像每一行的字节数。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t rowSize</td> <td class="cellrowborder" width="50%">图像每一行的字节数，单位：字节。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_getrowsize" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_GetRowSize()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_getrowsize" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_GetRowSize</span>(OH_EffectBufferInfo *info, int32_t *rowSize)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取图像每一行的字节数。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t *rowSize</td> <td class="cellrowborder" width="50%">图像每一行的字节数，单位：字节。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_seteffectformat" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_SetEffectFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_seteffectformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_SetEffectFormat</span>(OH_EffectBufferInfo *info, ImageEffect_Format format)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置图像的像素格式。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.29.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a> format</td> <td class="cellrowborder" width="50%">图像像素格式。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_geteffectformat" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_GetEffectFormat()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_geteffectformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_GetEffectFormat</span>(OH_EffectBufferInfo *info, ImageEffect_Format *format)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取图像的像素格式。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#imageeffect_format">ImageEffect_Format</a> *format</td> <td class="cellrowborder" width="50%">图像像素格式。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_settextureid" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_SetTextureId()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_settextureid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_SetTextureId</span>(OH_EffectBufferInfo *info, int32_t textureId)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置OH_EffectBufferInfo的图像的textureId。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.31.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">OH_EffectBufferInfo结构体实例指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t textureId</td> <td class="cellrowborder" width="50%">图像纹理标识。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：参数缺失。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_gettextureid" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_GetTextureId()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_gettextureid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_GetTextureId</span>(OH_EffectBufferInfo *info, int32_t *textureId)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>从OH_EffectBufferInfo中获取图像的textureId。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">OH_EffectBufferInfo结构体实例指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t *textureId</td> <td class="cellrowborder" width="50%">图像纹理标识。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：参数缺失。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_effectbufferinfo_release" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_Release()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_release" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_Release</span>(OH_EffectBufferInfo *info)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁OH_EffectBufferInfo实例。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.33.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 878px;"><h3 id="oh_effectfilterdelegate_setvalue" device-type="phone,2in1,tablet,tv">OH_EffectFilterDelegate_SetValue()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterdelegate_setvalue" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">bool</span> (*OH_EffectFilterDelegate_SetValue)(OH_EffectFilter *filter, <span class="hljs-keyword">const</span> <span class="hljs-type">char</span> *key, <span class="hljs-keyword">const</span> ImageEffect_Any *value)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>自定义滤镜设置参数的回调函数，用于开发者校验参数及参数值。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.34.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const char *key</td> <td class="cellrowborder" width="50%">滤镜参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-any">const ImageEffect_Any</a> *value</td> <td class="cellrowborder" width="50%">滤镜参数值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">参数有效时返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 652px;"><h3 id="oh_effectfilterdelegate_pushdata" device-type="phone,2in1,tablet,tv">OH_EffectFilterDelegate_PushData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterdelegate_pushdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*OH_EffectFilterDelegate_PushData)(OH_EffectFilter *filter, OH_EffectBufferInfo *info)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>自定义滤镜传递图像信息到下一级滤镜的函数指针。需要在<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_render">OH_EffectFilterDelegate_Render</a>的回调中主动调用该函数指针。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.35.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息OH_EffectBufferInfo指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h3 id="oh_effectfilterdelegate_render" device-type="phone,2in1,tablet,tv">OH_EffectFilterDelegate_Render()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterdelegate_render" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">bool</span> (*OH_EffectFilterDelegate_Render)(OH_EffectFilter *filter, OH_EffectBufferInfo *info, OH_EffectFilterDelegate_PushData pushData)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>自定义滤镜渲染图像的回调函数。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.36.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息OH_EffectBufferInfo指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilterdelegate_pushdata">OH_EffectFilterDelegate_PushData</a> pushData</td> <td class="cellrowborder" width="50%">自定义滤镜传递图像信息到下一级滤镜的函数指针OH_EffectFilterDelegate_PushData。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">执行成功时返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 823px;"><h3 id="oh_effectfilterdelegate_save" device-type="phone,2in1,tablet,tv">OH_EffectFilterDelegate_Save()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterdelegate_save" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">bool</span> (*OH_EffectFilterDelegate_Save)(OH_EffectFilter *filter, <span class="hljs-type">char</span> **info)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>自定义滤镜序列化的回调函数，按照JSON格式进行滤镜序列化处理。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.37.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr> <tr><td class="cellrowborder" width="50%">char **info</td> <td class="cellrowborder" width="50%">指向char数组的指针，返回序列化JSON字符串。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">bool</td> <td class="cellrowborder" width="50%">执行成功时返回true，否则返回false。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_effectfilterdelegate_restore" device-type="phone,2in1,tablet,tv">OH_EffectFilterDelegate_Restore()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilterdelegate_restore" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> OH_EffectFilter *(*OH_EffectFilterDelegate_Restore)(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *info)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>自定义滤镜反序列化的回调函数。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.38.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *info</td> <td class="cellrowborder" width="50%">序列化JSON字符串。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.38.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *</td> <td class="cellrowborder" width="50%">执行成功时返回OH_EffectFilter实例，否则返回空指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_effectfilter_create" device-type="phone,2in1,tablet,tv">OH_EffectFilter_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_EffectFilter *<span class="hljs-title">OH_EffectFilter_Create</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *name)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建OH_EffectFilter实例，调用<a href="/consumer/cn/doc/harmonyos-references/capi-image-effect-filter-h#oh_effectfilter_release">OH_EffectFilter_Release</a>进行资源释放。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.39.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *name</td> <td class="cellrowborder" width="50%">滤镜名，例如：OH_EFFECT_BRIGHTNESS_FILTER。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *</td> <td class="cellrowborder" width="50%">返回一个指向OH_EffectFilter实例的指针，创建失败时返回空指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 950px;"><h3 id="oh_effectfilter_setvalue" device-type="phone,2in1,tablet,tv">OH_EffectFilter_SetValue()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_setvalue" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-vbnet" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode OH_EffectFilter_SetValue(OH_EffectFilter *filter, <span class="hljs-keyword">const</span> <span class="hljs-type">char</span> *<span class="hljs-keyword">key</span>, <span class="hljs-keyword">const</span> ImageEffect_Any *value)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置滤镜参数。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.40.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const char *key</td> <td class="cellrowborder" width="50%">滤镜参数，例如：OH_EFFECT_FILTER_INTENSITY_KEY。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-any">const ImageEffect_Any</a> *value</td> <td class="cellrowborder" width="50%">滤镜参数值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> <p> EFFECT_KEY_ERROR：参数无效。</p> <p> EFFECT_PARAM_ERROR：参数值无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 926px;"><h3 id="oh_effectfilter_getvalue" device-type="phone,2in1,tablet,tv">OH_EffectFilter_GetValue()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_getvalue" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-vbnet" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode OH_EffectFilter_GetValue(OH_EffectFilter *filter, <span class="hljs-keyword">const</span> <span class="hljs-type">char</span> *<span class="hljs-keyword">key</span>, ImageEffect_Any *value)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取滤镜参数。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.41.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const char *key</td> <td class="cellrowborder" width="50%">滤镜参数，例如：OH_EFFECT_FILTER_INTENSITY_KEY。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-any">ImageEffect_Any</a> *value</td> <td class="cellrowborder" width="50%">滤镜参数值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.41.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> <p> EFFECT_KEY_ERROR：参数无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectfilter_register" device-type="phone,2in1,tablet,tv">OH_EffectFilter_Register()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_register" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">ImageEffect_ErrorCode <span class="hljs-title">OH_EffectFilter_Register</span>(<span class="hljs-params"><span class="hljs-keyword">const</span> OH_EffectFilterInfo *info, <span class="hljs-keyword">const</span> ImageEffect_FilterDelegate *<span class="hljs-built_in">delegate</span></span>)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>注册自定义滤镜。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.42.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">const OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针OH_EffectFilterInfo。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-filterdelegate">const ImageEffect_FilterDelegate</a> *delegate</td> <td class="cellrowborder" width="50%">自定义滤镜回调函数ImageEffect_FilterDelegate。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.42.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 768px;"><h3 id="oh_effectfilter_lookupfilters" device-type="phone,2in1,tablet,tv">OH_EffectFilter_LookupFilters()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_lookupfilters" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-vbnet" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_FilterNames *OH_EffectFilter_LookupFilters(<span class="hljs-keyword">const</span> <span class="hljs-type">char</span> *<span class="hljs-keyword">key</span>)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询满足条件的滤镜。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *key</td> <td class="cellrowborder" width="50%">查询条件，可根据“Default”关键词查询所有的滤镜。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.43.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-imageeffect-filternames">ImageEffect_FilterNames</a> *</td> <td class="cellrowborder" width="50%">滤镜名列表。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 426px;"><h3 id="oh_effectfilter_releasefilternames" device-type="phone,2in1,tablet,tv">OH_EffectFilter_ReleaseFilterNames()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_releasefilternames" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OH_EffectFilter_ReleaseFilterNames</span>()</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放滤镜名内存资源。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 871px;"><h3 id="oh_effectfilter_lookupfilterinfo" device-type="phone,2in1,tablet,tv">OH_EffectFilter_LookupFilterInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_lookupfilterinfo" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">ImageEffect_ErrorCode <span class="hljs-title">OH_EffectFilter_LookupFilterInfo</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, OH_EffectFilterInfo *info)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>查询滤镜信息。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.45.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *name</td> <td class="cellrowborder" width="50%">滤镜名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilterinfo">OH_EffectFilterInfo</a> *info</td> <td class="cellrowborder" width="50%">滤镜信息指针OH_EffectFilterInfo。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.45.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针或其他无效值。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 902px;"><h3 id="oh_effectfilter_render" device-type="phone,2in1,tablet,tv">OH_EffectFilter_Render()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_render" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectFilter_Render</span>(OH_EffectFilter *filter, OH_PixelmapNative *inputPixelmap, OH_PixelmapNative *outputPixelmap)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>执行图像渲染。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.46.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a> *inputPixelmap</td> <td class="cellrowborder" width="50%">输入图像。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a> *outputPixelmap</td> <td class="cellrowborder" width="50%">输出图像。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.46.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 1077px;"><h3 id="oh_effectfilter_renderwithtextureid" device-type="phone,2in1,tablet,tv">OH_EffectFilter_RenderWithTextureId()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_renderwithtextureid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">ImageEffect_ErrorCode <span class="hljs-title">OH_EffectFilter_RenderWithTextureId</span><span class="hljs-params">(OH_EffectFilter *filter, <span class="hljs-type">int32_t</span> inputTextureId, <span class="hljs-type">int32_t</span> outputTextureId, <span class="hljs-type">int32_t</span> colorSpace)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>使用纹理标识渲染滤镜效果。该函数不支持相同的输入和输出图像。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.47.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">OH_EffectFilter结构体实例指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t inputTextureId</td> <td class="cellrowborder" width="50%">输入纹理标识。输入的纹理标识必须是有效的且绑定了GL_TEXTURE_2D类型的纹理。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t outputTextureId</td> <td class="cellrowborder" width="50%"><p>输出纹理标识，输入纹理标识必须是一个有效的纹理。</p> <p> 如果纹理标识未被绑定纹理图片，纹理标识会自动绑定GL_TEXTURE_2D类型；</p> <p> 如果纹理标识已经被绑定纹理且尺寸不合适，结果可能会被裁剪或部分填充到此纹理上。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">int32_t colorSpace</td> <td class="cellrowborder" width="50%">图片对应的色彩空间。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.47.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：参数缺失。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 792px;"><h3 id="oh_effectfilter_release" device-type="phone,2in1,tablet,tv">OH_EffectFilter_Release()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectfilter_release" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectFilter_Release</span>(OH_EffectFilter *filter)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁OH_EffectFilter实例。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.48.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectfilter">OH_EffectFilter</a> *filter</td> <td class="cellrowborder" width="50%">滤镜指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.48.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_settimestamp" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_SetTimestamp()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_settimestamp" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_SetTimestamp</span>(OH_EffectBufferInfo *info, int64_t timestamp)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置滤镜时间戳。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.49.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t timestamp</td> <td class="cellrowborder" width="50%">图像帧数据的时间戳。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.49.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection" style="contain-intrinsic-size: auto 847px;"><h3 id="oh_effectbufferinfo_gettimestamp" device-type="phone,2in1,tablet,tv">OH_EffectBufferInfo_GetTimestamp()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_effectbufferinfo_gettimestamp" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ehs-c106="" class="highlight-div"><div _ngcontent-ehs-c106="" class="highlight-div-header"><div _ngcontent-ehs-c106="" class="highlight-div-header-left"><div _ngcontent-ehs-c106="" class="handle-button expand-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ehs-c106="" class="highlight-div-header-right"><div _ngcontent-ehs-c106="" class="handle-button ai-button"></div><div _ngcontent-ehs-c106="" class="handle-button line-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ehs-c106="" class="handle-button theme-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ehs-c106="" class="handle-button copy-button"><div _ngcontent-ehs-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ehs-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageEffect_ErrorCode <span class="hljs-built_in">OH_EffectBufferInfo_GetTimestamp</span>(OH_EffectBufferInfo *info, int64_t *timestamp)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取滤镜时间戳。</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.ImageEffect.Core</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.50.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageeffect-oh-effectbufferinfo">OH_EffectBufferInfo</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t *timestamp</td> <td class="cellrowborder" width="50%">图像帧数据的时间戳。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.50.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-effect-errors-h#imageeffect_errorcode">ImageEffect_ErrorCode</a></td> <td class="cellrowborder" width="50%"><p>EFFECT_SUCCESS：方法调用成功。</p> <p> EFFECT_ERROR_PARAM_INVALID：入参为空指针。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>