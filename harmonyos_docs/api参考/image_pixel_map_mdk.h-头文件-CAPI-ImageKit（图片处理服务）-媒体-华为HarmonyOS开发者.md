<h1 _ngcontent-nid-c119="" class="doc-title ng-star-inserted" title="image_pixel_map_mdk.h"> image_pixel_map_mdk.h </h1>

<div _ngcontent-nid-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>声明可以锁定并访问pixelmap数据的方法，声明解锁的方法。</p> <p><strong>引用文件：</strong> &lt;multimedia/image_framework/image_pixel_map_mdk.h&gt;</p> <p><strong>库：</strong> libpixelmap_ndk.z.so</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Image.Core</p> <p><strong>起始版本：</strong> 10</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image">Image</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapinfos">OhosPixelMapInfos</a></td> <td class="cellrowborder" width="33.33333333333333%">OhosPixelMapInfos</td> <td class="cellrowborder" width="33.33333333333333%">用于定义PixelMap的相关信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap_</a></td> <td class="cellrowborder" width="33.33333333333333%">NativePixelMap</td> <td class="cellrowborder" width="33.33333333333333%">定义native层像素位图信息。表示native层PixelMap数据类型名称。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapcreateops">OhosPixelMapCreateOps</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">用于定义创建PixelMap设置选项的相关信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#pixelmap透明度类型">anonymous enum</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">PixelMap透明度类型的枚举。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#pixelmap编辑类型">anonymous enum</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">PixelMap编辑类型的枚举。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_antialiasinglevel">OH_PixelMap_AntiAliasingLevel</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_PixelMap_AntiAliasingLevel</td> <td class="cellrowborder" width="33.33333333333333%">Pixelmap缩放时采用的缩放算法。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_createpixelmap">int32_t OH_PixelMap_CreatePixelMap(napi_env env, OhosPixelMapCreateOps info, void* buf, size_t len, napi_value* res)</a></td> <td class="cellrowborder" width="50%"><p>创建PixelMap对象。当前只支持输入流为BGRA格式的流。</p> <p>该接口传入的buf不支持stride。</p> <p>该接口不支持DMA内存。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_createpixelmapwithstride">int32_t OH_PixelMap_CreatePixelMapWithStride(napi_env env, OhosPixelMapCreateOps info, void* buf, size_t len, int32_t rowStride, napi_value* res)</a></td> <td class="cellrowborder" width="50%"><p>创建PixelMap对象。</p> <p>当前只支持输入流为BGRA格式的流。pixelmap内存在RGBA格式下，默认为DMA内存（图片512*512以上）。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_createalphapixelmap">int32_t OH_PixelMap_CreateAlphaPixelMap(napi_env env, napi_value source, napi_value* alpha)</a></td> <td class="cellrowborder" width="50%">根据Alpha通道的信息，来生成一个仅包含Alpha通道信息的PixelMap对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_initnativepixelmap">NativePixelMap* OH_PixelMap_InitNativePixelMap(napi_env env, napi_value source)</a></td> <td class="cellrowborder" width="50%">初始化NativePixelMap对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_getbytesnumberperrow">int32_t OH_PixelMap_GetBytesNumberPerRow(const NativePixelMap* native, int32_t* num)</a></td> <td class="cellrowborder" width="50%">获取PixelMap对象每行字节数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_getiseditable">int32_t OH_PixelMap_GetIsEditable(const NativePixelMap* native, int32_t* editable)</a></td> <td class="cellrowborder" width="50%">获取PixelMap对象是否可编辑的状态。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_issupportalpha">int32_t OH_PixelMap_IsSupportAlpha(const NativePixelMap* native, int32_t* alpha)</a></td> <td class="cellrowborder" width="50%">获取PixelMap对象是否支持Alpha通道。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_setalphaable">int32_t OH_PixelMap_SetAlphaAble(const NativePixelMap* native, int32_t alpha)</a></td> <td class="cellrowborder" width="50%">设置PixelMap对象的Alpha通道。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_getdensity">int32_t OH_PixelMap_GetDensity(const NativePixelMap* native, int32_t* density)</a></td> <td class="cellrowborder" width="50%">获取PixelMap对象像素密度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_setdensity">int32_t OH_PixelMap_SetDensity(const NativePixelMap* native, int32_t density)</a></td> <td class="cellrowborder" width="50%">设置PixelMap对象像素密度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_setopacity">int32_t OH_PixelMap_SetOpacity(const NativePixelMap* native, float opacity)</a></td> <td class="cellrowborder" width="50%">设置PixelMap对象的透明度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_scale">int32_t OH_PixelMap_Scale(const NativePixelMap* native, float x, float y)</a></td> <td class="cellrowborder" width="50%"><p>设置PixelMap对象的缩放。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_scale">OH_PixelmapNative_Scale</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_scalewithantialiasing">int32_t OH_PixelMap_ScaleWithAntiAliasing(const NativePixelMap* native, float x, float y, OH_PixelMap_AntiAliasingLevel level)</a></td> <td class="cellrowborder" width="50%"><p>根据指定的缩放算法和输入的宽高对图片进行缩放。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_scalewithantialiasing">OH_PixelmapNative_ScaleWithAntiAliasing</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_translate">int32_t OH_PixelMap_Translate(const NativePixelMap* native, float x, float y)</a></td> <td class="cellrowborder" width="50%"><p>设置PixelMap对象的偏移。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_translate">OH_PixelmapNative_Translate</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_rotate">int32_t OH_PixelMap_Rotate(const NativePixelMap* native, float angle)</a></td> <td class="cellrowborder" width="50%"><p>设置PixelMap对象的旋转。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_rotate">OH_PixelmapNative_Rotate</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_flip">int32_t OH_PixelMap_Flip(const NativePixelMap* native, int32_t x, int32_t y)</a></td> <td class="cellrowborder" width="50%"><p>设置PixelMap对象的翻转。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_flip">OH_PixelmapNative_Flip</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_crop">int32_t OH_PixelMap_Crop(const NativePixelMap* native, int32_t x, int32_t y, int32_t width, int32_t height)</a></td> <td class="cellrowborder" width="50%"><p>设置PixelMap对象的裁剪。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_crop">OH_PixelmapNative_Crop</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_getimageinfo">int32_t OH_PixelMap_GetImageInfo(const NativePixelMap* native, OhosPixelMapInfos *info)</a></td> <td class="cellrowborder" width="50%"><p>获取PixelMap对象图像信息。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_getimageinfo">OH_PixelmapNative_GetImageInfo</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_accesspixels">int32_t OH_PixelMap_AccessPixels(const NativePixelMap* native, void** addr)</a></td> <td class="cellrowborder" width="50%">获取native PixelMap对象数据的内存地址，并锁定该内存。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_unaccesspixels">int32_t OH_PixelMap_UnAccessPixels(const NativePixelMap* native)</a></td> <td class="cellrowborder" width="50%">释放native PixelMap对象数据的内存锁，用于匹配方法<a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_accesspixels">OH_PixelMap_AccessPixels</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="pixelmap透明度类型" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">PixelMap透明度类型<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pixelmap透明度类型" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">anonymous</span> <span class="hljs-keyword">enum</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>PixelMap 透明度类型的枚举。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_ALPHA_TYPE_UNKNOWN = 0</td> <td class="cellrowborder" width="50%">未知的格式。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_ALPHA_TYPE_OPAQUE = 1</td> <td class="cellrowborder" width="50%">不透明的格式。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_ALPHA_TYPE_PREMUL = 2</td> <td class="cellrowborder" width="50%">预乘的格式。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_ALPHA_TYPE_UNPREMUL = 3</td> <td class="cellrowborder" width="50%">预除的格式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="pixelmap编辑类型" device-type="phone,2in1,tablet,wearable,tv">PixelMap编辑类型<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pixelmap编辑类型" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">anonymous</span> <span class="hljs-keyword">enum</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>PixelMap编辑类型的枚举。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_READ_ONLY = 0</td> <td class="cellrowborder" width="50%">只读的格式。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_EDITABLE = 1</td> <td class="cellrowborder" width="50%">可编辑的格式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_antialiasinglevel" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_AntiAliasingLevel<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_antialiasinglevel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_PixelMap_AntiAliasingLevel</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>Pixelmap缩放时采用的缩放算法。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OH_PixelMap_AntiAliasing_NONE = 0</td> <td class="cellrowborder" width="50%">最近邻插值算法。</td> </tr> <tr><td class="cellrowborder" width="50%">OH_PixelMap_AntiAliasing_LOW = 1</td> <td class="cellrowborder" width="50%">双线性插值算法。</td> </tr> <tr><td class="cellrowborder" width="50%">OH_PixelMap_AntiAliasing_MEDIUM = 2</td> <td class="cellrowborder" width="50%">双线性插值算法，同时开启Mipmap。缩小图片时建议使用。</td> </tr> <tr><td class="cellrowborder" width="50%">OH_PixelMap_AntiAliasing_HIGH = 3</td> <td class="cellrowborder" width="50%">三次插值算法。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_pixelmap_createpixelmap" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_PixelMap_CreatePixelMap()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_createpixelmap" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_CreatePixelMap</span><span class="hljs-params">(napi_env env, OhosPixelMapCreateOps info,<span class="hljs-type">void</span>* buf, <span class="hljs-type">size_t</span> len, napi_value* res)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建PixelMap对象。当前只支持输入流为BGRA格式的流。</p> <p>该接口传入的buf不支持stride。</p> <p>该接口不支持DMA内存。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">napi_env env</td> <td class="cellrowborder" width="50%">napi的环境指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapcreateops">OhosPixelMapCreateOps</a> info</td> <td class="cellrowborder" width="50%">PixelMap数据设置项。</td> </tr> <tr><td class="cellrowborder" width="50%">void* buf</td> <td class="cellrowborder" width="50%">图片的buffer数据。</td> </tr> <tr><td class="cellrowborder" width="50%">size_t len</td> <td class="cellrowborder" width="50%">图片大小信息。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value* res</td> <td class="cellrowborder" width="50%">应用层的PixelMap对象的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_DECODE_HEAD_ABNORMAL：图像头解码失败。</p> <p> IMAGE_RESULT_CREATE_DECODER_FAILED：创建解码器失败。</p> <p> IMAGE_RESULT_CREATE_ENCODER_FAILED：创建编码器失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_DECODE_ABNORMAL：图像解码失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_INIT_ABNORMAL：图像初始化失败。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_ENCODE_FAILED：图像添加像素位图失败。</p> <p> IMAGE_RESULT_HW_DECODE_UNSUPPORT：图像不支持硬件解码。</p> <p> IMAGE_RESULT_HW_DECODE_FAILED：硬件解码失败。</p> <p> IMAGE_RESULT_INDEX_INVALID：ipc失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_createpixelmapwithstride" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_CreatePixelMapWithStride()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_createpixelmapwithstride" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_CreatePixelMapWithStride</span><span class="hljs-params">(napi_env env, OhosPixelMapCreateOps info,<span class="hljs-type">void</span>* buf, <span class="hljs-type">size_t</span> len, <span class="hljs-type">int32_t</span> rowStride, napi_value* res)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建PixelMap对象。</p> <p>当前只支持输入流为BGRA格式的流。pixelmap内存在RGBA格式下，默认为DMA内存（图片512*512以上）。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">napi_env env</td> <td class="cellrowborder" width="50%">napi的环境指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapcreateops">OhosPixelMapCreateOps</a> info</td> <td class="cellrowborder" width="50%">PixelMap数据设置项。</td> </tr> <tr><td class="cellrowborder" width="50%">void* buf</td> <td class="cellrowborder" width="50%">图片的buffer数据。</td> </tr> <tr><td class="cellrowborder" width="50%">size_t len</td> <td class="cellrowborder" width="50%">图片buffer大小信息。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t rowStride</td> <td class="cellrowborder" width="50%">图片跨距信息。跨距，图像每行占用的真实内存大小，单位为字节。跨距 = width * 单位像素字节数 + padding，padding为每行为内存对齐做的填充区域。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value* res</td> <td class="cellrowborder" width="50%">应用层的PixelMap对象的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p> IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p>IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效或图像数据不支持。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_createalphapixelmap" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_CreateAlphaPixelMap()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_createalphapixelmap" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li>int32_t OH_PixelMap_CreateAlphaPixelMap(napi_env <span class="hljs-built_in">env</span>, napi_value <span class="hljs-built_in">source</span>, napi_value* alpha)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据Alpha通道的信息，来生成一个仅包含Alpha通道信息的PixelMap对象。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">napi_env env</td> <td class="cellrowborder" width="50%">napi的环境指针。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value source</td> <td class="cellrowborder" width="50%">应用层的PixelMap对象。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value* alpha</td> <td class="cellrowborder" width="50%">alpha通道的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_DECODE_HEAD_ABNORMAL：图像头解码失败。</p> <p> IMAGE_RESULT_CREATE_DECODER_FAILED：创建解码器失败。</p> <p> IMAGE_RESULT_CREATE_ENCODER_FAILED：创建编码器失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_DECODE_ABNORMAL：图像解码失败。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_INIT_ABNORMAL：图像初始化失败。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_ENCODE_FAILED：图像添加像素位图失败。</p> <p> IMAGE_RESULT_HW_DECODE_UNSUPPORT：图像不支持硬件解码。</p> <p> IMAGE_RESULT_HW_DECODE_FAILED：硬件解码失败。</p> <p> IMAGE_RESULT_INDEX_INVALID：ipc失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_initnativepixelmap" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_InitNativePixelMap()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_initnativepixelmap" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li>NativePixelMap* OH_PixelMap_InitNativePixelMap(napi_env <span class="hljs-built_in">env</span>, napi_value <span class="hljs-built_in">source</span>)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>初始化NativePixelMap对象。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">napi_env env</td> <td class="cellrowborder" width="50%">napi的环境指针。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value source</td> <td class="cellrowborder" width="50%">应用层的PixelMap对象。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>*</td> <td class="cellrowborder" width="50%">操作成功则返回NativePixelMap的指针；如果操作失败，则返回错误码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_getbytesnumberperrow" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_GetBytesNumberPerRow()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_getbytesnumberperrow" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_GetBytesNumberPerRow</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span>* num)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取PixelMap对象每行字节数。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* num</td> <td class="cellrowborder" width="50%">PixelMap对象的每行字节数指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_getiseditable" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_GetIsEditable()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_getiseditable" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_GetIsEditable</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span>* editable)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取PixelMap对象是否可编辑的状态。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* editable</td> <td class="cellrowborder" width="50%">PixelMap对象是否可编辑的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_issupportalpha" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_IsSupportAlpha()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_issupportalpha" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_IsSupportAlpha</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span>* alpha)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取PixelMap对象是否支持Alpha通道。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* alpha</td> <td class="cellrowborder" width="50%">是否支持Alpha的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_setalphaable" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_SetAlphaAble()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_setalphaable" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_SetAlphaAble</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span> alpha)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象的Alpha通道。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t alpha</td> <td class="cellrowborder" width="50%">Alpha通道。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_getdensity" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_GetDensity()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_getdensity" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_GetDensity</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span>* density)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取PixelMap对象像素密度。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* density</td> <td class="cellrowborder" width="50%">像素密度指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_setdensity" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_SetDensity()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_setdensity" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_SetDensity</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span> density)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象像素密度。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t density</td> <td class="cellrowborder" width="50%">像素密度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_setopacity" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_SetOpacity()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_setopacity" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_SetOpacity</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">float</span> opacity)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象的透明度。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">float opacity</td> <td class="cellrowborder" width="50%">透明度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_scale" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_Scale()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_scale" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_Scale</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">float</span> x, <span class="hljs-type">float</span> y)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象的缩放。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_scale">OH_PixelmapNative_Scale</a>。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">float x</td> <td class="cellrowborder" width="50%">宽度的缩放比例。</td> </tr> <tr><td class="cellrowborder" width="50%">float y</td> <td class="cellrowborder" width="50%">高度的缩放比例。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_INIT_ABNORMAL：图像初始化失败。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_scalewithantialiasing" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_ScaleWithAntiAliasing()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_scalewithantialiasing" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_ScaleWithAntiAliasing</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">float</span> x, <span class="hljs-type">float</span> y,OH_PixelMap_AntiAliasingLevel level)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据指定的缩放算法和输入的宽高对图片进行缩放。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_scalewithantialiasing">OH_PixelmapNative_ScaleWithAntiAliasing</a>。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">float x</td> <td class="cellrowborder" width="50%">宽度的缩放比例。</td> </tr> <tr><td class="cellrowborder" width="50%">float y</td> <td class="cellrowborder" width="50%">高度的缩放比例。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_antialiasinglevel">OH_PixelMap_AntiAliasingLevel</a> level</td> <td class="cellrowborder" width="50%">缩放算法。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p> IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p>IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_translate" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_Translate()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_translate" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_Translate</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">float</span> x, <span class="hljs-type">float</span> y)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象的偏移。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_translate">OH_PixelmapNative_Translate</a>。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">float x</td> <td class="cellrowborder" width="50%">水平偏移量。</td> </tr> <tr><td class="cellrowborder" width="50%">float y</td> <td class="cellrowborder" width="50%">垂直偏移量。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_rotate" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_Rotate()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_rotate" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_Rotate</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">float</span> angle)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象的旋转。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_rotate">OH_PixelmapNative_Rotate</a>。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">float angle</td> <td class="cellrowborder" width="50%">旋转角度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_flip" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_Flip()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_flip" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_Flip</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span> x, <span class="hljs-type">int32_t</span> y)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象的翻转。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_flip">OH_PixelmapNative_Flip</a>。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t x</td> <td class="cellrowborder" width="50%">根据水平方向x轴进行图片翻转。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t y</td> <td class="cellrowborder" width="50%">根据垂直方向y轴进行图片翻转。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_crop" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_Crop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_crop" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_Crop</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">int32_t</span> x, <span class="hljs-type">int32_t</span> y, <span class="hljs-type">int32_t</span> width, <span class="hljs-type">int32_t</span> height)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置PixelMap对象的裁剪。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_crop">OH_PixelmapNative_Crop</a>。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t x</td> <td class="cellrowborder" width="50%">目标图片左上角的x坐标。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t y</td> <td class="cellrowborder" width="50%">目标图片左上角的y坐标。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t width</td> <td class="cellrowborder" width="50%">裁剪区域的宽度。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t height</td> <td class="cellrowborder" width="50%">裁剪区域的高度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_getimageinfo" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_GetImageInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_getimageinfo" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_GetImageInfo</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, OhosPixelMapInfos *info)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取PixelMap对象图像信息。</p> <p>从API version 12开始，推荐使用新接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-pixelmap-native-h#oh_pixelmapnative_getimageinfo">OH_PixelmapNative_GetImageInfo</a>。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapinfos">OhosPixelMapInfos</a> *info</td> <td class="cellrowborder" width="50%">图像信息指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_accesspixels" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_AccessPixels()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_accesspixels" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_AccessPixels</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native, <span class="hljs-type">void</span>** addr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取native PixelMap对象数据的内存地址，并锁定该内存。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">void** addr</td> <td class="cellrowborder" width="50%">用于指向的内存地址的双指针对象。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_pixelmap_unaccesspixels" device-type="phone,2in1,tablet,wearable,tv">OH_PixelMap_UnAccessPixels()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_pixelmap_unaccesspixels" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nid-c106="" class="highlight-div"><div _ngcontent-nid-c106="" class="highlight-div-header"><div _ngcontent-nid-c106="" class="highlight-div-header-left"><div _ngcontent-nid-c106="" class="handle-button expand-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nid-c106="" class="highlight-div-header-right"><div _ngcontent-nid-c106="" class="handle-button ai-button"></div><div _ngcontent-nid-c106="" class="handle-button line-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nid-c106="" class="handle-button theme-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nid-c106="" class="handle-button copy-button"><div _ngcontent-nid-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nid-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_PixelMap_UnAccessPixels</span><span class="hljs-params">(<span class="hljs-type">const</span> NativePixelMap* native)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放native PixelMap对象数据的内存锁，用于匹配方法<a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-mdk-h#oh_pixelmap_accesspixels">OH_PixelMap_AccessPixels</a>。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativepixelmap-">NativePixelMap</a>* native</td> <td class="cellrowborder" width="50%">NativePixelMap的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-mdk-common-h#irndkerrcode">IRNdkErrCode</a>：</p> <p>IMAGE_RESULT_SUCCESS：操作成功。</p> <p>IMAGE_RESULT_BAD_PARAMETER：参数错误。</p> <p>IMAGE_RESULT_JNI_ENV_ABNORMAL：JNI环境异常。</p> <p> IMAGE_RESULT_INVALID_PARAMETER：参数无效。</p> <p> IMAGE_RESULT_GET_DATA_ABNORMAL：图像获取数据失败。</p> <p> IMAGE_RESULT_DECODE_FAILED：解码失败。</p> <p> IMAGE_RESULT_CHECK_FORMAT_ERROR：检查格式失败。</p> <p> IMAGE_RESULT_THIRDPART_SKIA_ERROR：skia能力失败。</p> <p> IMAGE_RESULT_DATA_ABNORMAL：图像输入数据失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_NOT_EXIST：共享内存失败。</p> <p> IMAGE_RESULT_ERR_SHAMEM_DATA_ABNORMAL：共享内存数据错误。</p> <p> IMAGE_RESULT_MALLOC_ABNORMAL：图像分配内存失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：图像数据不支持。</p> <p> IMAGE_RESULT_CROP：裁剪失败。</p> <p> IMAGE_RESULT_UNKNOWN_FORMAT：图像格式未知。</p> <p> IMAGE_RESULT_PLUGIN_REGISTER_FAILED：注册插件失败。</p> <p>IMAGE_RESULT_PLUGIN_CREATE_FAILED：创建插件失败。</p> <p> IMAGE_RESULT_DATA_UNSUPPORT：属性无效。</p> <p> IMAGE_RESULT_ALPHA_TYPE_ERROR：透明度类型错误。</p> <p> IMAGE_RESULT_ALLOCATER_TYPE_ERROR：内存分配类型错误。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>