<h1 _ngcontent-wxt-c119="" class="doc-title ng-star-inserted" title="image_pixel_map_napi.h"> image_pixel_map_napi.h </h1>

<div _ngcontent-wxt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>声明可以锁定并访问pixelmap数据的方法，声明解锁的方法。</p> <p><strong>库：</strong> libpixelmap_ndk.z.so</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Image.Core</p> <p><strong>引用文件：</strong> &lt;multimedia/image_framework/image_pixel_map_napi.h&gt;</p> <p><strong>起始版本：</strong> 8</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image">Image</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapinfo">OhosPixelMapInfo</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">用于定义PixelMap的相关信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#方法返回的错误码">方法返回的错误码</a></td> <td class="cellrowborder" width="50%">函数方法返回值的错误码的枚举。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#像素格式">像素格式</a></td> <td class="cellrowborder" width="50%">像素格式的枚举。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#pixelmap缩放类型">anonymous enum</a></td> <td class="cellrowborder" width="50%">PixelMap缩放类型的枚举。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#oh_getimageinfo">int32_t OH_GetImageInfo(napi_env env, napi_value value, OhosPixelMapInfo *info)</a></td> <td class="cellrowborder" width="50%">获取PixelMap的信息，并记录信息到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapinfo">OhosPixelMapInfo</a>结构中。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#oh_accesspixels">int32_t OH_AccessPixels(napi_env env, napi_value value, void** addrPtr)</a></td> <td class="cellrowborder" width="50%"><p>获取PixelMap对象数据的内存地址，并锁定该内存。</p> <p>函数执行成功后，*addrPtr就是获取的待访问的内存地址。访问操作完成后，必须要使用<a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#oh_unaccesspixels">OH_UnAccessPixels</a>来释放锁，否则的话资源无法被释放。待解锁后，内存地址就不可以再被访问和操作。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#oh_unaccesspixels">int32_t OH_UnAccessPixels(napi_env env, napi_value value)</a></td> <td class="cellrowborder" width="50%">释放PixelMap对象数据的内存锁，用于匹配方法<a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#oh_accesspixels">OH_AccessPixels</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="方法返回的错误码" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">方法返回的错误码<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="方法返回的错误码" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-wxt-c106="" class="highlight-div"><div _ngcontent-wxt-c106="" class="highlight-div-header"><div _ngcontent-wxt-c106="" class="highlight-div-header-left"><div _ngcontent-wxt-c106="" class="handle-button expand-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wxt-c106="" class="highlight-div-header-right"><div _ngcontent-wxt-c106="" class="handle-button ai-button"></div><div _ngcontent-wxt-c106="" class="handle-button line-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wxt-c106="" class="handle-button theme-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wxt-c106="" class="handle-button copy-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wxt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">anonymous</span> <span class="hljs-keyword">enum</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>函数方法返回值的错误码的枚举。</p> <p><strong>起始版本：</strong> 8</p> <p><strong>废弃版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OHOS_IMAGE_RESULT_SUCCESS = 0</td> <td class="cellrowborder" width="50%">成功的结果。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_IMAGE_RESULT_BAD_PARAMETER = -1</td> <td class="cellrowborder" width="50%">无效值。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="像素格式" device-type="phone,2in1,tablet,wearable,tv">像素格式<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="像素格式" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-wxt-c106="" class="highlight-div"><div _ngcontent-wxt-c106="" class="highlight-div-header"><div _ngcontent-wxt-c106="" class="highlight-div-header-left"><div _ngcontent-wxt-c106="" class="handle-button expand-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wxt-c106="" class="highlight-div-header-right"><div _ngcontent-wxt-c106="" class="handle-button ai-button"></div><div _ngcontent-wxt-c106="" class="handle-button line-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wxt-c106="" class="handle-button theme-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wxt-c106="" class="handle-button copy-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wxt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">anonymous</span> <span class="hljs-keyword">enum</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>像素格式的枚举。</p> <p><strong>起始版本：</strong> 8</p> <p><strong>废弃版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_FORMAT_NONE = 0</td> <td class="cellrowborder" width="50%">未知的格式。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_FORMAT_RGBA_8888 = 3</td> <td class="cellrowborder" width="50%">RGBA_8888格式。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_FORMAT_RGB_565 = 2</td> <td class="cellrowborder" width="50%">RGB_565格式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="pixelmap缩放类型" device-type="phone,2in1,tablet,wearable,tv">PixelMap缩放类型<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pixelmap缩放类型" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-wxt-c106="" class="highlight-div"><div _ngcontent-wxt-c106="" class="highlight-div-header"><div _ngcontent-wxt-c106="" class="highlight-div-header-left"><div _ngcontent-wxt-c106="" class="handle-button expand-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wxt-c106="" class="highlight-div-header-right"><div _ngcontent-wxt-c106="" class="handle-button ai-button"></div><div _ngcontent-wxt-c106="" class="handle-button line-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wxt-c106="" class="handle-button theme-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wxt-c106="" class="handle-button copy-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wxt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">anonymous</span> <span class="hljs-keyword">enum</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>PixelMap缩放类型的枚举。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_SCALE_MODE_FIT_TARGET_SIZE = 0</td> <td class="cellrowborder" width="50%">适应目标图片大小的格式。</td> </tr> <tr><td class="cellrowborder" width="50%">OHOS_PIXEL_MAP_SCALE_MODE_CENTER_CROP = 1</td> <td class="cellrowborder" width="50%">以中心进行缩放的格式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_getimageinfo" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_GetImageInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_getimageinfo" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-wxt-c106="" class="highlight-div"><div _ngcontent-wxt-c106="" class="highlight-div-header"><div _ngcontent-wxt-c106="" class="highlight-div-header-left"><div _ngcontent-wxt-c106="" class="handle-button expand-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wxt-c106="" class="highlight-div-header-right"><div _ngcontent-wxt-c106="" class="handle-button ai-button"></div><div _ngcontent-wxt-c106="" class="handle-button line-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wxt-c106="" class="handle-button theme-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wxt-c106="" class="handle-button copy-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wxt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_GetImageInfo</span>(napi_env env, napi_value value, OhosPixelMapInfo *info)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取PixelMap的信息，并记录信息到<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapinfo">OhosPixelMapInfo</a>结构中。</p> <p><strong>起始版本：</strong> 8</p> <p><strong>废弃版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">napi_env env</td> <td class="cellrowborder" width="50%">napi的环境指针。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value value</td> <td class="cellrowborder" width="50%">应用层的PixelMap对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-ohospixelmapinfo">OhosPixelMapInfo</a> *info</td> <td class="cellrowborder" width="50%">用于保存信息的指针对象。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#方法返回的错误码">错误码</a>：</p> <p>OHOS_IMAGE_RESULT_SUCCESS：操作成功。</p> <p>OHOS_IMAGE_RESULT_BAD_PARAMETER：操作失败。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_accesspixels" device-type="phone,2in1,tablet,wearable,tv">OH_AccessPixels()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_accesspixels" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-wxt-c106="" class="highlight-div"><div _ngcontent-wxt-c106="" class="highlight-div-header"><div _ngcontent-wxt-c106="" class="highlight-div-header-left"><div _ngcontent-wxt-c106="" class="handle-button expand-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wxt-c106="" class="highlight-div-header-right"><div _ngcontent-wxt-c106="" class="handle-button ai-button"></div><div _ngcontent-wxt-c106="" class="handle-button line-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wxt-c106="" class="handle-button theme-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wxt-c106="" class="handle-button copy-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wxt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_AccessPixels</span><span class="hljs-params">(napi_env env, napi_value value, <span class="hljs-type">void</span>** addrPtr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取PixelMap对象数据的内存地址，并锁定该内存。</p> <p>函数执行成功后，*addrPtr就是获取的待访问的内存地址。访问操作完成后，必须要使用<a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#oh_unaccesspixels">OH_UnAccessPixels</a>来释放锁，否则的话资源无法被释放。待解锁后，内存地址就不可以再被访问和操作。</p> <p><strong>起始版本：</strong> 8</p> <p><strong>废弃版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">napi_env env</td> <td class="cellrowborder" width="50%">napi的环境指针。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value value</td> <td class="cellrowborder" width="50%">应用层的PixelMap对象。</td> </tr> <tr><td class="cellrowborder" width="50%">void** addrPtr</td> <td class="cellrowborder" width="50%">用于指向的内存地址的双指针对象。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#方法返回的错误码">错误码</a>：</p> <p>OHOS_IMAGE_RESULT_SUCCESS：操作成功。</p> <p>OHOS_IMAGE_RESULT_BAD_PARAMETER：操作失败。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_unaccesspixels" device-type="phone,2in1,tablet,wearable,tv">OH_UnAccessPixels()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_unaccesspixels" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-wxt-c106="" class="highlight-div"><div _ngcontent-wxt-c106="" class="highlight-div-header"><div _ngcontent-wxt-c106="" class="highlight-div-header-left"><div _ngcontent-wxt-c106="" class="handle-button expand-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wxt-c106="" class="highlight-div-header-right"><div _ngcontent-wxt-c106="" class="handle-button ai-button"></div><div _ngcontent-wxt-c106="" class="handle-button line-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wxt-c106="" class="handle-button theme-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wxt-c106="" class="handle-button copy-button"><div _ngcontent-wxt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wxt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_UnAccessPixels</span>(napi_env env, napi_value value)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放PixelMap对象数据的内存锁，用于匹配方法<a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#oh_accesspixels">OH_AccessPixels</a>。</p> <p><strong>起始版本：</strong> 8</p> <p><strong>废弃版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">napi_env env</td> <td class="cellrowborder" width="50%">napi的环境指针。</td> </tr> <tr><td class="cellrowborder" width="50%">napi_value value</td> <td class="cellrowborder" width="50%">应用层的PixelMap对象。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/capi-image-pixel-map-napi-h#方法返回的错误码">错误码</a>：</p> <p>OHOS_IMAGE_RESULT_SUCCESS：操作成功。</p> <p>OHOS_IMAGE_RESULT_BAD_PARAMETER：操作失败。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>