<h1 _ngcontent-atb-c119="" class="doc-title ng-star-inserted" title="image_processing.h"> image_processing.h </h1>

<div _ngcontent-atb-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="概述" device-type="phone,2in1,tablet">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>声明图片处理函数。提供图片处理能力，包括色彩空间转换，元数据生成及图片缩放。</p>     <p><strong>引用文件：</strong> &lt;multimedia/video_processing_engine/image_processing.h&gt;</p>     <p><strong>库：</strong> libimage_processing.so</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.VideoProcessingEngine</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing">ImageProcessing</a></p>    </div>    <div class="tiledSection">     <h2 id="汇总" device-type="phone,2in1,tablet">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div>    <div class="tiledSection">     <h3 id="函数" device-type="phone,2in1,tablet" class="firsth2">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">ImageProcessing_ErrorCode OH_ImageProcessing_InitializeEnvironment(void)</a></td>         <td class="cellrowborder" width="50%">          <p>初始化图片处理模块的全局环境。</p>          <p>此函数为非必需函数。通常此函数在主进程启动时被调用，用于图片处理模块的全局环境初始化并可以减少<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_create">OH_ImageProcessing_Create</a>的耗时。调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_deinitializeenvironment">OH_ImageProcessing_DeinitializeEnvironment</a>进行全局环境反初始化。可用于检查设备GPU是否正常工作。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_deinitializeenvironment">ImageProcessing_ErrorCode OH_ImageProcessing_DeinitializeEnvironment(void)</a></td>         <td class="cellrowborder" width="50%">          <p>反初始化图片处理模块的全局环境。</p>          <p>如果<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">OH_ImageProcessing_InitializeEnvironment</a>被调用，则此函数为必需函数。通常此函数在主进程准备退出时被调用，用于反初始化图片处理模块的全局环境（由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">OH_ImageProcessing_InitializeEnvironment</a>接口初始化）。如果此时存在图片处理实例，则不应调用此函数。如果<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">OH_ImageProcessing_InitializeEnvironment</a>未被调用，则不应调用此函数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_iscolorspaceconversionsupported">bool OH_ImageProcessing_IsColorSpaceConversionSupported(const ImageProcessing_ColorSpaceInfo* sourceImageInfo, const ImageProcessing_ColorSpaceInfo* destinationImageInfo)</a></td>         <td class="cellrowborder" width="50%">查询是否支持当前图片色彩空间转换能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_iscompositionsupported">bool OH_ImageProcessing_IsCompositionSupported(const ImageProcessing_ColorSpaceInfo* sourceImageInfo, const ImageProcessing_ColorSpaceInfo* sourceGainmapInfo,const ImageProcessing_ColorSpaceInfo* destinationImageInfo)</a></td>         <td class="cellrowborder" width="50%">查询是否支持HDR双层图片转换为HDR单层图片。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_isdecompositionsupported">bool OH_ImageProcessing_IsDecompositionSupported(const ImageProcessing_ColorSpaceInfo* sourceImageInfo, const ImageProcessing_ColorSpaceInfo* destinationImageInfo, const ImageProcessing_ColorSpaceInfo* destinationGainmapInfo)</a></td>         <td class="cellrowborder" width="50%">查询是否支持HDR单层图片转换为HDR双层图片。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_ismetadatagenerationsupported">bool OH_ImageProcessing_IsMetadataGenerationSupported(const ImageProcessing_ColorSpaceInfo* sourceImageInfo)</a></td>         <td class="cellrowborder" width="50%">查询是否支持图片元数据生成能力。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_create">ImageProcessing_ErrorCode OH_ImageProcessing_Create(OH_ImageProcessing** imageProcessor, int32_t type)</a></td>         <td class="cellrowborder" width="50%">创建一个图片处理模块实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_destroy">ImageProcessing_ErrorCode OH_ImageProcessing_Destroy(OH_ImageProcessing* imageProcessor)</a></td>         <td class="cellrowborder" width="50%">销毁当前图片处理模块实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_setparameter">ImageProcessing_ErrorCode OH_ImageProcessing_SetParameter(OH_ImageProcessing* imageProcessor, const OH_AVFormat* parameter)</a></td>         <td class="cellrowborder" width="50%">设置图片处理模块参数。通过特定参数键添加参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_getparameter">ImageProcessing_ErrorCode OH_ImageProcessing_GetParameter(OH_ImageProcessing* imageProcessor, OH_AVFormat* parameter)</a></td>         <td class="cellrowborder" width="50%">获取图片处理模块参数。通过特定参数键获取参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_convertcolorspace">ImageProcessing_ErrorCode OH_ImageProcessing_ConvertColorSpace(OH_ImageProcessing* imageProcessor, OH_PixelmapNative* sourceImage, OH_PixelmapNative* destinationImage)</a></td>         <td class="cellrowborder" width="50%">实现单层图片间转换。此函数包括HDR图片到SDR图片的色彩空间转换，SDR图片到HDR图片的色彩空间转换，SDR图片到SDR图片的色彩空间转换和HDR图片的色彩空间转换。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_compose">ImageProcessing_ErrorCode OH_ImageProcessing_Compose(OH_ImageProcessing* imageProcessor, OH_PixelmapNative* sourceImage, OH_PixelmapNative* sourceGainmap, OH_PixelmapNative* destinationImage)</a></td>         <td class="cellrowborder" width="50%">实现HDR双层图片到HDR单层图片的转换。此函数通过输入图片与输入Gainmap生成输出图片。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_decompose">ImageProcessing_ErrorCode OH_ImageProcessing_Decompose(OH_ImageProcessing* imageProcessor, OH_PixelmapNative* sourceImage, OH_PixelmapNative* destinationImage, OH_PixelmapNative* destinationGainmap)</a></td>         <td class="cellrowborder" width="50%">实现HDR单层图片到HDR双层图片的转换。此函数通过输入图片生成输出图片和输出Gainmap。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_generatemetadata">ImageProcessing_ErrorCode OH_ImageProcessing_GenerateMetadata(OH_ImageProcessing* imageProcessor, OH_PixelmapNative* sourceImage)</a></td>         <td class="cellrowborder" width="50%">生成HDR图片元数据。此函数为HDR图片生成元数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_enhancedetail">ImageProcessing_ErrorCode OH_ImageProcessing_EnhanceDetail(OH_ImageProcessing* imageProcessor, OH_PixelmapNative* sourceImage, OH_PixelmapNative* destinationImage)</a></td>         <td class="cellrowborder" width="50%">进行图片清晰度/细节增强。此函数根据输入图片和输出图片预设的尺寸，对源图片进行必要的缩放操作生成目标图片，并提供了多种缩放方法以平衡性能和图像质量。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="函数说明" device-type="phone,2in1,tablet">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_initializeenvironment" device-type="phone,2in1,tablet" class="firsth2">OH_ImageProcessing_InitializeEnvironment()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_initializeenvironment" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-title function_">OH_ImageProcessing_InitializeEnvironment</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>初始化图片处理模块的全局环境。</p>     <p>此函数为非必需函数。通常此函数在主进程启动时被调用，用于图片处理模块的全局环境初始化并可以减少<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_create">OH_ImageProcessing_Create</a>的耗时。调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_deinitializeenvironment">OH_ImageProcessing_DeinitializeEnvironment</a>进行全局环境反初始化。可用于检查设备GPU是否正常工作。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">如果初始化成功，则返回IMAGE_PROCESSING_SUCCESS，否则返回IMAGE_PROCESSING_ERROR_INITIALIZE_FAILED。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_deinitializeenvironment" device-type="phone,2in1,tablet">OH_ImageProcessing_DeinitializeEnvironment()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_deinitializeenvironment" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-title function_">OH_ImageProcessing_DeinitializeEnvironment</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>反初始化图片处理模块的全局环境。</p>     <p>如果<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">OH_ImageProcessing_InitializeEnvironment</a>被调用，则此函数为必需函数。通常此函数在主进程准备退出时被调用，用于反初始化图片处理模块的全局环境（由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">OH_ImageProcessing_InitializeEnvironment</a>接口初始化）。如果此时存在图片处理实例，则不应调用此函数。如果<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">OH_ImageProcessing_InitializeEnvironment</a>未被调用，则不应调用此函数。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果反初始化成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>如果存在图片处理实例未被销毁或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-h#oh_imageprocessing_initializeenvironment">OH_ImageProcessing_InitializeEnvironment</a>接口未被调用，则返回IMAGE_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_iscolorspaceconversionsupported" device-type="phone,2in1,tablet">OH_ImageProcessing_IsColorSpaceConversionSupported()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_iscolorspaceconversionsupported" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ImageProcessing_IsColorSpaceConversionSupported</span><span class="hljs-params">(<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* sourceImageInfo,<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* destinationImageInfo)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询是否支持当前图片色彩空间转换能力。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* sourceImageInfo</td>         <td class="cellrowborder" width="50%">指向输入图片色彩空间信息的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* destinationImageInfo</td>         <td class="cellrowborder" width="50%">指向输出图片色彩空间信息的指针，</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bool</td>         <td class="cellrowborder" width="50%">          <p>如果支持当前色彩空间转换，返回true。</p>          <p>如果不支持当前色彩空间转换，返回false。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_iscompositionsupported" device-type="phone,2in1,tablet">OH_ImageProcessing_IsCompositionSupported()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_iscompositionsupported" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ImageProcessing_IsCompositionSupported</span><span class="hljs-params">(<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* sourceImageInfo,<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* sourceGainmapInfo,<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* destinationImageInfo)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询是否支持HDR双层图片转换为HDR单层图片。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* sourceImageInfo</td>         <td class="cellrowborder" width="50%">指向输入图片色彩空间信息的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* sourceGainmapInfo</td>         <td class="cellrowborder" width="50%">指向输入Gainmap色彩空间信息的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* destinationImageInfo</td>         <td class="cellrowborder" width="50%">指向输出图片色彩空间信息的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bool</td>         <td class="cellrowborder" width="50%">          <p>如果支持HDR双层图片转换HDR单层图片能力，返回true。</p>          <p>如果不支持此能力，返回false。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_isdecompositionsupported" device-type="phone,2in1,tablet">OH_ImageProcessing_IsDecompositionSupported()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_isdecompositionsupported" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ImageProcessing_IsDecompositionSupported</span><span class="hljs-params">(<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* sourceImageInfo,<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* destinationImageInfo,<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* destinationGainmapInfo)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询是否支持HDR单层图片转换为HDR双层图片。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* sourceImageInfo</td>         <td class="cellrowborder" width="50%">指向输入图片色彩空间信息的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* destinationImageInfo</td>         <td class="cellrowborder" width="50%">指向输出图片色彩空间信息的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* destinationGainmapInfo</td>         <td class="cellrowborder" width="50%">指向输出Gainmap色彩空间信息的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bool</td>         <td class="cellrowborder" width="50%">          <p>如果支持HDR单层图片转换为HDR双层图片能力，返回true。</p>          <p>如果不支持此能力，返回false。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_ismetadatagenerationsupported" device-type="phone,2in1,tablet">OH_ImageProcessing_IsMetadataGenerationSupported()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_ismetadatagenerationsupported" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_ImageProcessing_IsMetadataGenerationSupported</span><span class="hljs-params">(<span class="hljs-type">const</span> ImageProcessing_ColorSpaceInfo* sourceImageInfo)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询是否支持图片元数据生成能力。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-imageprocessing-imageprocessing-colorspaceinfo">ImageProcessing_ColorSpaceInfo</a>* sourceImageInfo</td>         <td class="cellrowborder" width="50%">指向输入图片色彩空间信息的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bool</td>         <td class="cellrowborder" width="50%">          <p>如果支持图片元数据生成能力，返回true。</p>          <p>如果不支持此能力，返回false。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_create" device-type="phone,2in1,tablet">OH_ImageProcessing_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_create" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_Create</span>(OH_ImageProcessing** imageProcessor, int32_t type)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>创建一个图片处理模块实例。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>** imageProcessor</td>         <td class="cellrowborder" width="50%">输出参数。指针*imageProcessor指向一个新的图片处理对象。指针*imageProcessor在传递前必须是一个空指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int32_t type</td>         <td class="cellrowborder" width="50%">使用IMAGE_PROCESSING_TYPE_XXX来指定图片处理类型。此实例的类型在创建后不能更改。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果创建成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当指定的图片处理类型不支持时，返回IMAGE_PROCESSING_ERROR_UNSUPPORTED_PROCESSING，例如如果不支持图片元数据生成能力，则返回不支持该处理类型。</p>          <p>当创建失败时，返回IMAGE_PROCESSING_ERROR_CREATE_FAILED。</p>          <p>当该实例为空或指向该实例的指针为空时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当指定的图片处理类型无效时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_destroy" device-type="phone,2in1,tablet">OH_ImageProcessing_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_destroy" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_Destroy</span>(OH_ImageProcessing* imageProcessor)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>销毁当前图片处理模块实例。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。当实例被销毁时，建议该指针设置为空。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果销毁成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_setparameter" device-type="phone,2in1,tablet">OH_ImageProcessing_SetParameter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_setparameter" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_SetParameter</span>(OH_ImageProcessing* imageProcessor,const OH_AVFormat* parameter)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置图片处理模块参数。通过特定参数键添加参数。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a>* parameter</td>         <td class="cellrowborder" width="50%">图片处理参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果设置参数成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当参数为空时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>当部分参数无效时，返回IMAGE_PROCESSING_ERROR_INVALID_VALUE，例如参数包含不支持的参数键或值。</p>          <p>当内存分配失败时，返回IMAGE_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_getparameter" device-type="phone,2in1,tablet">OH_ImageProcessing_GetParameter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_getparameter" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_GetParameter</span>(OH_ImageProcessing* imageProcessor,OH_AVFormat* parameter)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>获取图片处理模块参数。通过特定参数键获取参数。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a>* parameter</td>         <td class="cellrowborder" width="50%">该图片处理模块实例使用的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果获取参数成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当参数为空时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_convertcolorspace" device-type="phone,2in1,tablet">OH_ImageProcessing_ConvertColorSpace()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_convertcolorspace" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_ConvertColorSpace</span>(OH_ImageProcessing* imageProcessor,OH_PixelmapNative* sourceImage, OH_PixelmapNative* destinationImage)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>实现单层图片间转换。此函数包括HDR图片到SDR图片的色彩空间转换，SDR图片到HDR图片的色彩空间转换，SDR图片到SDR图片的色彩空间转换和HDR图片的色彩空间转换。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。该实例应该由IMAGE_PROCESSING_TYPE_COLOR_SPACE_CONVERSION类型创建。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* sourceImage</td>         <td class="cellrowborder" width="50%">指向输入图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* destinationImage</td>         <td class="cellrowborder" width="50%">指向输出图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果图片处理成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当图片为空时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>当图片的某些属性无效时，返回IMAGE_PROCESSING_ERROR_INVALID_VALUE，例如图片的色彩空间是不支持的。</p>          <p>当该图片处理不支持时，返回IMAGE_PROCESSING_ERROR_UNSUPPORTED_PROCESSING。</p>          <p>当该图片处理中返回错误时，返回IMAGE_PROCESSING_ERROR_PROCESS_FAILED。</p>          <p>当内存分配失败时，返回IMAGE_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_compose" device-type="phone,2in1,tablet">OH_ImageProcessing_Compose()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_compose" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_Compose</span>(OH_ImageProcessing* imageProcessor,OH_PixelmapNative* sourceImage, OH_PixelmapNative* sourceGainmap, OH_PixelmapNative* destinationImage)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>实现HDR双层图片到HDR单层图片的转换。此函数通过输入图片与输入Gainmap生成输出图片。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。该实例应该由IMAGE_PROCESSING_TYPE_COMPOSITION类型创建。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* sourceImage</td>         <td class="cellrowborder" width="50%">指向输入图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* sourceGainmap</td>         <td class="cellrowborder" width="50%">指向输入Gainmap的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* destinationImage</td>         <td class="cellrowborder" width="50%">指向输出图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果图片处理成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当图片为空时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>当图片的某些属性无效时，返回IMAGE_PROCESSING_ERROR_INVALID_VALUE，例如图片的色彩空间是不支持的。</p>          <p>当该图片处理不支持时，返回IMAGE_PROCESSING_ERROR_UNSUPPORTED_PROCESSING。</p>          <p>当该图片处理中返回错误时，返回IMAGE_PROCESSING_ERROR_PROCESS_FAILED。</p>          <p>当内存分配失败时，返回IMAGE_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_decompose" device-type="phone,2in1,tablet">OH_ImageProcessing_Decompose()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_decompose" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_Decompose</span>(OH_ImageProcessing* imageProcessor,OH_PixelmapNative* sourceImage, OH_PixelmapNative* destinationImage, OH_PixelmapNative* destinationGainmap)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>实现HDR单层图片到HDR双层图片的转换。此函数通过输入图片生成输出图片和输出Gainmap。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。该实例应该由IMAGE_PROCESSING_TYPE_DECOMPOSITION类型创建。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* sourceImage</td>         <td class="cellrowborder" width="50%">指向输入图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* destinationImage</td>         <td class="cellrowborder" width="50%">指向输出图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* destinationGainmap</td>         <td class="cellrowborder" width="50%">指向输出Gainmap的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果图片处理成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当图片为空时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>当图片的某些属性无效时，返回IMAGE_PROCESSING_ERROR_INVALID_VALUE，例如图片的色彩空间是不支持的。</p>          <p>当该图片处理不支持时，返回IMAGE_PROCESSING_ERROR_UNSUPPORTED_PROCESSING。</p>          <p>当该图片处理中返回错误时，返回IMAGE_PROCESSING_ERROR_PROCESS_FAILED。</p>          <p>当内存分配失败时，返回IMAGE_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_generatemetadata" device-type="phone,2in1,tablet">OH_ImageProcessing_GenerateMetadata()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_generatemetadata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_GenerateMetadata</span>(OH_ImageProcessing* imageProcessor,OH_PixelmapNative* sourceImage)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>生成HDR图片元数据。此函数为HDR图片生成元数据。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。该实例应该由IMAGE_PROCESSING_TYPE_METADATA_GENERATION类型创建。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* sourceImage</td>         <td class="cellrowborder" width="50%">指向输入图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果图片处理成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当图片为空时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>当图片的某些属性无效时，返回IMAGE_PROCESSING_ERROR_INVALID_VALUE，例如图片的色彩空间是不支持的。</p>          <p>当该图片处理不支持时，返回IMAGE_PROCESSING_ERROR_UNSUPPORTED_PROCESSING。</p>          <p>当该图片处理中返回错误时，返回IMAGE_PROCESSING_ERROR_PROCESS_FAILED。</p>          <p>当内存分配失败时，返回IMAGE_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_imageprocessing_enhancedetail" device-type="phone,2in1,tablet">OH_ImageProcessing_EnhanceDetail()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_imageprocessing_enhancedetail" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-atb-c106="" class="highlight-div"><div _ngcontent-atb-c106="" class="highlight-div-header"><div _ngcontent-atb-c106="" class="highlight-div-header-left"><div _ngcontent-atb-c106="" class="handle-button expand-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-atb-c106="" class="highlight-div-header-right"><div _ngcontent-atb-c106="" class="handle-button ai-button"></div><div _ngcontent-atb-c106="" class="handle-button line-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-atb-c106="" class="handle-button theme-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-atb-c106="" class="handle-button copy-button"><div _ngcontent-atb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-atb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>ImageProcessing_ErrorCode <span class="hljs-built_in">OH_ImageProcessing_EnhanceDetail</span>(OH_ImageProcessing* imageProcessor,OH_PixelmapNative* sourceImage, OH_PixelmapNative* destinationImage)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>进行图片清晰度/细节增强。此函数根据输入图片和输出图片预设的尺寸，对源图片进行必要的缩放操作生成目标图片，并提供了多种缩放方法以平衡性能和图像质量。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-imageprocessing-oh-imageprocessing">OH_ImageProcessing</a>* imageProcessor</td>         <td class="cellrowborder" width="50%">指向图片处理模块实例的指针。该实例应该由IMAGE_PROCESSING_TYPE_DETAIL_ENHANCER类型创建。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* sourceImage</td>         <td class="cellrowborder" width="50%">指向输入图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-nativemodule-oh-pixelmapnative">OH_PixelmapNative</a>* destinationImage</td>         <td class="cellrowborder" width="50%">指向输出图片的指针，指向的OH_PixelmapNative需为DMA内存，具体情况请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/image-allocator-type#内存类型介绍" target="_blank">PixelMap的内存类型介绍</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-image-processing-types-h#imageprocessing_errorcode">ImageProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果图片处理成功，则返回IMAGE_PROCESSING_SUCCESS。</p>          <p>当该实例为空或该实例不是图片处理模块实例时，返回IMAGE_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>当图片为空时，返回IMAGE_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>当图片的某些属性无效时，返回IMAGE_PROCESSING_ERROR_INVALID_VALUE，例如图片的色彩空间是不支持的。</p>          <p>当该图片处理不支持时，返回IMAGE_PROCESSING_ERROR_UNSUPPORTED_PROCESSING。</p>          <p>当该图片处理中返回错误时，返回IMAGE_PROCESSING_ERROR_PROCESS_FAILED。</p>          <p>当内存分配失败时，返回IMAGE_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>