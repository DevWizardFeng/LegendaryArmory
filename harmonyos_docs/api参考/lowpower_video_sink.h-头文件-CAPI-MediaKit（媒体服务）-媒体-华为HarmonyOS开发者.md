<h1 _ngcontent-ekb-c119="" class="doc-title ng-star-inserted" title="lowpower_video_sink.h"> lowpower_video_sink.h </h1>

<div _ngcontent-ekb-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><p>定义LowPowerVideoSink接口。使用LowPowerVideoSink提供的Native API进行视频通路的低功耗播放。</p> <p><strong>引用文件：</strong> &lt;multimedia/player_framework/lowpower_video_sink.h&gt;</p> <p><strong>库：</strong> liblowpower_avsink.so</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.LowPowerAVSink</p> <p><strong>起始版本：</strong> 20</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink">LowPowerVideoSink</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div></div>  <div class="tiledSection"><h3 id="函数" device-type="phone" class="firsth2">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_createbymime">OH_LowPowerVideoSink* OH_LowPowerVideoSink_CreateByMime(const char* mime)</a></td> <td class="cellrowborder" width="50%">创建低功耗LowPowerVideoSink。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_configure">OH_AVErrCode OH_LowPowerVideoSink_Configure(OH_LowPowerVideoSink* sink, const OH_AVFormat* format)</a></td> <td class="cellrowborder" width="50%">配置LowPowerVideoSink，需要在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>前完成。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_setparameter">OH_AVErrCode OH_LowPowerVideoSink_SetParameter(OH_LowPowerVideoSink* sink, const OH_AVFormat* format)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSink设置参数，支持<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>后动态设置。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_getparameter">OH_AVErrCode OH_LowPowerVideoSink_GetParameter(OH_LowPowerVideoSink* sink, OH_AVFormat* format)</a></td> <td class="cellrowborder" width="50%">获取LowPowerVideoSink的相关参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_setvideosurface">OH_AVErrCode OH_LowPowerVideoSink_SetVideoSurface(OH_LowPowerVideoSink* sink, const OHNativeWindow* surface)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSink设置渲染画面窗口。 需要在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>前完成。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_AVErrCode OH_LowPowerVideoSink_Prepare(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%">开始LowPowerVideoSink准备，需要在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_setsyncaudiosink">OH_LowPowerVideoSink_SetSyncAudioSink</a>之后调用。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startdecoder">OH_AVErrCode OH_LowPowerVideoSink_StartDecoder(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%"><p>开始LowPowerVideoSink解码，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>后或非播放中<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_settargetstartframe">OH_LowPowerVideoSink_SetTargetStartFrame</a>后调用。</p> <p> 启动成功后，LowPowerVideoSink将开始上报<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ondataneeded">OH_LowPowerVideoSink_OnDataNeeded</a>事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_renderfirstframe">OH_AVErrCode OH_LowPowerVideoSink_RenderFirstFrame(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%">渲染LowPowerVideoSink解码出的第一帧，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startdecoder">OH_LowPowerVideoSink_StartDecoder</a>之后调用。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startrenderer">OH_AVErrCode OH_LowPowerVideoSink_StartRenderer(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%">开始LowPowerVideoSink渲染，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startdecoder">OH_LowPowerVideoSink_StartDecoder</a>之后调用。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_pause">OH_AVErrCode OH_LowPowerVideoSink_Pause(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%"><p>暂停LowPowerVideoSink，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startrenderer">OH_LowPowerVideoSink_StartRenderer</a>或<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_resume">OH_LowPowerVideoSink_Resume</a>后调用。</p> <p> 暂停成功后，LowPowerVideoSink将暂停<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ondataneeded">OH_LowPowerVideoSink_OnDataNeeded</a>事件的上报。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_resume">OH_AVErrCode OH_LowPowerVideoSink_Resume(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%"><p>恢复LowPowerVideoSink，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_pause">OH_LowPowerVideoSink_Pause</a>后调用。</p> <p> 恢复成功后，LowPowerVideoSink将恢复<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ondataneeded">OH_LowPowerVideoSink_OnDataNeeded</a>事件的上报。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_flush">OH_AVErrCode OH_LowPowerVideoSink_Flush(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%"><p>清除LowPowerVideoSink中所有解码器和渲染缓存的输入输出数据。</p> <p> 此接口不建议在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startrenderer">OH_LowPowerVideoSink_StartRenderer</a>或<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_resume">OH_LowPowerVideoSink_Resume</a>之后调用。</p> <p> 需要注意的是，如果编解码器之前已输入数据，则需要重新输入编解码器数据。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_stop">OH_AVErrCode OH_LowPowerVideoSink_Stop(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%">停止LowPowerVideoSink。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_reset">OH_AVErrCode OH_LowPowerVideoSink_Reset(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%"><p>重置LowPowerVideoSink。</p> <p> 如果要重新使用该实例，需要调用<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_configure">OH_LowPowerVideoSink_Configure</a>完成配置。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_destroy">OH_AVErrCode OH_LowPowerVideoSink_Destroy(OH_LowPowerVideoSink* sink)</a></td> <td class="cellrowborder" width="50%">清理解码器内部资源，销毁LowPowerVideoSink实例。不能重复销毁。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_setsyncaudiosink">OH_AVErrCode OH_LowPowerVideoSink_SetSyncAudioSink(OH_LowPowerVideoSink* videoSink, OH_LowPowerAudioSink* audioSink)</a></td> <td class="cellrowborder" width="50%">LowPowerVideoSink设置用于音画同步的OH_LowPowerAudioSink。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_settargetstartframe">OH_AVErrCode OH_LowPowerVideoSink_SetTargetStartFrame(OH_LowPowerVideoSink* sink, const int64_t framePts, OH_LowPowerVideoSink_OnTargetArrived onTargetArrived, const int64_t timeoutMs, void* userData)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSink设置目标渲染帧。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_setplaybackspeed">OH_AVErrCode OH_LowPowerVideoSink_SetPlaybackSpeed(OH_LowPowerVideoSink* sink, const float speed)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSink设置播放倍速。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_returnsamples">OH_AVErrCode OH_LowPowerVideoSink_ReturnSamples(OH_LowPowerVideoSink* sink, OH_AVSamplesBuffer* samples)</a></td> <td class="cellrowborder" width="50%">给LowPowerVideoSink输入buffer。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_getlatestpts">OH_AVErrCode OH_LowPowerVideoSink_GetLatestPts(OH_LowPowerVideoSink *sink, int64_t *pts)</a></td> <td class="cellrowborder" width="50%">获取当前播放的视频显示时间戳（pts）。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_registercallback">OH_AVErrCode OH_LowPowerVideoSink_RegisterCallback(OH_LowPowerVideoSink* sink, OH_LowPowerVideoSinkCallback* callback)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSink注册回调。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_create">OH_LowPowerVideoSinkCallback* OH_LowPowerVideoSinkCallback_Create(void)</a></td> <td class="cellrowborder" width="50%">创建OH_LowPowerVideoSinkCallback。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_destroy">OH_AVErrCode OH_LowPowerVideoSinkCallback_Destroy(OH_LowPowerVideoSinkCallback* callback)</a></td> <td class="cellrowborder" width="50%">销毁OH_LowPowerVideoSinkCallback对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_setdataneededlistener">OH_AVErrCode OH_LowPowerVideoSinkCallback_SetDataNeededListener(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnDataNeeded onDataNeeded, void* userData)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSinkCallback设置需要数据监听。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_seterrorlistener">OH_AVErrCode OH_LowPowerVideoSinkCallback_SetErrorListener(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnError onError, void* userData)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSinkCallback回调设置错误监听。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_setrenderstartlistener">OH_AVErrCode OH_LowPowerVideoSinkCallback_SetRenderStartListener(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnRenderStarted onRenderStarted, void* userData)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSinkCallback回调设置开始渲染监听。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_setstreamchangedlistener">OH_AVErrCode OH_LowPowerVideoSinkCallback_SetStreamChangedListener(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnStreamChanged onStreamChanged, void* userData)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSinkCallback回调设置流切换监听。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_setfirstframedecodedlistener">OH_AVErrCode OH_LowPowerVideoSinkCallback_SetFirstFrameDecodedListener(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnFirstFrameDecoded onFirstFrameDecoded, void* userData)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSinkCallback回调设置首帧准备完成监听。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosinkcallback_seteoslistener">OH_AVErrCode OH_LowPowerVideoSinkCallback_SetEosListener(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnEos onEos, void* userData)</a></td> <td class="cellrowborder" width="50%">为LowPowerVideoSinkCallback回调设置播放结束监听。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div></div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_createbymime" device-type="phone" class="firsth2">OH_LowPowerVideoSink_CreateByMime()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_createbymime" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_LowPowerVideoSink* <span class="hljs-title">OH_LowPowerVideoSink_CreateByMime</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* mime)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建低功耗LowPowerVideoSink。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* mime</td> <td class="cellrowborder" width="50%">视频解码器的MIME类型，取值范围请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#变量">AVCODEC_MIME_TYPE</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>*</td> <td class="cellrowborder" width="50%">如果创建成功返回指向OH_LowPowerVideoSink实例的指针，否则返回空指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_configure" device-type="phone">OH_LowPowerVideoSink_Configure()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_configure" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Configure</span>(OH_LowPowerVideoSink* sink, const OH_AVFormat* format)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>配置LowPowerVideoSink，需要在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>前完成。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a>* format</td> <td class="cellrowborder" width="50%">指向OH_AVFormat的指针，用于配置LowPowerVideoSink的参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_UNSUPPORT：不支持的格式。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_setparameter" device-type="phone">OH_LowPowerVideoSink_SetParameter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_setparameter" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_SetParameter</span>(OH_LowPowerVideoSink* sink, const OH_AVFormat* format)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSink设置参数，支持<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>后动态设置。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a>* format</td> <td class="cellrowborder" width="50%">指向OH_AVFormat的指针，用于配置LowPowerVideoSink的参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_UNSUPPORT：不支持的格式。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_getparameter" device-type="phone">OH_LowPowerVideoSink_GetParameter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_getparameter" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_GetParameter</span>(OH_LowPowerVideoSink* sink, OH_AVFormat* format)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取LowPowerVideoSink的相关参数。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a>* format</td> <td class="cellrowborder" width="50%">指向OH_AVFormat的指针，为LowPowerVideoSink设置的参数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_setvideosurface" device-type="phone">OH_LowPowerVideoSink_SetVideoSurface()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_setvideosurface" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_SetVideoSurface</span>(OH_LowPowerVideoSink* sink, const OHNativeWindow* surface)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSink设置渲染画面窗口。 需要在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>前完成。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-nativewindow">OHNativeWindow</a>* surface</td> <td class="cellrowborder" width="50%">指向OHNativeWindow实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_prepare" device-type="phone">OH_LowPowerVideoSink_Prepare()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_prepare" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Prepare</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>开始LowPowerVideoSink准备，需要在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_setsyncaudiosink">OH_LowPowerVideoSink_SetSyncAudioSink</a>之后调用。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_UNSUPPORT：不支持的格式。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_startdecoder" device-type="phone">OH_LowPowerVideoSink_StartDecoder()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_startdecoder" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_StartDecoder</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>开始LowPowerVideoSink解码，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_prepare">OH_LowPowerVideoSink_Prepare</a>后或非播放中<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_settargetstartframe">OH_LowPowerVideoSink_SetTargetStartFrame</a>后调用。</p> <p> 启动成功后，LowPowerVideoSink将开始上报<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ondataneeded">OH_LowPowerVideoSink_OnDataNeeded</a>事件。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_UNSUPPORT：不支持的格式。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_renderfirstframe" device-type="phone">OH_LowPowerVideoSink_RenderFirstFrame()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_renderfirstframe" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_RenderFirstFrame</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>渲染LowPowerVideoSink解码出的第一帧，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startdecoder">OH_LowPowerVideoSink_StartDecoder</a>之后调用。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_startrenderer" device-type="phone">OH_LowPowerVideoSink_StartRenderer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_startrenderer" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_StartRenderer</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>开始LowPowerVideoSink渲染，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startdecoder">OH_LowPowerVideoSink_StartDecoder</a>之后调用。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_UNSUPPORT：不支持的格式。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_pause" device-type="phone">OH_LowPowerVideoSink_Pause()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_pause" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Pause</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>暂停LowPowerVideoSink，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startrenderer">OH_LowPowerVideoSink_StartRenderer</a>或<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_resume">OH_LowPowerVideoSink_Resume</a>后调用。</p> <p> 暂停成功后，LowPowerVideoSink将暂停<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ondataneeded">OH_LowPowerVideoSink_OnDataNeeded</a>事件的上报。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_resume" device-type="phone">OH_LowPowerVideoSink_Resume()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_resume" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Resume</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>恢复LowPowerVideoSink，在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_pause">OH_LowPowerVideoSink_Pause</a>后调用。</p> <p> 恢复成功后，LowPowerVideoSink将恢复<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ondataneeded">OH_LowPowerVideoSink_OnDataNeeded</a>事件的上报。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_flush" device-type="phone">OH_LowPowerVideoSink_Flush()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_flush" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Flush</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>清除LowPowerVideoSink中所有解码器和渲染缓存的输入输出数据。</p> <p> 此接口不建议在<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_startrenderer">OH_LowPowerVideoSink_StartRenderer</a>或<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_resume">OH_LowPowerVideoSink_Resume</a>之后调用。</p> <p> 需要注意的是，如果编解码器之前已输入数据，则需要重新输入编解码器数据。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_stop" device-type="phone">OH_LowPowerVideoSink_Stop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_stop" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Stop</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>停止LowPowerVideoSink。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_reset" device-type="phone">OH_LowPowerVideoSink_Reset()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_reset" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Reset</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>重置LowPowerVideoSink。</p> <p> 如果要重新使用该实例，需要调用<a href="/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-h#oh_lowpowervideosink_configure">OH_LowPowerVideoSink_Configure</a>完成配置。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_destroy" device-type="phone">OH_LowPowerVideoSink_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_Destroy</span>(OH_LowPowerVideoSink* sink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>清理解码器内部资源，销毁LowPowerVideoSink实例。不能重复销毁。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_setsyncaudiosink" device-type="phone">OH_LowPowerVideoSink_SetSyncAudioSink()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_setsyncaudiosink" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_SetSyncAudioSink</span>(OH_LowPowerVideoSink* videoSink, OH_LowPowerAudioSink* audioSink)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>LowPowerVideoSink设置用于音画同步的OH_LowPowerAudioSink。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* videoSink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpoweraudiosink-oh-lowpoweraudiosink">OH_LowPowerAudioSink</a>* audioSink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerAudioSink实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_settargetstartframe" device-type="phone">OH_LowPowerVideoSink_SetTargetStartFrame()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_settargetstartframe" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVErrCode <span class="hljs-title">OH_LowPowerVideoSink_SetTargetStartFrame</span><span class="hljs-params">(OH_LowPowerVideoSink* sink, <span class="hljs-type">const</span> <span class="hljs-type">int64_t</span> framePts, OH_LowPowerVideoSink_OnTargetArrived onTargetArrived, <span class="hljs-type">const</span> <span class="hljs-type">int64_t</span> timeoutMs, <span class="hljs-type">void</span>* userData)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSink设置目标渲染帧。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const int64_t framePts</td> <td class="cellrowborder" width="50%">渲染的目标视频帧的pts。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ontargetarrived">OH_LowPowerVideoSink_OnTargetArrived</a> onTargetArrived</td> <td class="cellrowborder" width="50%">OH_LowPowerVideoSink_OnTargetArrived方法，当目标帧渲染时触发该方法。</td> </tr> <tr><td class="cellrowborder" width="50%">const int64_t timeoutMs</td> <td class="cellrowborder" width="50%">如果等待第一帧的时间超过timeoutMs，则直接调用onTargetArrived。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">用户数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_setplaybackspeed" device-type="phone">OH_LowPowerVideoSink_SetPlaybackSpeed()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_setplaybackspeed" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVErrCode <span class="hljs-title">OH_LowPowerVideoSink_SetPlaybackSpeed</span><span class="hljs-params">(OH_LowPowerVideoSink* sink, <span class="hljs-type">const</span> <span class="hljs-type">float</span> speed)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSink设置播放倍速。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const float speed</td> <td class="cellrowborder" width="50%">播放速率的值。当前版本有效范围为[0.1，4.0]。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_returnsamples" device-type="phone">OH_LowPowerVideoSink_ReturnSamples()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_returnsamples" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_ReturnSamples</span>(OH_LowPowerVideoSink* sink, OH_AVSamplesBuffer* samples)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>给LowPowerVideoSink输入buffer。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-avsinkbase-oh-avsamplesbuffer">OH_AVSamplesBuffer</a>* samples</td> <td class="cellrowborder" width="50%">需要送LowPowerVideoSink消费的OH_AVSamplesBuffer，支持聚包输入。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_getlatestpts" device-type="phone">OH_LowPowerVideoSink_GetLatestPts()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_getlatestpts" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_GetLatestPts</span>(OH_LowPowerVideoSink *sink, int64_t *pts)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取当前播放的视频显示时间戳（pts）。</p> <p><strong>起始版本：</strong> 21</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a> *sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t *pts</td> <td class="cellrowborder" width="50%">当前播放的pts。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosink_registercallback" device-type="phone">OH_LowPowerVideoSink_RegisterCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosink_registercallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSink_RegisterCallback</span>(OH_LowPowerVideoSink* sink, OH_LowPowerVideoSinkCallback* callback)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSink注册回调。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpowervideosink-oh-lowpowervideosink">OH_LowPowerVideoSink</a>* sink</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSink实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_SERVICE_DIED：媒体服务端已销毁。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_create" device-type="phone">OH_LowPowerVideoSinkCallback_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_LowPowerVideoSinkCallback* <span class="hljs-built_in">OH_LowPowerVideoSinkCallback_Create</span>(void)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建OH_LowPowerVideoSinkCallback。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>*</td> <td class="cellrowborder" width="50%">返回指向OH_LowPowerVideoSinkCallback实例的指针。如果内存不足，则返回nullptr。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_destroy" device-type="phone">OH_LowPowerVideoSinkCallback_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_LowPowerVideoSinkCallback_Destroy</span>(OH_LowPowerVideoSinkCallback* callback)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁OH_LowPowerVideoSinkCallback对象。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_setdataneededlistener" device-type="phone">OH_LowPowerVideoSinkCallback_SetDataNeededListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_setdataneededlistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_LowPowerVideoSinkCallback_SetDataNeededListener</span><span class="hljs-params">(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnDataNeeded onDataNeeded, <span class="hljs-keyword">void</span>* userData)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSinkCallback设置需要数据监听。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_ondataneeded">OH_LowPowerVideoSink_OnDataNeeded</a> onDataNeeded</td> <td class="cellrowborder" width="50%">OH_LowPowerVideoSink_OnDataNeeded方法，在DataNeeded事件触发时调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">用户执行回调所依赖的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_seterrorlistener" device-type="phone">OH_LowPowerVideoSinkCallback_SetErrorListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_seterrorlistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_LowPowerVideoSinkCallback_SetErrorListener</span><span class="hljs-params">(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnError onError, <span class="hljs-keyword">void</span>* userData)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSinkCallback回调设置错误监听。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_onerror">OH_LowPowerVideoSink_OnError</a> onError</td> <td class="cellrowborder" width="50%">OH_LowPowerVideoSink_OnError方法，在Error事件触发时调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">用户执行回调所依赖的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_setrenderstartlistener" device-type="phone">OH_LowPowerVideoSinkCallback_SetRenderStartListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_setrenderstartlistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_LowPowerVideoSinkCallback_SetRenderStartListener</span><span class="hljs-params">(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnRenderStarted onRenderStarted, <span class="hljs-keyword">void</span>* userData)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSinkCallback回调设置开始渲染监听。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_onrenderstarted">OH_LowPowerVideoSink_OnRenderStarted</a> onRenderStarted</td> <td class="cellrowborder" width="50%">OH_LowPowerVideoSink_OnRenderStarted方法，在RenderStarted事件触发时调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">用户执行回调所依赖的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_setstreamchangedlistener" device-type="phone">OH_LowPowerVideoSinkCallback_SetStreamChangedListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_setstreamchangedlistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_LowPowerVideoSinkCallback_SetStreamChangedListener</span><span class="hljs-params">(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnStreamChanged onStreamChanged, <span class="hljs-keyword">void</span>* userData)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSinkCallback回调设置流切换监听。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_onstreamchanged">OH_LowPowerVideoSink_OnStreamChanged</a> onStreamChanged</td> <td class="cellrowborder" width="50%">OH_LowPowerVideoSink_OnStreamChanged方法，在StreamChanged事件触发时调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">用户执行回调所依赖的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.31.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_setfirstframedecodedlistener" device-type="phone">OH_LowPowerVideoSinkCallback_SetFirstFrameDecodedListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_setfirstframedecodedlistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_LowPowerVideoSinkCallback_SetFirstFrameDecodedListener</span><span class="hljs-params">(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnFirstFrameDecoded onFirstFrameDecoded, <span class="hljs-keyword">void</span>* userData)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSinkCallback回调设置首帧准备完成监听。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_onfirstframedecoded">OH_LowPowerVideoSink_OnFirstFrameDecoded</a> onFirstFrameDecoded</td> <td class="cellrowborder" width="50%">OH_LowPowerVideoSink_OnFirstFrameReady方法，在FirstFrameReady事件触发时调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">用户执行回调所依赖的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_lowpowervideosinkcallback_seteoslistener" device-type="phone">OH_LowPowerVideoSinkCallback_SetEosListener()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_lowpowervideosinkcallback_seteoslistener" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span></div><div _ngcontent-ekb-c106="" class="highlight-div"><div _ngcontent-ekb-c106="" class="highlight-div-header"><div _ngcontent-ekb-c106="" class="highlight-div-header-left"><div _ngcontent-ekb-c106="" class="handle-button expand-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ekb-c106="" class="highlight-div-header-right"><div _ngcontent-ekb-c106="" class="handle-button ai-button"></div><div _ngcontent-ekb-c106="" class="handle-button line-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ekb-c106="" class="handle-button theme-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ekb-c106="" class="handle-button copy-button"><div _ngcontent-ekb-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ekb-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_LowPowerVideoSinkCallback_SetEosListener</span><span class="hljs-params">(OH_LowPowerVideoSinkCallback* callback, OH_LowPowerVideoSink_OnEos onEos, <span class="hljs-keyword">void</span>* userData)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>为LowPowerVideoSinkCallback回调设置播放结束监听。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-lowpowervideosink-oh-lowpowervideosinkcallback">OH_LowPowerVideoSinkCallback</a>* callback</td> <td class="cellrowborder" width="50%">指向OH_LowPowerVideoSinkCallback实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-lowpower-video-sink-base-h#oh_lowpowervideosink_oneos">OH_LowPowerVideoSink_OnEos</a> onEos</td> <td class="cellrowborder" width="50%">OH_LowPowerVideoSink_OnEos方法，在Eos事件触发时调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">用户执行回调所依赖的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td> <td class="cellrowborder" width="50%"><p>AV_ERR_OK：执行成功。</p> <p> AV_ERR_INVALID_VAL：参数为nullptr或参数非法。</p> <p> AV_ERR_OPERATE_NOT_PERMIT：操作不支持。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>