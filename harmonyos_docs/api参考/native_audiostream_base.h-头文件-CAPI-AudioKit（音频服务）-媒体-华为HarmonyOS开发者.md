<h1 _ngcontent-eky-c119="" class="doc-title ng-star-inserted" title="native_audiostream_base.h"> native_audiostream_base.h </h1>

<div _ngcontent-eky-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>声明OHAudio基础的数据结构。</p> <p><strong>引用文件：</strong> &lt;ohaudio/native_audiostream_base.h&gt;</p> <p><strong>库：</strong> libohaudio.so</p> <p><strong>系统能力：</strong> SystemCapability.Multimedia.Audio.Core</p> <p><strong>起始版本：</strong> 10</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio">OHAudio</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiostreaminfo">OH_AudioStreamInfo</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStreamInfo</td> <td class="cellrowborder" width="33.33333333333333%">定义音频流信息，用于描述基本音频格式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiorenderer-callbacks-struct">OH_AudioRenderer_Callbacks_Struct</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioRenderer_Callbacks</td> <td class="cellrowborder" width="33.33333333333333%">声明输出音频流的回调函数指针。(API20废弃)</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiocapturer-callbacks-struct">OH_AudioCapturer_Callbacks_Struct</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioCapturer_Callbacks</td> <td class="cellrowborder" width="33.33333333333333%"><p>声明输入音频流的回调函数指针。</p> <p>为了避免不可预期的行为，在设置音频回调函数时，请确保该结构体的每一个成员变量都被自定义的回调方法或空指针初始化。(API20废弃)</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiostreambuilderstruct">OH_AudioStreamBuilderStruct</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStreamBuilder</td> <td class="cellrowborder" width="33.33333333333333%">声明音频流的构造器。构造器实例通常被用来设置音频流属性和创建音频流。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiorendererstruct">OH_AudioRendererStruct</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioRenderer</td> <td class="cellrowborder" width="33.33333333333333%">声明输出音频流。输出音频流的实例被用来播放音频数据。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiocapturerstruct">OH_AudioCapturerStruct</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioCapturer</td> <td class="cellrowborder" width="33.33333333333333%">声明输入音频流。输入音频流的实例被用来获取音频数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_result">OH_AudioStream_Result</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_Result</td> <td class="cellrowborder" width="33.33333333333333%">音频错误码。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_type">OH_AudioStream_Type</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_Type</td> <td class="cellrowborder" width="33.33333333333333%">音频流类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_sampleformat">OH_AudioStream_SampleFormat</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_SampleFormat</td> <td class="cellrowborder" width="33.33333333333333%">定义音频流采样格式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_encodingtype">OH_AudioStream_EncodingType</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_EncodingType</td> <td class="cellrowborder" width="33.33333333333333%">定义音频流编码类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_usage">OH_AudioStream_Usage</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_Usage</td> <td class="cellrowborder" width="33.33333333333333%"><p>定义音频流使用场景。</p> <p> 通常用来描述音频输出流的使用场景。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_latencymode">OH_AudioStream_LatencyMode</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_LatencyMode</td> <td class="cellrowborder" width="33.33333333333333%">定义音频时延模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_directplaybackmode">OH_AudioStream_DirectPlaybackMode</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_DirectPlaybackMode</td> <td class="cellrowborder" width="33.33333333333333%">定义音频流direct通路播放模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_volumemode">OH_AudioStream_VolumeMode</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_VolumeMode</td> <td class="cellrowborder" width="33.33333333333333%">定义音频流音量模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_state">OH_AudioStream_State</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_State</td> <td class="cellrowborder" width="33.33333333333333%">定义音频流的状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_sourcetype">OH_AudioStream_SourceType</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_SourceType</td> <td class="cellrowborder" width="33.33333333333333%"><p>定义音频流使用场景。</p> <p> 通常用来描述音频输入流的使用场景。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_event">OH_AudioStream_Event</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_Event</td> <td class="cellrowborder" width="33.33333333333333%">定义音频事件。(API20废弃)</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_forcetype">OH_AudioInterrupt_ForceType</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioInterrupt_ForceType</td> <td class="cellrowborder" width="33.33333333333333%"><p>定义音频中断类型。</p> <p> 当用户监听到音频中断时，将获取此信息。</p> <p> 此类型表示本次音频打断的操作是否已由系统强制执行，具体操作信息（如音频暂停、停止等）可通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_hint">OH_AudioInterrupt_Hint</a>获取。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_hint">OH_AudioInterrupt_Hint</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioInterrupt_Hint</td> <td class="cellrowborder" width="33.33333333333333%"><p>定义音频中断提示类型。</p> <p> 当用户监听到音频中断时，将获取此信息。</p> <p> 此类型表示根据焦点策略，当前需要对音频流的具体操作（如暂停、调整音量等）。</p> <p> 可以结合<a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_forcetype">OH_AudioInterrupt_ForceType</a>信息，判断该操作是否已由系统强制执行。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_mode">OH_AudioInterrupt_Mode</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioInterrupt_Mode</td> <td class="cellrowborder" width="33.33333333333333%">定义音频中断模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_audioeffectmode">OH_AudioStream_AudioEffectMode</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_AudioEffectMode</td> <td class="cellrowborder" width="33.33333333333333%">定义音效模式。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_faststatus">OH_AudioStream_FastStatus</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_FastStatus</td> <td class="cellrowborder" width="33.33333333333333%">定义低时延状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_devicechangereason">OH_AudioStream_DeviceChangeReason</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_DeviceChangeReason</td> <td class="cellrowborder" width="33.33333333333333%">流设备变更原因。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_privacytype">OH_AudioStream_PrivacyType</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioStream_PrivacyType</td> <td class="cellrowborder" width="33.33333333333333%">用于标识对应播放音频流是否支持被其他应用录制。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiodata_callback_result">OH_AudioData_Callback_Result</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioData_Callback_Result</td> <td class="cellrowborder" width="33.33333333333333%">定义音频数据回调结果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiorenderer_outputdevicechangecallback">typedef void (*OH_AudioRenderer_OutputDeviceChangeCallback)(OH_AudioRenderer* renderer, void* userData, OH_AudioStream_DeviceChangeReason reason)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioRenderer_OutputDeviceChangeCallback</td> <td class="cellrowborder" width="33.33333333333333%">输出音频流设备变更的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiorenderer_onmarkreachedcallback">typedef void (*OH_AudioRenderer_OnMarkReachedCallback)(OH_AudioRenderer* renderer, uint32_t samplePos, void* userData)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioRenderer_OnMarkReachedCallback</td> <td class="cellrowborder" width="33.33333333333333%">到达标记位置时回调。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiorenderer_writedatawithmetadatacallback">typedef int32_t (*OH_AudioRenderer_WriteDataWithMetadataCallback)(OH_AudioRenderer* renderer, void* userData, void* audioData, int32_t audioDataSize, void* metadata, int32_t metadataSize)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioRenderer_WriteDataWithMetadataCallback</td> <td class="cellrowborder" width="33.33333333333333%">该函数指针将指向用于同时写入音频数据和元数据的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiorenderer_onwritedatacallback">typedef OH_AudioData_Callback_Result (*OH_AudioRenderer_OnWriteDataCallback)(OH_AudioRenderer* renderer, void* userData, void* audioData, int32_t audioDataSize)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_AudioRenderer_OnWriteDataCallback</td> <td class="cellrowborder" width="33.33333333333333%"><p>该函数指针将指向用于写入音频数据的回调函数。</p> <p> 回调函数仅用来写入音频数据，请勿在回调函数中调用AudioRenderer相关接口。</p> <p> 该函数的返回结果表示填充到缓冲区的数据是否有效。如果结果无效，用户填写的数据将不被播放。</p> <p> 回调函数结束后，音频服务会把audioData指针数据放入队列里等待播放，因此请勿在回调外再次更改audioData指向的数据，且务必保证往audioData填满audioDataSize长度的待播放数据, 否则会导致音频服务播放杂音。</p> <p> 参数audioDataSize可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostreambuilder-h#oh_audiostreambuilder_setframesizeincallback">OH_AudioStreamBuilder_SetFrameSizeInCallback</a>设置。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_audiostream_result" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_AudioStream_Result<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_result" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_Result</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>音频错误码。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SUCCESS = 0</td> <td class="cellrowborder" width="50%">操作成功</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_ERROR_INVALID_PARAM = 1</td> <td class="cellrowborder" width="50%">入参错误。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_ERROR_ILLEGAL_STATE = 2</td> <td class="cellrowborder" width="50%">非法状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_ERROR_SYSTEM = 3</td> <td class="cellrowborder" width="50%">系统通用错误。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_ERROR_UNSUPPORTED_FORMAT = 4</td> <td class="cellrowborder" width="50%"><p>不支持的音频格式，如不支持的编码类型、采样格式等。</p> <p><strong>起始版本：</strong> 19</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_type" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_Type<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_type" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_Type</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>音频流类型。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_TYPE_RENDERER = 1</td> <td class="cellrowborder" width="50%">该类型代表音频流是输出流。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_TYPE_CAPTURER = 2</td> <td class="cellrowborder" width="50%">该类型代表音频流是输入流。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_sampleformat" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_SampleFormat<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_sampleformat" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_SampleFormat</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频流采样格式。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SAMPLE_U8 = 0</td> <td class="cellrowborder" width="50%">Unsigned 8位。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SAMPLE_S16LE = 1</td> <td class="cellrowborder" width="50%">Short 16位小端。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SAMPLE_S24LE = 2</td> <td class="cellrowborder" width="50%">Short 24位小端。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SAMPLE_S32LE = 3</td> <td class="cellrowborder" width="50%">Short 32位小端。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SAMPLE_F32LE = 4</td> <td class="cellrowborder" width="50%"><p>Float 32位小端。</p> <p><strong>起始版本：</strong> 17</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_encodingtype" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_EncodingType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_encodingtype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_EncodingType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频流编码类型。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_ENCODING_TYPE_RAW = 0</td> <td class="cellrowborder" width="50%">PCM编码。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_ENCODING_TYPE_AUDIOVIVID = 1</td> <td class="cellrowborder" width="50%"><p>Audio Vivid编码。</p> <p><strong>起始版本：</strong> 12</p> </td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_ENCODING_TYPE_E_AC3 = 2</td> <td class="cellrowborder" width="50%"><p>E_AC3编码。</p> <p><strong>起始版本：</strong> 19</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_usage" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_Usage<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_usage" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_Usage</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频流使用场景。</p> <p> 通常用来描述音频输出流的使用场景。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_UNKNOWN = 0</td> <td class="cellrowborder" width="50%">未知类型。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_MUSIC = 1</td> <td class="cellrowborder" width="50%">音乐。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_VOICE_COMMUNICATION = 2</td> <td class="cellrowborder" width="50%">VoIP语音通话。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_VOICE_ASSISTANT = 3</td> <td class="cellrowborder" width="50%">语音播报。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_ALARM = 4</td> <td class="cellrowborder" width="50%">闹钟。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_VOICE_MESSAGE = 5</td> <td class="cellrowborder" width="50%">语音消息。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_RINGTONE = 6</td> <td class="cellrowborder" width="50%">铃声。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_NOTIFICATION = 7</td> <td class="cellrowborder" width="50%">通知。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_ACCESSIBILITY = 8</td> <td class="cellrowborder" width="50%">无障碍。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_MOVIE = 10</td> <td class="cellrowborder" width="50%">电影或视频。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_GAME = 11</td> <td class="cellrowborder" width="50%">游戏。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_AUDIOBOOK = 12</td> <td class="cellrowborder" width="50%">有声读物（包括听书、相声、评书）、听新闻、播客等。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_NAVIGATION = 13</td> <td class="cellrowborder" width="50%">导航。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_USAGE_VIDEO_COMMUNICATION = 17</td> <td class="cellrowborder" width="50%"><p>VoIP视频通话。</p> <p><strong>起始版本：</strong> 12</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_latencymode" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_LatencyMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_latencymode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_LatencyMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频时延模式。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_LATENCY_MODE_NORMAL = 0</td> <td class="cellrowborder" width="50%">该模式代表一个普通时延的音频流。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_LATENCY_MODE_FAST = 1</td> <td class="cellrowborder" width="50%">该模式代表一个低时延的音频流。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_directplaybackmode" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_DirectPlaybackMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_directplaybackmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_DirectPlaybackMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频流direct通路播放模式。</p> <p><strong>起始版本：</strong> 19</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_DIRECT_PLAYBACK_NOT_SUPPORTED = 0</td> <td class="cellrowborder" width="50%">该模式代表不支持direct通路播放。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_DIRECT_PLAYBACK_BITSTREAM_SUPPORTED = 1</td> <td class="cellrowborder" width="50%">该模式代表支持不解码的direct通路播放。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_DIRECT_PLAYBACK_PCM_SUPPORTED = 2</td> <td class="cellrowborder" width="50%">该模式代表支持pcm编码的direct通路播放。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_volumemode" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_VolumeMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_volumemode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_VolumeMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频流音量模式。</p> <p><strong>起始版本：</strong> 19</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_VOLUMEMODE_SYSTEM_GLOBAL = 0</td> <td class="cellrowborder" width="50%">系统级音量（默认模式）。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_VOLUMEMODE_APP_INDIVIDUAL = 1</td> <td class="cellrowborder" width="50%"><p>应用级音量。</p> <p> 设置为该模式后可以通过提供的接口设置、查询应用音量。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_state" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_State<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_state" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_State</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频流的状态。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_STATE_INVALID = -1</td> <td class="cellrowborder" width="50%">不合法的状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_STATE_NEW = 0</td> <td class="cellrowborder" width="50%">新创建时的状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_STATE_PREPARED = 1</td> <td class="cellrowborder" width="50%">准备状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_STATE_RUNNING = 2</td> <td class="cellrowborder" width="50%">工作状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_STATE_STOPPED = 3</td> <td class="cellrowborder" width="50%">停止状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_STATE_RELEASED = 4</td> <td class="cellrowborder" width="50%">释放状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_STATE_PAUSED = 5</td> <td class="cellrowborder" width="50%">暂停状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_sourcetype" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_SourceType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_sourcetype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_SourceType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频流使用场景。</p> <p> 通常用来描述音频输入流的使用场景。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_INVALID = -1</td> <td class="cellrowborder" width="50%">不合法状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_MIC = 0</td> <td class="cellrowborder" width="50%">录音。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_VOICE_RECOGNITION = 1</td> <td class="cellrowborder" width="50%">语音识别。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_PLAYBACK_CAPTURE = 2</td> <td class="cellrowborder" width="50%">播放录音。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_VOICE_COMMUNICATION = 7</td> <td class="cellrowborder" width="50%">通话。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_VOICE_MESSAGE = 10</td> <td class="cellrowborder" width="50%"><p>语音消息。</p> <p><strong>起始版本：</strong> 12</p> </td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_CAMCORDER = 13</td> <td class="cellrowborder" width="50%"><p>录像。</p> <p><strong>起始版本：</strong> 13</p> </td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_UNPROCESSED = 14</td> <td class="cellrowborder" width="50%"><p>麦克风纯净录音（系统不做任何算法处理）。</p> <p><strong>起始版本：</strong> 14</p> </td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_SOURCE_TYPE_LIVE = 17</td> <td class="cellrowborder" width="50%"><p>直播。</p> <p><strong>起始版本：</strong> 20</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_event" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_Event<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_event" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_Event</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频事件。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>废弃版本：</strong> 20</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_EVENT_ROUTING_CHANGED = 0</td> <td class="cellrowborder" width="50%"><p>音频的路由已更改。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>废弃版本：</strong> 20</p> <p><strong>替代接口：</strong> <a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiorenderer_outputdevicechangecallback">OH_AudioRenderer_OutputDeviceChangeCallback</a></p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiointerrupt_forcetype" device-type="phone,2in1,tablet,wearable,tv">OH_AudioInterrupt_ForceType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiointerrupt_forcetype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioInterrupt_ForceType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频中断类型。</p> <p> 当用户监听到音频中断时，将获取此信息。</p> <p> 此类型表示本次音频打断的操作是否已由系统强制执行，具体操作信息（如音频暂停、停止等）可通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_hint">OH_AudioInterrupt_Hint</a>获取。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_FORCE = 0</td> <td class="cellrowborder" width="50%">强制打断类型，即具体操作已由系统强制执行。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_SHARE = 1</td> <td class="cellrowborder" width="50%">共享打断类型，即系统不执行具体操作，通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_hint">OH_AudioInterrupt_Hint</a>提示并建议应用操作，应用可自行决策下一步处理方式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiointerrupt_hint" device-type="phone,2in1,tablet,wearable,tv">OH_AudioInterrupt_Hint<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiointerrupt_hint" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioInterrupt_Hint</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频中断提示类型。</p> <p> 当用户监听到音频中断时，将获取此信息。</p> <p> 此类型表示根据焦点策略，当前需要对音频流的具体操作（如暂停、调整音量等）。</p> <p> 可以结合<a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_forcetype">OH_AudioInterrupt_ForceType</a>信息，判断该操作是否已由系统强制执行。</p> <p><strong>起始版本：</strong> 10</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_NONE = 0</td> <td class="cellrowborder" width="50%">不提示。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_RESUME = 1</td> <td class="cellrowborder" width="50%"><p>提示音频恢复，应用可主动触发开始渲染或开始采集的相关操作。</p> <p> 此操作无法由系统强制执行，其对应的<a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiointerrupt_forcetype">OH_AudioInterrupt_ForceType</a>一定为AUDIOSTREAM_INTERRUPT_SHARE类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_PAUSE = 2</td> <td class="cellrowborder" width="50%"><p>提示音频暂停，暂时失去音频焦点。</p> <p> 后续待焦点可用时，会出现AUDIOSTREAM_INTERRUPT_HINT_RESUME事件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_STOP = 3</td> <td class="cellrowborder" width="50%">提示音频停止，彻底失去音频焦点。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_DUCK = 4</td> <td class="cellrowborder" width="50%">提示音频躲避开始，音频降低音量播放，而不会停止。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_UNDUCK = 5</td> <td class="cellrowborder" width="50%">提示音量躲避结束，音频恢复正常音量。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_MUTE = 6</td> <td class="cellrowborder" width="50%"><p>提示音频静音。</p> <p><strong>起始版本：</strong> 20</p> </td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_HINT_UNMUTE = 7</td> <td class="cellrowborder" width="50%"><p>提示音频解除静音。</p> <p><strong>起始版本：</strong> 20</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiointerrupt_mode" device-type="phone,2in1,tablet,wearable,tv">OH_AudioInterrupt_Mode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiointerrupt_mode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioInterrupt_Mode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频中断模式。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_MODE_SHARE = 0</td> <td class="cellrowborder" width="50%">共享模式。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_INTERRUPT_MODE_INDEPENDENT = 1</td> <td class="cellrowborder" width="50%">独立模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_audioeffectmode" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_AudioEffectMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_audioeffectmode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_AudioEffectMode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音效模式。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">EFFECT_NONE = 0</td> <td class="cellrowborder" width="50%">无音效模式。</td> </tr> <tr><td class="cellrowborder" width="50%">EFFECT_DEFAULT = 1</td> <td class="cellrowborder" width="50%">默认音效模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_faststatus" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_FastStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_faststatus" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_FastStatus</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义低时延状态。</p> <p><strong>起始版本：</strong> 20</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIOSTREAM_FASTSTATUS_NORMAL = 0</td> <td class="cellrowborder" width="50%">普通音频流状态。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIOSTREAM_FASTSTATUS_FAST = 1</td> <td class="cellrowborder" width="50%">低时延音频流状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_devicechangereason" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_DeviceChangeReason<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_devicechangereason" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_DeviceChangeReason</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>流设备变更原因。</p> <p><strong>起始版本：</strong> 11</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">REASON_UNKNOWN = 0</td> <td class="cellrowborder" width="50%">未知原因。</td> </tr> <tr><td class="cellrowborder" width="50%">REASON_NEW_DEVICE_AVAILABLE = 1</td> <td class="cellrowborder" width="50%">新设备可用。</td> </tr> <tr><td class="cellrowborder" width="50%">REASON_OLD_DEVICE_UNAVAILABLE = 2</td> <td class="cellrowborder" width="50%">旧设备不可用。当报告此原因时，应用程序应考虑暂停音频播放。</td> </tr> <tr><td class="cellrowborder" width="50%">REASON_OVERRODE = 3</td> <td class="cellrowborder" width="50%">用户或系统强制选择切换。</td> </tr> <tr><td class="cellrowborder" width="50%">REASON_SESSION_ACTIVATED = 4</td> <td class="cellrowborder" width="50%"><p>音频会话激活触发的设备切换。</p> <p><strong>起始版本：</strong> 20</p> </td> </tr> <tr><td class="cellrowborder" width="50%">REASON_STREAM_PRIORITY_CHANGED = 5</td> <td class="cellrowborder" width="50%"><p>更高优先级的音频流出现导致的系统设备切换。</p> <p><strong>起始版本：</strong> 20</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiostream_privacytype" device-type="phone,2in1,tablet,wearable,tv">OH_AudioStream_PrivacyType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiostream_privacytype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioStream_PrivacyType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于标识对应播放音频流是否支持被其他应用录制。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIO_STREAM_PRIVACY_TYPE_PUBLIC = 0</td> <td class="cellrowborder" width="50%">表示音频流可以被其他应用录制或屏幕投射，不包含隐私类型的流。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIO_STREAM_PRIVACY_TYPE_PRIVATE = 1</td> <td class="cellrowborder" width="50%">表示音频流不可以被其他应用录制或屏幕投射。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIO_STREAM_PRIVACY_TYPE_SHARED = 2</td> <td class="cellrowborder" width="50%"><p>表示音频流可以被其他应用录制或屏幕投射，包含隐私类型的流。</p> <p> 例如，在PRIVACY_TYPE_PUBLIC策略下，<a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_usage">AUDIOSTREAM_USAGE_VOICE_COMMUNICATION</a>类型音频流不会被其他应用录制或屏幕投射。然而，在PRIVACY_TYPE_SHARED策略下，这些音频流将会允许被其他应用录制或屏幕投射。</p> <p><strong>起始版本：</strong> 21</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiodata_callback_result" device-type="phone,2in1,tablet,wearable,tv">OH_AudioData_Callback_Result<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiodata_callback_result" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">OH_AudioData_Callback_Result</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义音频数据回调结果。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">AUDIO_DATA_CALLBACK_RESULT_INVALID = -1</td> <td class="cellrowborder" width="50%">表示音频数据回调结果无效，音频数据不播放。</td> </tr> <tr><td class="cellrowborder" width="50%">AUDIO_DATA_CALLBACK_RESULT_VALID = 0</td> <td class="cellrowborder" width="50%">表示音频数据回调结果有效，音频数据将被播放。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_audiorenderer_outputdevicechangecallback" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_AudioRenderer_OutputDeviceChangeCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiorenderer_outputdevicechangecallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*OH_AudioRenderer_OutputDeviceChangeCallback)(OH_AudioRenderer* renderer, <span class="hljs-type">void</span>* userData, OH_AudioStream_DeviceChangeReason reason)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>输出音频流设备变更的回调函数。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiorendererstruct">OH_AudioRenderer</a>* renderer</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostreambuilder-h#oh_audiostreambuilder_generaterenderer">OH_AudioStreamBuilder_GenerateRenderer</a>创建的音频流实例。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">指向通过回调函数传递的应用数据指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiostream_devicechangereason">OH_AudioStream_DeviceChangeReason</a> reason</td> <td class="cellrowborder" width="50%">流设备变更原因。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiorenderer_onmarkreachedcallback" device-type="phone,2in1,tablet,wearable,tv">OH_AudioRenderer_OnMarkReachedCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiorenderer_onmarkreachedcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*OH_AudioRenderer_OnMarkReachedCallback)</span><span class="hljs-params">(OH_AudioRenderer* renderer, <span class="hljs-type">uint32_t</span> samplePos, <span class="hljs-type">void</span>* userData)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>到达标记位置时回调。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiorendererstruct">OH_AudioRenderer</a>* renderer</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostreambuilder-h#oh_audiostreambuilder_generaterenderer">OH_AudioStreamBuilder_GenerateRenderer</a>创建的音频流实例。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t samplePos</td> <td class="cellrowborder" width="50%">设置目标标记位置。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">指向通过回调函数传递的应用数据指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiorenderer_writedatawithmetadatacallback" device-type="phone,2in1,tablet,wearable,tv">OH_AudioRenderer_WriteDataWithMetadataCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiorenderer_writedatawithmetadatacallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">int32_t</span> <span class="hljs-params">(*OH_AudioRenderer_WriteDataWithMetadataCallback)</span><span class="hljs-params">(OH_AudioRenderer* renderer, <span class="hljs-type">void</span>* userData, <span class="hljs-type">void</span>* audioData, <span class="hljs-type">int32_t</span> audioDataSize, <span class="hljs-type">void</span>* metadata, <span class="hljs-type">int32_t</span> metadataSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>该函数指针将指向用于同时写入音频数据和元数据的回调函数。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiorendererstruct">OH_AudioRenderer</a>* renderer</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostreambuilder-h#oh_audiostreambuilder_generaterenderer">OH_AudioStreamBuilder_GenerateRenderer</a>创建的音频流实例。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">指向通过回调函数传递的应用数据指针。</td> </tr> <tr><td class="cellrowborder" width="50%">void* audioData</td> <td class="cellrowborder" width="50%">指向用户写入的音频数据的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t audioDataSize</td> <td class="cellrowborder" width="50%">用户写入的音频数据的数据长度，以字节为单位。</td> </tr> <tr><td class="cellrowborder" width="50%">void* metadata</td> <td class="cellrowborder" width="50%">指向用户写入的元数据的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t metadataSize</td> <td class="cellrowborder" width="50%">用户写入的元数据的数据长度，以字节为单位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">用户返回的回调函数的错误码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_audiorenderer_onwritedatacallback" device-type="phone,2in1,tablet,wearable,tv">OH_AudioRenderer_OnWriteDataCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_audiorenderer_onwritedatacallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-eky-c106="" class="highlight-div"><div _ngcontent-eky-c106="" class="highlight-div-header"><div _ngcontent-eky-c106="" class="highlight-div-header-left"><div _ngcontent-eky-c106="" class="handle-button expand-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-eky-c106="" class="highlight-div-header-right"><div _ngcontent-eky-c106="" class="handle-button ai-button"></div><div _ngcontent-eky-c106="" class="handle-button line-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-eky-c106="" class="handle-button theme-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-eky-c106="" class="handle-button copy-button"><div _ngcontent-eky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-eky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">OH_AudioData_Callback_Result</span> <span class="hljs-params">(*OH_AudioRenderer_OnWriteDataCallback)</span><span class="hljs-params">(OH_AudioRenderer* renderer, <span class="hljs-type">void</span>* userData, <span class="hljs-type">void</span>* audioData, <span class="hljs-type">int32_t</span> audioDataSize)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>该函数指针将指向用于写入音频数据的回调函数。</p> <p> 回调函数仅用来写入音频数据，请勿在回调函数中调用AudioRenderer相关接口。</p> <p> 该函数的返回结果表示填充到缓冲区的数据是否有效。如果结果无效，用户填写的数据将不被播放。</p> <p> 回调函数结束后，音频服务会把audioData指针数据放入队列里等待播放，因此请勿在回调外再次更改audioData指向的数据，且务必保证往audioData填满audioDataSize长度的待播放数据, 否则会导致音频服务播放杂音。</p> <p> 参数audioDataSize可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostreambuilder-h#oh_audiostreambuilder_setframesizeincallback">OH_AudioStreamBuilder_SetFrameSizeInCallback</a>设置。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohaudio-oh-audiorendererstruct">OH_AudioRenderer</a>* renderer</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-audiostreambuilder-h#oh_audiostreambuilder_generaterenderer">OH_AudioStreamBuilder_GenerateRenderer</a>创建的音频流实例。</td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">指向通过回调函数传递的应用数据指针。</td> </tr> <tr><td class="cellrowborder" width="50%">void* audioData</td> <td class="cellrowborder" width="50%">指向用户写入的音频数据的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t audioDataSize</td> <td class="cellrowborder" width="50%">用户写入的音频数据的数据长度，以字节为单位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.13.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.13.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-audiostream-base-h#oh_audiodata_callback_result">OH_AudioData_Callback_Result</a></td> <td class="cellrowborder" width="50%"><p>AUDIO_DATA_CALLBACK_RESULT_INVALID：音频数据回调结果无效，音频数据不播放。</p> <p> AUDIO_DATA_CALLBACK_RESULT_VALID：音频数据回调结果有效，音频数据将被播放。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>