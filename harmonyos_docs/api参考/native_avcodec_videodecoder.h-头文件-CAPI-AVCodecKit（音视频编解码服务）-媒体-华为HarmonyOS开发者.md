<h1 _ngcontent-jnd-c119="" class="doc-title ng-star-inserted" title="native_avcodec_videodecoder.h"> native_avcodec_videodecoder.h </h1>

<div _ngcontent-jnd-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>声明用于视频解码的Native API。</p>     <p><strong>引用文件：</strong> &lt;multimedia/player_framework/native_avcodec_videodecoder.h&gt;</p>     <p><strong>库：</strong> libnative_media_vdec.so</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videodecoder">VideoDecoder</a></p>     <p><strong>相关示例：</strong> <a href="https://gitcode.com/openharmony/applications_app_samples/tree/master/code/BasicFeature/Media/AVCodec" target="_blank">AVCodec</a></p>     <p>接口在每个版本的支持情况以及在解码过程中可以调用的情况，如下图所示：</p>     <p><span><img originheight="307" originwidth="541" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115209.02592879130368553517330124707612:50001231000000:2800:A9BAB6376E460AFF3F2612825D57D59995EE55EC6EBB9514DEF3314C75D6EDC0.png" width="541" height="307"></span></p>     <p><span><img originheight="1928" originwidth="3264" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115209.37479347991198448396529105642428:50001231000000:2800:580434248FC95DA4F0310561E79991336C836816C4F0155DC0CEA33BF27E6646.png" width="920" height="543.4313725490196"></span></p>    </div>    <div class="tiledSection">     <h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drm-mediakeysession">MediaKeySession</a></td>         <td class="cellrowborder" width="33.33333333333333%">MediaKeySession</td>         <td class="cellrowborder" width="33.33333333333333%">为MediaKeySession定义native层对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_createbymime">OH_AVCodec *OH_VideoDecoder_CreateByMime(const char *mime)</a></td>         <td class="cellrowborder" width="50%">根据MIME类型创建视频解码器实例，大多数情况下建议使用。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_createbyname">OH_AVCodec *OH_VideoDecoder_CreateByName(const char *name)</a></td>         <td class="cellrowborder" width="50%">根据视频解码器名称创建视频解码器实例。使用此接口的前提是知道解码器的确切名称，解码器的名称可以通过能力查询获取。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_destroy">OH_AVErrCode OH_VideoDecoder_Destroy(OH_AVCodec *codec)</a></td>         <td class="cellrowborder" width="50%">清理解码器内部资源，销毁解码器实例。不能重复销毁。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_setcallback">OH_AVErrCode OH_VideoDecoder_SetCallback(OH_AVCodec *codec, OH_AVCodecAsyncCallback callback, void *userData)</a></td>         <td class="cellrowborder" width="50%">设置异步回调函数，让应用可以响应视频解码器生成的事件。在调用OH_VideoDecoder_Prepare接口之前，必须调用此接口（从API version 11开始废弃）。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_registercallback">OH_AVErrCode OH_VideoDecoder_RegisterCallback(OH_AVCodec *codec, OH_AVCodecCallback callback, void *userData)</a></td>         <td class="cellrowborder" width="50%">注册异步回调函数，让应用可以响应视频解码器生成的事件。在调用OH_VideoDecoder_Prepare接口之前，必须调用此接口。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_setsurface">OH_AVErrCode OH_VideoDecoder_SetSurface(OH_AVCodec *codec, OHNativeWindow *window)</a></td>         <td class="cellrowborder" width="50%">          <p>设置输出surface以提供视频解码输出。</p>          <p>在初始化阶段，必须在调用OH_VideoDecoder_Prepare接口之前调用此接口。在Executing状态可以直接调用该接口。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_configure">OH_AVErrCode OH_VideoDecoder_Configure(OH_AVCodec *codec, OH_AVFormat *format)</a></td>         <td class="cellrowborder" width="50%">配置视频解码器，通常需要配置解码视频的描述信息，这些信息可以从{@link OH_AVSource}中提取。在调用OH_VideoDecoder_Prepare接口之前，必须调用此接口。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_prepare">OH_AVErrCode OH_VideoDecoder_Prepare(OH_AVCodec *codec)</a></td>         <td class="cellrowborder" width="50%">准备解码器的内部资源，在调用该接口之前，必须调用OH_VideoDecoder_Configure接口。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_start">OH_AVErrCode OH_VideoDecoder_Start(OH_AVCodec *codec)</a></td>         <td class="cellrowborder" width="50%">调用<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_prepare">OH_VideoDecoder_Prepare</a>接口成功后调用此接口启动解码器。成功启动后，解码器将开始报告注册的回调事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_stop">OH_AVErrCode OH_VideoDecoder_Stop(OH_AVCodec *codec)</a></td>         <td class="cellrowborder" width="50%">          <p>停止解码器，释放输入输出buffer。停止后，可以通过调用OH_VideoDecoder_Start接口重新进入Running状态。</p>          <p>需要注意的是，如果编解码器特定数据以前已输入到解码器，则需要再次输入。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_flush">OH_AVErrCode OH_VideoDecoder_Flush(OH_AVCodec *codec)</a></td>         <td class="cellrowborder" width="50%">          <p>清除解码器中缓存的输入和输出数据及参数集如H.264格式的PPS/SPS。</p>          <p>调用此接口后，以前通过异步回调上报的所有缓冲区index都将失效，请确保不要访问这些index对应的缓冲区。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_reset">OH_AVErrCode OH_VideoDecoder_Reset(OH_AVCodec *codec)</a></td>         <td class="cellrowborder" width="50%">重置解码器，解码器回到初始化状态。如果要继续解码，需要再次调用OH_VideoDecoder_Configure接口配置解码器实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getoutputdescription">OH_AVFormat *OH_VideoDecoder_GetOutputDescription(OH_AVCodec *codec)</a></td>         <td class="cellrowborder" width="50%">          <p>获取解码器输出数据的OH_AVFormat信息，请参阅{@link OH_AVFormat}。</p>          <p>需要注意的是，指向的OH_AVFormat实例在生命周期结束时需开发者通过调用接口{@link OH_AVFormat_Destroy}释放。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_setparameter">OH_AVErrCode OH_VideoDecoder_SetParameter(OH_AVCodec *codec, OH_AVFormat *format)</a></td>         <td class="cellrowborder" width="50%">          <p>设置解码器的动态参数。</p>          <p>注意，该接口只能在解码器启动后调用。同时，参数配置错误可能会导致解码失败。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_pushinputdata">OH_AVErrCode OH_VideoDecoder_PushInputData(OH_AVCodec *codec, uint32_t index, OH_AVCodecBufferAttr attr)</a></td>         <td class="cellrowborder" width="50%">          <p>将填充数据的输入缓冲区提交给视频解码器。</p>          <p>输入回调将报告可用的输入缓冲区和相应的index值，请参阅{@OH_AVCodecOnNeedInputData}。一旦具有指定index的缓冲区提交到视频解码器，则无法再次访问缓冲区，直到再次收到输入回调，报告具有相同index的缓冲区可用。此外，对于某些解码器，需要在开始时向解码器输入编解码特定数据，以初始化解码器的解码过程，如H.264格式的PPS/SPS数据（从API version 11开始废弃）。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputdata">OH_AVErrCode OH_VideoDecoder_RenderOutputData(OH_AVCodec *codec, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">          <p>将处理后的输出buffer返回给解码器，并通知解码器完成在输出surface上渲染buffer中包含的解码数据。</p>          <p>如果之前没有配置输出surface，则调用此接口仅将指定index对应的输出缓冲区返回给解码器（从API version 11开始废弃）。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_freeoutputdata">OH_AVErrCode OH_VideoDecoder_FreeOutputData(OH_AVCodec *codec, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">将处理后的输出缓冲区返回到解码器（从API version 11开始废弃）。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_pushinputbuffer">OH_AVErrCode OH_VideoDecoder_PushInputBuffer(OH_AVCodec *codec, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">          <p>通知视频解码器已对index对应的缓冲区完成输入数据的填充。</p>          <p>输入回调将报告可用的输入缓冲区和相应的index值，请参阅{@OH_AVCodecOnNeedInputBuffer}。一旦具有指定index的缓冲区提交到视频解码器，则无法再次访问缓冲区，直到再次收到输入回调，报告具有相同index的缓冲区可用。此外，对于某些解码器，需要在开始时向解码器输入编解码特定数据，以初始化解码器的解码过程，如H.264格式的PPS/SPS数据。</p>          <p>开发者可以使用该接口把解码需要的参数集如H.264格式的PPS/SPS传递给解码器，该参数集可以单独送入解码器也可以和要解码的数据一起传入。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputbuffer">OH_AVErrCode OH_VideoDecoder_RenderOutputBuffer(OH_AVCodec *codec, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">          <p>将index对应的输出缓冲返回给解码器，缓冲区中携带解码输出数据，并通知解码器完成在输出surface上渲染，输出缓冲包含解码数据。</p>          <p>如果之前没有配置输出surface，则调用此接口仅将指定index对应的输出缓冲区返回给解码器。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputbufferattime">OH_AVErrCode OH_VideoDecoder_RenderOutputBufferAtTime(OH_AVCodec *codec, uint32_t index, int64_t renderTimestampNs)</a></td>         <td class="cellrowborder" width="50%">将index对应的输出缓冲返回给解码器，缓冲区中携带解码输出数据，并通知解码器在开发者指定的时间内完成在输出surface上渲染，输出缓冲包含解码数据。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_freeoutputbuffer">OH_AVErrCode OH_VideoDecoder_FreeOutputBuffer(OH_AVCodec *codec, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">将处理后的输出缓冲区返回到解码器。用户使用完需要及时调用此接口释放输出缓存区，否则会阻塞解码流程。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_isvalid">OH_AVErrCode OH_VideoDecoder_IsValid(OH_AVCodec *codec, bool *isValid)</a></td>         <td class="cellrowborder" width="50%">在解码器实例存在的情况下，检查当前解码器服务是否有效。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_setdecryptionconfig">OH_AVErrCode OH_VideoDecoder_SetDecryptionConfig(OH_AVCodec *codec, MediaKeySession *mediaKeySession, bool secureVideoPath)</a></td>         <td class="cellrowborder" width="50%">设置解密配置。在调用OH_VideoDecoder_Prepare接口之前，可选择调用此接口。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_queryinputbuffer">OH_AVErrCode OH_VideoDecoder_QueryInputBuffer(struct OH_AVCodec *codec, uint32_t *index, int64_t timeoutUs)</a></td>         <td class="cellrowborder" width="50%">          <p>查询下一个可用输入缓冲区的索引。</p>          <p>调用此接口后需要接着调用<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getinputbuffer">OH_VideoDecoder_GetInputBuffer</a>接口获取缓冲区实例，并通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_pushinputbuffer">OH_VideoDecoder_PushInputBuffer</a>接口传递给解码器。</p>          <p>需要注意的是，上述操作仅在同步模式下支持。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getinputbuffer">OH_AVBuffer *OH_VideoDecoder_GetInputBuffer(struct OH_AVCodec *codec, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">          <p>获取可用输入缓冲区的实例。</p>          <p>需要注意的是，此接口仅适用于同步模式。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_queryoutputbuffer">OH_AVErrCode OH_VideoDecoder_QueryOutputBuffer(struct OH_AVCodec *codec, uint32_t *index, int64_t timeoutUs)</a></td>         <td class="cellrowborder" width="50%">          <p>查询下一个可用输出缓冲区的索引。</p>          <p>通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getoutputbuffer">OH_VideoDecoder_GetOutputBuffer</a>接口获取的缓冲区实例可以通过执行以下操作来显示或释放解码帧：</p>          <p>1. 通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_freeoutputbuffer">OH_VideoDecoder_FreeOutputBuffer</a>接口将处理后的输出缓冲区返回到解码器。</p>          <p>2. 通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputbuffer">OH_VideoDecoder_RenderOutputBuffer</a>在输出surface上渲染。</p>          <p>3. 通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputbufferattime">OH_VideoDecoder_RenderOutputBufferAtTime</a>在指定时间内完成输出surface上渲染。</p>          <p>需要注意的是，上述操作仅在同步模式下支持。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getoutputbuffer">OH_AVBuffer *OH_VideoDecoder_GetOutputBuffer(struct OH_AVCodec *codec, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">获取可用输出缓冲区的实例。需要注意的是，此接口仅适用于同步模式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="oh_videodecoder_createbymime" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_VideoDecoder_CreateByMime()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_createbymime" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVCodec *<span class="hljs-title">OH_VideoDecoder_CreateByMime</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *mime)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>根据MIME类型创建视频解码器实例，大多数情况下建议使用。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const char *mime</td>         <td class="cellrowborder" width="50%">MIME类型描述字符串，请参阅<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#变量">AVCODEC_MIME_TYPE</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *</td>         <td class="cellrowborder" width="50%">          <p>返回一个指向视频解码实例的指针。</p>          <p>当传入的解码器类型不支持或者内存资源耗尽时，返回NULL。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_createbyname" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_CreateByName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_createbyname" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVCodec *<span class="hljs-title">OH_VideoDecoder_CreateByName</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *name)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>根据视频解码器名称创建视频解码器实例。使用此接口的前提是知道解码器的确切名称，解码器的名称可以通过能力查询获取。</p>     <p>详情请参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/obtain-supported-codecs#创建指定名称的编解码器" target="_blank">获取支持的编解码能力</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const char *name</td>         <td class="cellrowborder" width="50%">视频解码器名称。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *</td>         <td class="cellrowborder" width="50%">          <p>返回指向视频解码实例的指针。</p>          <p>当输入的解码器名称不支持或者内存资源耗尽时，返回NULL。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_destroy" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_destroy" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_Destroy</span>(OH_AVCodec *codec)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>清理解码器内部资源，销毁解码器实例。不能重复销毁。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_setcallback" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_SetCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_setcallback" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_VideoDecoder_SetCallback</span><span class="hljs-params">(OH_AVCodec *codec, OH_AVCodecAsyncCallback callback, <span class="hljs-keyword">void</span> *userData)</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置异步回调函数，让应用可以响应视频解码器生成的事件。在调用OH_VideoDecoder_Prepare接口之前，必须调用此接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>废弃版本：</strong> 11</p>     <p><strong>替代接口：</strong> <a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_registercallback">OH_VideoDecoder_RegisterCallback</a></p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodecasynccallback">OH_AVCodecAsyncCallback</a> callback</td>         <td class="cellrowborder" width="50%">所有回调函数的集合。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">void *userData</td>         <td class="cellrowborder" width="50%">开发者执行回调所依赖的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_registercallback" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_RegisterCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_registercallback" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-title function_">OH_VideoDecoder_RegisterCallback</span><span class="hljs-params">(OH_AVCodec *codec, OH_AVCodecCallback callback, <span class="hljs-keyword">void</span> *userData)</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>注册异步回调函数，让应用可以响应视频解码器生成的事件。在调用OH_VideoDecoder_Prepare接口之前，必须调用此接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码器实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodecasynccallback">OH_AVCodecCallback</a> callback</td>         <td class="cellrowborder" width="50%">所有回调函数的集合，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodecasynccallback">OH_AVCodecCallback</a>。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">void *userData</td>         <td class="cellrowborder" width="50%">开发者执行回调所依赖的数据。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_setsurface" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_SetSurface()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_setsurface" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_SetSurface</span>(OH_AVCodec *codec, OHNativeWindow *window)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置输出surface以提供视频解码输出。</p>     <p>在初始化阶段，必须在调用OH_VideoDecoder_Prepare接口之前调用此接口。在Executing状态可以直接调用该接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-nativewindow">OHNativeWindow</a> *window</td>         <td class="cellrowborder" width="50%">指向OHNativeWindow实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：本接口仅支持在Surface模式下调用, 如果在Buffer模式调用, 则返回此错误码。</p>          <p>AV_ERR_INVALID_VAL：1. 输入的codec指针为非解码器实例，或者为空指针；2. window为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_configure" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_Configure()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_configure" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_Configure</span>(OH_AVCodec *codec, OH_AVFormat *format)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>配置视频解码器，通常需要配置解码视频的描述信息，这些信息可以从{@link OH_AVSource}中提取。在调用OH_VideoDecoder_Prepare接口之前，必须调用此接口。</p>     <p>以下参数的配置范围可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/obtain-supported-codecs" target="_blank">能力查询</a>获取，OH_MD_KEY_ROTATION配置的参数都支持。</p>     <p>设置OH_MD_KEY_VIDEO_ENABLE_LOW_LATENCY接口时如果当前平台不支持，不报错，走正常解码流程。</p>     <p>参数校验规则：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">Key</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">配置正常范围的值</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">配置超出范围的值</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">不配置该参数</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">OH_MD_KEY_WIDTH</td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>         <td class="cellrowborder" width="25%">AV_ERR_INVALID_VAL</td>         <td class="cellrowborder" width="25%">AV_ERR_INVALID_VAL</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">OH_MD_KEY_HEIGHT</td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>         <td class="cellrowborder" width="25%">AV_ERR_INVALID_VAL</td>         <td class="cellrowborder" width="25%">AV_ERR_INVALID_VAL</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">OH_MD_KEY_PIXEL_FORMAT 请参阅<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avformat-h#oh_avpixelformat">OH_AVPixelFormat</a></td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>         <td class="cellrowborder" width="25%">AV_ERR_UNSUPPORT</td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">OH_MD_KEY_FRAME_RATE</td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>         <td class="cellrowborder" width="25%">AV_ERR_INVALID_VAL</td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">OH_MD_KEY_ROTATION <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#变量">OH_MD_KEY_ROTATION</a></td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>         <td class="cellrowborder" width="25%">AV_ERR_INVALID_VAL</td>         <td class="cellrowborder" width="25%">AV_ERR_OK</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>建议按照该实例需要支持的最大分辨率来配置，否则可能会出现高于该分辨率的码流解码会触发异常。该设置直接影响应用的内存使用情况。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.13.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a> *format</td>         <td class="cellrowborder" width="50%">指向OH_AVFormat的指针，用于给出要解码的视频轨道的描述。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.15.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.15.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：1. 输入的codec指针为非解码器实例，或者为空指针；2. 输入format参数不支持。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p>          <p>AV_ERR_INVALID_STATE：本接口必须在OH_VideoDecoder_Prepare接口前调用，如果在其他状态时调用，则返回此错误码。</p>          <p>AV_ERR_VIDEO_UNSUPPORTED_COLOR_SPACE_CONVERSION：不支持色彩空间转换功能。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_prepare" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_Prepare()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_prepare" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_Prepare</span>(OH_AVCodec *codec)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>准备解码器的内部资源，在调用该接口之前，必须调用OH_VideoDecoder_Configure接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：1. 内部执行错误；2. 配置了色彩空间转换功能，但解码器处于Buffer模式。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_start" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_Start()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_start" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_Start</span>(OH_AVCodec *codec)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>调用<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_prepare">OH_VideoDecoder_Prepare</a>接口成功后调用此接口启动解码器。成功启动后，解码器将开始报告注册的回调事件。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：1. 内部执行错误；2. 视频色彩空间转换功能已配置，但是没有调用OH_VideoDecoder_Prepare接口。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_stop" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_Stop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_stop" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_Stop</span>(OH_AVCodec *codec)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>停止解码器，释放输入输出buffer。停止后，可以通过调用OH_VideoDecoder_Start接口重新进入Running状态。</p>     <p>需要注意的是，如果编解码器特定数据以前已输入到解码器，则需要再次输入。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_flush" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_Flush()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_flush" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_Flush</span>(OH_AVCodec *codec)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>清除解码器中缓存的输入和输出数据及参数集如H.264格式的PPS/SPS。</p>     <p>调用此接口后，以前通过异步回调上报的所有缓冲区index都将失效，请确保不要访问这些index对应的缓冲区。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_reset" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_Reset()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_reset" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_Reset</span>(OH_AVCodec *codec)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>重置解码器，解码器回到初始化状态。如果要继续解码，需要再次调用OH_VideoDecoder_Configure接口配置解码器实例。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_getoutputdescription" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_GetOutputDescription()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_getoutputdescription" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVFormat *<span class="hljs-built_in">OH_VideoDecoder_GetOutputDescription</span>(OH_AVCodec *codec)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>获取解码器输出数据的OH_AVFormat信息，请参阅{@link OH_AVFormat}。</p>     <p>需要注意的是，指向的OH_AVFormat实例在生命周期结束时需开发者通过调用接口{@link OH_AVFormat_Destroy}释放。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a> *</td>         <td class="cellrowborder" width="50%">          <p>返回指向OH_AVFormat实例的指针。</p>          <p>当输入的codec指针非解码器实例，或者为空指针，则返回NULL。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_setparameter" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_SetParameter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_setparameter" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_SetParameter</span>(OH_AVCodec *codec, OH_AVFormat *format)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置解码器的动态参数。</p>     <p>注意，该接口只能在解码器启动后调用。同时，参数配置错误可能会导致解码失败。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avformat">OH_AVFormat</a> *format</td>         <td class="cellrowborder" width="50%">指向OH_AVFormat实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：1. 输入的codec指针为非解码器实例，或者为空指针；2. 输入format参数不支持。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_pushinputdata" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_PushInputData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_pushinputdata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_PushInputData</span>(OH_AVCodec *codec, uint32_t index, OH_AVCodecBufferAttr attr)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>将填充数据的输入缓冲区提交给视频解码器。</p>     <p>输入回调将报告可用的输入缓冲区和相应的index值，请参阅<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconneedinputdata">OH_AVCodecOnNeedInputData</a>。一旦具有指定index的缓冲区提交到视频解码器，则无法再次访问缓冲区，直到再次收到输入回调，报告具有相同index的缓冲区可用。此外，对于某些解码器，需要在开始时向解码器输入编解码特定数据，以初始化解码器的解码过程，如H.264格式的PPS/SPS数据。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>废弃版本：</strong> 11</p>     <p><strong>替代接口：</strong> <a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_pushinputbuffer">OH_VideoDecoder_PushInputBuffer</a></p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输入Buffer对应的索引值。由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconneedinputdata">OH_AVCodecOnNeedInputData</a>给出。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">OH_AVCodecBufferAttr attr</td>         <td class="cellrowborder" width="50%">描述缓冲区中包含的数据的信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_renderoutputdata" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_RenderOutputData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_renderoutputdata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_RenderOutputData</span>(OH_AVCodec *codec, uint32_t index)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>将处理后的输出buffer返回给解码器，并通知解码器完成在输出surface上渲染buffer中包含的解码数据。</p>     <p>如果之前没有配置输出surface，则调用此接口仅将指定index对应的输出缓冲区返回给解码器。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>废弃版本：</strong> 11</p>     <p><strong>替代接口：</strong> <a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputbuffer">OH_VideoDecoder_RenderOutputBuffer</a></p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输出Buffer对应的索引值。由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconnewoutputdata">OH_AVCodecOnNewOutputData</a>给出。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_freeoutputdata" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_FreeOutputData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_freeoutputdata" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_FreeOutputData</span>(OH_AVCodec *codec, uint32_t index)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>将处理后的输出缓冲区返回到解码器。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 9</p>     <p><strong>废弃版本：</strong> 11</p>     <p><strong>替代接口：</strong> <a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_freeoutputbuffer">OH_VideoDecoder_FreeOutputBuffer</a></p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输出buffer对应的索引值。由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconnewoutputdata">OH_AVCodecOnNewOutputData</a>给出。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_pushinputbuffer" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_PushInputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_pushinputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_PushInputBuffer</span>(OH_AVCodec *codec, uint32_t index)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>通知视频解码器已对index对应的缓冲区完成输入数据的填充。</p>     <p>输入回调将报告可用的输入缓冲区和相应的index值，请参阅<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconneedinputbuffer">OH_AVCodecOnNeedInputBuffer</a>。一旦具有指定index的缓冲区提交到视频解码器，则无法再次访问缓冲区，直到再次收到输入回调，报告具有相同index的缓冲区可用。此外，对于某些解码器，需要在开始时向解码器输入编解码特定数据，以初始化解码器的解码过程，如H.264格式的PPS/SPS数据。</p>     <p>开发者可以使用该接口把解码需要的参数集如H.264格式的PPS/SPS传递给解码器，该参数集可以单独送入解码器也可以和要解码的数据一起传入。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输入buffer对应的索引值。由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconneedinputbuffer">OH_AVCodecOnNeedInputBuffer</a>给出。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_renderoutputbuffer" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_RenderOutputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_renderoutputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_RenderOutputBuffer</span>(OH_AVCodec *codec, uint32_t index)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>将index对应的输出缓冲返回给解码器，缓冲区中携带解码输出数据，并通知解码器完成在输出surface上渲染，输出缓冲包含解码数据。</p>     <p>如果之前没有配置输出surface，则调用此接口仅将指定index对应的输出缓冲区返回给解码器。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输出buffer对应的索引值。由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconnewoutputbuffer">OH_AVCodecOnNewOutputBuffer</a>给出。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_renderoutputbufferattime" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_RenderOutputBufferAtTime()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_renderoutputbufferattime" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVErrCode <span class="hljs-title">OH_VideoDecoder_RenderOutputBufferAtTime</span><span class="hljs-params">(OH_AVCodec *codec, <span class="hljs-type">uint32_t</span> index, <span class="hljs-type">int64_t</span> renderTimestampNs)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>将index对应的输出缓冲返回给解码器，缓冲区中携带解码输出数据，并通知解码器在开发者指定的时间内完成在输出surface上渲染，输出缓冲包含解码数据。</p>     <p>如果之前没有配置输出surface，则调用此接口仅将指定index对应的输出缓冲区返回给解码器。</p>     <p>开发者可以使用时间戳在特定时间（在VSYNC或者缓冲区时间戳之后）渲染缓冲区。若要在指定的时间戳显示，时间戳需要合理接近系统时间，有几点需要注意：</p>     <p>1. 缓冲区是按照顺序处理的，因此可能会阻塞后续缓冲区在surface上的显示，如果想要对用户的一些行为做出反应，例如停止或者快进快退视频，这一点很重要。</p>     <p>2. 如果多个缓冲区被发送到surface要在同一个VSYNC上渲染，那么最后一个将会被显示，其他的将被丢弃。</p>     <p>3. 如果时间戳与当前的系统时间不是“合理接近”，surface将会忽略时间戳，并在可行的最早时间里显示buffer。在此模式下不会丢弃帧。4. 如果需要由系统根据显示刷新率来丢帧，则必须调用此接口，否则应用需自行实现丢帧逻辑。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输出buffer对应的索引值。由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconnewoutputbuffer">OH_AVCodecOnNewOutputBuffer</a>给出。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int64_t renderTimestampNs</td>         <td class="cellrowborder" width="50%">输出buffer被发送到surface的时间戳，取值范围大于0，应由std::chrono::steady_clock标准库时钟生成，且单位为纳秒。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.15.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.15.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_freeoutputbuffer" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_FreeOutputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_freeoutputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_FreeOutputBuffer</span>(OH_AVCodec *codec, uint32_t index)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>将处理后的输出缓冲区返回到解码器。用户使用完需要及时调用此接口释放输出缓存区，否则会阻塞解码流程。</p>     <p>详情请参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/video-decoding" target="_blank">视频解码</a> “Surface模式的步骤-12或Buffer模式步骤-10”。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输出buffer对应的索引值。由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-avcodec-base-h#oh_avcodeconnewoutputbuffer">OH_AVCodecOnNewOutputBuffer</a>给出。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：1. 输入的codec指针为非解码器实例，或者为空指针；2. index非法或者连续给同一个index，该错误不影响后续解码流程。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：内部执行错误。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_isvalid" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_IsValid()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_isvalid" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_IsValid</span>(OH_AVCodec *codec, bool *isValid)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>在解码器实例存在的情况下，检查当前解码器服务是否有效。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 10</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">bool *isValid</td>         <td class="cellrowborder" width="50%">输出参数，指向布尔类型的指针。只有当接口返回AV_ERR_OK时，该值表示解码器服务的有效性（true为有效，false为无效）。建议开发者将isValid初始化为false。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_setdecryptionconfig" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_SetDecryptionConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_setdecryptionconfig" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>OH_AVErrCode <span class="hljs-built_in">OH_VideoDecoder_SetDecryptionConfig</span>(OH_AVCodec *codec, MediaKeySession *mediaKeySession, bool secureVideoPath)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置解密配置。在调用OH_VideoDecoder_Prepare接口之前，可选择调用此接口。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 11</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-drm-mediakeysession">MediaKeySession</a> *mediaKeySession</td>         <td class="cellrowborder" width="50%">指向带有解密功能的DRM会话实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">bool secureVideoPath</td>         <td class="cellrowborder" width="50%">安全视频通路。指定安全视频通路为true，非安全视频通路为false。在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/video-decoding#surface模式" target="_blank">Surface模式</a>下，既支持安全视频通路，也支持非安全视频通路。在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/video-decoding#buffer模式" target="_blank">Buffer模式</a>下，仅支持非安全视频通路。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：1. 内部执行错误；2. 解码服务进程异常；3. 媒体密钥会话服务处于错误状态。</p>          <p>AV_ERR_INVALID_VAL：1. 输入的codec指针为非解码器实例或为空指针；2. mediaKeySession为nullptr或无效。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_queryinputbuffer" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_QueryInputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_queryinputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVErrCode <span class="hljs-title">OH_VideoDecoder_QueryInputBuffer</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> OH_AVCodec *codec, <span class="hljs-type">uint32_t</span> *index, <span class="hljs-type">int64_t</span> timeoutUs)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询下一个可用输入缓冲区的索引。</p>     <p>调用此接口后需要接着调用<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getinputbuffer">OH_VideoDecoder_GetInputBuffer</a>接口获取缓冲区实例，并通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_pushinputbuffer">OH_VideoDecoder_PushInputBuffer</a>接口传递给解码器。</p>     <p>需要注意的是，上述操作仅在同步模式下支持。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.10.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">struct OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t *index</td>         <td class="cellrowborder" width="50%">输入buffer对应的索引值。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int64_t timeoutUs</td>         <td class="cellrowborder" width="50%">超时时长，单位为微秒。负值：无限等待；0：立即退出；正值：等待指定时长后退出。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_SERVICE_DIED：编解码服务已终止。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：禁止异步模式下使用。</p>          <p>AV_ERR_TRY_AGAIN_LATER：查询失败，建议等待短暂间隔后重试。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_getinputbuffer" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_GetInputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_getinputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVBuffer *<span class="hljs-title">OH_VideoDecoder_GetInputBuffer</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> OH_AVCodec *codec, <span class="hljs-type">uint32_t</span> index)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>获取可用输入缓冲区的实例。</p>     <p>需要注意的是，此接口仅适用于同步模式。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">struct OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输入buffer对应的索引值，可通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_queryinputbuffer">OH_VideoDecoder_QueryInputBuffer</a>接口获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">OH_AVBuffer *</td>         <td class="cellrowborder" width="50%">如果执行成功，则返回一个指向OH_AVBuffer实例的指针，否则返回NULL。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_queryoutputbuffer" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_QueryOutputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_queryoutputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVErrCode <span class="hljs-title">OH_VideoDecoder_QueryOutputBuffer</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> OH_AVCodec *codec, <span class="hljs-type">uint32_t</span> *index, <span class="hljs-type">int64_t</span> timeoutUs)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询下一个可用输出缓冲区的索引。</p>     <p>通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getoutputbuffer">OH_VideoDecoder_GetOutputBuffer</a>接口获取的缓冲区实例可以通过执行以下操作来显示或释放解码帧：</p>     <p>1. 通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_freeoutputbuffer">OH_VideoDecoder_FreeOutputBuffer</a>接口将处理后的输出缓冲区返回到解码器。</p>     <p>2. 通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputbuffer">OH_VideoDecoder_RenderOutputBuffer</a>在输出surface上渲染。</p>     <p>3. 通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_renderoutputbufferattime">OH_VideoDecoder_RenderOutputBufferAtTime</a>在指定时间内完成输出surface上渲染。</p>     <p>需要注意的是，上述操作仅在同步模式下支持。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.13.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.13.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">struct OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t *index</td>         <td class="cellrowborder" width="50%">输出buffer对应的索引值。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int64_t timeoutUs</td>         <td class="cellrowborder" width="50%">超时时长，单位为微秒。负值：无限等待；0：立即退出；正值：等待指定时长后退出。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.15.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.15.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-averrors-h#oh_averrcode">OH_AVErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>AV_ERR_OK：执行成功。</p>          <p>AV_ERR_NO_MEMORY：输入的解码器实例已经销毁。</p>          <p>AV_ERR_INVALID_VAL：输入的codec指针为非解码器实例，或者为空指针。</p>          <p>AV_ERR_UNKNOWN：未知错误。</p>          <p>AV_ERR_SERVICE_DIED：编解码服务已终止。</p>          <p>AV_ERR_INVALID_STATE：解码器状态不支持调用本接口时调用。</p>          <p>AV_ERR_OPERATE_NOT_PERMIT：禁止异步模式下使用。</p>          <p>AV_ERR_STREAM_CHANGED：流格式已变更，可以通过调用<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_getoutputdescription">OH_VideoDecoder_GetOutputDescription</a>接口获取新的流信息。</p>          <p>AV_ERR_TRY_AGAIN_LATER：查询失败，建议等待短暂间隔后重试。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videodecoder_getoutputbuffer" device-type="phone,2in1,tablet,wearable,tv">OH_VideoDecoder_GetOutputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videodecoder_getoutputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jnd-c106="" class="highlight-div"><div _ngcontent-jnd-c106="" class="highlight-div-header"><div _ngcontent-jnd-c106="" class="highlight-div-header-left"><div _ngcontent-jnd-c106="" class="handle-button expand-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jnd-c106="" class="highlight-div-header-right"><div _ngcontent-jnd-c106="" class="handle-button ai-button"></div><div _ngcontent-jnd-c106="" class="handle-button line-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jnd-c106="" class="handle-button theme-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jnd-c106="" class="handle-button copy-button"><div _ngcontent-jnd-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jnd-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_AVBuffer *<span class="hljs-title">OH_VideoDecoder_GetOutputBuffer</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> OH_AVCodec *codec, <span class="hljs-type">uint32_t</span> index)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>获取可用输出缓冲区的实例。需要注意的是，此接口仅适用于同步模式。</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Media.VideoDecoder</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-codecbase-oh-avcodec">struct OH_AVCodec</a> *codec</td>         <td class="cellrowborder" width="50%">指向视频解码实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输出buffer对应的索引值，可通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-avcodec-videodecoder-h#oh_videodecoder_queryoutputbuffer">OH_VideoDecoder_QueryOutputBuffer</a>接口获取。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-core-oh-avbuffer">OH_AVBuffer</a> *</td>         <td class="cellrowborder" width="50%">如果执行成功，则返回一个指向OH_AVBuffer实例的指针，否则返回NULL。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>