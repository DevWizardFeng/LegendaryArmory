<h1 _ngcontent-xgc-c119="" class="doc-title ng-star-inserted" title="native_child_process.h"> native_child_process.h </h1>

<div _ngcontent-xgc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>支持创建Native子进程，并在父子进程间建立IPC通道。</p>     <p>通过此模块和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-childprocessmanager">childProcessManager</a>（非SELF_FORK模式）可以启动的子进程总数最大为512个。</p>     <p><strong>引用文件：</strong> &lt;AbilityKit/native_child_process.h&gt;</p>     <p><strong>库：</strong> libchild_process.so</p>     <p><strong>系统能力：</strong> SystemCapability.Ability.AbilityRuntime.Core</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-childprocess">ChildProcess</a></p>    </div>    <div class="tiledSection">     <h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-fd">NativeChildProcess_Fd</a></td>         <td class="cellrowborder" width="33.33333333333333%">NativeChildProcess_Fd</td>         <td class="cellrowborder" width="33.33333333333333%">传递给子进程的文件描述符信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-fdlist">NativeChildProcess_FdList</a></td>         <td class="cellrowborder" width="33.33333333333333%">NativeChildProcess_FdList</td>         <td class="cellrowborder" width="33.33333333333333%">传递给子进程的文件描述符信息列表。文件描述符记录个数不能超过16个。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-options">NativeChildProcess_Options</a></td>         <td class="cellrowborder" width="33.33333333333333%">NativeChildProcess_Options</td>         <td class="cellrowborder" width="33.33333333333333%">子进程所使用的选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-args">NativeChildProcess_Args</a></td>         <td class="cellrowborder" width="33.33333333333333%">NativeChildProcess_Args</td>         <td class="cellrowborder" width="33.33333333333333%">传递给子进程的参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a></td>         <td class="cellrowborder" width="33.33333333333333%">Ability_ChildProcessConfigs</td>         <td class="cellrowborder" width="33.33333333333333%">启动子进程的配置信息，包括子进程的进程名、以及数据沙箱与网络环境的共享模式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="33.33333333333333%">Ability_NativeChildProcess_ErrCode</td>         <td class="cellrowborder" width="33.33333333333333%">定义Native子进程模块错误码。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#nativechildprocess_isolationmode">NativeChildProcess_IsolationMode</a></td>         <td class="cellrowborder" width="33.33333333333333%">NativeChildProcess_IsolationMode</td>         <td class="cellrowborder" width="33.33333333333333%">定义Native子进程数据沙箱与网络环境的共享模式。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_createchildprocessconfigs">Ability_ChildProcessConfigs* OH_Ability_CreateChildProcessConfigs()</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">创建一个子进程配置信息对象。创建对象成功后需要通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_destroychildprocessconfigs">OH_Ability_DestroyChildProcessConfigs</a>来销毁对象从而避免内存泄漏。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_destroychildprocessconfigs">Ability_NativeChildProcess_ErrCode OH_Ability_DestroyChildProcessConfigs(Ability_ChildProcessConfigs* configs)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">销毁一个子进程配置信息对象，并释放其内存，在调用该接口后，要避免继续使用已销毁的configs对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_childprocessconfigs_setisolationmode">Ability_NativeChildProcess_ErrCode OH_Ability_ChildProcessConfigs_SetIsolationMode(Ability_ChildProcessConfigs* configs, NativeChildProcess_IsolationMode isolationMode)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">设置子进程配置信息对象的数据沙箱与网络环境的共享模式，详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#nativechildprocess_isolationmode">NativeChildProcess_IsolationMode</a>。该设置仅当调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_startnativechildprocesswithconfigs">OH_Ability_StartNativeChildProcessWithConfigs</a>、<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_createnativechildprocesswithconfigs">OH_Ability_CreateNativeChildProcessWithConfigs</a>接口时生效。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_childprocessconfigs_setprocessname">Ability_NativeChildProcess_ErrCode OH_Ability_ChildProcessConfigs_SetProcessName(Ability_ChildProcessConfigs* configs,const char* processName)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">设置子进程配置信息对象中的进程名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessstarted">typedef void (*OH_Ability_OnNativeChildProcessStarted)(int errCode, OHIPCRemoteProxy *remoteProxy)</a></td>         <td class="cellrowborder" width="33.33333333333333%">OH_Ability_OnNativeChildProcessStarted</td>         <td class="cellrowborder" width="33.33333333333333%">根据传入的子进程配置信息创建子进程，并加载参数中指定的动态链接库文件。子进程的启动结果通过回调参数异步通知调用方。该回调在独立线程中执行，需要确保线程同步，且不能执行高耗时操作避免长时间阻塞。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_createnativechildprocess">int OH_Ability_CreateNativeChildProcess(const char* libName,OH_Ability_OnNativeChildProcessStarted onProcessStarted)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>创建子进程并加载参数中指定的动态链接库文件，进程启动结果通过回调参数异步通知，需注意回调通知为独立线程，回调函数实现需要注意线程同步，且不能执行高耗时操作避免长时间阻塞。参数所指定的动态库必须实现并导出下列函数：</p>          <p>1. OHIPCRemoteStub* NativeChildProcess_OnConnect()</p>          <p>2. void NativeChildProcess_MainProc()</p>          <p>处理逻辑顺序如下列伪代码所示：</p>          <p>主进程：</p>          <p>1. OH_Ability_CreateNativeChildProcess(libName, onProcessStartedCallback)</p>          <p>子进程：</p>          <p>2. dlopen(libName)</p>          <p>3. dlsym("NativeChildProcess_OnConnect")</p>          <p>4. dlsym("NativeChildProcess_MainProc")</p>          <p>5. ipcRemote = NativeChildProcess_OnConnect()</p>          <p>6. NativeChildProcess_MainProc()</p>          <p>主进程：</p>          <p>7. onProcessStartedCallback(ipcRemote, errCode)</p>          <p>子进程：</p>          <p>8. 在NativeChildProcess_MainProc()函数返回后子进程退出。</p>          <p><strong>设备行为差异：</strong> 对于API 13及之前版本，该接口在PC/2in1中可正常使用，在其他设备中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。对于API 14及之后版本，该接口在PC/2in1、Tablet设备可正常使用，在其他设备中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p>          <p><strong>说明：</strong> 对于API 14及之前版本，单个进程只能启动1个Native子进程。从API 15开始，单个进程最多支持启动50个Native子进程。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_createnativechildprocesswithconfigs">Ability_NativeChildProcess_ErrCode OH_Ability_CreateNativeChildProcessWithConfigs(const char* libName,Ability_ChildProcessConfigs* configs, OH_Ability_OnNativeChildProcessStarted onProcessStarted)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>根据传入的子进程配置信息创建子进程，并加载参数中指定的动态链接库文件。子进程的启动结果通过回调参数异步通知调用方。该回调在独立线程中执行，需要确保线程同步，且不能执行高耗时操作避免长时间阻塞。参数所指定的动态库必须实现并导出下列函数：</p>          <p>1. OHIPCRemoteStub* NativeChildProcess_OnConnect()</p>          <p>2. void NativeChildProcess_MainProc()</p>          <p>处理逻辑顺序如下列伪代码所示：</p>          <p>主进程：</p>          <p>1. OH_Ability_CreateNativeChildProcessWithConfigs(libName, configs, onProcessStartedCallback)</p>          <p>子进程：</p>          <p>2. dlopen(libName)</p>          <p>3. dlsym("NativeChildProcess_OnConnect")</p>          <p>4. dlsym("NativeChildProcess_MainProc")</p>          <p>5. ipcRemote = NativeChildProcess_OnConnect()</p>          <p>6. NativeChildProcess_MainProc()</p>          <p>主进程：</p>          <p>7. onProcessStartedCallback(ipcRemote, errCode)</p>          <p>子进程：</p>          <p>8.</p>          <p>在NativeChildProcess_MainProc()函数返回后子进程退出。</p>          <p><strong>设备行为差异：</strong> 该接口在PC/2in1、Tablet设备中可正常调用，在其他设备中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_startnativechildprocess">Ability_NativeChildProcess_ErrCode OH_Ability_StartNativeChildProcess(const char* entry, NativeChildProcess_Args args,NativeChildProcess_Options options, int32_t *pid)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>启动一个子进程，并加载指定的动态链接库文件。指定的动态库必须实现一个以NativeChildProcess_Args为参数的函数（函数名称可自定义），并导出该函数。示例如下：</p>          <p>1. void Main(NativeChildProcess_Args args);</p>          <p>处理逻辑顺序如下列伪代码所示：</p>          <p>主进程：</p>          <p>1. OH_Ability_StartNativeChildProcess(entryPoint, args, options)</p>          <p>子进程：</p>          <p>2. dlopen(libName)</p>          <p>3. dlsym("Main")</p>          <p>4. Main(args)</p>          <p>5. 子进程将在Main(args)函数返回后退出。</p>          <p><strong>设备行为差异：</strong> 对于API 13及之前版本，该接口在PC/2in1设备中可正常使用，在其他设备类型中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。对于API 14及之后版本，该接口在PC/2in1、Tablet中可正常使用，在其他设备类型中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_startnativechildprocesswithconfigs">Ability_NativeChildProcess_ErrCode OH_Ability_StartNativeChildProcessWithConfigs(const char* entry, NativeChildProcess_Args args, Ability_ChildProcessConfigs* configs, int32_t *pid)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">          <p>根据参数中子进程配置信息启动Native子进程，加载参数中指定的动态链接库文件并调用入口函数。支持传参到子进程。指定的动态库必须实现一个以NativeChildProcess_Args为参数的函数（函数名称可自定义），并导出该函数。示例如下：</p>          <p>1. void Main(NativeChildProcess_Args args);</p>          <p>处理逻辑顺序如下列伪代码所示：</p>          <p>主进程：</p>          <p>1. OH_Ability_StartNativeChildProcessWithConfigs(entryPoint, args, configs, &amp;pid)</p>          <p>子进程：</p>          <p>2. dlopen(libName)</p>          <p>3. dlsym("Main")</p>          <p>4. Main(args)</p>          <p>5. 子进程将在Main(args)函数返回后退出。</p>          <p><strong>设备行为差异：</strong> 该接口在PC/2in1、Tablet设备中可正常调用，在其他设备中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_getcurrentchildprocessargs">NativeChildProcess_Args* OH_Ability_GetCurrentChildProcessArgs()</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">子进程获取自身的启动参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessexit">typedef void (*OH_Ability_OnNativeChildProcessExit)(int32_t pid, int32_t signal)</a></td>         <td class="cellrowborder" width="33.33333333333333%">OH_Ability_OnNativeChildProcessExit</td>         <td class="cellrowborder" width="33.33333333333333%">获取子进程退出信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_registernativechildprocessexitcallback">Ability_NativeChildProcess_ErrCode OH_Ability_RegisterNativeChildProcessExitCallback(OH_Ability_OnNativeChildProcessExit onProcessExit)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">注册子进程退出回调。重复注册同一个回调函数只会保留一个。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_unregisternativechildprocessexitcallback">Ability_NativeChildProcess_ErrCode OH_Ability_UnregisterNativeChildProcessExitCallback(OH_Ability_OnNativeChildProcessExit onProcessExit)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">解注册子进程退出回调。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_childprocessconfigs_setisolationuid">Ability_NativeChildProcess_ErrCode OH_Ability_ChildProcessConfigs_SetIsolationUid(Ability_ChildProcessConfigs* configs, bool enableIsolationUid)</a></td>         <td class="cellrowborder" width="33.33333333333333%">-</td>         <td class="cellrowborder" width="33.33333333333333%">设置子进程配置信息对象的uid是否隔离。该设置仅在NativeChildProcess_IsolationMode为NCP_ISOLATION_MODE_ISOLATED时生效。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="ability_nativechildprocess_errcode" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">Ability_NativeChildProcess_ErrCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ability_nativechildprocess_errcode" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Ability_NativeChildProcess_ErrCode</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>定义Native子进程模块错误码。</p>     <p><strong>起始版本：</strong> 12</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">NCP_NO_ERROR = 0</td>         <td class="cellrowborder" width="50%">操作成功。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_INVALID_PARAM = 401</td>         <td class="cellrowborder" width="50%">无效参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_NOT_SUPPORTED = 801</td>         <td class="cellrowborder" width="50%">不支持创建Native子进程。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_INTERNAL = 16000050</td>         <td class="cellrowborder" width="50%">内部错误。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_BUSY = 16010001</td>         <td class="cellrowborder" width="50%">在Native子进程的启动过程中不能再次创建新的子进程，可以等待当前子进程启动完成后再次尝试。从API version 15开始被废弃。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_TIMEOUT = 16010002</td>         <td class="cellrowborder" width="50%">启动Native子进程超时。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_SERVICE_ERROR = 16010003</td>         <td class="cellrowborder" width="50%">服务端出错。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_MULTI_PROCESS_DISABLED = 16010004</td>         <td class="cellrowborder" width="50%">多进程模式已关闭，不允许启动子进程。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_ALREADY_IN_CHILD = 16010005</td>         <td class="cellrowborder" width="50%">不允许在子进程中再次创建进程。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_MAX_CHILD_PROCESSES_REACHED = 16010006</td>         <td class="cellrowborder" width="50%">到达最大Native子进程数量限制，不能再创建子进程。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_LIB_LOADING_FAILED = 16010007</td>         <td class="cellrowborder" width="50%">子进程加载动态库失败，文件不存在或者未实现对应的方法并导出。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_CONNECTION_FAILED = 16010008</td>         <td class="cellrowborder" width="50%">子进程调用动态库的OnConnect方法失败，可能返回了无效的IPC对象指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ERR_CALLBACK_NOT_EXIST = 16010009</td>         <td class="cellrowborder" width="50%">          <p>父进程调用解注册Native子进程退出回调，未找到注册的回调函数。</p>          <p><strong>起始版本：</strong> 20</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="nativechildprocess_isolationmode" device-type="phone,2in1,tablet,wearable,tv">NativeChildProcess_IsolationMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="nativechildprocess_isolationmode" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">NativeChildProcess_IsolationMode</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>定义Native子进程数据沙箱与网络环境的共享模式。</p>     <p><strong>起始版本：</strong> 13</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">枚举项</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">NCP_ISOLATION_MODE_NORMAL = 0</td>         <td class="cellrowborder" width="50%">普通隔离模式下，父进程与子进程共享同一沙箱环境或网络环境。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">NCP_ISOLATION_MODE_ISOLATED = 1</td>         <td class="cellrowborder" width="50%">在隔离模式下，父进程与子进程不共享同一沙箱环境或网络环境。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="oh_ability_createchildprocessconfigs" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_Ability_CreateChildProcessConfigs()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_createchildprocessconfigs" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Ability_ChildProcessConfigs* <span class="hljs-built_in">OH_Ability_CreateChildProcessConfigs</span>()</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>创建一个子进程配置信息对象。创建对象成功后需要通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_destroychildprocessconfigs">OH_Ability_DestroyChildProcessConfigs</a>来销毁对象从而避免内存泄漏。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>*</td>         <td class="cellrowborder" width="50%">          <p>返回一个指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>对象的指针 - 子进程配置信息对象创建成功。</p>          <p>返回nullptr - 发生内部错误或者内存分配失败。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_destroychildprocessconfigs" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_DestroyChildProcessConfigs()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_destroychildprocessconfigs" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Ability_NativeChildProcess_ErrCode <span class="hljs-built_in">OH_Ability_DestroyChildProcessConfigs</span>(Ability_ChildProcessConfigs* configs)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>销毁一个子进程配置信息对象，并释放其内存，在调用该接口后，要避免继续使用已销毁的configs对象。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>* configs</td>         <td class="cellrowborder" width="50%">需要销毁的子进程配置信息对象指针。在调用该接口后，对象指针将失效，避免继续使用该指针。允许传入空指针，空指针不会触发任何操作。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 操作成功。</p>          <p>NCP_ERR_INVALID_PARAM - 传入参数为nullptr。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_childprocessconfigs_setisolationmode" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_ChildProcessConfigs_SetIsolationMode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_childprocessconfigs_setisolationmode" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Ability_NativeChildProcess_ErrCode <span class="hljs-built_in">OH_Ability_ChildProcessConfigs_SetIsolationMode</span>(Ability_ChildProcessConfigs* configs, NativeChildProcess_IsolationMode isolationMode)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置子进程配置信息对象的数据沙箱与网络环境的共享模式，详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#nativechildprocess_isolationmode">NativeChildProcess_IsolationMode</a>。该设置仅当调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_startnativechildprocesswithconfigs">OH_Ability_StartNativeChildProcessWithConfigs</a>、<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_createnativechildprocesswithconfigs">OH_Ability_CreateNativeChildProcessWithConfigs</a>接口时生效。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>* configs</td>         <td class="cellrowborder" width="50%">子进程的配置信息对象指针。不可以为空指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#nativechildprocess_isolationmode">NativeChildProcess_IsolationMode</a> isolationMode</td>         <td class="cellrowborder" width="50%">要设置的数据沙箱与网络环境的共享模式，详见NativeChildProcess_IsolationMode。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 执行成功。</p>          <p>NCP_ERR_INVALID_PARAM - 传入参数configs为nullptr。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_childprocessconfigs_setisolationuid" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_ChildProcessConfigs_SetIsolationUid()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_childprocessconfigs_setisolationuid" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Ability_NativeChildProcess_ErrCode <span class="hljs-built_in">OH_Ability_ChildProcessConfigs_SetIsolationUid</span>(Ability_ChildProcessConfigs* configs, bool isolationUid)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置子进程配置信息对象的uid是否隔离。例如用于浏览器的安全加固场景，设置主进程与子进程的uid隔离。</p>     <p>该设置仅在 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#nativechildprocess_isolationmode">NativeChildProcess_IsolationMode</a> 为NCP_ISOLATION_MODE_ISOLATED时生效。不调用该接口设置isolationUid时，则默认为false，即子进程与主进程拥有相同uid。</p>     <p><strong>起始版本：</strong> 21</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>* configs</td>         <td class="cellrowborder" width="50%">子进程的配置信息对象指针。不可以为空指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">bool isolationUid</td>         <td class="cellrowborder" width="50%">控制子进程是否使用独立的uid。true表示子进程拥有独立的uid，false表示子进程与主进程拥有相同uid。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 执行成功。</p>          <p>NCP_ERR_INVALID_PARAM - 传入参数configs为nullptr。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_childprocessconfigs_setprocessname" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_ChildProcessConfigs_SetProcessName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_childprocessconfigs_setprocessname" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">Ability_NativeChildProcess_ErrCode <span class="hljs-title">OH_Ability_ChildProcessConfigs_SetProcessName</span><span class="hljs-params">(Ability_ChildProcessConfigs* configs,<span class="hljs-type">const</span> <span class="hljs-type">char</span>* processName)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置子进程配置信息对象中的进程名称。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>* configs</td>         <td class="cellrowborder" width="50%">子进程的配置信息对象指针。不能为空指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const char* processName</td>         <td class="cellrowborder" width="50%">设置的子进程名字符串必须是非空字符串，并且只能由字母、数字和下划线构成。最大长度为64字符。最终的进程名是{bundleName}:{processName}。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 执行成功。</p>          <p>NCP_ERR_INVALID_PARAM - 传入参数configs为nullptr，或者processName包含除字母、数字、下划线以外的字符。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_onnativechildprocessstarted" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_OnNativeChildProcessStarted()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_onnativechildprocessstarted" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*OH_Ability_OnNativeChildProcessStarted)(<span class="hljs-type">int</span> errCode, OHIPCRemoteProxy *remoteProxy)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>定义通知子进程启动结果的回调函数。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">int errCode</td>         <td class="cellrowborder" width="50%">          <p>回调函数返回的错误码，可用的值如下：</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_NO_ERROR</a> - 创建子进程成功。</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_LIB_LOADING_FAILED</a> - 加载动态库文件失败或动态库中未实现必要的导出函数。</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_CONNECTION_FAILED</a> - 动态库中实现的OnConnect方法未返回有效的IPC Stub指针。</p>          <p>详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a>定义。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ohipcparcel-ohipcremoteproxy">OHIPCRemoteProxy *remoteProxy</a></td>         <td class="cellrowborder" width="50%">子进程的IPC对象指针，出现异常时可能为nullptr：使用完毕后需要调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ipc-cremote-object-h#oh_ipcremoteproxy_destroy">OH_IPCRemoteProxy_Destroy</a>方法释放。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>参考：</strong></p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ipc-cremote-object-h#oh_ipcremoteproxy_destroy">OH_IPCRemoteProxy_Destroy</a></p>    </div>    <div class="tiledSection">     <h3 id="oh_ability_createnativechildprocess" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_CreateNativeChildProcess()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_createnativechildprocess" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">OH_Ability_CreateNativeChildProcess</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* libName,OH_Ability_OnNativeChildProcessStarted onProcessStarted)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>创建子进程并加载参数中指定的动态链接库文件，进程启动结果通过回调参数异步通知，需注意回调通知为独立线程，回调函数实现需要注意线程同步，且不能执行高耗时操作避免长时间阻塞。</p>     <p>参数所指定的动态库必须实现并导出下列函数：</p>     <p>1. OHIPCRemoteStub* NativeChildProcess_OnConnect()</p>     <p>2. void NativeChildProcess_MainProc()</p>     <p>处理逻辑顺序如下列伪代码所示：</p>     <p>主进程：</p>     <p>1. OH_Ability_CreateNativeChildProcess(libName, onProcessStartedCallback)</p>     <p>子进程：</p>     <p>2. dlopen(libName)</p>     <p>3. dlsym("NativeChildProcess_OnConnect")</p>     <p>4. dlsym("NativeChildProcess_MainProc")</p>     <p>5. ipcRemote = NativeChildProcess_OnConnect()</p>     <p>6. NativeChildProcess_MainProc()</p>     <p>主进程：</p>     <p>7. onProcessStartedCallback(ipcRemote, errCode)</p>     <p>子进程：</p>     <p>8. 在NativeChildProcess_MainProc()函数返回后子进程退出。</p>     <p><strong>设备行为差异：</strong> 对于API version 13及之前版本，该接口在PC/2in1中可正常使用，在其他设备中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。对于API version 14及之后版本，该接口在PC/2in1、Tablet设备可正常使用，在其他设备中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>API version 14及之前版本，单个进程只能启动1个Native子进程。从API version 15开始，单个进程最多支持启动50个Native子进程。</p>      </div></div></div>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.25.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.25.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const char* libName</td>         <td class="cellrowborder" width="50%">子进程中加载的动态库文件名称，不能为nullptr。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessstarted">OH_Ability_OnNativeChildProcessStarted</a> onProcessStarted</td>         <td class="cellrowborder" width="50%">通知子进程启动结果的回调函数指针，不能为nullptr。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessstarted">OH_Ability_OnNativeChildProcessStarted</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.27.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.27.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">int</td>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_NO_ERROR</a> - 调用成功，但子进程的实际启动结果由回调函数通知。</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_INVALID_PARAM</a> - 无效的动态库名称或者回调函数指针。</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a> - 当前设备不支持创建Native子进程。</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_MULTI_PROCESS_DISABLED</a> - 当前设备已关闭多进程模式。</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_ALREADY_IN_CHILD</a> - 不允许在子进程中再次创建子进程。</p>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_MAX_CHILD_PROCESSES_REACHED</a> - 到达最大Native子进程数限制。</p>          <p>详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a>定义。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>参考：</strong></p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessstarted">OH_Ability_OnNativeChildProcessStarted</a></p>    </div>    <div class="tiledSection">     <h3 id="oh_ability_createnativechildprocesswithconfigs" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_CreateNativeChildProcessWithConfigs()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_createnativechildprocesswithconfigs" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">Ability_NativeChildProcess_ErrCode <span class="hljs-title">OH_Ability_CreateNativeChildProcessWithConfigs</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* libName,Ability_ChildProcessConfigs* configs, OH_Ability_OnNativeChildProcessStarted onProcessStarted)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>根据传入的子进程配置信息创建子进程，并加载参数中指定的动态链接库文件。子进程的启动结果通过回调参数异步通知调用方。该回调在独立线程中执行，需要确保线程同步，且不能执行高耗时操作避免长时间阻塞。</p>     <p>参数所指定的动态库必须实现并导出下列函数：</p>     <p>1. OHIPCRemoteStub* NativeChildProcess_OnConnect()</p>     <p>2. void NativeChildProcess_MainProc()</p>     <p>处理逻辑顺序如下列伪代码所示：</p>     <p>主进程：</p>     <p>1. OH_Ability_CreateNativeChildProcessWithConfigs(libName, configs, onProcessStartedCallback)</p>     <p>子进程：</p>     <p>2. dlopen(libName)</p>     <p>3. dlsym("NativeChildProcess_OnConnect")</p>     <p>4. dlsym("NativeChildProcess_MainProc")</p>     <p>5. ipcRemote = NativeChildProcess_OnConnect()</p>     <p>6. NativeChildProcess_MainProc()</p>     <p>主进程：</p>     <p>7. onProcessStartedCallback(ipcRemote, errCode)</p>     <p>子进程：</p>     <p>8. 在NativeChildProcess_MainProc()函数返回后子进程退出。</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1、Tablet设备中可正常调用，在其他设备中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.24.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.24.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const char* libName</td>         <td class="cellrowborder" width="50%">子进程中加载的动态库文件名称，不能为nullptr。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>* configs</td>         <td class="cellrowborder" width="50%">子进程的配置信息参数，不能为nullptr。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessstarted">OH_Ability_OnNativeChildProcessStarted</a> onProcessStarted</td>         <td class="cellrowborder" width="50%">通知子进程启动结果的回调函数指针，不能为nullptr，详见OH_Ability_OnNativeChildProcessStarted。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.26.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.26.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 执行成功。</p>          <p>NCP_ERR_INVALID_PARAM - 传入参数无效。</p>          <p>NCP_ERR_NOT_SUPPORTED - 当前设备不支持创建Native子进程。</p>          <p>NCP_ERR_MULTI_PROCESS_DISABLED - 当前设备已关闭多进程模式，不允许启动子进程。</p>          <p>NCP_ERR_ALREADY_IN_CHILD - 不允许在子进程中再次创建子进程。</p>          <p>NCP_ERR_MAX_CHILD_PROCESSES_REACHED - 超过最大Native子进程数限制。</p>          <p>详见Ability_NativeChildProcess_ErrCode定义。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>参考：</strong></p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessstarted">OH_Ability_OnNativeChildProcessStarted</a></p>    </div>    <div class="tiledSection">     <h3 id="oh_ability_startnativechildprocess" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_StartNativeChildProcess()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_startnativechildprocess" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">Ability_NativeChildProcess_ErrCode <span class="hljs-title">OH_Ability_StartNativeChildProcess</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* entry, NativeChildProcess_Args args,NativeChildProcess_Options options, <span class="hljs-type">int32_t</span> *pid)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>启动Native子进程，并加载参数中指定的动态链接库文件并调用入口函数。指定的动态库必须实现一个以<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-args">NativeChildProcess_Args</a>为参数的函数（函数名称可自定义），并导出该函数。支持传参到子进程。子进程中不支持创建ArkTS基础运行时环境。</p>     <p>示例如下：</p>     <p>void Main(NativeChildProcess_Args args);</p>     <p>处理逻辑顺序如下列伪代码所示：</p>     <p>主进程：</p>     <p>1. OH_Ability_StartNativeChildProcess(entryPoint, args, options)</p>     <p>子进程：</p>     <p>2. dlopen(libName)</p>     <p>3. dlsym("Main")</p>     <p>4. Main(args)</p>     <p>5. 子进程将在Main(args)函数返回后退出。</p>     <p><strong>设备行为差异：</strong> 对于API 13及之前版本，该接口在PC/2in1设备中可正常使用，在其他设备类型中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。对于API 14及之后版本，该接口在PC/2in1、Tablet中可正常使用，在其他设备类型中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p>     <p><strong>起始版本：</strong> 13</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.18.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.18.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const char* entry</td>         <td class="cellrowborder" width="50%">子进程中加载的动态库及入口函数，例如"libEntry.so:Main"，不能为nullptr。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-args">NativeChildProcess_Args</a> args</td>         <td class="cellrowborder" width="50%">传递给子进程的参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-options">NativeChildProcess_Options</a> options</td>         <td class="cellrowborder" width="50%">子进程选项。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int32_t *pid</td>         <td class="cellrowborder" width="50%">启动的子进程id。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.20.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.20.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 调用成功。</p>          <p>NCP_ERR_INVALID_PARAM - 无效的动态库名称或者回调函数指针。</p>          <p>NCP_ERR_NOT_SUPPORTED - 当前设备不支持创建Native子进程。</p>          <p>NCP_ERR_ALREADY_IN_CHILD - 当前设备已关闭多进程模式。</p>          <p>NCP_ERR_MAX_CHILD_PROCESSES_REACHED - 到达最大Native子进程数限制。</p>          <p>详见Ability_NativeChildProcess_ErrCode定义。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>参考：</strong></p>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessstarted">OH_Ability_OnNativeChildProcessStarted</a></p>    </div>    <div class="tiledSection">     <h3 id="oh_ability_startnativechildprocesswithconfigs" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_StartNativeChildProcessWithConfigs()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_startnativechildprocesswithconfigs" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">Ability_NativeChildProcess_ErrCode <span class="hljs-title">OH_Ability_StartNativeChildProcessWithConfigs</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* entry, NativeChildProcess_Args args, Ability_ChildProcessConfigs* configs, <span class="hljs-type">int32_t</span> *pid)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>根据参数中子进程配置信息启动Native子进程，加载参数中指定的动态链接库文件并调用入口函数。支持传参到子进程。指定的动态库必须实现一个以<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-args">NativeChildProcess_Args</a>为参数的函数（函数名称可自定义），并导出该函数。</p>     <p>示例如下：</p>     <p>void Main(NativeChildProcess_Args args);</p>     <p>处理逻辑顺序如下列伪代码所示：</p>     <p>主进程：</p>     <p>1. OH_Ability_StartNativeChildProcessWithConfigs(entryPoint, args, configs, &amp;pid)</p>     <p>子进程：</p>     <p>2. dlopen(libName)</p>     <p>3. dlsym("Main")</p>     <p>4. Main(args)</p>     <p>5. 子进程将在Main(args)函数返回后退出。</p>     <p><strong>设备行为差异：</strong> 该接口在PC/2in1、Tablet中可正常调用，在其他设备类型中返回<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">NCP_ERR_NOT_SUPPORTED</a>错误码。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.18.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.18.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const char* entry</td>         <td class="cellrowborder" width="50%">子进程中调用动态库的符号和入口函数，中间用“:”隔开（例如“libentry.so:Main”），不能为nullptr。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-args">NativeChildProcess_Args</a> args</td>         <td class="cellrowborder" width="50%">传给子进程的参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ability-childprocessconfigs">Ability_ChildProcessConfigs</a>* configs</td>         <td class="cellrowborder" width="50%">子进程的配置信息参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int32_t *pid</td>         <td class="cellrowborder" width="50%">被启动的子进程号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.20.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.20.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 执行成功。</p>          <p>NCP_ERR_INVALID_PARAM - 传入参数无效。</p>          <p>NCP_ERR_NOT_SUPPORTED - 当前设备不支持创建Native子进程。</p>          <p>NCP_ERR_ALREADY_IN_CHILD - 不允许在子进程中再次创建子进程。</p>          <p>NCP_ERR_MAX_CHILD_PROCESSES_REACHED - 超过最大Native子进程数限制。</p>          <p>详见Ability_NativeChildProcess_ErrCode定义。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_getcurrentchildprocessargs" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_GetCurrentChildProcessArgs()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_getcurrentchildprocessargs" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>NativeChildProcess_Args* <span class="hljs-built_in">OH_Ability_GetCurrentChildProcessArgs</span>()</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_startnativechildprocess">OH_Ability_StartNativeChildProcess</a>启动子进程后，子进程能够在任意so和任意子线程中获取启动参数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-args">NativeChildProcess_Args</a>。</p>     <p><strong>起始版本：</strong> 17</p>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativechildprocess-args">NativeChildProcess_Args</a>*</td>         <td class="cellrowborder" width="50%">返回指向当前子进程启动参数的指针。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_onnativechildprocessexit" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_OnNativeChildProcessExit()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_onnativechildprocessexit" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*OH_Ability_OnNativeChildProcessExit)</span><span class="hljs-params">(<span class="hljs-type">int32_t</span> pid, <span class="hljs-type">int32_t</span> signal)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>感知Native子进程退出的回调函数。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">int32_t pid</td>         <td class="cellrowborder" width="50%">启动的子进程id。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int32_t signal</td>         <td class="cellrowborder" width="50%">子进程退出信号。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>参见：</strong></p>     <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_registernativechildprocessexitcallback">OH_Ability_RegisterNativeChildProcessExitCallback</a></p>     <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_unregisternativechildprocessexitcallback">OH_Ability_UnregisterNativeChildProcessExitCallback</a></p>    </div>    <div class="tiledSection">     <h3 id="oh_ability_registernativechildprocessexitcallback" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_RegisterNativeChildProcessExitCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_registernativechildprocessexitcallback" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Ability_NativeChildProcess_ErrCode <span class="hljs-built_in">OH_Ability_RegisterNativeChildProcessExitCallback</span>(OH_Ability_OnNativeChildProcessExit onProcessExit)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>注册Native子进程异常退出回调函数，当通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_startnativechildprocess">OH_Ability_StartNativeChildProcess</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-childprocessmanager#childprocessmanagerstartnativechildprocess13">@ohos.app.ability.childProcessManager的startNativeChildProcess</a>启动的子进程异常退出时，调用入口参数的回调函数。当重复注册同一个回调函数时，子进程退出时只会执行一次回调函数。</p>     <p>参数必须实现<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessexit">OH_Ability_OnNativeChildProcessExit</a>入口函数。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/capi-nativechildprocess-exit-info" target="_blank">注册Native子进程退出回调</a>。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessexit">OH_Ability_OnNativeChildProcessExit</a> onProcessExit</td>         <td class="cellrowborder" width="50%">子进程退出的回调函数入口，不能为nullptr。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 调用成功。</p>          <p>NCP_ERR_INVALID_PARAM - 参数不合法。</p>          <p>NCP_ERR_INTERNAL - 内部错误。</p>          <p>详见Ability_NativeChildProcess_ErrCode。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_ability_unregisternativechildprocessexitcallback" device-type="phone,2in1,tablet,wearable,tv">OH_Ability_UnregisterNativeChildProcessExitCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_ability_unregisternativechildprocessexitcallback" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-xgc-c106="" class="highlight-div"><div _ngcontent-xgc-c106="" class="highlight-div-header"><div _ngcontent-xgc-c106="" class="highlight-div-header-left"><div _ngcontent-xgc-c106="" class="handle-button expand-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xgc-c106="" class="highlight-div-header-right"><div _ngcontent-xgc-c106="" class="handle-button ai-button"></div><div _ngcontent-xgc-c106="" class="handle-button line-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xgc-c106="" class="handle-button theme-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xgc-c106="" class="handle-button copy-button"><div _ngcontent-xgc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xgc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Ability_NativeChildProcess_ErrCode <span class="hljs-built_in">OH_Ability_UnregisterNativeChildProcessExitCallback</span>(OH_Ability_OnNativeChildProcessExit onProcessExit)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>解注册子进程退出回调。</p>     <p>参数必须实现<a href="/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessexit">OH_Ability_OnNativeChildProcessExit</a>入口函数。详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/capi-nativechildprocess-exit-info" target="_blank">解注册Native子进程退出回调</a>。</p>     <p><strong>起始版本：</strong> 20</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#oh_ability_onnativechildprocessexit">OH_Ability_OnNativeChildProcessExit</a> onProcessExit</td>         <td class="cellrowborder" width="50%">子进程退出的回调函数入口，不能为nullptr。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-child-process-h#ability_nativechildprocess_errcode">Ability_NativeChildProcess_ErrCode</a></td>         <td class="cellrowborder" width="50%">          <p>NCP_NO_ERROR - 调用成功。</p>          <p>NCP_ERR_INVALID_PARAM - 参数不合法。</p>          <p>NCP_ERR_INTERNAL - 内部错误。</p>          <p>NCP_ERR_CALLBACK_NOT_EXIST - 未找到回调函数。</p>          <p>详见Ability_NativeChildProcess_ErrCode。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>