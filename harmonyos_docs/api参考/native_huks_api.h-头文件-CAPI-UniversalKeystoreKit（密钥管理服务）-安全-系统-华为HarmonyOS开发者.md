<h1 _ngcontent-jlw-c119="" class="doc-title ng-star-inserted" title="native_huks_api.h"> native_huks_api.h </h1>

<div _ngcontent-jlw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>声明用于访问HUKS的API。</p> <p><strong>引用文件：</strong> &lt;huks/native_huks_api.h&gt;</p> <p><strong>库：</strong> libhuks_ndk.z.so</p> <p><strong>系统能力：</strong> SystemCapability.Security.Huks.Core</p> <p>在API 9-19，系统能力为SystemCapability.Security.Huks；从API 20起，系统能力变更为SystemCapability.Security.Huks.Core</p> <p><strong>起始版本：</strong> 9</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukskeyapi">HuksKeyApi</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_getsdkversion">struct OH_Huks_Result OH_Huks_GetSdkVersion(struct OH_Huks_Blob *sdkVersion)</a></td> <td class="cellrowborder" width="50%">获取当前Huks sdk版本号。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_generatekeyitem">struct OH_Huks_Result OH_Huks_GenerateKeyItem(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSetIn, struct OH_Huks_ParamSet *paramSetOut)</a></td> <td class="cellrowborder" width="50%">生成密钥。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_importkeyitem">struct OH_Huks_Result OH_Huks_ImportKeyItem(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet, const struct OH_Huks_Blob *key)</a></td> <td class="cellrowborder" width="50%">导入明文密钥。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_importwrappedkeyitem">struct OH_Huks_Result OH_Huks_ImportWrappedKeyItem(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_Blob *wrappingKeyAlias, const struct OH_Huks_ParamSet *paramSet, const struct OH_Huks_Blob *wrappedKeyData)</a></td> <td class="cellrowborder" width="50%">导入密文密钥。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_exportpublickeyitem">struct OH_Huks_Result OH_Huks_ExportPublicKeyItem(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet, struct OH_Huks_Blob *key)</a></td> <td class="cellrowborder" width="50%">导出公钥。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_deletekeyitem">struct OH_Huks_Result OH_Huks_DeleteKeyItem(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet)</a></td> <td class="cellrowborder" width="50%">删除密钥。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_getkeyitemparamset">struct OH_Huks_Result OH_Huks_GetKeyItemParamSet(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSetIn, struct OH_Huks_ParamSet *paramSetOut)</a></td> <td class="cellrowborder" width="50%">获取密钥的属性集。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_iskeyitemexist">struct OH_Huks_Result OH_Huks_IsKeyItemExist(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet)</a></td> <td class="cellrowborder" width="50%">判断密钥是否存在。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_attestkeyitem">struct OH_Huks_Result OH_Huks_AttestKeyItem(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet, struct OH_Huks_CertChain *certChain)</a></td> <td class="cellrowborder" width="50%">获取密钥证书链。该API仅面向系统应用开放。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_anonattestkeyitem">struct OH_Huks_Result OH_Huks_AnonAttestKeyItem(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet, struct OH_Huks_CertChain *certChain)</a></td> <td class="cellrowborder" width="50%"><p>获取密钥证书链。</p> <p> 这是一个涉及网络的耗时接口，调用方可以通过异步线程获取证书链。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_initsession">struct OH_Huks_Result OH_Huks_InitSession(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet, struct OH_Huks_Blob *handle, struct OH_Huks_Blob *token)</a></td> <td class="cellrowborder" width="50%">初始化密钥会话接口，并获取一个句柄（必选）和挑战值（可选）。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_updatesession">struct OH_Huks_Result OH_Huks_UpdateSession(const struct OH_Huks_Blob *handle, const struct OH_Huks_ParamSet *paramSet, const struct OH_Huks_Blob *inData, struct OH_Huks_Blob *outData)</a></td> <td class="cellrowborder" width="50%">分段添加密钥操作的数据并进行相应的密钥操作，输出处理数据。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_finishsession">struct OH_Huks_Result OH_Huks_FinishSession(const struct OH_Huks_Blob *handle, const struct OH_Huks_ParamSet *paramSet, const struct OH_Huks_Blob *inData, struct OH_Huks_Blob *outData)</a></td> <td class="cellrowborder" width="50%">结束密钥会话并进行相应的密钥操作，输出处理数据。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_abortsession">struct OH_Huks_Result OH_Huks_AbortSession(const struct OH_Huks_Blob *handle, const struct OH_Huks_ParamSet *paramSet)</a></td> <td class="cellrowborder" width="50%">取消密钥会话。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_listaliases">struct OH_Huks_Result OH_Huks_ListAliases(const struct OH_Huks_ParamSet *paramSet, struct OH_Huks_KeyAliasSet **outData)</a></td> <td class="cellrowborder" width="50%">获取密钥别名集。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_wrapkey">struct OH_Huks_Result OH_Huks_WrapKey(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet, struct OH_Huks_Blob *wrappedKey)</a></td> <td class="cellrowborder" width="50%">导出由特定密钥加密的封装密钥。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_unwrapkey">struct OH_Huks_Result OH_Huks_UnwrapKey(const struct OH_Huks_Blob *keyAlias, const struct OH_Huks_ParamSet *paramSet, struct OH_Huks_Blob *wrappedKey)</a></td> <td class="cellrowborder" width="50%">导入由特定密钥加密的封装密钥。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_huks_getsdkversion" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_Huks_GetSdkVersion()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_getsdkversion" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_GetSdkVersion</span>(<span class="hljs-keyword">struct</span> OH_Huks_Blob *sdkVersion)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取当前Huks sdk版本号。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *sdkVersion</td> <td class="cellrowborder" width="50%">用于存放获取到的版本信息（字符串格式）。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：sdkVersion或者sdkVersion-&gt;data是null，或者sdkVersion-&gt;size太小。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_generatekeyitem" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_GenerateKeyItem()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_generatekeyitem" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_GenerateKeyItem</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSetIn, <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSetOut)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>生成密钥。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">给要生成的密钥的别名，需要保证业务所在进程内唯一，否则会发生覆盖。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSetIn</td> <td class="cellrowborder" width="50%">生成密钥的属性信息的参数集。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">struct OH_Huks_ParamSet</a> *paramSetOut</td> <td class="cellrowborder" width="50%">生成密钥为临时类型时，存放着密钥数据；非临时类型可为空。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSetIn、paramSetOut有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_FILE_OPERATION_FAIL = 12000004 ：删除或者写文件失败。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：基础密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000006 ：加密引擎失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_CALL_SERVICE_FAILED = 12000015 ：连接用户IAM失败。</p> <p> OH_HUKS_ERR_CODE_DEVICE_PASSWORD_UNSET = 12000016 ：需要设备密码但没有设置。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> <p> OH_HUKS_ERR_CODE_KEY_ALREADY_EXIST = 12000017（API 20新增）: 同名密钥已存在。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_importkeyitem" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_ImportKeyItem()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_importkeyitem" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_ImportKeyItem</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *key)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>导入明文密钥。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">待导入密钥的别名，需要保证业务所在进程内唯一，否则会发生覆盖。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">待导入密钥的属性参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *key</td> <td class="cellrowborder" width="50%">待导入密钥数据，需符合Huks的格式要求，具体见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-huks-type-h">native_huks_type.h</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSet、key有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_FILE_OPERATION_FAIL = 12000004 ：删除或者写文件失败。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_CALL_SERVICE_FAILED = 12000015 ：连接用户IAM失败。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> <p> OH_HUKS_ERR_CODE_KEY_ALREADY_EXIST = 12000017（API 20新增）: 同名密钥已存在。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_importwrappedkeyitem" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_ImportWrappedKeyItem()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_importwrappedkeyitem" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_ImportWrappedKeyItem</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *wrappingKeyAlias, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *wrappedKeyData)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>导入密文密钥。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">待导入密钥的别名，需要保证业务所在进程内唯一，否则会发生覆盖。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *wrappingKeyAlias</td> <td class="cellrowborder" width="50%">密钥别名，该对应密钥用于密钥协商出密钥解密待导入密钥。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">待导入加密密钥的属性参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *wrappedKeyData</td> <td class="cellrowborder" width="50%">需要导入的加密的密钥数据，需要符合Huks定义的格式，具体见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-huks-type-h#oh_huks_algsuite">OH_Huks_AlgSuite</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、wrappingKeyAlias、paramSet、wrappedKeyData有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_FILE_OPERATION_FAIL = 12000004 ：删除或者写文件失败。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000006 ：加密引擎失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_CALL_SERVICE_FAILED = 12000015 ：连接用户IAM失败。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> <p> OH_HUKS_ERR_CODE_KEY_ALREADY_EXIST = 12000017（API 20新增）: 同名密钥已存在。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_exportpublickeyitem" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_ExportPublicKeyItem()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_exportpublickeyitem" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_ExportPublicKeyItem</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet, <span class="hljs-keyword">struct</span> OH_Huks_Blob *key)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>导出公钥。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">待导出公钥的密钥别名，应与所用密钥生成时使用的别名相同。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">导出公钥需要的属性参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *key</td> <td class="cellrowborder" width="50%">存放导出的公钥。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSet、key有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_deletekeyitem" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_DeleteKeyItem()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_deletekeyitem" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_DeleteKeyItem</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>删除密钥。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">待删除密钥的别名，应与密钥生成时使用的别名相同。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">删除密钥需要属性参数（默认传空）。若不指定则默认要删除的密钥存储等级为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-huks-type-h#oh_huks_authstoragelevel">OH_HUKS_AUTH_STORAGE_LEVEL_CE</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSet有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_getkeyitemparamset" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_GetKeyItemParamSet()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_getkeyitemparamset" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_GetKeyItemParamSet</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSetIn, <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSetOut)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取密钥的属性集。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">要获取参数集的密钥别名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSetIn</td> <td class="cellrowborder" width="50%">要获取参数集需要的属性TAG（默认传空）。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">struct OH_Huks_ParamSet</a> *paramSetOut</td> <td class="cellrowborder" width="50%">获取到的输出参数集。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSetIn、paramSetOut有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_iskeyitemexist" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_IsKeyItemExist()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_iskeyitemexist" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_IsKeyItemExist</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>判断密钥是否存在。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">要查找的密钥的别名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">查询密钥需要的属性TAG（默认传空）。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSet有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_attestkeyitem" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_AttestKeyItem()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_attestkeyitem" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_AttestKeyItem</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet, <span class="hljs-keyword">struct</span> OH_Huks_CertChain *certChain)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取密钥证书链。该API仅面向系统应用开放。</p> <p><strong>需要权限：</strong> ohos.permission.ATTEST_KEY，该权限仅系统应用可申请。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">要获取证书的密钥的别名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">获取密钥证书需要的参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-certchain">struct OH_Huks_CertChain</a> *certChain</td> <td class="cellrowborder" width="50%">存放输出的密钥证书链。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSet、certChain有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000006 ：加密引擎失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> <p> OH_HUKS_ERR_CODE_PERMISSION_FAIL = 201 ：权限检查失败，请先申请请求权限。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_anonattestkeyitem" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_AnonAttestKeyItem()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_anonattestkeyitem" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_AnonAttestKeyItem</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet, <span class="hljs-keyword">struct</span> OH_Huks_CertChain *certChain)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取密钥证书链。</p> <p> 这是一个涉及网络的耗时接口，调用方可以通过异步线程获取证书链。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">要获取证书的密钥的别名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">获取密钥证书需要的参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-certchain">struct OH_Huks_CertChain</a> *certChain</td> <td class="cellrowborder" width="50%">存放输出的密钥证书链。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数keyAlias、paramSet、certChain有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000006 ：加密引擎失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> <p> OH_HUKS_ERR_CODE_PERMISSION_FAIL = 201 ：权限检查失败，请先申请请求权限。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_initsession" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_InitSession()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_initsession" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_InitSession</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet, <span class="hljs-keyword">struct</span> OH_Huks_Blob *handle, <span class="hljs-keyword">struct</span> OH_Huks_Blob *token)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>初始化密钥会话接口，并获取一个句柄（必选）和挑战值（可选）。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">操作的密钥的别名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">初始化操作的密钥参数集合。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *handle</td> <td class="cellrowborder" width="50%">密钥会话的句柄，后续其他操作时传入该句柄，包括<a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_updatesession">OH_Huks_UpdateSession</a>，<a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_finishsession">OH_Huks_FinishSession</a>，<a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_abortsession">OH_Huks_AbortSession</a>。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *token</td> <td class="cellrowborder" width="50%">存放安全访问控制时传回的token。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数 keyAlias、paramSet、handle、token有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_SESSION_LIMIT = 12000010 ：已达最大会话限制。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000006 ：加密引擎失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>参考：</strong></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_updatesession">OH_Huks_UpdateSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_finishsession">OH_Huks_FinishSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_abortsession">OH_Huks_AbortSession</a></p> </div>  <div class="tiledSection"><h3 id="oh_huks_updatesession" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_UpdateSession()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_updatesession" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_UpdateSession</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *handle,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *inData, <span class="hljs-keyword">struct</span> OH_Huks_Blob *outData)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>分段添加密钥操作的数据并进行相应的密钥操作，输出处理数据。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *handle</td> <td class="cellrowborder" width="50%">密钥会话句柄，通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_initsession">OH_Huks_InitSession</a>接口生成。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">密钥操作对应的输入参数集。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *inData</td> <td class="cellrowborder" width="50%">要处理的输入数据，如果数据过大，可分片多次调用。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *outData</td> <td class="cellrowborder" width="50%">经过对应的密钥操作后输出的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数handle、paramSet、inData、outData有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在，或handle不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CREDENTIAL_NOT_EXIST = 12000013 ：证书不存在。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000006 ：加密引擎失败。</p> <p> OH_HUKS_ERR_CODE_KEY_AUTH_VERIFY_FAILED = 12000008 ：认证令牌校验失败。</p> <p> OH_HUKS_ERR_CODE_KEY_AUTH_PERMANENTLY_INVALIDATED = 12000007 ：认证令牌信息校验失败。</p> <p> OH_HUKS_ERR_CODE_KEY_AUTH_TIME_OUT = 12000009 ：认证令牌超时。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_DEVICE_PASSWORD_UNSET = 12000016 ：需要设备密码但没有设置。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>参考：</strong></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_initsession">OH_Huks_InitSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_finishsession">OH_Huks_FinishSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_abortsession">OH_Huks_AbortSession</a></p> </div>  <div class="tiledSection"><h3 id="oh_huks_finishsession" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_FinishSession()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_finishsession" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_FinishSession</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *handle,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *inData, <span class="hljs-keyword">struct</span> OH_Huks_Blob *outData)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>结束密钥会话并进行相应的密钥操作，输出处理数据。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *handle</td> <td class="cellrowborder" width="50%">密钥会话句柄，通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_initsession">OH_Huks_InitSession</a>接口生成。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">密钥操作对应的输入参数集。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *inData</td> <td class="cellrowborder" width="50%">要处理的输入数据。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *outData</td> <td class="cellrowborder" width="50%">经过对应的密钥操作后输出的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数handle、paramSet、inData、outData有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在，或handle不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CREDENTIAL_NOT_EXIST = 12000013 ：证书不存在。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000006 ：加密引擎失败。</p> <p> OH_HUKS_ERR_CODE_KEY_AUTH_VERIFY_FAILED = 12000008 ：认证令牌校验失败。</p> <p> OH_HUKS_ERR_CODE_KEY_AUTH_PERMANENTLY_INVALIDATED = 12000007 ：认证令牌信息校验失败。</p> <p> OH_HUKS_ERR_CODE_KEY_AUTH_TIME_OUT = 12000009 ：认证令牌超时。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_DEVICE_PASSWORD_UNSET = 12000016 ：需要设备密码但没有设置。</p> <p> OH_HUKS_ERR_CODE_FEATURE_NOT_SUPPORTED = 12000001 ：暂不支持该功能。</p> <p> OH_HUKS_ERR_CODE_KEY_ALREADY_EXIST = 12000017（API 20新增）: 同名密钥已存在。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>参考：</strong></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_initsession">OH_Huks_InitSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_updatesession">OH_Huks_UpdateSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_abortsession">OH_Huks_AbortSession</a></p> </div>  <div class="tiledSection"><h3 id="oh_huks_abortsession" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_AbortSession()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_abortsession" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_AbortSession</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *handle,<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>取消密钥会话。</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *handle</td> <td class="cellrowborder" width="50%">密钥会话句柄，通过<a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_initsession">OH_Huks_InitSession</a>接口生成。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">取消密钥会话需要的输入参数集（默认传空）。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数handle、paramSet、inData、outData有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INVALID_CRYPTO_ALG_ARGUMENT = 12000003 ：密钥参数无效。</p> <p> OH_HUKS_ERR_CODE_ITEM_NOT_EXIST = 12000011 ：密钥文件不存在，或handle不存在。</p> <p> OH_HUKS_ERR_CODE_MISSING_CRYPTO_ALG_ARGUMENT = 12000002 ：获取密钥参数失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CREDENTIAL_NOT_EXIST = 12000013 ：证书不存在。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>参考：</strong></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_initsession">OH_Huks_InitSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_updatesession">OH_Huks_UpdateSession</a></p> <p><a href="/consumer/cn/doc/harmonyos-references/capi-native-huks-api-h#oh_huks_finishsession">OH_Huks_FinishSession</a></p> </div>  <div class="tiledSection"><h3 id="oh_huks_listaliases" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_ListAliases()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_listaliases" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_ListAliases</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet,<span class="hljs-keyword">struct</span> OH_Huks_KeyAliasSet **outData)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取密钥别名集。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">获取密钥别名集需要的输入参数集（默认传空）。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-keyaliasset">struct OH_Huks_KeyAliasSet</a> **outData</td> <td class="cellrowborder" width="50%">经过对应的密钥操作后输出的数据。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_ILLEGAL_ARGUMENT = 401 ：参数paramSet、outData有一个无效。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_wrapkey" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_WrapKey()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_wrapkey" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_WrapKey</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet,<span class="hljs-keyword">struct</span> OH_Huks_Blob *wrappedKey)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>导出由特定密钥加密的封装密钥。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">表示要导出的密钥别名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">表示加密导出密钥的参数集。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *wrappedKey</td> <td class="cellrowborder" width="50%">表示要导出的封装好的密钥。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_NOT_SUPPORTED_API = 801 ：接口不支持。</p> <p> OH_HUKS_ERR_CODE_FILE_OPERATION_FAIL = 12000004 ：删除或者写文件失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_CRYPTO_FAIL = 12000011 ：密钥文件不存在。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_INVALID_ARGUMENT = 12000018 ：密钥别名、参数集或者封装密钥不合法。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_huks_unwrapkey" device-type="phone,2in1,tablet,wearable,tv">OH_Huks_UnwrapKey()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_huks_unwrapkey" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-jlw-c106="" class="highlight-div"><div _ngcontent-jlw-c106="" class="highlight-div-header"><div _ngcontent-jlw-c106="" class="highlight-div-header-left"><div _ngcontent-jlw-c106="" class="handle-button expand-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-jlw-c106="" class="highlight-div-header-right"><div _ngcontent-jlw-c106="" class="handle-button ai-button"></div><div _ngcontent-jlw-c106="" class="handle-button line-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-jlw-c106="" class="handle-button theme-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-jlw-c106="" class="handle-button copy-button"><div _ngcontent-jlw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-jlw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">struct</span> <span class="hljs-title class_">OH_Huks_Result</span> <span class="hljs-built_in">OH_Huks_UnwrapKey</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_Blob *keyAlias, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_Huks_ParamSet *paramSet,<span class="hljs-keyword">struct</span> OH_Huks_Blob *wrappedKey)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>导入由特定密钥加密的封装密钥。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">const struct OH_Huks_Blob</a> *keyAlias</td> <td class="cellrowborder" width="50%">表示要导入的密钥别名。在服务进程中，别名必须唯一。否则，密钥将被覆盖。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-paramset">const struct OH_Huks_ParamSet</a> *paramSet</td> <td class="cellrowborder" width="50%">表示加密导入密钥的参数集。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-blob">struct OH_Huks_Blob</a> *wrappedKey</td> <td class="cellrowborder" width="50%">表示要导入的封装好的密钥。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-hukstypeapi-oh-huks-result">struct OH_Huks_Result</a></td> <td class="cellrowborder" width="50%"><p>可能的返回码（errorCode）：</p> <p> OH_HUKS_SUCCESS = 0 ：操作成功。</p> <p> OH_HUKS_ERR_CODE_NOT_SUPPORTED_API = 801 ：接口不支持。</p> <p> OH_HUKS_ERR_CODE_FILE_OPERATION_FAIL = 12000004 ：删除或者写文件失败。</p> <p> OH_HUKS_ERR_CODE_COMMUNICATION_FAIL = 12000005 ：IPC通信失败。</p> <p> OH_HUKS_ERR_CODE_INTERNAL_ERROR = 12000012 ：发生系统错误。</p> <p> OH_HUKS_ERR_CODE_INSUFFICIENT_MEMORY = 12000014 ：内存不足。</p> <p> OH_HUKS_ERR_CODE_CALL_SERVICE_FAILED = 12000015 ：连接用户IAM失败。</p> <p> OH_HUKS_ERR_CODE_INVALID_ARGUMENT = 12000018 ：密钥别名、参数集或者封装密钥不合法。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>