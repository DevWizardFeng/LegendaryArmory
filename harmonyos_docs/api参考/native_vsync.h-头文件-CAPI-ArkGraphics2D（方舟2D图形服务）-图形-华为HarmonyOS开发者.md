<h1 _ngcontent-enh-c119="" class="doc-title ng-star-inserted" title="native_vsync.h"> native_vsync.h </h1>

<div _ngcontent-enh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义获取和使用NativeVsync的相关函数。</p> <p><strong>引用文件：</strong> &lt;native_vsync/native_vsync.h&gt;</p> <p><strong>库：</strong> libnative_vsync.so</p> <p><strong>起始版本：</strong> 9</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync">NativeVsync</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync-expectedraterange">OH_NativeVSync_ExpectedRateRange</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_NativeVSync_ExpectedRateRange</td> <td class="cellrowborder" width="33.33333333333333%">期望帧率范围结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_NativeVSync</td> <td class="cellrowborder" width="33.33333333333333%">提供OH_NativeVSync结构体声明。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_framecallback">typedef void (*OH_NativeVSync_FrameCallback)(long long timestamp, void *data)</a></td> <td class="cellrowborder" width="33.33333333333333%">OH_NativeVSync_FrameCallback</td> <td class="cellrowborder" width="33.33333333333333%">VSync回调函数类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_create">OH_NativeVSync* OH_NativeVSync_Create(const char* name, unsigned int length)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>创建一个OH_NativeVSync实例，每次调用都会产生一个新的实例。</p> <p>本接口需要与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_destroy">OH_NativeVSync_Destroy</a>接口配合使用，否则会存在内存泄露。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_create_forassociatedwindow">OH_NativeVSync* OH_NativeVSync_Create_ForAssociatedWindow(uint64_t windowID, const char* name, unsigned int length)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>创建一个和窗口绑定的OH_NativeVSync实例，每次调用都会产生一个新的实例。</p> <p>使用本接口创建出来的OH_NativeVSync实例的实际vsync周期与系统vsync周期不完全一致，系统会根据窗口的状态对实际vsync周期进行调整。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_destroy">void OH_NativeVSync_Destroy(OH_NativeVSync* nativeVsync)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>销毁OH_NativeVSync实例。</p> <p>销毁后的OH_NativeVSync指针不能再继续使用，否则会有野指针问题，尤其需要注意多线程并发时对于OH_NativeVSync指针的管理。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_requestframe">int OH_NativeVSync_RequestFrame(OH_NativeVSync* nativeVsync, OH_NativeVSync_FrameCallback callback, void* data)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>请求下一次vsync信号，当信号到来时，调用回调函数callback。</p> <p>如果在同一帧内中多次调用此接口，则只会触发最后一个回调。</p> <p>如果此接口与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_requestframewithmulticallback">OH_NativeVSync_RequestFrameWithMultiCallback</a>接口在同一帧内被调用，则此接口的功能不会生效。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_requestframewithmulticallback">int OH_NativeVSync_RequestFrameWithMultiCallback(OH_NativeVSync* nativeVsync, OH_NativeVSync_FrameCallback callback, void* data)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>请求下一次vsync信号，当信号到来时，调用回调函数callback。</p> <p>如果在同一帧内中多次调用此接口，每一次传入的callback都会被执行。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_getperiod">int OH_NativeVSync_GetPeriod(OH_NativeVSync* nativeVsync, long long* period)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>获取vsync周期。</p> <p>vsync周期是在每次使用OH_NativeVSync_RequestFrame接口请求vsync信号后收到OH_NativeVSync_FrameCallback回调的时候才会更新。</p> <p>首次使用该接口获取vsync周期之前，需要先使用OH_NativeVSync_RequestFrame接口请求vsync信号，在收到OH_NativeVSync_FrameCallback回调之后，才可以通过该接口获取到vsync周期。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_dvsyncswitch">int OH_NativeVSync_DVSyncSwitch(OH_NativeVSync* nativeVsync, bool enable)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>启用DVSync以提高自绘制动画场景的流畅性。</p> <p>DVSync是Decoupled VSync的缩写，它是一种与硬件VSync解耦的帧时序管理策略。</p> <p>DVSync通过提前发送带有未来时间戳的VSync信号驱动后续动画帧的提前绘制，这些帧会被帧缓冲队列缓存；DVSync通过缓存的帧减少未来可能发生的丢帧，进而提高动画场景的流畅性。</p> <p>因为DVSync需要占用空闲的自绘制帧缓冲用于缓存提前绘制的动画帧，用户需要确保至少有一个空闲的帧缓冲区，否则不建议启用此功能。</p> <p>启用DVSync后，用户需要正确响应提前发送的VSync信号，并在前一个VSync对应的动画帧完成后再请求下一个VSync，且自绘制帧需要携带与VSync一致的时间戳。</p> <p>在动画结束之后，用户需要关闭DVSync。</p> <p>在不支持DVSync的平台或者如果有另一个应用程序已经启用了DVSync，则当前的启用操作将不会生效，应用程序仍将收到正常的VSync信号。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_setexpectedframeraterange">int OH_NativeVSync_SetExpectedFrameRateRange(OH_NativeVSync* nativeVsync, OH_NativeVSync_ExpectedRateRange* range)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置VSync期望帧率以及期望帧率的范围。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_nativevsync_framecallback" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_NativeVSync_FrameCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_framecallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*OH_NativeVSync_FrameCallback)(<span class="hljs-type">long</span> <span class="hljs-type">long</span> timestamp, <span class="hljs-type">void</span> *data)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>VSync回调函数类型。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">long long timestamp</td> <td class="cellrowborder" width="50%">VSync使用CLOCK_MONOTONIC获取的系统时间戳, 单位为纳秒。</td> </tr> <tr><td class="cellrowborder" width="50%">void *data</td> <td class="cellrowborder" width="50%">用户自定义数据。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_create" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NativeVSync* <span class="hljs-title">OH_NativeVSync_Create</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个OH_NativeVSync实例，每次调用都会产生一个新的实例。</p> <p>本接口需要与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_destroy">OH_NativeVSync_Destroy</a>接口配合使用，否则会存在内存泄露。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char* name</td> <td class="cellrowborder" width="50%">表示一个名字，与创建的OH_NativeVSync实例关联。</td> </tr> <tr><td class="cellrowborder" width="50%">unsigned int length</td> <td class="cellrowborder" width="50%">name的长度（字符数）。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>*</td> <td class="cellrowborder" width="50%">返回一个指向OH_NativeVSync实例的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_create_forassociatedwindow" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_Create_ForAssociatedWindow()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_create_forassociatedwindow" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">OH_NativeVSync* <span class="hljs-title">OH_NativeVSync_Create_ForAssociatedWindow</span><span class="hljs-params">(<span class="hljs-type">uint64_t</span> windowID, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* name, <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> length)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个和窗口绑定的OH_NativeVSync实例，每次调用都会产生一个新的实例。</p> <p>使用本接口创建出来的OH_NativeVSync实例的实际vsync周期与系统vsync周期不完全一致，系统会根据窗口的状态对实际vsync周期进行调整。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 14</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">uint64_t windowID</td> <td class="cellrowborder" width="50%">表示窗口ID，窗口子进程索引标识符，可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-external-window-h#oh_nativewindow_getsurfaceid">OH_NativeWindow_GetSurfaceId</a>接口获取。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* name</td> <td class="cellrowborder" width="50%">表示一个名称，与创建的OH_NativeVSync实例关联。</td> </tr> <tr><td class="cellrowborder" width="50%">unsigned int length</td> <td class="cellrowborder" width="50%">name的长度（字符数）。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>*</td> <td class="cellrowborder" width="50%">返回一个指向OH_NativeVSync实例的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_destroy" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_NativeVSync_Destroy</span><span class="hljs-params">(OH_NativeVSync* nativeVsync)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁OH_NativeVSync实例。</p> <p>销毁后的OH_NativeVSync指针不能再继续使用，否则会有野指针问题，尤其需要注意多线程并发时对于OH_NativeVSync指针的管理。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>* nativeVsync</td> <td class="cellrowborder" width="50%">一个指向OH_NativeVSync实例的指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_requestframe" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_RequestFrame()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_requestframe" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">int</span> <span class="hljs-title function_">OH_NativeVSync_RequestFrame</span><span class="hljs-params">(OH_NativeVSync* nativeVsync, OH_NativeVSync_FrameCallback callback, <span class="hljs-keyword">void</span>* data)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>请求下一次vsync信号，当信号到来时，调用回调函数callback。</p> <p>如果在同一帧内中多次调用此接口，则只会触发最后一个回调。</p> <p>如果此接口与<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_requestframewithmulticallback">OH_NativeVSync_RequestFrameWithMultiCallback</a>接口在同一帧内被调用，则此接口的功能不会生效。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 9</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>* nativeVsync</td> <td class="cellrowborder" width="50%">一个指向OH_NativeVSync实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_framecallback">OH_NativeVSync_FrameCallback</a> callback</td> <td class="cellrowborder" width="50%">一个OH_NativeVSync_FrameCallback类型的函数指针，当下一次vsync信号到来时会被调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* data</td> <td class="cellrowborder" width="50%">一个指向用户自定义数据结构的指针，类型是void。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int</td> <td class="cellrowborder" width="50%">返回值为0表示执行成功，其他返回值可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-graphic-error-code-h#ohnativeerrorcode">OHNativeErrorCode</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_requestframewithmulticallback" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_RequestFrameWithMultiCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_requestframewithmulticallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">int</span> <span class="hljs-title function_">OH_NativeVSync_RequestFrameWithMultiCallback</span><span class="hljs-params">(OH_NativeVSync* nativeVsync, OH_NativeVSync_FrameCallback callback, <span class="hljs-keyword">void</span>* data)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>请求下一次vsync信号，当信号到来时，调用回调函数callback。</p> <p>如果在同一帧内中多次调用此接口，每一次传入的callback都会被执行。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>* nativeVsync</td> <td class="cellrowborder" width="50%">一个指向OH_NativeVSync实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-native-vsync-h#oh_nativevsync_framecallback">OH_NativeVSync_FrameCallback</a> callback</td> <td class="cellrowborder" width="50%">一个OH_NativeVSync_FrameCallback类型的函数指针，当下一次vsync信号到来时会被调用。</td> </tr> <tr><td class="cellrowborder" width="50%">void* data</td> <td class="cellrowborder" width="50%">一个指向用户自定义数据结构的指针，类型是void。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int</td> <td class="cellrowborder" width="50%">返回值为0表示执行成功，其他返回值可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-graphic-error-code-h#ohnativeerrorcode">OHNativeErrorCode</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_getperiod" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_GetPeriod()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_getperiod" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">int</span> <span class="hljs-title function_">OH_NativeVSync_GetPeriod</span><span class="hljs-params">(OH_NativeVSync* nativeVsync, <span class="hljs-type">long</span> <span class="hljs-type">long</span>* period)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取vsync周期。</p> <p>vsync周期是在每次使用OH_NativeVSync_RequestFrame接口请求vsync信号后收到OH_NativeVSync_FrameCallback回调的时候才会更新。</p> <p>首次使用该接口获取vsync周期之前，需要先使用OH_NativeVSync_RequestFrame接口请求vsync信号，在收到OH_NativeVSync_FrameCallback回调之后，才可以通过该接口获取到vsync周期。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>* nativeVsync</td> <td class="cellrowborder" width="50%">一个指向OH_NativeVSync实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">long long* period</td> <td class="cellrowborder" width="50%">表示vsync周期，作为出参使用。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.12.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int</td> <td class="cellrowborder" width="50%">返回值为0表示执行成功，其他返回值可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-graphic-error-code-h#ohnativeerrorcode">OHNativeErrorCode</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_dvsyncswitch" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_DVSyncSwitch()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_dvsyncswitch" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">OH_NativeVSync_DVSyncSwitch</span><span class="hljs-params">(OH_NativeVSync* nativeVsync, <span class="hljs-type">bool</span> enable)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>启用DVSync以提高自绘制动画场景的流畅性。</p> <p>DVSync是Decoupled VSync的缩写，它是一种与硬件VSync解耦的帧时序管理策略。</p> <p>DVSync通过提前发送带有未来时间戳的VSync信号驱动后续动画帧的提前绘制，这些帧会被帧缓冲队列缓存；DVSync通过缓存的帧减少未来可能发生的丢帧，进而提高动画场景的流畅性。</p> <p>因为DVSync需要占用空闲的自绘制帧缓冲用于缓存提前绘制的动画帧，用户需要确保至少有一个空闲的帧缓冲区，否则不建议启用此功能。</p> <p>启用DVSync后，用户需要正确响应提前发送的VSync信号，并在前一个VSync对应的动画帧完成后再请求下一个VSync，且自绘制帧需要携带与VSync一致的时间戳。</p> <p>在动画结束之后，用户需要关闭DVSync。</p> <p>在不支持DVSync的平台或者如果有另一个应用程序已经启用了DVSync，则当前的启用操作将不会生效，应用程序仍将收到正常的VSync信号。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 14</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.14.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.14.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>* nativeVsync</td> <td class="cellrowborder" width="50%">一个指向OH_NativeVSync实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool enable</td> <td class="cellrowborder" width="50%">表示打开或者关闭DVSync，true表示打开，false表示关闭。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.16.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.16.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int</td> <td class="cellrowborder" width="50%">返回值为0表示执行成功，其他返回值可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-graphic-error-code-h#ohnativeerrorcode">OHNativeErrorCode</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_nativevsync_setexpectedframeraterange" device-type="phone,2in1,tablet,wearable,tv">OH_NativeVSync_SetExpectedFrameRateRange()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_nativevsync_setexpectedframeraterange" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-enh-c106="" class="highlight-div"><div _ngcontent-enh-c106="" class="highlight-div-header"><div _ngcontent-enh-c106="" class="highlight-div-header-left"><div _ngcontent-enh-c106="" class="handle-button expand-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-enh-c106="" class="highlight-div-header-right"><div _ngcontent-enh-c106="" class="handle-button ai-button"></div><div _ngcontent-enh-c106="" class="handle-button line-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-enh-c106="" class="handle-button theme-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-enh-c106="" class="handle-button copy-button"><div _ngcontent-enh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-enh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-go" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">int</span> OH_NativeVSync_SetExpectedFrameRateRange(OH_NativeVSync* nativeVsync, OH_NativeVSync_ExpectedRateRange* <span class="hljs-keyword">range</span>)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置VSync期望帧率及其范围。实际帧率可能因系统功耗、性能和硬件规格等限制而与设置的期望值不一致。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Graphic2D.NativeVsync</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>* nativeVsync</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync">OH_NativeVSync</a>实例的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync-expectedraterange">OH_NativeVSync_ExpectedRateRange</a>* range</td> <td class="cellrowborder" width="50%"><p>指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-nativevsync-oh-nativevsync-expectedraterange">OH_NativeVSync_ExpectedRateRange</a>实例的指针。</p> <p>有效的期望帧率范围为：0 &lt;= 最小值 &lt;= 期望帧率 &lt;= 最大值 &lt;= 144。</p> <p>期望帧率为0时，表示取消设置期望帧率。</p> <p>此指针需开发者自行管理生命周期。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int</td> <td class="cellrowborder" width="50%">返回值为0表示成功，其他返回值可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-graphic-error-code-h#ohnativeerrorcode">OHNativeErrorCode</a>。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>