<h1 _ngcontent-nxc-c119="" class="doc-title ng-star-inserted" title="net_ssl_c.h"> net_ssl_c.h </h1>

<div _ngcontent-nxc-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义SSL/TLS证书链校验模块C接口数据结构。</p> <p><strong>引用文件：</strong> &lt;network/netstack/net_ssl/net_ssl_c.h&gt;</p> <p><strong>库：</strong> libnet_ssl.so</p> <p><strong>系统能力：</strong> SystemCapability.Communication.NetStack</p> <p><strong>起始版本：</strong> 11</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-netstack">netstack</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-net-ssl-c-h#oh_netstack_certverification">uint32_t OH_NetStack_CertVerification(const struct NetStack_CertBlob *cert, const struct NetStack_CertBlob *caCert)</a></td> <td class="cellrowborder" width="50%">证书链校验接口。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-net-ssl-c-h#oh_netstack_getpinsetforhostname">int32_t OH_NetStack_GetPinSetForHostName(const char *hostname, NetStack_CertificatePinning *pin)</a></td> <td class="cellrowborder" width="50%">获取证书锁定信息。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-net-ssl-c-h#oh_netstack_getcertificatesforhostname">int32_t OH_NetStack_GetCertificatesForHostName(const char *hostname, NetStack_Certificates *certs)</a></td> <td class="cellrowborder" width="50%">获取证书信息。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-net-ssl-c-h#oh_netstack_destroycertificatescontent">void OH_Netstack_DestroyCertificatesContent(NetStack_Certificates *certs)</a></td> <td class="cellrowborder" width="50%">释放证书内容。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-net-ssl-c-h#oh_netstack_iscleartextpermitted">int32_t OH_Netstack_IsCleartextPermitted(bool *isCleartextPermitted)</a></td> <td class="cellrowborder" width="50%">整体明文HTTP是否允许。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-net-ssl-c-h#oh_netstack_iscleartextpermittedbyhostname">int32_t OH_Netstack_IsCleartextPermittedByHostName(const char *hostname, bool *isCleartextPermitted)</a></td> <td class="cellrowborder" width="50%">按域名明文HTTP是否允许。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-net-ssl-c-h#oh_netstack_iscleartextcfgbycomponent">int32_t OH_Netstack_IsCleartextCfgByComponent(const char *component, bool *componentCfg)</a></td> <td class="cellrowborder" width="50%">检查组件是否已配置开启明文HTTP拦截功能。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_netstack_certverification" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_NetStack_CertVerification()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_netstack_certverification" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nxc-c106="" class="highlight-div"><div _ngcontent-nxc-c106="" class="highlight-div-header"><div _ngcontent-nxc-c106="" class="highlight-div-header-left"><div _ngcontent-nxc-c106="" class="handle-button expand-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nxc-c106="" class="highlight-div-header-right"><div _ngcontent-nxc-c106="" class="handle-button ai-button"></div><div _ngcontent-nxc-c106="" class="handle-button line-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nxc-c106="" class="handle-button theme-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nxc-c106="" class="handle-button copy-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nxc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">uint32_t</span> <span class="hljs-title">OH_NetStack_CertVerification</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> NetStack_CertBlob *cert, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> NetStack_CertBlob *caCert)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>对外暴露的证书链校验接口。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.NetStack</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-netstack-netstack-certblob">const struct NetStack_CertBlob</a> *cert</td> <td class="cellrowborder" width="50%">用户传入的待校验证书。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-netstack-netstack-certblob">const struct NetStack_CertBlob</a> *caCert</td> <td class="cellrowborder" width="50%">用户指定的证书，若为空则以系统预置证书进行校验。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">uint32_t</td> <td class="cellrowborder" width="50%"><p>0 - 成功。</p> <p> 2305001 - 未指定的错误。</p> <p> 2305002 - 无法获取颁发者证书。</p> <p> 2305003 - 无法获取证书吊销列表（CRL）。</p> <p> 2305004 - 无法解密证书签名。</p> <p> 2305005 - 无法解密CRL签名。</p> <p> 2305006 - 无法解码颁发者公钥。</p> <p> 2305007 - 证书签名失败。</p> <p> 2305008 - CRL签名失败。</p> <p> 2305009 - 证书尚未生效。</p> <p> 2305010 - 证书已过期。</p> <p> 2305011 - CRL尚未有效。</p> <p> 2305012 - CRL已过期。</p> <p> 2305023 - 证书已被吊销。</p> <p> 2305024 - 证书颁发机构（CA）无效。</p> <p> 2305027 - 证书不受信任。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_netstack_getpinsetforhostname" device-type="phone,2in1,tablet,wearable,tv">OH_NetStack_GetPinSetForHostName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_netstack_getpinsetforhostname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nxc-c106="" class="highlight-div"><div _ngcontent-nxc-c106="" class="highlight-div-header"><div _ngcontent-nxc-c106="" class="highlight-div-header-left"><div _ngcontent-nxc-c106="" class="handle-button expand-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nxc-c106="" class="highlight-div-header-right"><div _ngcontent-nxc-c106="" class="handle-button ai-button"></div><div _ngcontent-nxc-c106="" class="handle-button line-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nxc-c106="" class="handle-button theme-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nxc-c106="" class="handle-button copy-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nxc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_NetStack_GetPinSetForHostName</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *hostname, NetStack_CertificatePinning *pin)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取证书锁定信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.NetStack</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *hostname</td> <td class="cellrowborder" width="50%">主机名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-netstack-netstack-certificatepinning">NetStack_CertificatePinning</a> *pin</td> <td class="cellrowborder" width="50%">证书锁定信息的结构体。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>0 - 成功。</p> <p> 401 - 参数设置错误。</p> <p> 2305999 - 内存错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_netstack_getcertificatesforhostname" device-type="phone,2in1,tablet,wearable,tv">OH_NetStack_GetCertificatesForHostName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_netstack_getcertificatesforhostname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nxc-c106="" class="highlight-div"><div _ngcontent-nxc-c106="" class="highlight-div-header"><div _ngcontent-nxc-c106="" class="highlight-div-header-left"><div _ngcontent-nxc-c106="" class="handle-button expand-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nxc-c106="" class="highlight-div-header-right"><div _ngcontent-nxc-c106="" class="handle-button ai-button"></div><div _ngcontent-nxc-c106="" class="handle-button line-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nxc-c106="" class="handle-button theme-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nxc-c106="" class="handle-button copy-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nxc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_NetStack_GetCertificatesForHostName</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *hostname, NetStack_Certificates *certs)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取证书信息。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.NetStack</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *hostname</td> <td class="cellrowborder" width="50%">主机名。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-netstack-netstack-certificates">NetStack_Certificates</a> *certs</td> <td class="cellrowborder" width="50%">证书信息的结构体。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>0 - 成功。</p> <p> 401 - 参数设置错误。</p> <p> 2305999 - 内存错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_netstack_destroycertificatescontent" device-type="phone,2in1,tablet,wearable,tv">OH_Netstack_DestroyCertificatesContent()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_netstack_destroycertificatescontent" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nxc-c106="" class="highlight-div"><div _ngcontent-nxc-c106="" class="highlight-div-header"><div _ngcontent-nxc-c106="" class="highlight-div-header-left"><div _ngcontent-nxc-c106="" class="handle-button expand-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nxc-c106="" class="highlight-div-header-right"><div _ngcontent-nxc-c106="" class="handle-button ai-button"></div><div _ngcontent-nxc-c106="" class="handle-button line-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nxc-c106="" class="handle-button theme-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nxc-c106="" class="handle-button copy-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nxc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Netstack_DestroyCertificatesContent</span><span class="hljs-params">(NetStack_Certificates *certs)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>释放证书内容。</p> <p><strong>系统能力：</strong> SystemCapability.Communication.NetStack</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-netstack-netstack-certificates">NetStack_Certificates</a> *certs</td> <td class="cellrowborder" width="50%">证书信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_netstack_iscleartextpermitted" device-type="phone,2in1,tablet,wearable,tv">OH_Netstack_IsCleartextPermitted()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_netstack_iscleartextpermitted" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nxc-c106="" class="highlight-div"><div _ngcontent-nxc-c106="" class="highlight-div-header"><div _ngcontent-nxc-c106="" class="highlight-div-header-left"><div _ngcontent-nxc-c106="" class="handle-button expand-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nxc-c106="" class="highlight-div-header-right"><div _ngcontent-nxc-c106="" class="handle-button ai-button"></div><div _ngcontent-nxc-c106="" class="handle-button line-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nxc-c106="" class="handle-button theme-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nxc-c106="" class="handle-button copy-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nxc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_Netstack_IsCleartextPermitted</span><span class="hljs-params">(<span class="hljs-type">bool</span> *isCleartextPermitted)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>整体明文HTTP是否允许。</p> <p><strong>需要权限：</strong> ohos.permission.INTERNET</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">bool *isCleartextPermitted</td> <td class="cellrowborder" width="50%">输出参数，如果允许明文流量，则true，否则false。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>0 - 成功。</p> <p> 201 - 权限被拒。</p> <p> 401 - 参数错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_netstack_iscleartextpermittedbyhostname" device-type="phone,2in1,tablet,wearable,tv">OH_Netstack_IsCleartextPermittedByHostName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_netstack_iscleartextpermittedbyhostname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nxc-c106="" class="highlight-div"><div _ngcontent-nxc-c106="" class="highlight-div-header"><div _ngcontent-nxc-c106="" class="highlight-div-header-left"><div _ngcontent-nxc-c106="" class="handle-button expand-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nxc-c106="" class="highlight-div-header-right"><div _ngcontent-nxc-c106="" class="handle-button ai-button"></div><div _ngcontent-nxc-c106="" class="handle-button line-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nxc-c106="" class="handle-button theme-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nxc-c106="" class="handle-button copy-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nxc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_Netstack_IsCleartextPermittedByHostName</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *hostname, <span class="hljs-type">bool</span> *isCleartextPermitted)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>按域名明文HTTP是否允许。</p> <p><strong>需要权限：</strong> ohos.permission.INTERNET</p> <p><strong>起始版本：</strong> 18</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *hostname</td> <td class="cellrowborder" width="50%">主机名。</td> </tr> <tr><td class="cellrowborder" width="50%">bool *isCleartextPermitted</td> <td class="cellrowborder" width="50%">输出参数，如果允许指定主机名的明文流量，则true，否则false。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>0 - 成功。</p> <p> 201 - 权限被拒。</p> <p> 401 - 参数错误。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_netstack_iscleartextcfgbycomponent" device-type="phone,2in1,tablet,wearable,tv">OH_Netstack_IsCleartextCfgByComponent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_netstack_iscleartextcfgbycomponent" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-nxc-c106="" class="highlight-div"><div _ngcontent-nxc-c106="" class="highlight-div-header"><div _ngcontent-nxc-c106="" class="highlight-div-header-left"><div _ngcontent-nxc-c106="" class="handle-button expand-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nxc-c106="" class="highlight-div-header-right"><div _ngcontent-nxc-c106="" class="handle-button ai-button"></div><div _ngcontent-nxc-c106="" class="handle-button line-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nxc-c106="" class="handle-button theme-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nxc-c106="" class="handle-button copy-button"><div _ngcontent-nxc-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nxc-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_Netstack_IsCleartextCfgByComponent</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *component, <span class="hljs-type">bool</span> *componentCfg)</span></span>;</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>检查组件是否已配置开启明文HTTP拦截功能。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">const char *component</td> <td class="cellrowborder" width="50%">组件名称，当前支持的组件：Network Kit、ArkWeb。</td> </tr> <tr><td class="cellrowborder" width="50%">bool *componentCfg</td> <td class="cellrowborder" width="50%">输出参数，组件是否配置开启明文HTTP拦截功能，如果开启则为true，否则为false。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%"><p>0 - 成功。</p> <p> 2100001 - 无效的参数值。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>