<h1 _ngcontent-dah-c119="" class="doc-title ng-star-inserted" title="oh_location_type.h"> oh_location_type.h </h1>

<div _ngcontent-dah-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><p>定义位置服务常用的属性。</p> <p><strong>引用文件：</strong> &lt;LocationKit/oh_location_type.h&gt;</p> <p><strong>库：</strong> liblocation_ndk.so</p> <p><strong>系统能力：</strong> SystemCapability.Location.Location.Core</p> <p><strong>起始版本：</strong> 13</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location">Location</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-basicinfo">Location_BasicInfo</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_BasicInfo</td> <td class="cellrowborder" width="33.33333333333333%">定义位置基本信息的结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-info">Location_Info</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_Info</td> <td class="cellrowborder" width="33.33333333333333%">定义位置信息的结构体。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_RequestConfig</td> <td class="cellrowborder" width="33.33333333333333%">定义位置请求参数的结构体。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,wearable">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_resultcode">Location_ResultCode</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_ResultCode</td> <td class="cellrowborder" width="33.33333333333333%">定义位置服务的错误码。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_usescene">Location_UseScene</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_UseScene</td> <td class="cellrowborder" width="33.33333333333333%">定义位置请求中的用户活动场景类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_powerconsumptionscene">Location_PowerConsumptionScene</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_PowerConsumptionScene</td> <td class="cellrowborder" width="33.33333333333333%">定义位置请求中的功耗场景类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_sourcetype">Location_SourceType</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_SourceType</td> <td class="cellrowborder" width="33.33333333333333%">定义位置信息的来源。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationinfo_getbasicinfo">Location_BasicInfo OH_LocationInfo_GetBasicInfo(Location_Info* location)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取位置基本信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationinfo_getadditionalinfo">Location_ResultCode OH_LocationInfo_GetAdditionalInfo(Location_Info* location, char* additionalInfo, uint32_t length)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取位置信息中的附加信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_infocallback">typedef void (*Location_InfoCallback)(Location_Info* location, void* userData)</a></td> <td class="cellrowborder" width="33.33333333333333%">Location_InfoCallback</td> <td class="cellrowborder" width="33.33333333333333%">用于接收位置上报的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_location_createrequestconfig">Location_RequestConfig* OH_Location_CreateRequestConfig(void)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建一个位置请求参数结构体实例。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_location_destroyrequestconfig">void OH_Location_DestroyRequestConfig(Location_RequestConfig* requestConfig)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁位置请求参数实例并回收内存。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationrequestconfig_setusescene">void OH_LocationRequestConfig_SetUseScene(Location_RequestConfig* requestConfig, Location_UseScene useScene)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%"><p>设置位置请求参数中的用户活动场景。</p> <p> 位置请求参数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>中以useScene优先。</p> <p> 如果设置了useScene，则powerConsumptionScene参数无效。</p> <p> 如果未设置useScene，设置了powerConsumptionScene则该参数生效。</p> <p> 如果两个参数都未设置，则默认useScene为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_usescene">LOCATION_USE_SCENE_DAILY_LIFE_SERVICE</a>，powerConsumptionScene参数无效。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationrequestconfig_setpowerconsumptionscene">void OH_LocationRequestConfig_SetPowerConsumptionScene(Location_RequestConfig* requestConfig, Location_PowerConsumptionScene powerConsumptionScene)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置位置请求参数中的功耗场景。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationrequestconfig_setinterval">void OH_LocationRequestConfig_SetInterval(Location_RequestConfig* requestConfig, int interval)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置位置请求参数中的位置上报间隔。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationrequestconfig_setcallback">void OH_LocationRequestConfig_SetCallback(Location_RequestConfig* requestConfig, Location_InfoCallback callback, void* userData)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="location_resultcode" device-type="phone,2in1,tablet,wearable" class="firsth2">Location_ResultCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="location_resultcode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Location_ResultCode</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义位置服务的错误码。</p> <p><strong>起始版本：</strong> 13</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">LOCATION_SUCCESS = 0</td> <td class="cellrowborder" width="50%">操作成功。</td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_PERMISSION_DENIED = 201</td> <td class="cellrowborder" width="50%">权限校验失败。</td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_INVALID_PARAM = 401</td> <td class="cellrowborder" width="50%"><p>参数错误。</p> <p> 可能原因：1.输入参数为空指针；2.参数数值超出定义范围。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_NOT_SUPPORTED = 801</td> <td class="cellrowborder" width="50%">该功能不支持。由于设备能力有限，无法调用该函数。</td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_SERVICE_UNAVAILABLE = 3301000</td> <td class="cellrowborder" width="50%">位置服务不可用。</td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_SWITCH_OFF = 3301100</td> <td class="cellrowborder" width="50%">位置开关处于关闭状态。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="location_usescene" device-type="phone,2in1,tablet,wearable">Location_UseScene<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="location_usescene" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Location_UseScene</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义位置请求中的用户活动场景类型。</p> <p><strong>起始版本：</strong> 13</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">LOCATION_USE_SCENE_NAVIGATION = 0x0401</td> <td class="cellrowborder" width="50%"><p>导航场景。</p> <p> 适用于在户外获取设备实时位置的场景，如车载、步行导航。</p> <p> 主要使用GNSS定位技术提供定位服务，功耗较高。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_USE_SCENE_SPORT = 0x0402</td> <td class="cellrowborder" width="50%"><p>表示运动场景。</p> <p> 适用于记录用户位置轨迹的场景，如运动类应用记录轨迹功能。</p> <p> 主要使用GNSS定位技术提供定位服务，功耗较高。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_USE_SCENE_TRANSPORT = 0x0403</td> <td class="cellrowborder" width="50%"><p>表示出行场景。</p> <p> 适用于用户出行场景，如打车、乘坐公共交通等场景。</p> <p> 主要使用GNSS定位技术提供定位服务，功耗较高。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_USE_SCENE_DAILY_LIFE_SERVICE = 0x0404</td> <td class="cellrowborder" width="50%"><p>表示日常服务使用场景。</p> <p> 适用于不需要定位用户精确位置的使用场景，如新闻资讯、网购、点餐类应用。</p> <p> 该场景仅使用网络定位技术提供定位服务，功耗较低。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="location_powerconsumptionscene" device-type="phone,2in1,tablet,wearable">Location_PowerConsumptionScene<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="location_powerconsumptionscene" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Location_PowerConsumptionScene</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义位置请求中的功耗场景类型。</p> <p><strong>起始版本：</strong> 13</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">LOCATION_HIGH_POWER_CONSUMPTION = 0x0601</td> <td class="cellrowborder" width="50%"><p>高功耗。</p> <p> 以GNSS定位技术为主。在GNSS提供稳定位置结果之前会使用网络定位技术提供服务。</p> <p> 在持续定位时，如果超过30秒无法获取GNSS定位结果则会使用网络定位技术获取位置。</p> <p> 对设备的硬件资源消耗较大，功耗较大。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_LOW_POWER_CONSUMPTION = 0x0602</td> <td class="cellrowborder" width="50%"><p>低功耗。</p> <p> 适用于对用户位置精度要求不高的使用场景，如新闻资讯、网购、点餐类应用。</p> <p> 该场景仅使用网络定位技术提供定位服务，功耗较低。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_NO_POWER_CONSUMPTION = 0x0603</td> <td class="cellrowborder" width="50%"><p>无功耗。</p> <p> 这种场景下不会主动触发定位，会在其他应用定位时，才给当前应用返回位置。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="location_sourcetype" device-type="phone,2in1,tablet,wearable">Location_SourceType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="location_sourcetype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Location_SourceType</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义位置信息的来源。</p> <p><strong>起始版本：</strong> 13</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">LOCATION_SOURCE_TYPE_GNSS = 1</td> <td class="cellrowborder" width="50%">表示定位结果来自于GNSS定位技术。</td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_SOURCE_TYPE_NETWORK = 2</td> <td class="cellrowborder" width="50%">表示定位结果来自于网络定位技术。</td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_SOURCE_TYPE_INDOOR = 3</td> <td class="cellrowborder" width="50%">表示定位结果来自于室内高精度定位技术。</td> </tr> <tr><td class="cellrowborder" width="50%">LOCATION_SOURCE_TYPE_RTK = 4</td> <td class="cellrowborder" width="50%">表示定位结果来自于室外高精度定位技术。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_locationinfo_getbasicinfo" device-type="phone,2in1,tablet,wearable" class="firsth2">OH_LocationInfo_GetBasicInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_locationinfo_getbasicinfo" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Location_BasicInfo <span class="hljs-built_in">OH_LocationInfo_GetBasicInfo</span>(Location_Info* location)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取位置基本信息。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-info">Location_Info</a>* location</td> <td class="cellrowborder" width="50%"><p>指向位置信息结构体的指针。</p> <p> 需要传入非空指针，该指针可以在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_infocallback">Location_InfoCallback</a>中获取。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-basicinfo">Location_BasicInfo</a></td> <td class="cellrowborder" width="50%">返回位置基本信息结构体。详细定义请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-basicinfo">Location_BasicInfo</a>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_locationinfo_getadditionalinfo" device-type="phone,2in1,tablet,wearable">OH_LocationInfo_GetAdditionalInfo()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_locationinfo_getadditionalinfo" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">Location_ResultCode <span class="hljs-title">OH_LocationInfo_GetAdditionalInfo</span><span class="hljs-params">(Location_Info* location, <span class="hljs-type">char</span>* additionalInfo, <span class="hljs-type">uint32_t</span> length)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取位置信息中的附加信息。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-info">Location_Info</a>* location</td> <td class="cellrowborder" width="50%"><p>指向位置信息结构体的指针。</p> <p> 需要传入非空指针，该指针可以在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_infocallback">Location_InfoCallback</a>中获取。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">char* additionalInfo</td> <td class="cellrowborder" width="50%"><p>char类型的非空指针；该变量用于保存附加信息字符串，该字符串是JSON格式。</p> <p> 该指针和对应的内存由调用者创建，建议申请大于等于256字节的内存。</p> <p> 如果传入空指针，会返回错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t length</td> <td class="cellrowborder" width="50%">表示additionalInfo的内存大小。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_resultcode">Location_ResultCode</a></td> <td class="cellrowborder" width="50%"><p>返回操作结果，详细定义参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_resultcode">Location_ResultCode</a>。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_resultcode">LOCATION_SUCCESS</a> 获取附加信息成功。</p> <p> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_resultcode">LOCATION_INVALID_PARAM</a> 1. 入参location或additionalInfo是空指针。</p> <p> 2. 入参length太小，也就是additionalInfo指向的内存太小导致无法保存完整的附加信息字符串。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="location_infocallback" device-type="phone,2in1,tablet,wearable">Location_InfoCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="location_infocallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*Location_InfoCallback)(Location_Info* location, <span class="hljs-type">void</span>* userData)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于接收位置上报的回调函数。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-info">Location_Info</a>* location</td> <td class="cellrowborder" width="50%"><p>指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-info">Location_Info</a>实例的指针，携带最新的位置信息。</p> <p> location实例的内存会在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_infocallback">Location_InfoCallback</a>结束时回收，请在此之前调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationinfo_getbasicinfo">OH_LocationInfo_GetBasicInfo</a>等接口获取位置信息。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">指向调用者数据结构或对象的指针，该参数是通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_locationrequestconfig_setcallback">OH_LocationRequestConfig_SetCallback</a>传入的。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_location_createrequestconfig" device-type="phone,2in1,tablet,wearable">OH_Location_CreateRequestConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_location_createrequestconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Location_RequestConfig* <span class="hljs-built_in">OH_Location_CreateRequestConfig</span>(void)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个位置请求参数结构体实例。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig*</a></td> <td class="cellrowborder" width="50%"><p>返回指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>实例的指针。</p> <p> 如果返回NULL表示创建失败，可能的原因是应用地址空间满，导致空间分配不出来。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_location_destroyrequestconfig" device-type="phone,2in1,tablet,wearable">OH_Location_DestroyRequestConfig()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_location_destroyrequestconfig" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_Location_DestroyRequestConfig</span><span class="hljs-params">(Location_RequestConfig* requestConfig)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁位置请求参数实例并回收内存。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>* requestConfig</td> <td class="cellrowborder" width="50%"><p>指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>实例的指针。</p> <p> 该实例是由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_location_createrequestconfig">OH_Location_CreateRequestConfig</a>创建的。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_locationrequestconfig_setusescene" device-type="phone,2in1,tablet,wearable">OH_LocationRequestConfig_SetUseScene()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_locationrequestconfig_setusescene" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_LocationRequestConfig_SetUseScene</span><span class="hljs-params">(Location_RequestConfig* requestConfig, Location_UseScene useScene)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置位置请求参数中的用户活动场景。</p> <p> 位置请求参数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>中以useScene优先。</p> <p> 如果设置了useScene，则powerConsumptionScene参数无效。</p> <p> 如果未设置useScene，设置了powerConsumptionScene则该参数生效。</p> <p> 如果两个参数都未设置，则默认useScene为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_usescene">LOCATION_USE_SCENE_DAILY_LIFE_SERVICE</a>，powerConsumptionScene参数无效。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>* requestConfig</td> <td class="cellrowborder" width="50%"><p>指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>实例的指针。</p> <p> 该实例是由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_location_createrequestconfig">OH_Location_CreateRequestConfig</a>创建的。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_usescene">Location_UseScene</a> useScene</td> <td class="cellrowborder" width="50%"><p>表示位置请求时的用户活动场景。</p> <p> 默认值是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_usescene">LOCATION_USE_SCENE_DAILY_LIFE_SERVICE</a>。</p> <p> 详细定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_usescene">Location_UseScene</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_locationrequestconfig_setpowerconsumptionscene" device-type="phone,2in1,tablet,wearable">OH_LocationRequestConfig_SetPowerConsumptionScene()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_locationrequestconfig_setpowerconsumptionscene" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_LocationRequestConfig_SetPowerConsumptionScene</span><span class="hljs-params">(Location_RequestConfig* requestConfig, Location_PowerConsumptionScene powerConsumptionScene)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置位置请求参数中的功耗场景。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>* requestConfig</td> <td class="cellrowborder" width="50%"><p>指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>实例的指针。</p> <p> 该实例是由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_location_createrequestconfig">OH_Location_CreateRequestConfig</a>创建的。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_powerconsumptionscene">Location_PowerConsumptionScene</a> powerConsumptionScene</td> <td class="cellrowborder" width="50%"><p>表示位置请求的功耗场景。</p> <p> 默认值是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_powerconsumptionscene">LOCATION_LOW_POWER_CONSUMPTION</a>。</p> <p> 详细定义见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_powerconsumptionscene">Location_PowerConsumptionScene</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_locationrequestconfig_setinterval" device-type="phone,2in1,tablet,wearable">OH_LocationRequestConfig_SetInterval()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_locationrequestconfig_setinterval" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_LocationRequestConfig_SetInterval</span><span class="hljs-params">(Location_RequestConfig* requestConfig, <span class="hljs-type">int</span> interval)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置位置请求参数中的位置上报间隔。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>* requestConfig</td> <td class="cellrowborder" width="50%"><p>指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>实例的指针。</p> <p> 该实例是由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_location_createrequestconfig">OH_Location_CreateRequestConfig</a>创建的。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">int interval</td> <td class="cellrowborder" width="50%">表示位置上报时间间隔，单位是“秒”。取值范围为大于等于1，默认值为1。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_locationrequestconfig_setcallback" device-type="phone,2in1,tablet,wearable">OH_LocationRequestConfig_SetCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_locationrequestconfig_setcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">Wearable</span></div><div _ngcontent-dah-c106="" class="highlight-div"><div _ngcontent-dah-c106="" class="highlight-div-header"><div _ngcontent-dah-c106="" class="highlight-div-header-left"><div _ngcontent-dah-c106="" class="handle-button expand-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dah-c106="" class="highlight-div-header-right"><div _ngcontent-dah-c106="" class="handle-button ai-button"></div><div _ngcontent-dah-c106="" class="handle-button line-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dah-c106="" class="handle-button theme-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dah-c106="" class="handle-button copy-button"><div _ngcontent-dah-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dah-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">void</span> <span class="hljs-title function_">OH_LocationRequestConfig_SetCallback</span><span class="hljs-params">(Location_RequestConfig* requestConfig, Location_InfoCallback callback, <span class="hljs-keyword">void</span>* userData)</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置回调函数。</p> <p><strong>起始版本：</strong> 13</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>* requestConfig</td> <td class="cellrowborder" width="50%"><p>指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-location-location-requestconfig">Location_RequestConfig</a>实例的指针。</p> <p> 该实例是由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#oh_location_createrequestconfig">OH_Location_CreateRequestConfig</a>创建的。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_infocallback">Location_InfoCallback</a> callback</td> <td class="cellrowborder" width="50%"><p>指向回调函数的指针，该回调函数用于接收位置信息变化。</p> <p> 详细定义请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-location-type-h#location_infocallback">Location_InfoCallback</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%">void* userData</td> <td class="cellrowborder" width="50%">指向调用者数据结构或对象的指针。这个指针会在回调函数执行时作为入参回传给调用者。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>