<h1 _ngcontent-fyn-c119="" class="doc-title ng-star-inserted" title="oh_sensor_type.h"> oh_sensor_type.h </h1>

<div _ngcontent-fyn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义常用传感器属性。</p> <p><strong>引用文件：</strong> &lt;sensors/oh_sensor_type.h&gt;</p> <p><strong>库：</strong> libohsensor.so</p> <p><strong>系统能力：</strong> SystemCapability.Sensors.Sensor</p> <p><strong>起始版本：</strong> 11</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor">Sensor</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_Info</td> <td class="cellrowborder" width="33.33333333333333%">定义传感器信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-event">Sensor_Event</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_Event</td> <td class="cellrowborder" width="33.33333333333333%">定义传感器数据信息。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_SubscriptionId</td> <td class="cellrowborder" width="33.33333333333333%">定义传感器订阅ID，唯一标识传感器。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_SubscriptionAttribute</td> <td class="cellrowborder" width="33.33333333333333%">定义传感器订阅属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_Subscriber</td> <td class="cellrowborder" width="33.33333333333333%">定义传感器订阅者信息。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_type">Sensor_Type</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_Type</td> <td class="cellrowborder" width="33.33333333333333%">枚举传感器类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_Result</td> <td class="cellrowborder" width="33.33333333333333%">定义传感器错误码。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_accuracy">Sensor_Accuracy</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_Accuracy</td> <td class="cellrowborder" width="33.33333333333333%">枚举传感器报告的数据的精度级别。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_createinfos">Sensor_Info **OH_Sensor_CreateInfos(uint32_t count)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">用给定的数字创建一个实例数组，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_destroyinfos">int32_t OH_Sensor_DestroyInfos(Sensor_Info **sensors, uint32_t count)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁实例数组并回收内存，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorinfo_getname">int32_t OH_SensorInfo_GetName(Sensor_Info* sensor, char *sensorName, uint32_t *length)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器名称。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorinfo_getvendorname">int32_t OH_SensorInfo_GetVendorName(Sensor_Info* sensor, char *vendorName, uint32_t *length)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器的厂商名称。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorinfo_gettype">int32_t OH_SensorInfo_GetType(Sensor_Info* sensor, Sensor_Type *sensorType)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorinfo_getresolution">int32_t OH_SensorInfo_GetResolution(Sensor_Info* sensor, float *resolution)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器分辨率。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorinfo_getminsamplinginterval">int32_t OH_SensorInfo_GetMinSamplingInterval(Sensor_Info* sensor, int64_t *minSamplingInterval)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器的最小数据上报间隔。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorinfo_getmaxsamplinginterval">int32_t OH_SensorInfo_GetMaxSamplingInterval(Sensor_Info* sensor, int64_t *maxSamplingInterval)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器的最大数据上报间隔时间。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorevent_gettype">int32_t OH_SensorEvent_GetType(Sensor_Event* sensorEvent, Sensor_Type *sensorType)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorevent_gettimestamp">int32_t OH_SensorEvent_GetTimestamp(Sensor_Event* sensorEvent, int64_t *timestamp)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器数据的时间戳。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorevent_getaccuracy">int32_t OH_SensorEvent_GetAccuracy(Sensor_Event* sensorEvent, Sensor_Accuracy *accuracy)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器数据的精度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorevent_getdata">int32_t OH_SensorEvent_GetData(Sensor_Event* sensorEvent, float **data, uint32_t *length)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器数据。数据的长度和内容依赖于监听的传感器类型，传感器上报的数据格式如下：SENSOR_TYPE_ACCELEROMETER: data[0]、data[1]、data[2]分别表示设备x、y、z轴的加速度分量，单位m/s2。SENSOR_TYPE_GYROSCOPE: data[0]、data[1]、data[2]分别表示设备x、y、z轴的旋转角速度，单位弧度/s。SENSOR_TYPE_AMBIENT_LIGHT: data[0]表示环境光强度，单位勒克斯；从api版本12开始，将返回两个额外的数据，其中data[1]表示色温，单位为开尔文；data[2]表示红外亮度，单位cd/m2。SENSOR_TYPE_MAGNETIC_FIELD: data[0]、data[1]、data[2]分别表示设备x、y、z轴的地磁分量，单位微特斯拉。SENSOR_TYPE_BAROMETER：data[0]表示气压值，单位hPa。SENSOR_TYPE_HALL: data[0]表示皮套吸合状态，0表示打开，大于0表示吸附。SENSOR_TYPE_PROXIMITY：data[0]表示接近状态，0表示接近，大于0表示远离。SENSOR_TYPE_ORIENTATION:data[0]、data[1]、data[2]分别表示设备绕z、x、y轴的角度，单位度。SENSOR_TYPE_GRAVITY：data[0]、data[1]、data[2]分别表示设备x、y、z轴的重力加速度分量，单位m/s2。SENSOR_TYPE_ROTATION_VECTOR:data[0]、data[1]、data[2]分别表示设备x、y、z轴的旋转角度，单位度，data[3]表示旋转向量元素。SENSOR_TYPE_PEDOMETER_DETECTION:data[0]表示几步检测状态，1表示检测到了步数变化。SENSOR_TYPE_PEDOMETER:data[0]表示步数。SENSOR_TYPE_HEART_RATE：data[0]表示心率数值。SENSOR_TYPE_LINEAR_ACCELERATION：从api版本13开始支持。data[0]，data[1]，data[2]，表示分别绕设备的x、y、z轴的线性加速度，单位为m/s2。SENSOR_TYPE_GAME_ROTATION_VECTOR：从api版本13支持。data[0]，data[1]和data[2]，表示设备分别围绕x、y、z轴的旋转角度，单位为度。data[3]表示旋转向量。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_createsubscriptionid">Sensor_SubscriptionId *OH_Sensor_CreateSubscriptionId(void)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建一个<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>实例。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_destroysubscriptionid">int32_t OH_Sensor_DestroySubscriptionId(Sensor_SubscriptionId *id)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>实例并回收内存。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorsubscriptionid_gettype">int32_t OH_SensorSubscriptionId_GetType(Sensor_SubscriptionId* id, Sensor_Type *sensorType)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorsubscriptionid_settype">int32_t OH_SensorSubscriptionId_SetType(Sensor_SubscriptionId* id, const Sensor_Type sensorType)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置传感器类型。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_createsubscriptionattribute">Sensor_SubscriptionAttribute *OH_Sensor_CreateSubscriptionAttribute(void)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>实例。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_destroysubscriptionattribute">int32_t OH_Sensor_DestroySubscriptionAttribute(Sensor_SubscriptionAttribute *attribute)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>实例并回收内存。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorsubscriptionattribute_setsamplinginterval">int32_t OH_SensorSubscriptionAttribute_SetSamplingInterval(Sensor_SubscriptionAttribute* attribute, const int64_t samplingInterval)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置传感器数据报告间隔。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorsubscriptionattribute_getsamplinginterval">int32_t OH_SensorSubscriptionAttribute_GetSamplingInterval(Sensor_SubscriptionAttribute* attribute, int64_t *samplingInterval)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取传感器数据报告间隔。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_eventcallback">typedef void (*Sensor_EventCallback)(Sensor_Event *event)</a></td> <td class="cellrowborder" width="33.33333333333333%">Sensor_EventCallback</td> <td class="cellrowborder" width="33.33333333333333%">定义用于报告传感器数据的回调函数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_createsubscriber">Sensor_Subscriber *OH_Sensor_CreateSubscriber(void)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建一个<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>实例。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensor_destroysubscriber">int32_t OH_Sensor_DestroySubscriber(Sensor_Subscriber *subscriber)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">销毁<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>实例并回收内存。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorsubscriber_setcallback">int32_t OH_SensorSubscriber_SetCallback(Sensor_Subscriber* subscriber, const Sensor_EventCallback callback)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">设置一个回调函数来报告传感器数据。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#oh_sensorsubscriber_getcallback">int32_t OH_SensorSubscriber_GetCallback(Sensor_Subscriber* subscriber, Sensor_EventCallback *callback)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取用于报告传感器数据的回调函数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="sensor_type" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">Sensor_Type<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensor_type" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Sensor_Type</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>枚举传感器类型。</p> <p><strong>起始版本：</strong> 11</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">SENSOR_TYPE_ACCELEROMETER = 1</td> <td class="cellrowborder" width="50%">加速度传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_GYROSCOPE = 2</td> <td class="cellrowborder" width="50%">陀螺仪传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_AMBIENT_LIGHT = 5</td> <td class="cellrowborder" width="50%">环境光传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_MAGNETIC_FIELD = 6</td> <td class="cellrowborder" width="50%">地磁传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_BAROMETER = 8</td> <td class="cellrowborder" width="50%">气压传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_HALL = 10</td> <td class="cellrowborder" width="50%">霍尔传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_PROXIMITY = 12</td> <td class="cellrowborder" width="50%">接近光传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_ORIENTATION = 256</td> <td class="cellrowborder" width="50%">方向传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_GRAVITY = 257</td> <td class="cellrowborder" width="50%">重力传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_LINEAR_ACCELERATION = 258</td> <td class="cellrowborder" width="50%">线性加速度传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_ROTATION_VECTOR = 259</td> <td class="cellrowborder" width="50%">旋转矢量传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_GAME_ROTATION_VECTOR = 262</td> <td class="cellrowborder" width="50%">游戏旋转矢量传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_PEDOMETER_DETECTION = 265</td> <td class="cellrowborder" width="50%">计步器检测传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_PEDOMETER = 266</td> <td class="cellrowborder" width="50%">计步器传感器。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_TYPE_HEART_RATE = 278</td> <td class="cellrowborder" width="50%">心率传感器。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="sensor_result" device-type="phone,2in1,tablet,wearable,tv">Sensor_Result<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensor_result" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Sensor_Result</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义传感器错误码。</p> <p><strong>起始版本：</strong> 11</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">SENSOR_SUCCESS = 0</td> <td class="cellrowborder" width="50%">操作成功。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_PERMISSION_DENIED = 201</td> <td class="cellrowborder" width="50%">权限验证失败。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_PARAMETER_ERROR = 401</td> <td class="cellrowborder" width="50%">参数检查失败。例如，没有传入强制参数，或者传入的参数类型不正确。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_SERVICE_EXCEPTION = 14500101</td> <td class="cellrowborder" width="50%">传感器服务异常。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="sensor_accuracy" device-type="phone,2in1,tablet,wearable,tv">Sensor_Accuracy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensor_accuracy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Sensor_Accuracy</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>枚举传感器报告的数据的精度级别。</p> <p><strong>起始版本：</strong> 11</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">SENSOR_ACCURACY_UNRELIABLE = 0</td> <td class="cellrowborder" width="50%">传感器数据不可靠。有可能传感器不与设备接触而进行测量。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_ACCURACY_LOW = 1</td> <td class="cellrowborder" width="50%">传感器数据精度较低。数据在使用前必须根据环境进行校准。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_ACCURACY_MEDIUM = 2</td> <td class="cellrowborder" width="50%">传感器数据处于中等精度水平。建议用户在使用前根据实际环境进行数据校准。</td> </tr> <tr><td class="cellrowborder" width="50%">SENSOR_ACCURACY_HIGH = 3</td> <td class="cellrowborder" width="50%">传感器数据具有很高的精度。数据可以直接使用。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="oh_sensor_createinfos" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">OH_Sensor_CreateInfos()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_createinfos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Sensor_Info **<span class="hljs-built_in">OH_Sensor_CreateInfos</span>(uint32_t count)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用给定的数字创建一个实例数组，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">uint32_t count</td> <td class="cellrowborder" width="50%">要创建的实例的数量，请参考 <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info **</a></td> <td class="cellrowborder" width="50%">如果操作成功，返回指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>实例数组的双指针；否则返回<strong>NULL</strong>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensor_destroyinfos" device-type="phone,2in1,tablet,wearable,tv">OH_Sensor_DestroyInfos()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_destroyinfos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_Sensor_DestroyInfos</span><span class="hljs-params">(Sensor_Info **sensors, <span class="hljs-type">uint32_t</span> count)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁实例数组并回收内存，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a> **sensors</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>实例数组的双指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t count</td> <td class="cellrowborder" width="50%">要销毁的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>实例的数量。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorinfo_getname" device-type="phone,2in1,tablet,wearable,tv">OH_SensorInfo_GetName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorinfo_getname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorInfo_GetName</span><span class="hljs-params">(Sensor_Info* sensor, <span class="hljs-type">char</span> *sensorName, <span class="hljs-type">uint32_t</span> *length)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器名称。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>* sensor</td> <td class="cellrowborder" width="50%">指向传感器信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">char *sensorName</td> <td class="cellrowborder" width="50%">指向传感器名称的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t *length</td> <td class="cellrowborder" width="50%">指向长度的指针，以字节为单位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorinfo_getvendorname" device-type="phone,2in1,tablet,wearable,tv">OH_SensorInfo_GetVendorName()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorinfo_getvendorname" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorInfo_GetVendorName</span><span class="hljs-params">(Sensor_Info* sensor, <span class="hljs-type">char</span> *vendorName, <span class="hljs-type">uint32_t</span> *length)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器的厂商名称。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>* sensor</td> <td class="cellrowborder" width="50%">指向传感器信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">char *vendorName</td> <td class="cellrowborder" width="50%">指向供应商名称的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t *length</td> <td class="cellrowborder" width="50%">指向长度的指针，以字节为单位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorinfo_gettype" device-type="phone,2in1,tablet,wearable,tv">OH_SensorInfo_GetType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorinfo_gettype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_SensorInfo_GetType</span>(Sensor_Info* sensor, Sensor_Type *sensorType)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器类型。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>* sensor</td> <td class="cellrowborder" width="50%">指向传感器信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_type">Sensor_Type</a> *sensorType</td> <td class="cellrowborder" width="50%">指向传感器类型的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorinfo_getresolution" device-type="phone,2in1,tablet,wearable,tv">OH_SensorInfo_GetResolution()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorinfo_getresolution" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorInfo_GetResolution</span><span class="hljs-params">(Sensor_Info* sensor, <span class="hljs-type">float</span> *resolution)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器分辨率。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>* sensor</td> <td class="cellrowborder" width="50%">指向传感器信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">float *resolution</td> <td class="cellrowborder" width="50%">指向传感器分辨率<a href="/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_accuracy">Sensor_Accuracy</a>的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorinfo_getminsamplinginterval" device-type="phone,2in1,tablet,wearable,tv">OH_SensorInfo_GetMinSamplingInterval()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorinfo_getminsamplinginterval" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorInfo_GetMinSamplingInterval</span><span class="hljs-params">(Sensor_Info* sensor, <span class="hljs-type">int64_t</span> *minSamplingInterval)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器的最小数据上报间隔。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>* sensor</td> <td class="cellrowborder" width="50%">指向传感器信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t *minSamplingInterval</td> <td class="cellrowborder" width="50%">指向最小数据报告间隔的指针，以纳秒为单位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorinfo_getmaxsamplinginterval" device-type="phone,2in1,tablet,wearable,tv">OH_SensorInfo_GetMaxSamplingInterval()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorinfo_getmaxsamplinginterval" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorInfo_GetMaxSamplingInterval</span><span class="hljs-params">(Sensor_Info* sensor, <span class="hljs-type">int64_t</span> *maxSamplingInterval)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器的最大数据上报间隔时间。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-info">Sensor_Info</a>* sensor</td> <td class="cellrowborder" width="50%">指向传感器信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t *maxSamplingInterval</td> <td class="cellrowborder" width="50%">-指向最大数据报告间隔的指针，单位为纳秒。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorevent_gettype" device-type="phone,2in1,tablet,wearable,tv">OH_SensorEvent_GetType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorevent_gettype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_SensorEvent_GetType</span>(Sensor_Event* sensorEvent, Sensor_Type *sensorType)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器类型。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-event">Sensor_Event</a>* sensorEvent</td> <td class="cellrowborder" width="50%">指向传感器数据信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_type">Sensor_Type</a> *sensorType</td> <td class="cellrowborder" width="50%">指向传感器类型的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorevent_gettimestamp" device-type="phone,2in1,tablet,wearable,tv">OH_SensorEvent_GetTimestamp()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorevent_gettimestamp" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorEvent_GetTimestamp</span><span class="hljs-params">(Sensor_Event* sensorEvent, <span class="hljs-type">int64_t</span> *timestamp)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器数据的时间戳。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-event">Sensor_Event</a>* sensorEvent</td> <td class="cellrowborder" width="50%">指向传感器数据信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t *timestamp</td> <td class="cellrowborder" width="50%">时间戳指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorevent_getaccuracy" device-type="phone,2in1,tablet,wearable,tv">OH_SensorEvent_GetAccuracy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorevent_getaccuracy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_SensorEvent_GetAccuracy</span>(Sensor_Event* sensorEvent, Sensor_Accuracy *accuracy)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器数据的精度。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-event">Sensor_Event</a>* sensorEvent</td> <td class="cellrowborder" width="50%">指向传感器数据信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_accuracy">Sensor_Accuracy</a> *accuracy</td> <td class="cellrowborder" width="50%">指向精度的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorevent_getdata" device-type="phone,2in1,tablet,wearable,tv">OH_SensorEvent_GetData()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorevent_getdata" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorEvent_GetData</span><span class="hljs-params">(Sensor_Event* sensorEvent, <span class="hljs-type">float</span> **data, <span class="hljs-type">uint32_t</span> *length)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器数据。数据的长度和内容依赖于监听的传感器类型，传感器上报的数据格式如下：SENSOR_TYPE_ACCELEROMETER: data[0]、data[1]、data[2]分别表示设备x、y、z轴的加速度分量，单位m/s2。SENSOR_TYPE_GYROSCOPE: data[0]、data[1]、data[2]分别表示设备x、y、z轴的旋转角速度，单位弧度/s。SENSOR_TYPE_AMBIENT_LIGHT: data[0]表示环境光强度，单位勒克斯；从api版本12开始，将返回两个额外的数据，其中data[1]表示色温，单位为开尔文；data[2]表示红外亮度，单位cd/m2。SENSOR_TYPE_MAGNETIC_FIELD: data[0]、data[1]、data[2]分别表示设备x、y、z轴的地磁分量，单位微特斯拉。SENSOR_TYPE_BAROMETER：data[0]表示气压值，单位hPa。SENSOR_TYPE_HALL: data[0]表示皮套吸合状态，0表示打开，大于0表示吸附。SENSOR_TYPE_PROXIMITY：data[0]表示接近状态，0表示接近，大于0表示远离。SENSOR_TYPE_ORIENTATION:data[0]、data[1]、data[2]分别表示设备绕z、x、y轴的角度，单位度。SENSOR_TYPE_GRAVITY：data[0]、data[1]、data[2]分别表示设备x、y、z轴的重力加速度分量，单位m/s2。SENSOR_TYPE_ROTATION_VECTOR:data[0]、data[1]、data[2]分别表示设备x、y、z轴的旋转角度，单位度，data[3]表示旋转向量元素。SENSOR_TYPE_PEDOMETER_DETECTION:data[0]表示几步检测状态，1表示检测到了步数变化。SENSOR_TYPE_PEDOMETER:data[0]表示步数。SENSOR_TYPE_HEART_RATE：data[0]表示心率数值。SENSOR_TYPE_LINEAR_ACCELERATION：从api版本13开始支持。data[0]，data[1]，data[2]，表示分别绕设备的x、y、z轴的线性加速度，单位为m/s2。SENSOR_TYPE_GAME_ROTATION_VECTOR：从api版本13支持。data[0]，data[1]和data[2]，表示设备分别围绕x、y、z轴的旋转角度，单位为度。data[3]表示旋转向量。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-event">Sensor_Event</a>* sensorEvent</td> <td class="cellrowborder" width="50%">传感器数据信息。</td> </tr> <tr><td class="cellrowborder" width="50%">float **data</td> <td class="cellrowborder" width="50%">出参，传感器数据。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t *length</td> <td class="cellrowborder" width="50%">出参，数组长度。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensor_createsubscriptionid" device-type="phone,2in1,tablet,wearable,tv">OH_Sensor_CreateSubscriptionId()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_createsubscriptionid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Sensor_SubscriptionId *<span class="hljs-built_in">OH_Sensor_CreateSubscriptionId</span>(void)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>实例。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId *</a></td> <td class="cellrowborder" width="50%">如果操作成功，返回指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>实例的指针;否则返回<strong>NULL</strong>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensor_destroysubscriptionid" device-type="phone,2in1,tablet,wearable,tv">OH_Sensor_DestroySubscriptionId()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_destroysubscriptionid" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_Sensor_DestroySubscriptionId</span>(Sensor_SubscriptionId *id)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>实例并回收内存。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a> *id</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorsubscriptionid_gettype" device-type="phone,2in1,tablet,wearable,tv">OH_SensorSubscriptionId_GetType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorsubscriptionid_gettype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_SensorSubscriptionId_GetType</span>(Sensor_SubscriptionId* id, Sensor_Type *sensorType)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器类型。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>* id</td> <td class="cellrowborder" width="50%">指向传感器订阅ID的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_type">Sensor_Type</a> *sensorType</td> <td class="cellrowborder" width="50%">指向传感器类型的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorsubscriptionid_settype" device-type="phone,2in1,tablet,wearable,tv">OH_SensorSubscriptionId_SetType()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorsubscriptionid_settype" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorSubscriptionId_SetType</span><span class="hljs-params">(Sensor_SubscriptionId* id, <span class="hljs-type">const</span> Sensor_Type sensorType)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置传感器类型。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionid">Sensor_SubscriptionId</a>* id</td> <td class="cellrowborder" width="50%">指向传感器订阅ID的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_type">const Sensor_Type</a> sensorType</td> <td class="cellrowborder" width="50%">要设置的传感器类型。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensor_createsubscriptionattribute" device-type="phone,2in1,tablet,wearable,tv">OH_Sensor_CreateSubscriptionAttribute()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_createsubscriptionattribute" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Sensor_SubscriptionAttribute *<span class="hljs-built_in">OH_Sensor_CreateSubscriptionAttribute</span>(void)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>实例。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute *</a></td> <td class="cellrowborder" width="50%">如果操作成功，返回指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>实例的指针；否则返回<strong>NULL</strong>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensor_destroysubscriptionattribute" device-type="phone,2in1,tablet,wearable,tv">OH_Sensor_DestroySubscriptionAttribute()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_destroysubscriptionattribute" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_Sensor_DestroySubscriptionAttribute</span>(Sensor_SubscriptionAttribute *attribute)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>实例并回收内存。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a> *attribute</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorsubscriptionattribute_setsamplinginterval" device-type="phone,2in1,tablet,wearable,tv">OH_SensorSubscriptionAttribute_SetSamplingInterval()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorsubscriptionattribute_setsamplinginterval" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorSubscriptionAttribute_SetSamplingInterval</span><span class="hljs-params">(Sensor_SubscriptionAttribute* attribute, <span class="hljs-type">const</span> <span class="hljs-type">int64_t</span> samplingInterval)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置传感器数据报告间隔。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>* attribute</td> <td class="cellrowborder" width="50%">指向传感器订阅属性的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const int64_t samplingInterval</td> <td class="cellrowborder" width="50%">要设置的数据报告间隔，以纳秒为单位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorsubscriptionattribute_getsamplinginterval" device-type="phone,2in1,tablet,wearable,tv">OH_SensorSubscriptionAttribute_GetSamplingInterval()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorsubscriptionattribute_getsamplinginterval" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorSubscriptionAttribute_GetSamplingInterval</span><span class="hljs-params">(Sensor_SubscriptionAttribute* attribute, <span class="hljs-type">int64_t</span> *samplingInterval)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取传感器数据报告间隔。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.30.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriptionattribute">Sensor_SubscriptionAttribute</a>* attribute</td> <td class="cellrowborder" width="50%">指向传感器订阅属性的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">int64_t *samplingInterval</td> <td class="cellrowborder" width="50%">指向数据报告间隔的指针，以纳秒为单位。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="sensor_eventcallback" device-type="phone,2in1,tablet,wearable,tv">Sensor_EventCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sensor_eventcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-objectivec" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-type">void</span> (*Sensor_EventCallback)(Sensor_Event *event)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>定义用于报告传感器数据的回调函数。</p> <p><strong>起始版本：</strong> 11</p> </div>  <div class="tiledSection"><h3 id="oh_sensor_createsubscriber" device-type="phone,2in1,tablet,wearable,tv">OH_Sensor_CreateSubscriber()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_createsubscriber" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>Sensor_Subscriber *<span class="hljs-built_in">OH_Sensor_CreateSubscriber</span>(void)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建一个<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>实例。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.32.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber *</a></td> <td class="cellrowborder" width="50%">如果操作成功，返回指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>实例的指针;否则返回<strong>NULL</strong>。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensor_destroysubscriber" device-type="phone,2in1,tablet,wearable,tv">OH_Sensor_DestroySubscriber()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensor_destroysubscriber" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_Sensor_DestroySubscriber</span>(Sensor_Subscriber *subscriber)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>实例并回收内存。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a> *subscriber</td> <td class="cellrowborder" width="50%">指向<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>实例的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorsubscriber_setcallback" device-type="phone,2in1,tablet,wearable,tv">OH_SensorSubscriber_SetCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorsubscriber_setcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">int32_t</span> <span class="hljs-title">OH_SensorSubscriber_SetCallback</span><span class="hljs-params">(Sensor_Subscriber* subscriber, <span class="hljs-type">const</span> Sensor_EventCallback callback)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置一个回调函数来报告传感器数据。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>* subscriber</td> <td class="cellrowborder" width="50%">指向传感器订阅者信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_eventcallback">const Sensor_EventCallback</a> callback</td> <td class="cellrowborder" width="50%">设置回调函数。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.34.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="oh_sensorsubscriber_getcallback" device-type="phone,2in1,tablet,wearable,tv">OH_SensorSubscriber_GetCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_sensorsubscriber_getcallback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-fyn-c106="" class="highlight-div"><div _ngcontent-fyn-c106="" class="highlight-div-header"><div _ngcontent-fyn-c106="" class="highlight-div-header-left"><div _ngcontent-fyn-c106="" class="handle-button expand-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fyn-c106="" class="highlight-div-header-right"><div _ngcontent-fyn-c106="" class="handle-button ai-button"></div><div _ngcontent-fyn-c106="" class="handle-button line-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fyn-c106="" class="handle-button theme-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fyn-c106="" class="handle-button copy-button"><div _ngcontent-fyn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fyn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>int32_t <span class="hljs-built_in">OH_SensorSubscriber_GetCallback</span>(Sensor_Subscriber* subscriber, Sensor_EventCallback *callback)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取用于报告传感器数据的回调函数。</p> <p><strong>起始版本：</strong> 11</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-sensor-sensor-subscriber">Sensor_Subscriber</a>* subscriber</td> <td class="cellrowborder" width="50%">指向传感器订阅者信息的指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_eventcallback">Sensor_EventCallback</a> *callback</td> <td class="cellrowborder" width="50%">指向回调函数的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.35.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">int32_t</td> <td class="cellrowborder" width="50%">如果操作成功返回<strong>SENSOR_SUCCESS</strong>；否则返回<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-oh-sensor-type-h#sensor_result">Sensor_Result</a>中定义的错误代码。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>