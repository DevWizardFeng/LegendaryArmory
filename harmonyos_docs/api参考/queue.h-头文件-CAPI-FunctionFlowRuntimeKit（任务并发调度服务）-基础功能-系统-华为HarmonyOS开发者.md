<h1 _ngcontent-apt-c119="" class="doc-title ng-star-inserted" title="queue.h"> queue.h </h1>

<div _ngcontent-apt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>声明队列的C接口。</p> <p><strong>引用文件：</strong> &lt;ffrt/queue.h&gt;</p> <p><strong>库：</strong> libffrt.z.so</p> <p><strong>系统能力：</strong> SystemCapability.Resourceschedule.Ffrt.Core</p> <p><strong>起始版本：</strong> 10</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt">FFRT</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">结构体<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a></td> <td class="cellrowborder" width="50%">队列句柄。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="枚举" device-type="phone,2in1,tablet,wearable,tv">枚举<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_type_t">ffrt_queue_type_t</a></td> <td class="cellrowborder" width="33.33333333333333%">ffrt_queue_type_t</td> <td class="cellrowborder" width="33.33333333333333%">队列类型。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数" device-type="phone,2in1,tablet,wearable,tv">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_init">FFRT_C_API int ffrt_queue_attr_init(ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">初始化队列属性。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_destroy">FFRT_C_API void ffrt_queue_attr_destroy(ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">销毁队列属性。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_set_qos">FFRT_C_API void ffrt_queue_attr_set_qos(ffrt_queue_attr_t* attr, ffrt_qos_t qos)</a></td> <td class="cellrowborder" width="50%">设置队列QoS属性。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_get_qos">FFRT_C_API ffrt_qos_t ffrt_queue_attr_get_qos(const ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">获取队列QoS属性。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_set_timeout">FFRT_C_API void ffrt_queue_attr_set_timeout(ffrt_queue_attr_t* attr, uint64_t timeout_us)</a></td> <td class="cellrowborder" width="50%">设置串行队列timeout属性。超时时间的最小值是1ms，如果设置的值小于1ms，那么超时时间被设置为1ms。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_get_timeout">FFRT_C_API uint64_t ffrt_queue_attr_get_timeout(const ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">获取串行队列任务执行的timeout时间。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_set_callback">FFRT_C_API void ffrt_queue_attr_set_callback(ffrt_queue_attr_t* attr, ffrt_function_header_t* f)</a></td> <td class="cellrowborder" width="50%">设置串行队列超时回调方法。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_get_callback">FFRT_C_API ffrt_function_header_t* ffrt_queue_attr_get_callback(const ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">获取串行队列超时回调方法。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_set_max_concurrency">FFRT_C_API void ffrt_queue_attr_set_max_concurrency(ffrt_queue_attr_t* attr, const int max_concurrency)</a></td> <td class="cellrowborder" width="50%">设置并行队列最大并发度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_get_max_concurrency">FFRT_C_API int ffrt_queue_attr_get_max_concurrency(const ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">获取并行队列最大并发度。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_set_thread_mode">FFRT_C_API void ffrt_queue_attr_set_thread_mode(ffrt_queue_attr_t* attr, bool mode)</a></td> <td class="cellrowborder" width="50%">设置队列中的任务是以协程模式还是以线程模式运行。默认以协程模式运行。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_attr_get_thread_mode">FFRT_C_API bool ffrt_queue_attr_get_thread_mode(const ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">获取队列中的任务是以协程模式还是以线程模式运行。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_create">FFRT_C_API ffrt_queue_t ffrt_queue_create(ffrt_queue_type_t type, const char* name, const ffrt_queue_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">创建队列。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_destroy">FFRT_C_API void ffrt_queue_destroy(ffrt_queue_t queue)</a></td> <td class="cellrowborder" width="50%">销毁队列。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_submit">FFRT_C_API void ffrt_queue_submit(ffrt_queue_t queue, ffrt_function_header_t* f, const ffrt_task_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">提交一个任务到队列中调度执行。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_submit_h">FFRT_C_API ffrt_task_handle_t ffrt_queue_submit_h(ffrt_queue_t queue, ffrt_function_header_t* f, const ffrt_task_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">提交一个任务到队列中调度执行，并返回任务句柄。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_submit_f">FFRT_C_API void ffrt_queue_submit_f(ffrt_queue_t queue, ffrt_function_t func, void* arg, const ffrt_task_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">提交一个任务到队列中调度执行，是ffrt_queue_submit接口的简化包装形式。该接口假定任务不需要销毁回调函数，给定的任务函数和参数被包装为队列任务结构，并将封装后的任务结构和其他参数传递给ffrt_queue_submit接口。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_submit_h_f">FFRT_C_API ffrt_task_handle_t ffrt_queue_submit_h_f(ffrt_queue_t queue, ffrt_function_t func, void* arg, const ffrt_task_attr_t* attr)</a></td> <td class="cellrowborder" width="50%">提交一个任务到队列中调度执行，并返回任务句柄，是ffrt_queue_submit_h接口的简化包装形式。该接口假定任务不需要销毁回调函数，给定的任务函数和参数被包装为队列任务结构，并将封装后的任务结构和其他参数传递给ffrt_queue_submit_h接口。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_wait">FFRT_C_API void ffrt_queue_wait(ffrt_task_handle_t handle)</a></td> <td class="cellrowborder" width="50%">等待队列中一个任务执行完成。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_cancel">FFRT_C_API int ffrt_queue_cancel(ffrt_task_handle_t handle)</a></td> <td class="cellrowborder" width="50%">取消队列中一个任务。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_get_main_queue">FFRT_C_API ffrt_queue_t ffrt_get_main_queue(void)</a></td> <td class="cellrowborder" width="50%">获取主线程队列。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_get_current_queue">FFRT_C_API ffrt_queue_t ffrt_get_current_queue(void)</a></td> <td class="cellrowborder" width="50%">获取应用Worker(ArkTs)线程队列。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="枚举类型说明" device-type="phone,2in1,tablet,wearable,tv">枚举类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="枚举类型说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="ffrt_queue_type_t" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ffrt_queue_type_t<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_type_t" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">ffrt_queue_type_t</span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>队列类型。</p> <p><strong>起始版本：</strong> 12</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.1" width="50%">枚举项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.6.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">ffrt_queue_serial</td> <td class="cellrowborder" width="50%">串行队列</td> </tr> <tr><td class="cellrowborder" width="50%">ffrt_queue_concurrent</td> <td class="cellrowborder" width="50%">并行队列</td> </tr> <tr><td class="cellrowborder" width="50%">ffrt_queue_max</td> <td class="cellrowborder" width="50%">无效队列类型</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_init" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">ffrt_queue_attr_init()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_init" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">int</span> <span class="hljs-title">ffrt_queue_attr_init</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>初始化队列属性。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API int</td> <td class="cellrowborder" width="50%"><p>执行成功时返回0，</p> <p> 执行失败时返回-1。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_destroy" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_attr_destroy</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁队列属性。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_set_qos" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_set_qos()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_set_qos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_attr_set_qos</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_attr_t</span>* attr, <span class="hljs-type">ffrt_qos_t</span> qos)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置队列QoS属性。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-type-def-h#变量">ffrt_qos_t</a> qos</td> <td class="cellrowborder" width="50%">QoS属性值。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_get_qos" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_get_qos()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_get_qos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">ffrt_qos_t</span> <span class="hljs-title">ffrt_queue_attr_get_qos</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取队列QoS属性。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">const ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-type-def-h#变量">ffrt_qos_t</a></td> <td class="cellrowborder" width="50%">返回队列的QoS属性。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_set_timeout" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_set_timeout()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_set_timeout" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_attr_set_timeout</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_attr_t</span>* attr, <span class="hljs-type">uint64_t</span> timeout_us)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置串行队列timeout属性。超时时间的最小值是1ms，如果设置的值小于1ms，那么超时时间被设置为1ms。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">串行队列属性指针。</td> </tr> <tr><td class="cellrowborder" width="50%">uint64_t timeout_us</td> <td class="cellrowborder" width="50%">串行队列任务执行的timeout时间(微秒)。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_get_timeout" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_get_timeout()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_get_timeout" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">uint64_t</span> <span class="hljs-title">ffrt_queue_attr_get_timeout</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取串行队列任务执行的timeout时间。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">const ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">串行队列属性指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API uint64_t</td> <td class="cellrowborder" width="50%">返回串行队列任务执行的timeout时间。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_set_callback" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_set_callback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_set_callback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_attr_set_callback</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_attr_t</span>* attr, <span class="hljs-type">ffrt_function_header_t</span>* f)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置串行队列超时回调方法。</p> <p>不建议在f中调用exit函数，可能导致未定义行为。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">串行队列属性指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-function-header-t">ffrt_function_header_t</a>* f</td> <td class="cellrowborder" width="50%">超时回调方法执行体。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_get_callback" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_get_callback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_get_callback" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">ffrt_function_header_t</span>* <span class="hljs-title">ffrt_queue_attr_get_callback</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取串行队列超时回调方法。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">const ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">串行队列属性指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-function-header-t">ffrt_function_header_t</a>*</td> <td class="cellrowborder" width="50%">返回串行队列超时回调方法。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_set_max_concurrency" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_set_max_concurrency()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_set_max_concurrency" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_attr_set_max_concurrency</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_attr_t</span>* attr, <span class="hljs-type">const</span> <span class="hljs-type">int</span> max_concurrency)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置并行队列最大并发度。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr> <tr><td class="cellrowborder" width="50%">const int max_concurrency</td> <td class="cellrowborder" width="50%">最大并发度。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_get_max_concurrency" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_get_max_concurrency()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_get_max_concurrency" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">int</span> <span class="hljs-title">ffrt_queue_attr_get_max_concurrency</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取并行队列最大并发度。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">const ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API int</td> <td class="cellrowborder" width="50%">返回最大并发度。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_set_thread_mode" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_set_thread_mode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_set_thread_mode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_attr_set_thread_mode</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_attr_t</span>* attr, <span class="hljs-type">bool</span> mode)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>设置队列中的任务是以协程模式还是以线程模式运行。默认以协程模式运行。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr> <tr><td class="cellrowborder" width="50%">bool mode</td> <td class="cellrowborder" width="50%">设置队列任务运行方式。true表示以线程模式运行, false表示以协程方式运行。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_attr_get_thread_mode" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_attr_get_thread_mode()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_attr_get_thread_mode" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">bool</span> <span class="hljs-title">ffrt_queue_attr_get_thread_mode</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取队列中的任务是以协程模式还是以线程模式运行。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">const ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API bool</td> <td class="cellrowborder" width="50%">true表示以线程模式运行，false表示以协程模式运行。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_create" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_create" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">ffrt_queue_t</span> <span class="hljs-title">ffrt_queue_create</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_type_t</span> type, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* name, <span class="hljs-type">const</span> <span class="hljs-type">ffrt_queue_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建队列。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_type_t">ffrt_queue_type_t</a> type</td> <td class="cellrowborder" width="50%">队列类型。</td> </tr> <tr><td class="cellrowborder" width="50%">const char* name</td> <td class="cellrowborder" width="50%">队列名字。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-attr-t">const ffrt_queue_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">队列属性。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a></td> <td class="cellrowborder" width="50%"><p>创建队列成功返回非空队列句柄，</p> <p> 创建队列失败返回空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_destroy" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_destroy" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_destroy</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_t</span> queue)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>销毁队列。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a> queue</td> <td class="cellrowborder" width="50%">队列句柄。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_submit" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_submit()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_submit" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_submit</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_t</span> queue, <span class="hljs-type">ffrt_function_header_t</span>* f, <span class="hljs-type">const</span> <span class="hljs-type">ffrt_task_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>提交一个任务到队列中调度执行。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a> queue</td> <td class="cellrowborder" width="50%">队列句柄。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-function-header-t">ffrt_function_header_t</a>* f</td> <td class="cellrowborder" width="50%">任务的执行体。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-attr-t">const ffrt_task_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">任务属性。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_submit_h" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_submit_h()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_submit_h" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">ffrt_task_handle_t</span> <span class="hljs-title">ffrt_queue_submit_h</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_t</span> queue, <span class="hljs-type">ffrt_function_header_t</span>* f, <span class="hljs-type">const</span> <span class="hljs-type">ffrt_task_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>提交一个任务到队列中调度执行，并返回任务句柄。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a> queue</td> <td class="cellrowborder" width="50%">队列句柄。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-function-header-t">ffrt_function_header_t</a>* f</td> <td class="cellrowborder" width="50%">任务的执行体。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-attr-t">const ffrt_task_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">任务属性。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.24.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-handle-t">ffrt_task_handle_t</a></td> <td class="cellrowborder" width="50%"><p>提交成功返回非空任务句柄，</p> <p> 提交失败返回空指针。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_submit_f" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_submit_f()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_submit_f" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_submit_f</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_t</span> queue, <span class="hljs-type">ffrt_function_t</span> func, <span class="hljs-type">void</span>* arg, <span class="hljs-type">const</span> <span class="hljs-type">ffrt_task_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>提交一个任务到队列中调度执行，是ffrt_queue_submit接口的简化包装形式。该接口假定任务不需要销毁回调函数，给定的任务函数和参数被包装为队列任务结构，并将封装后的任务结构和其他参数传递给ffrt_queue_submit接口。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a> queue</td> <td class="cellrowborder" width="50%">队列句柄。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-type-def-h#ffrt_function_t">ffrt_function_t</a> func</td> <td class="cellrowborder" width="50%">指定的任务函数。</td> </tr> <tr><td class="cellrowborder" width="50%">void* arg</td> <td class="cellrowborder" width="50%">传递给任务函数的参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-attr-t">const ffrt_task_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">任务属性。</td> </tr>  </tbody></table></div> </div> <p><strong>参考：</strong></p> <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_submit">ffrt_queue_submit</a></p> </div>  <div class="tiledSection"><h3 id="ffrt_queue_submit_h_f" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_submit_h_f()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_submit_h_f" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">ffrt_task_handle_t</span> <span class="hljs-title">ffrt_queue_submit_h_f</span><span class="hljs-params">(<span class="hljs-type">ffrt_queue_t</span> queue, <span class="hljs-type">ffrt_function_t</span> func, <span class="hljs-type">void</span>* arg, <span class="hljs-type">const</span> <span class="hljs-type">ffrt_task_attr_t</span>* attr)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>提交一个任务到队列中调度执行，并返回任务句柄，是ffrt_queue_submit_h接口的简化包装形式。该接口假定任务不需要销毁回调函数，给定的任务函数和参数被包装为队列任务结构，并将封装后的任务结构和其他参数传递给ffrt_queue_submit_h接口。</p> <p><strong>起始版本：</strong> 20</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a> queue</td> <td class="cellrowborder" width="50%">队列句柄。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-type-def-h#ffrt_function_t">ffrt_function_t</a> func</td> <td class="cellrowborder" width="50%">指定的任务函数。</td> </tr> <tr><td class="cellrowborder" width="50%">void* arg</td> <td class="cellrowborder" width="50%">传递给任务函数的参数。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-attr-t">const ffrt_task_attr_t</a>* attr</td> <td class="cellrowborder" width="50%">任务属性。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.26.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-handle-t">ffrt_task_handle_t</a></td> <td class="cellrowborder" width="50%"><p>提交成功返回非空任务句柄，</p> <p> 提交失败返回空指针。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>参考：</strong></p> <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-queue-h#ffrt_queue_submit_h">ffrt_queue_submit_h</a></p> </div>  <div class="tiledSection"><h3 id="ffrt_queue_wait" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_wait()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_wait" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">void</span> <span class="hljs-title">ffrt_queue_wait</span><span class="hljs-params">(<span class="hljs-type">ffrt_task_handle_t</span> handle)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>等待队列中一个任务执行完成。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.27.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-handle-t">ffrt_task_handle_t</a> handle</td> <td class="cellrowborder" width="50%">任务句柄。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_queue_cancel" device-type="phone,2in1,tablet,wearable,tv">ffrt_queue_cancel()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_queue_cancel" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">int</span> <span class="hljs-title">ffrt_queue_cancel</span><span class="hljs-params">(<span class="hljs-type">ffrt_task_handle_t</span> handle)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>取消队列中一个任务。</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-task-handle-t">ffrt_task_handle_t</a> handle</td> <td class="cellrowborder" width="50%">任务句柄。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API int</td> <td class="cellrowborder" width="50%"><p>取消任务成功返回0，</p> <p> 取消任务失败返回-1。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_get_main_queue" device-type="phone,2in1,tablet,wearable,tv">ffrt_get_main_queue()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_get_main_queue" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">ffrt_queue_t</span> <span class="hljs-title">ffrt_get_main_queue</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取主线程队列。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-ffrt-ffrt-queue-t">ffrt_queue_t</a></td> <td class="cellrowborder" width="50%">返回主线程队列句柄。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="ffrt_get_current_queue" device-type="phone,2in1,tablet,wearable,tv">ffrt_get_current_queue()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ffrt_get_current_queue" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-apt-c106="" class="highlight-div"><div _ngcontent-apt-c106="" class="highlight-div-header"><div _ngcontent-apt-c106="" class="highlight-div-header-left"><div _ngcontent-apt-c106="" class="handle-button expand-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-apt-c106="" class="highlight-div-header-right"><div _ngcontent-apt-c106="" class="handle-button ai-button"></div><div _ngcontent-apt-c106="" class="handle-button line-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-apt-c106="" class="handle-button theme-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-apt-c106="" class="handle-button copy-button"><div _ngcontent-apt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-apt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">FFRT_C_API <span class="hljs-type">ffrt_queue_t</span> <span class="hljs-title">ffrt_get_current_queue</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取应用Worker(ArkTs)线程队列。</p> <p><strong>起始版本：</strong> 12</p> <p><strong>废弃版本：</strong> 18</p> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">FFRT_C_API ffrt_queue_t</td> <td class="cellrowborder" width="50%">返回当前线程队列句柄。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>