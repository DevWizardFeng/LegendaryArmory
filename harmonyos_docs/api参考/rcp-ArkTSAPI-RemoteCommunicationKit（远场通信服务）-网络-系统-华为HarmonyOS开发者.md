<h1 _ngcontent-bef-c119="" class="doc-title ng-star-inserted" title="rcp"> rcp </h1>

<div _ngcontent-bef-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;"> <div><p>本模块提供HTTP数据请求功能。应用程序可通过HTTP发起数据请求。常见的HTTP方法包括GET、POST、HEAD、PUT、DELETE、PATCH、OPTIONS等。</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;"><h2 id="section848492671817" device-type="phone,2in1,tablet,tv,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section848492671817" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1266px;"><h2 id="section163819131811" device-type="phone,2in1,tablet,tv,wearable">rcp.createSession<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section163819131811" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createSession(sessionConfiguration?: SessionConfiguration): Session</p> <p>创建HTTP会话。这是启动HTTP交互的主要方法。开发者可以使用此API与<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18613443123412">SessionConfiguration</a>一起创建会话。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>自5.1.0(18)版本开始变更为最多可创建1024个session实例，应用在通过创建的session实例访问完网络请求后，应及时关闭session，保证资源合理利用。</p> </div></div></div> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>sessionConfiguration</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18613443123412">SessionConfiguration</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>会话配置，应用于会话请求的设置。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.1" width="49.85%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.2" width="50.14999999999999%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.85%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1671892662116">Session</a></p> </td> <td class="cellrowborder" width="50.14999999999999%"><p>代表一个会话，用于发送HTTP请求并管理其配置、取消和关闭的生命周期。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.13.1.3.1.1" width="49.86%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.13.1.3.1.2" width="50.13999999999999%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="49.86%"><p>401</p> </td> <td class="cellrowborder" width="50.13999999999999%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="49.86%"><p>1007900994</p> </td> <td class="cellrowborder" width="50.13999999999999%"><p>Sessions number reached limit.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 302px;"><h2 id="section1671892662116" device-type="phone,2in1,tablet,tv,wearable">Session<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1671892662116" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Session类表示可用于发出HTTP请求的通信会话。它提供了各种HTTP方法（FETCH、GET、POST、PUT、HEAD、DELETE、CANCEL、CLOSE）。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 258px;"><h3 id="section741315185513" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section741315185513" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.1" width="15.09%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.2" width="30.930000000000003%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.3" width="9.64%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.4" width="16.53%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.5" width="27.810000000000002%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.09%"><p>id</p> </td> <td class="cellrowborder" width="30.930000000000003%"><p>string</p> </td> <td class="cellrowborder" width="9.64%"><p>是</p> </td> <td class="cellrowborder" width="16.53%"><p>否</p> </td> <td class="cellrowborder" width="27.810000000000002%"><p>表示会话的标识符。</p> </td> </tr> <tr><td class="cellrowborder" width="15.09%"><p>configuration</p> </td> <td class="cellrowborder" width="30.930000000000003%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18613443123412">SessionConfiguration</a> | undefined</p> </td> <td class="cellrowborder" width="9.64%"><p>是</p> </td> <td class="cellrowborder" width="16.53%"><p>否</p> </td> <td class="cellrowborder" width="27.810000000000002%"><p>表示会话的配置设置。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1156px;"><h3 id="section20139131372817" device-type="phone,2in1,tablet,tv,wearable">fetch<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section20139131372817" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fetch(request: Request): Promise&lt;Response&gt;</p> <p>发送一个HTTP请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>request</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>要发送的请求。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li><span class="hljs-keyword">let</span> req = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"http://example.com/fetch"</span>, <span class="hljs-string">"POST"</span>);</li><li>session.<span class="hljs-title function_">fetch</span>(req).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1713px;"><h3 id="section152225817527" device-type="phone,2in1,tablet,tv,wearable">fetchForSendable<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section152225817527" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>fetchForSendable(request: Request): Promise&lt;ResponseSendable&gt;</p> <p>发送一个HTTP请求，并返回服务器的HTTP响应，该响应消息支持Sendable。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>request</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>待发送的请求。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section92642282211">ResponseSendable</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象，该响应对象支持Sendable。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <div class="p"><strong>示例：</strong><div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ArkTSUtils</span>, collections, taskpool, util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li><span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'@arkts.utils'</span>;</li><li>
</li><li><span class="hljs-meta">@Concurrent</span></li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">taskFunc</span>(<span class="hljs-params">sendableResponse: rcp.ResponseSendable</span>) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`sendableResponse: <span class="hljs-subst">${ArkTSUtils.ASON.stringify(sendableResponse)}</span>`</span>);  </li><li>  <span class="hljs-comment">// 打印Sendable类型的body数据</span></li><li>  <span class="hljs-keyword">if</span> (utils.<span class="hljs-title function_">isSendable</span>(sendableResponse.<span class="hljs-property">body</span>) &amp;&amp; sendableResponse.<span class="hljs-property">body</span> != <span class="hljs-literal">undefined</span>) {</li><li>    <span class="hljs-keyword">const</span> decoder = util.<span class="hljs-property">TextDecoder</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'utf-8'</span>);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">arr</span>: collections.<span class="hljs-property">Uint8Array</span> = <span class="hljs-keyword">new</span> collections.<span class="hljs-title class_">Uint8Array</span>(sendableResponse.<span class="hljs-property">body</span>);</li><li>    <span class="hljs-keyword">let</span> str = decoder.<span class="hljs-title function_">decodeToString</span>(arr <span class="hljs-keyword">as</span> <span class="hljs-title class_">Object</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Uint8Array</span>).<span class="hljs-title function_">trim</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`body:<span class="hljs-subst">${ArkTSUtils.ASON.stringify(str)}</span>`</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>    <span class="hljs-keyword">let</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">'https://www.example.com'</span>); <span class="hljs-comment">// 请在使用中将其替换为真实的网址。</span></li><li>    <span class="hljs-keyword">let</span> sendableResponse = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">fetchForSendable</span>(request);</li><li>    <span class="hljs-keyword">let</span> isSendable = utils.<span class="hljs-title function_">isSendable</span>(sendableResponse);</li><li>    <span class="hljs-keyword">if</span> (isSendable) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response, the response is sendable`</span>);</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response, the response is not sendable`</span>);</li><li>    }</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">task</span>: taskpool.<span class="hljs-property">Task</span> = <span class="hljs-keyword">new</span> taskpool.<span class="hljs-title class_">Task</span>(taskFunc, sendableResponse);</li><li>    <span class="hljs-keyword">await</span> taskpool.<span class="hljs-title function_">execute</span>(task);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1225px;"><h3 id="section176881642192516" device-type="phone,2in1,tablet,tv,wearable">get<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section176881642192516" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>get(url: URLOrString, destination?: ResponseBodyDestination): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP GET请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP GET请求资源的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>destination</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9250173916506">ResponseBodyDestination</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>HTTP响应的目标位置或目的地。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">get</span>(<span class="hljs-string">"http://example.com/get"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1318px;"><h3 id="section12392443193017" device-type="phone,2in1,tablet,tv,wearable">post<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12392443193017" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>post(url: URLOrString, content?: RequestContent, destination?: ResponseBodyDestination): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP POST请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="24.97%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25.03%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="24.97%"><p>是</p> </td> <td class="cellrowborder" width="25.03%"><p>HTTP POST请求资源的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>content</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18971142565016">RequestContent</a></p> </td> <td class="cellrowborder" width="24.97%"><p>否</p> </td> <td class="cellrowborder" width="25.03%"><p>请求的正文内容。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>destination</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9250173916506">ResponseBodyDestination</a></p> </td> <td class="cellrowborder" width="24.97%"><p>否</p> </td> <td class="cellrowborder" width="25.03%"><p>HTTP响应的目标位置或目的地。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">post</span>(<span class="hljs-string">"http://example.com/post"</span>, <span class="hljs-string">"data to send"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1275px;"><h3 id="section20797124133110" device-type="phone,2in1,tablet,tv,wearable">put<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section20797124133110" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>put(url: URLOrString, content?: RequestContent, destination?: ResponseBodyDestination): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP PUT请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP PUT请求资源的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>content</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18971142565016">RequestContent</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>请求正文发送的内容。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>destination</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9250173916506">ResponseBodyDestination</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>HTTP响应的目标位置或目的地。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">put</span>(<span class="hljs-string">"http://example.com/put"</span>, <span class="hljs-string">"data to send"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1326px;"><h3 id="section16508121443318" device-type="phone,2in1,tablet,tv,wearable">downloadToFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16508121443318" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>downloadToFile(url: URLOrString, downloadTo: DownloadToFile): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP DOWNLOADTOFILE请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP DOWNLOADTOFILE请求资源的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>downloadTo</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section298118136197">DownloadToFile</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP中用于将服务器上下载的文件保存到本地文件系统中的指定位置。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">downloadToFile</span>: rcp.<span class="hljs-property">DownloadToFile</span> = {</li><li>  <span class="hljs-attr">kind</span>: <span class="hljs-string">'folder'</span>,</li><li>  <span class="hljs-attr">path</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>} <span class="hljs-keyword">as</span> rcp.<span class="hljs-property">DownloadToFile</span></li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">downloadToFile</span>(<span class="hljs-string">"http://www.example.com"</span>, downloadToFile).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`DownloadToFile failed, the error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1326px;"><h3 id="section221131117418" device-type="phone,2in1,tablet,tv,wearable">uploadFromFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section221131117418" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>uploadFromFile(url: URLOrString, uploadFrom: UploadFromFile): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP UPLOADFROMFILE请求，完成上传文件功能，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP UPLOADFROMFILE请求资源的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>uploadFrom</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1753162618375">UploadFromFile</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP中从本地计算机上传文件到服务器的请求。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> fileDir = <span class="hljs-string">"/path/dir/"</span>; <span class="hljs-comment">// 请根据自身业务定义此路径</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">uploadFromFile</span>: rcp.<span class="hljs-property">UploadFromFile</span> = {</li><li>  <span class="hljs-attr">fileOrPath</span>: fileDir</li><li>};</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">uploadFromFile</span>(<span class="hljs-string">"http://example.com/head"</span>, uploadFromFile).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1494px;"><h3 id="section25231139104519" device-type="phone,2in1,tablet,tv,wearable">downloadToStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section25231139104519" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>downloadToStream(url: URLOrString, downloadTo: DownloadToStream): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP DOWNLOADTOSTREAM请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP DOWNLOADTOSTREAM请求资源的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>downloadTo</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1790033215431">DownloadToStream</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP中将请求文件从服务器下载到客户端，并将其写入到一个数据流中。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span></li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">streamData</span>: rcp.<span class="hljs-property">WriteStream</span> = {</li><li>  <span class="hljs-title function_">write</span>(<span class="hljs-attr">buffer</span>: <span class="hljs-title class_">ArrayBuffer</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span> | <span class="hljs-built_in">number</span>&gt; {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(buffer.<span class="hljs-property">byteLength</span>)</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">downloadToStream</span>: rcp.<span class="hljs-property">DownloadToStream</span> = {</li><li>  <span class="hljs-attr">kind</span>: <span class="hljs-string">'stream'</span>,</li><li>  <span class="hljs-attr">stream</span>: streamData</li><li>}</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">downloadToStream</span>(<span class="hljs-string">"http://example.com/head"</span>, downloadToStream).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1326px;"><h3 id="section566817286112" device-type="phone,2in1,tablet,tv,wearable">uploadFromStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section566817286112" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>uploadFromStream(url: URLOrString, uploadFrom: UploadFromStream): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP UPLOADFROMSTREAM请求，完成上传文件功能，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP UPLOADFROMSTREAM请求资源的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>uploadFrom</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section187981940151318">UploadFromStream</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP中从一个输入流中上传数据到服务器的请求。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">uploadFromStream</span>: rcp.<span class="hljs-property">UploadFromStream</span> = {</li><li>  <span class="hljs-attr">stream</span>: <span class="hljs-built_in">object</span> <span class="hljs-comment">// 此处请自行定义类型为Stream、ReadStream、SyncReadStream的对象</span></li><li>}</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">uploadFromStream</span>(<span class="hljs-string">"http://example.com/head"</span>, uploadFromStream).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;"><h3 id="section102891334203115" device-type="phone,2in1,tablet,tv,wearable">head<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section102891334203115" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>head(url: URLOrString): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP HEAD请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP HEAD请求资源的URL。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">head</span>(<span class="hljs-string">"http://example.com/head"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;"><h3 id="section01731783324" device-type="phone,2in1,tablet,tv,wearable">delete<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section01731783324" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>delete(url: URLOrString): Promise&lt;Response&gt;</p> <p>发送一个带有默认HTTP参数的HTTP DELETE请求，并返回来自服务器的HTTP响应。使用Promise异步回调。</p> <p><strong>需要权限</strong>：ohos.permission.INTERNET（如果使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a>的'cellular'模式，则额外需要ohos.permission.GET_NETWORK_INFO）</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP DELETE请求资源的URL。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>session.<span class="hljs-title function_">delete</span>(<span class="hljs-string">"http://example.com/delete"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1156px;"><h3 id="section14571174220320" device-type="phone,2in1,tablet,tv,wearable">cancel<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14571174220320" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>cancel(requestToCancel?: Request | Request[]): void</p> <p>取消指定或正在进行的会话请求。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>requestToCancel</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a>[]</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>要取消的请求或请求数组。在不指定<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a>情况下，默认取消所有请求。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li><span class="hljs-keyword">let</span> req = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"http://example.com/fetch"</span>, <span class="hljs-string">"GET"</span>);</li><li>session.<span class="hljs-title function_">fetch</span>(req).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>  session.<span class="hljs-title function_">cancel</span>(req);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 762px;"><h3 id="section1044116613331" device-type="phone,2in1,tablet,tv,wearable">close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1044116613331" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p> <p>关闭会话。调用此方法以释放与此会话关联的资源。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li><span class="hljs-keyword">let</span> req = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"http://example.com/fetch"</span>, <span class="hljs-string">"GET"</span>);</li><li>session.<span class="hljs-title function_">fetch</span>(req).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting the response <span class="hljs-subst">${response}</span>`</span>);</li><li>  session.<span class="hljs-title function_">close</span>();</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>  session.<span class="hljs-title function_">close</span>();</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section83672138232" device-type="phone,2in1,tablet,tv,wearable">RequestHandler<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section83672138232" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>拦截器的请求处理器。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1289px;"><h3 id="section536721312239" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">handle<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section536721312239" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>handle(context: RequestContext): Promise&lt;Response&gt;</p> <p>远场通信框架会预置两种处理器，一种会调用拦截器的<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section527252111410">intercept</a>函数，一种会调用系统的fetchInternal使用系统能力发起请求，使用promise异步回调。</p> <p>比如，拦截器：[A, B, C, D]会被构造成：</p> <p>A {handler-&gt;B{handler-&gt;C{handler-D{handler-&gt;系统能力}}}}</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>context</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section08792411316">RequestContext</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>请求上下文</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <div class="p"><strong>示例：</strong><div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestHandler</span> <span class="hljs-keyword">implements</span> rcp.<span class="hljs-property">RequestHandler</span> {</li><li>  <span class="hljs-title function_">handle</span>(<span class="hljs-attr">context</span>: rcp.<span class="hljs-property">RequestContext</span>): <span class="hljs-title class_">Promise</span>&lt;rcp.<span class="hljs-property">Response</span>&gt; {</li><li>    <span class="hljs-keyword">let</span> handlerRequest = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"https://www.example.com"</span>, <span class="hljs-string">'GET'</span>);</li><li>    <span class="hljs-keyword">let</span> handlerSession = rcp.<span class="hljs-title function_">createSession</span>();</li><li>    context.<span class="hljs-property">request</span> = handlerRequest;</li><li>    context.<span class="hljs-property">session</span> = handlerSession;</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;rcp.<span class="hljs-property">Response</span>&gt;(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>      handlerSession.<span class="hljs-title function_">get</span>(<span class="hljs-string">"https://www.example.com"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li>        <span class="hljs-title function_">resolve</span>(response);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>        <span class="hljs-title function_">reject</span>(error);</li><li>      })</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section08792411316" device-type="phone,2in1,tablet,tv,wearable">RequestContext<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section08792411316" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>拦截器请求上下文。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.1.6.1.1" width="27.057294270572946%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.1.6.1.2" width="27.057294270572946%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.1.6.1.3" width="11.158884111588842%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.1.6.1.4" width="7.669233076692332%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.1.6.1.5" width="27.057294270572946%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="27.057294270572946%"><p>request</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>否</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>HTTP请求</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>session</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1671892662116">Session</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>否</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>持有此拦截器的会话</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1385412349596" device-type="phone,2in1,tablet,tv,wearable">Interceptor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1385412349596" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>拦截器。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 2174px;"><h3 id="section527252111410" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">intercept<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section527252111410" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>intercept(context: RequestContext, next: RequestHandler): Promise&lt;Response&gt;</p> <p>拦截器，用于修改请求、修改响应或者直接返回响应，使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>context</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section08792411316">RequestContext</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>请求上下文</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>next</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section83672138232">RequestHandler</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>下一个请求处理器</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>直接返回一个 Promise对象 ，或者返回下一个拦截器的值。</p> </td> </tr>  </tbody></table></div> </div> <div class="p"><strong>示例：</strong><div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseCache</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, rcp.<span class="hljs-property">Response</span>&gt; = {};</li><li>
</li><li>  <span class="hljs-title function_">getResponse</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): rcp.<span class="hljs-property">Response</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[url];</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">setResponse</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">response</span>: rcp.<span class="hljs-property">Response</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[url] = response;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseCachingInterceptor</span> <span class="hljs-keyword">implements</span> rcp.<span class="hljs-property">Interceptor</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">ResponseCache</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">cache: ResponseCache</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = cache;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">intercept</span>(<span class="hljs-attr">context</span>: rcp.<span class="hljs-property">RequestContext</span>, <span class="hljs-attr">next</span>: rcp.<span class="hljs-property">RequestHandler</span>): <span class="hljs-title class_">Promise</span>&lt;rcp.<span class="hljs-property">Response</span>&gt; {</li><li>    <span class="hljs-keyword">const</span> url = context.<span class="hljs-property">request</span>.<span class="hljs-property">url</span>.<span class="hljs-property">href</span>;</li><li>    <span class="hljs-keyword">const</span> responseFromCache = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">getResponse</span>(url);</li><li>    <span class="hljs-keyword">if</span> (responseFromCache) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(responseFromCache);</li><li>    }</li><li>    <span class="hljs-keyword">const</span> promise = next.<span class="hljs-title function_">handle</span>(context);</li><li>    promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">resp</span>) =&gt;</span> {</li><li>      resp.<span class="hljs-property">statusCode</span>;</li><li>      cache.<span class="hljs-title function_">setResponse</span>(url, resp);</li><li>    });</li><li>    <span class="hljs-keyword">return</span> promise;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseCache</span>();</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testInterceptor</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>({</li><li>    <span class="hljs-attr">interceptors</span>: [<span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseCachingInterceptor</span>(cache)]</li><li>  });</li><li>
</li><li>  <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Response succeeded: <span class="hljs-subst">${response}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Response failed: error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>  });</li><li>
</li><li>  <span class="hljs-keyword">let</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"https://www.example.com"</span>, <span class="hljs-string">'GET'</span>);</li><li>  <span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Response succeeded: <span class="hljs-subst">${response}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Response failed: error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section18613443123412" device-type="phone,2in1,tablet,tv,wearable">SessionConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18613443123412" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>SessionConfiguration接口定义了会话的配置参数，为开发者提供了对HTTP会话各个方面的详细控制。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 3677px;"><h3 id="section113831653165512" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section113831653165512" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.27.2.1.6.1.1" width="27.057294270572946%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.2.1.6.1.2" width="27.057294270572946%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.2.1.6.1.3" width="11.158884111588842%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.2.1.6.1.4" width="7.669233076692332%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.27.2.1.6.1.5" width="27.057294270572946%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="27.057294270572946%"><p>interceptors</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1385412349596">Interceptor</a>[]</p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>请求/响应拦截器。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>requestConfiguration</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1898141153617">Configuration</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>指定与会话关联的HTTP请求的配置。包括transfer、proxy、DNS、connection和security configurations。</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>baseAddress</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>设置会话中URL的基地址。这允许开发者为会话中的多个请求定义一个通用的基本URL。如果请求URL不是绝对URL，则把基地址预制在请求URL的前面。例如，"https://example.com?name=value"，https://example.com为基地址，"?name=value"为请求URL。</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>headers</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section16586132194914">RequestHeaders</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>为Session发出的HTTP请求定义headers（可自定义）。开发者可以根据他们的需求定制的特定headers。</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>cookies</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section127791738567">RequestCookies</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>提供在与会话关联的HTTP请求中包含自定义cookie的方法。适用于需要将某些cookie附加到每个请求的场景。需要手动设置cookie，携带cookie为用户行为。</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>sessionListener</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1872726111319">SessionListener</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>允许开发者将侦听器附加到会话，接收会话取消或关闭等事件的通知，更好地处理应用程序中与会话相关的事件。</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>connectionConfiguration</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section4802256134519">ConnectionConfiguration</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>连接配置。用于指定此会话中允许的并发TCP连接总数以及单个主机所允许的最大并发TCP 连接数。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>cacheControl</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section191412521521">CacheControl</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>缓存控制配置。用于主动控制会话中缓存验证策略，影响服务器或中间代理如何响应请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sessionConfig</span>: rcp.<span class="hljs-property">SessionConfiguration</span> = {</li><li>  <span class="hljs-attr">requestConfiguration</span>: {</li><li>    <span class="hljs-attr">transfer</span>: {</li><li>      <span class="hljs-attr">autoRedirect</span>: <span class="hljs-literal">true</span>,</li><li>      <span class="hljs-attr">timeout</span>: {</li><li>        <span class="hljs-attr">connectMs</span>: <span class="hljs-number">5000</span>,</li><li>        <span class="hljs-attr">transferMs</span>: <span class="hljs-number">10000</span></li><li>      }</li><li>    },</li><li>    <span class="hljs-attr">tracing</span>: {</li><li>      <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span></li><li>    }</li><li>  },</li><li>  <span class="hljs-attr">baseAddress</span>: <span class="hljs-string">"http://api.example.com"</span>,</li><li>  <span class="hljs-attr">headers</span>: {</li><li>    <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">"Bearer YOUR_ACCESS_TOKEN"</span>,</li><li>    <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span></li><li>  },</li><li>  <span class="hljs-attr">cookies</span>: {</li><li>    <span class="hljs-string">"user"</span>: <span class="hljs-string">"john_doe"</span>,</li><li>    <span class="hljs-string">"session_id"</span>: <span class="hljs-string">"abc123"</span></li><li>  },</li><li>  <span class="hljs-attr">sessionListener</span>: {</li><li>    <span class="hljs-attr">onCanceled</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Session was cancelled"</span>),</li><li>    <span class="hljs-attr">onClosed</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Session was closed"</span>)</li><li>  },</li><li>  <span class="hljs-comment">//补充示例代码</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>(sessionConfig);</li></ol></pre></div></div> <p></p> <p><strong>interceptors属性示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseCache</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, rcp.<span class="hljs-property">Response</span>&gt; = {};</li><li>
</li><li>  <span class="hljs-title function_">getResponse</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): rcp.<span class="hljs-property">Response</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[url];</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">setResponse</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">response</span>: rcp.<span class="hljs-property">Response</span>): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[url] = response;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseCachingInterceptor</span> <span class="hljs-keyword">implements</span> rcp.<span class="hljs-property">Interceptor</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">cache</span>: <span class="hljs-title class_">ResponseCache</span>;</li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">cache: ResponseCache</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = cache;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">intercept</span>(<span class="hljs-attr">context</span>: rcp.<span class="hljs-property">RequestContext</span>, <span class="hljs-attr">next</span>: rcp.<span class="hljs-property">RequestHandler</span>): <span class="hljs-title class_">Promise</span>&lt;rcp.<span class="hljs-property">Response</span>&gt; {</li><li>    <span class="hljs-keyword">const</span> url = context.<span class="hljs-property">request</span>.<span class="hljs-property">url</span>.<span class="hljs-property">href</span>;</li><li>    <span class="hljs-keyword">const</span> responseFromCache = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">getResponse</span>(url);</li><li>    <span class="hljs-keyword">if</span> (responseFromCache) {</li><li>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(responseFromCache);</li><li>    }</li><li>    <span class="hljs-keyword">const</span> promise = next.<span class="hljs-title function_">handle</span>(context);</li><li>    promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">resp</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">setResponse</span>(url, resp);</li><li>    });</li><li>    <span class="hljs-keyword">return</span> promise;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseCache</span>();</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testInterceptor</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>({</li><li>    <span class="hljs-attr">interceptors</span>: [<span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseCachingInterceptor</span>(cache)]</li><li>  });</li><li>
</li><li>  <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Response succeeded: <span class="hljs-subst">${response}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Response failed: error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>  });</li><li>
</li><li>  <span class="hljs-keyword">let</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"https://www.example.com"</span>, <span class="hljs-string">'GET'</span>);</li><li>  <span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Response succeeded: <span class="hljs-subst">${response}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Response failed: error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(error)}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section1898141153617" device-type="phone,2in1,tablet,tv,wearable">Configuration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1898141153617" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>Configuration接口包含一组配置参数，开发者可以利用这些参数来微调会话中HTTP请求的行为。这包括传输、跟踪、代理、DNS和安全配置的设置。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 2180px;"><h3 id="section1571241110566" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1571241110566" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.29.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.29.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>transfer</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section59321354193610">TransferConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>配置与HTTP请求期间的数据传输相关的各个方面，例如自动重定向和超时设置。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>tracing</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section557714186379">TracingConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>使开发者能够在HTTP请求期间捕获详细的跟踪信息，有助于调试和性能分析。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>proxy</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section731665213712">ProxyConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>配置会话的代理设置，允许开发者定义'system'、'no-proxy'或WebProxy配置。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>dns</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9677185417382">DnsConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定与DNS相关的配置，包括自定义DNS规则和通过HTTPS使用DNS的选项。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>security</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1597118916425">SecurityConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>包括用于处理安全相关方面的设置，如证书和服务器身份验证。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>processing</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section163971034123120">ProcessingConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>响应处理配置。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cache</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1124718239340">ResponseCache</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定与HTTP缓存相关的配置。</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">cache</span>: rcp.<span class="hljs-property">ResponseCache</span> = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>  <span class="hljs-attr">persistent</span>: {</li><li>    <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>    <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir/"</span> <span class="hljs-comment">// 请根据自身业务指定缓存路径</span></li><li>  }</li><li>});</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">requestConfig</span>: rcp.<span class="hljs-property">Configuration</span> = {</li><li>  <span class="hljs-attr">transfer</span>: {</li><li>    <span class="hljs-attr">autoRedirect</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">timeout</span>: {</li><li>      <span class="hljs-attr">connectMs</span>: <span class="hljs-number">5000</span>,</li><li>      <span class="hljs-attr">transferMs</span>: <span class="hljs-number">10000</span></li><li>    },</li><li>    <span class="hljs-attr">assumesHTTP3Capable</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">pathPreference</span>: <span class="hljs-string">"cellular"</span></li><li>  },</li><li>  <span class="hljs-attr">tracing</span>: {</li><li>    <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span></li><li>  },</li><li>  <span class="hljs-attr">proxy</span>: <span class="hljs-string">"system"</span>,</li><li>  <span class="hljs-attr">dns</span>: {</li><li>    <span class="hljs-attr">dnsRules</span>: [</li><li>      { <span class="hljs-attr">host</span>: <span class="hljs-string">"https://example.com"</span>, <span class="hljs-attr">port</span>: <span class="hljs-number">443</span>, <span class="hljs-attr">ipAddresses</span>: [<span class="hljs-string">"192.168.1.1"</span>, <span class="hljs-string">"192.168.1.2"</span>] }</li><li>    ]</li><li>  },</li><li>
</li><li>  <span class="hljs-attr">security</span>: {</li><li>    <span class="hljs-attr">certificate</span>: {</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">"-----BEGIN CERTIFICATE-----\n..."</span>,</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-string">"PEM"</span>,</li><li>      <span class="hljs-attr">key</span>: <span class="hljs-string">"/path/dir/"</span>, <span class="hljs-comment">// 请根据自身业务对key进行修改</span></li><li>      <span class="hljs-attr">keyPassword</span>: <span class="hljs-string">"your-password"</span></li><li>    },</li><li>    <span class="hljs-attr">serverAuthentication</span>: {</li><li>      <span class="hljs-attr">credential</span>: {</li><li>        <span class="hljs-attr">username</span>: <span class="hljs-string">"your-username"</span>,</li><li>        <span class="hljs-attr">password</span>: <span class="hljs-string">"your-password"</span></li><li>      },</li><li>      <span class="hljs-attr">authenticationType</span>: <span class="hljs-string">"basic"</span></li><li>    }</li><li>  },</li><li>  <span class="hljs-attr">cache</span>: cache</li><li>};</li><li>
</li><li><span class="hljs-comment">// Use the configuration in the session creation</span></li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: requestConfig });</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section4802256134519" device-type="phone,2in1,tablet,tv,wearable">ConnectionConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4802256134519" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ConnectionConfiguration接口包含两个参数，开发者可以调整最大并发TCP的连接数也可以对单个主机或此次会话中的TCP最大连接数进行调整。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 731px;"><h3 id="section14599143217565" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14599143217565" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.31.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.31.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>maxConnectionsPerHost</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>单个主机允许的最大并发 TCP 连接数（主机与主机名+端口号对相同）。默认值为 6，最大值为 2147483647。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>maxTotalConnections</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>此会话中允许的最大同时 TCP 连接总数。 默认值为 64，最大值为 2147483647。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span></li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">connectionConfig</span>: rcp.<span class="hljs-property">ConnectionConfiguration</span> = {</li><li>  <span class="hljs-attr">maxConnectionsPerHost</span>: <span class="hljs-number">6</span>,</li><li>  <span class="hljs-attr">maxTotalConnections</span>: <span class="hljs-number">64</span></li><li>}</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">connectionConfiguration</span>: connectionConfig });</li></ol></pre></div></div> </div> <p></p> <div class="tiledSection" style="contain-intrinsic-size: auto 350px;"><h2 id="section1376921132812" device-type="phone,2in1,tablet,tv,wearable">TcpConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1376921132812" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TcpConfiguration接口为开发者提供设置TCP选项的能力。</p> <p>当keepIdleSec、keepCnt、keepIntervalSec三个参数中至少有一个设置时，客户端会主动发送探测报文，未设置的参数将使用本文档中规定的默认值。若服务器一直不回复探测报文，TCP连接将在keepIdleSec + (keepCnt + 1) * keepIntervalSec秒后断开。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1565px;"><h3 id="section196396461569" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section196396461569" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.34.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.34.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>keepIdleSec</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>该参数设置一个计时器，TCP连接将在计时器触发时发送探测报文。</p> <p>单位：s。</p> <p>取值范围：1~7200。</p> <p>默认值：7200。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>userTimeoutMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>该参数设置一个超时时间。若传输的数据在超时时间内未收到服务器的确认报文，TCP连接将被断开。</p> <p>单位：ms。</p> <p>取值范围：1~3600000。</p> <p>默认值：和<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section253517541009">Timeout</a>.transferMs保持一致。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>keepCnt</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>该参数设置发送探测报文的次数。</p> <p>单位：次。</p> <p>取值范围：1~9。</p> <p>默认值：9。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>keepIntervalSec</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>该参数设置每个探测报文之间的时间间隔。</p> <p>单位：s。</p> <p>取值范围：1~75。</p> <p>默认值：75。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">transferConfig</span>: rcp.<span class="hljs-property">TransferConfiguration</span> = {</li><li>  <span class="hljs-attr">tcp</span>: {</li><li>    <span class="hljs-attr">keepIdleSec</span>: <span class="hljs-number">20</span>,</li><li>    <span class="hljs-attr">userTimeoutMs</span>: <span class="hljs-number">3000</span>,</li><li>    <span class="hljs-attr">keepCnt</span>: <span class="hljs-number">6</span>,</li><li>    <span class="hljs-attr">keepIntervalSec</span>: <span class="hljs-number">30</span>,</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-comment">// Use the configuration in the session creation.</span></li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>({</li><li>  <span class="hljs-attr">requestConfiguration</span>: {</li><li>    <span class="hljs-attr">transfer</span>: transferConfig</li><li>  }</li><li>});</li><li>
</li><li><span class="hljs-comment">// Use the configuration in the request.</span></li><li><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">'https://example.com'</span>);</li><li>request.<span class="hljs-property">configuration</span> = {</li><li>  <span class="hljs-attr">transfer</span>: transferConfig</li><li>};</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section59321354193610" device-type="phone,2in1,tablet,tv,wearable">TransferConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section59321354193610" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TransferConfiguration接口为开发者提供了一组选项，用于调整会话中HTTP请求期间的数据传输行为。这包括与自动重定向和超时配置相关的设置。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1620px;"><h3 id="section336714395712" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section336714395712" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.36.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.36.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>autoRedirect</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定HTTP客户端是否应自动遵循重定向。如果设置为true，客户端将自动遵循HTTP重定向；否则，不会自动重定向。默认值为true。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>timeout</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section253517541009">Timeout</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>配置HTTP请求的超时值，允许开发者定义连接和传输数据所允许的最长时间。如果未设置，则使用默认时间。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>assumesHTTP3Capable</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定连接是否具有HTTP/3功能，true代表连接具有HTTP/3功能，false代表没有，默认为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>pathPreference</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section828055885811">PathPreference</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP请求路径首选项，此处配置的为建议路径，在实际使用过程中，系统会决定使用哪个路径。可以是'自动'或'蜂窝'路径。默认为'自动'路径。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>serviceType</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section4811141807">ServiceType</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>服务类型。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>maxAutoRedirects</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>请求要遵循的最大重定向次数，如果 autoRedirect 属性为 true，则需要对其设置。默认值为50，最大值为2147483647。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>pausePolicy</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section195053616613">PausePolicy</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>请求暂停策略。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>tcp</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1376921132812">TcpConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>TCP连接的相关配置。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">transferConfig</span>: rcp.<span class="hljs-property">TransferConfiguration</span> = {</li><li>  <span class="hljs-attr">autoRedirect</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">timeout</span>: {</li><li>    <span class="hljs-attr">connectMs</span>: <span class="hljs-number">5000</span>,</li><li>    <span class="hljs-attr">transferMs</span>: <span class="hljs-number">10000</span></li><li>  },</li><li>  <span class="hljs-attr">assumesHTTP3Capable</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">pathPreference</span>: <span class="hljs-string">"cellular"</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// Use the configuration in the session creation</span></li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">transfer</span>: transferConfig } });</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section557714186379" device-type="phone,2in1,tablet,tv,wearable">TracingConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section557714186379" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TracingConfiguration接口使开发者能够在会话中的HTTP请求期间捕获详细的跟踪信息。跟踪有助于调试、性能分析和深入了解通信过程中的数据流。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 2064px;"><h3 id="section13295822155716" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13295822155716" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.38.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.38.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>verbose</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>启用详细跟踪，捕获有关HTTP请求/响应流的大量信息。默认值为false，true表示开启捕获，false表示不开启。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>infoToCollect</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section12292010397">InfoToCollect</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>配置要收集的特定类型的信息事件。默认无事件需要收集。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>collectTimeInfo</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指示在跟踪过程中是否应收集与时间相关的信息，true代表收集，false代表不收集，默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>httpEventsHandler</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section87603011401">HttpEventsHandler</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>为HTTP请求/响应过程中的特定操作定义响应处理程序的回调。默认值为undefined。</p> </td> </tr>  </tbody></table></div> </div> <div class="p"><strong>示例：</strong><div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// Define a custom response handler</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">customHttpEventsHandler</span>: rcp.<span class="hljs-property">HttpEventsHandler</span> = {</li><li>  <span class="hljs-attr">onDataReceive</span>: <span class="hljs-function">(<span class="hljs-params">incomingData: <span class="hljs-built_in">ArrayBuffer</span></span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// Custom logic for handling incoming data</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Received data:"</span>, incomingData);</li><li>    <span class="hljs-keyword">return</span> incomingData.<span class="hljs-property">byteLength</span>;</li><li>  },</li><li>  <span class="hljs-attr">onUploadProgress</span>: <span class="hljs-function">(<span class="hljs-params">totalSize: <span class="hljs-built_in">number</span>, transferredSize: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// Custom logic for handling upload progress</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Upload progress:"</span>, transferredSize, <span class="hljs-string">"of"</span>, totalSize);</li><li>  },</li><li>  <span class="hljs-attr">onDownloadProgress</span>: <span class="hljs-function">(<span class="hljs-params">totalSize: <span class="hljs-built_in">number</span>, transferredSize: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// Custom logic for handling download progress</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Download progress:"</span>, transferredSize, <span class="hljs-string">"of"</span>, totalSize);</li><li>  },</li><li>  <span class="hljs-attr">onHeaderReceive</span>: <span class="hljs-function">(<span class="hljs-params">headers: rcp.ResponseHeaders</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// Custom logic for handling response headers</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Received headers:"</span>, headers);</li><li>  },</li><li>  <span class="hljs-attr">onDataEnd</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-comment">// Custom logic for handling data transfer completion</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Data transfer complete"</span>);</li><li>  },</li><li>  <span class="hljs-attr">onCanceled</span>: <span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-comment">// Custom logic for handling cancellation</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Request/response canceled"</span>);</li><li>  },</li><li>  <span class="hljs-attr">onStatusCodeReceive</span>: <span class="hljs-function">(<span class="hljs-params">statusCode: <span class="hljs-built_in">number</span>, request?: rcp.Request</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// Custom logic for handling statusCode</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Received statusCode:"</span>, statusCode);</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-comment">// Configure tracing settings</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">tracingConfig</span>: rcp.<span class="hljs-property">TracingConfiguration</span> = {</li><li>  <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">infoToCollect</span>: {</li><li>    <span class="hljs-attr">textual</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">incomingHeader</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">outgoingHeader</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">incomingData</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">outgoingData</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">incomingSslData</span>: <span class="hljs-literal">true</span>,</li><li>    <span class="hljs-attr">outgoingSslData</span>: <span class="hljs-literal">true</span></li><li>  },</li><li>  <span class="hljs-attr">collectTimeInfo</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-attr">httpEventsHandler</span>: customHttpEventsHandler</li><li>};</li><li>
</li><li><span class="hljs-comment">// Use the configuration in the session creation</span></li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">tracing</span>: tracingConfig } });</li></ol></pre></div></div> </div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1555px;"><h2 id="section731665213712" device-type="phone,2in1,tablet,tv,wearable">ProxyConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section731665213712" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ProxyConfiguration = 'system' | 'no-proxy' | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section750717273598">WebProxy</a></p> <p>ProxyConfiguration接口允许开发者为会话中的HTTP请求配置代理设置，从而提供在系统、自定义或无代理之间进行选择的灵活性。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.39.6.1.3.1.1" width="49.94%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.39.6.1.3.1.2" width="50.06%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.94%"><p>'system'</p> </td> <td class="cellrowborder" width="50.06%"><p>HTTP代理配置。'system'：表示使用系统代理配置。</p> </td> </tr> <tr><td class="cellrowborder" width="49.94%"><p>'no-proxy'</p> </td> <td class="cellrowborder" width="50.06%"><p>HTTP代理配置。'no-proxy'：表示不使用代理。</p> </td> </tr> <tr><td class="cellrowborder" width="49.94%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section750717273598">WebProxy</a></p> </td> <td class="cellrowborder" width="50.06%"><p>HTTP代理配置。WebProxy：表示提供自定义代理设置。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// Configure system proxy (default)</span></li><li><span class="hljs-keyword">const</span> systemProxyConfig = <span class="hljs-string">"system"</span>;</li><li>
</li><li><span class="hljs-comment">// Configure custom proxy</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">customProxyConfig</span>: rcp.<span class="hljs-property">WebProxy</span> = {</li><li>  <span class="hljs-attr">url</span>: <span class="hljs-string">"http://custom-proxy.example.com"</span>,</li><li>  <span class="hljs-attr">createTunnel</span>: <span class="hljs-string">"always"</span>,</li><li>  <span class="hljs-attr">exclusions</span>: [<span class="hljs-string">"http://exclude.example.com"</span>],</li><li>  <span class="hljs-attr">security</span>: {</li><li>    <span class="hljs-attr">certificate</span>: {</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">"-----BEGIN CERTIFICATE-----\n..."</span>,</li><li>      <span class="hljs-attr">type</span>: <span class="hljs-string">"PEM"</span>,</li><li>      <span class="hljs-attr">key</span>: <span class="hljs-string">"-----BEGIN PRIVATE KEY-----\n..."</span>, <span class="hljs-comment">// 请根据实际业务选择合适的key</span></li><li>      <span class="hljs-attr">keyPassword</span>: <span class="hljs-string">"your-password"</span></li><li>    },</li><li>    <span class="hljs-attr">serverAuthentication</span>: {</li><li>      <span class="hljs-attr">credential</span>: {</li><li>        <span class="hljs-attr">username</span>: <span class="hljs-string">"proxy-username"</span>,</li><li>        <span class="hljs-attr">password</span>: <span class="hljs-string">"proxy-password"</span></li><li>      },</li><li>      <span class="hljs-attr">authenticationType</span>: <span class="hljs-string">"basic"</span></li><li>    }</li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-comment">// Configure no proxy</span></li><li><span class="hljs-keyword">const</span> noProxyConfig = <span class="hljs-string">"no-proxy"</span>;</li><li>
</li><li><span class="hljs-comment">// Use the proxy configuration in the session creation</span></li><li><span class="hljs-keyword">const</span> sessionWithSystemProxy = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">proxy</span>: systemProxyConfig } });</li><li><span class="hljs-keyword">const</span> sessionWithCustomProxy = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">proxy</span>: customProxyConfig } });</li><li><span class="hljs-keyword">const</span> sessionWithNoProxy = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">proxy</span>: noProxyConfig } });</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section9677185417382" device-type="phone,2in1,tablet,tv,wearable">DnsConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9677185417382" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>允许开发者为会话中的HTTP请求配置域名系统（DNS）设置。它提供了指定DNS规则的灵活性，包括自定义DNS服务器或静态DNS规则。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 3115px;"><h3 id="section1263953915575" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1263953915575" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.41.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.41.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.41.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.41.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.41.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>dnsRules</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section520311317520">DnsServers</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section8646352103418">StaticDnsRules</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section8160554134811">DynamicDnsRule</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>配置DNS规则，默认值为undefined。</p> <p>DnsServers：表示优先使用指定的DNS服务器解析主机名。</p> <p>StaticDnsRules：静态DNS规则，表示如果hostname匹配，则优先使用指定的地址。</p> <p>DynamicDnsRule：动态DNS规则，表示优先使用函数中返回的地址。</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>针对同一域名配置多个静态或者动态DNS规则后，默认情况下，仅有最后一个IP地址生效。如果希望多个IP地址同时生效，在6.0.0(20)版本后，支持同一域名配置多个静态或者动态DNS规则，此时将happyEyeballOnDnsRule设置为true可以让多个IP地址同时生效。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>dnsOverHttps</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13705867403">DnsOverHttpsConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>DNS over HTTPS配置。默认值为undefined。</p> <p>如果设置，则优先使用DNS服务器解析的地址。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>happyEyeballOnDnsRule</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否启用Happy Eyeball竞速连接。</p> <p>当特定地址或地址族（IPv4或IPv6）被阻止、损坏或网络不佳质量差时，可通过Happy Eyeball竞速连接更快地建立连接。</p> <p>true：当DNS规则（dnsRules参数）被设置时启用Happy Eyeball竞速连接功能。</p> <p>false：当DNS规则（dnsRules参数）被设置时不启用Happy Eyeball竞速连接功能。</p> <p>默认值是false。</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>只有设置了DNS规则（dnsRules参数）时该配置项才有意义；否则，Happy Eyeball竞速连接功能是默认启用的，而且无法关闭，此时设置此选项无任何作用。</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// Configure custom DNS servers</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">customDnsServers</span>: rcp.<span class="hljs-property">DnsServers</span> = [</li><li>  { <span class="hljs-attr">ip</span>: <span class="hljs-string">"8.8.8.8"</span> },</li><li>  { <span class="hljs-attr">ip</span>: <span class="hljs-string">"8.8.4.4"</span>, <span class="hljs-attr">port</span>: <span class="hljs-number">53</span> }</li><li>];</li><li>
</li><li><span class="hljs-comment">// Configure static DNS rules</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">staticDnsRules</span>: rcp.<span class="hljs-property">StaticDnsRules</span> = [</li><li>  { <span class="hljs-attr">host</span>: <span class="hljs-string">"example.com"</span>, <span class="hljs-attr">port</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">ipAddresses</span>: [<span class="hljs-string">"192.168.1.1"</span>, <span class="hljs-string">"192.168.1.2"</span>] },</li><li>  { <span class="hljs-attr">host</span>: <span class="hljs-string">"sub.example.com"</span>, <span class="hljs-attr">port</span>: <span class="hljs-number">443</span>, <span class="hljs-attr">ipAddresses</span>: [<span class="hljs-string">"192.168.2.1"</span>] }</li><li>];</li><li>
</li><li><span class="hljs-comment">// Configure DNS over HTTPS</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">dohConfig</span>: rcp.<span class="hljs-property">DnsOverHttpsConfiguration</span> = {</li><li>  <span class="hljs-attr">url</span>: <span class="hljs-string">"https://dns.example.com/dns-query"</span>,</li><li>  <span class="hljs-attr">skipCertificatesValidation</span>: <span class="hljs-literal">true</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// Use DNS configuration in the session creation.</span></li><li><span class="hljs-keyword">const</span> sessionWithCustomDns = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">dns</span>: { <span class="hljs-attr">dnsRules</span>: customDnsServers } } });</li><li><span class="hljs-keyword">const</span> sessionWithStaticDns = rcp.<span class="hljs-title function_">createSession</span>({</li><li>  <span class="hljs-attr">requestConfiguration</span>: {</li><li>    <span class="hljs-attr">dns</span>: {</li><li>      <span class="hljs-comment">// for example.com, '192.168.1.2' is effective.</span></li><li>      <span class="hljs-comment">// for sub.example.com, '192.168.2.1' is effective.</span></li><li>      <span class="hljs-attr">dnsRules</span>: staticDnsRules,</li><li>    }</li><li>  }</li><li>});</li><li><span class="hljs-keyword">const</span> sessionWithDoh = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">dns</span>: { <span class="hljs-attr">dnsOverHttps</span>: dohConfig } } });</li><li>
</li><li><span class="hljs-comment">// Enable happy eyeball in the session creation when dns rules is set.</span></li><li><span class="hljs-keyword">const</span> sessionWithStaticDnsRulesAndHappyEyeball = rcp.<span class="hljs-title function_">createSession</span>({</li><li>  <span class="hljs-attr">requestConfiguration</span>: {</li><li>    <span class="hljs-attr">dns</span>: {</li><li>      <span class="hljs-attr">dnsRules</span>: staticDnsRules, <span class="hljs-comment">// Set dns rules here.</span></li><li>      <span class="hljs-attr">happyEyeballOnDnsRule</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// Enable happy eyeball here.</span></li><li>    }</li><li>  }</li><li>});</li><li>
</li><li><span class="hljs-comment">// Enable happy eyeball in the request configuration when dns rules is set.</span></li><li><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">'https://example.com'</span>);</li><li>request.<span class="hljs-property">configuration</span> = {</li><li>  <span class="hljs-attr">dns</span>: {</li><li>    <span class="hljs-attr">dnsRules</span>: staticDnsRules, <span class="hljs-comment">// Set dns rule here.</span></li><li>    <span class="hljs-attr">happyEyeballOnDnsRule</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// Enable happy eyeball here.</span></li><li>  }</li><li>};</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section13705867403" device-type="phone,2in1,tablet,tv,wearable">DnsOverHttpsConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13705867403" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>允许开发者配置HTTPS上的DNS（DOH）设置，从而通过HTTPS端点实现安全的DNS解析。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 750px;"><h3 id="section35138816588" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section35138816588" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.43.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.43.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.43.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.43.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.43.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>url</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>DOH端点的URL或字符串表示形式。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>skipCertificatesValidation</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定是否跳过DOH终结点的SSL/TLS证书验证。true代表跳过，false代表不跳过，默认值为false。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// Configure DNS over HTTPS settings</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">dohConfig</span>: rcp.<span class="hljs-property">DnsOverHttpsConfiguration</span> = {</li><li>  <span class="hljs-attr">url</span>: <span class="hljs-string">"https://dns.example.com/dns-query"</span>,</li><li>  <span class="hljs-attr">skipCertificatesValidation</span>: <span class="hljs-literal">true</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// Use the DNS over HTTPS configuration in the session creation</span></li><li><span class="hljs-keyword">const</span> sessionWithDoh = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">dns</span>: { <span class="hljs-attr">dnsOverHttps</span>: dohConfig } } });</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1597118916425" device-type="phone,2in1,tablet,tv,wearable">SecurityConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1597118916425" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>SecurityConfiguration接口允许开发者在会话中配置与安全相关的设置，包括证书和服务器身份验证。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 2167px;"><h3 id="section19129174610587" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19129174610587" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.45.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.45.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.45.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.45.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.45.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>remoteValidation</p> </td> <td class="cellrowborder" width="23.12%"><p>'system' | 'skip' | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1191716433375">CertificateAuthority</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section209691249748">ValidationCallback</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>证书颁发机构（CA），用于验证远程服务器的身份。默认值为'system'。</p> <p>如果未设置此字段，系统CA将被用于验证远程服务器的标识。</p> <p>'system'：表示使用系统CA配置。</p> <p>'skip'：跳过验证。</p> <p>CertificateAuthority：证书颁发机构（CA）验证。</p> <p>ValidationCallback：自定义证书校验。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>从5.0.0(12)版本开始，新增支持ValidationCallback类型。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>certificate</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section134001711153819">ClientCertificate</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>发送到远程服务器的客户端证书，用于远程服务器使用其验证委托人的身份证明。默认值为undefined，表示服务器不需要验证客户端。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>tlsOptions</p> </td> <td class="cellrowborder" width="23.12%"><p>'system' | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section184507292518">CipherSuite</a>[] | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section2816178141816">TlsV13Option</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section177701532908">TlsV12Option</a>| <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section147673411215">TlsV11Option</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1638114214316">TlsV10Option</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS版本选择器，用于选择TLS的版本，默认为'system'。</p> <p>'system'：表示使用系统的TLS版本。</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section184507292518">CipherSuite</a>[]：用来声明加密套件的类型的数组。</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section2816178141816">TlsV13Option</a>：表示使用TLS1.3版本。</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section177701532908">TlsV12Option</a>：表示使用TLS1.2版本。</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section147673411215">TlsV11Option</a>：表示使用TLS1.1版本。</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1638114214316">TlsV10Option</a>：表示使用TLS1.0版本。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>tlsRange</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1023912106245">TlsVersionRangeOptions</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS版本范围配置器，用于设置客户端可使用TLS版本的范围，默认不配置。</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>serverAuthentication</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section523243163818">ServerAuthentication</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>安全连接期间的服务器身份验证配置。默认不认证。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>certificatePinning</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section930513513227">CertificatePinning</a>| <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section930513513227">CertificatePinning</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>证书锁定配置。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// Configure security settings</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">securityConfig</span>: rcp.<span class="hljs-property">SecurityConfiguration</span> = {</li><li>  <span class="hljs-attr">remoteValidation</span>: <span class="hljs-string">"system"</span>,</li><li>  <span class="hljs-attr">certificate</span>: {</li><li>    <span class="hljs-attr">content</span>: <span class="hljs-string">"-----BEGIN CERTIFICATE-----\n..."</span>,</li><li>    <span class="hljs-attr">type</span>: <span class="hljs-string">"PEM"</span>,</li><li>    <span class="hljs-attr">key</span>: <span class="hljs-string">"-----BEGIN PRIVATE KEY-----\n..."</span>, <span class="hljs-comment">// 请根据自身业务选择合适的key</span></li><li>    <span class="hljs-attr">keyPassword</span>: <span class="hljs-string">"your-password"</span></li><li>  },</li><li>  <span class="hljs-attr">serverAuthentication</span>: {</li><li>    <span class="hljs-attr">credential</span>: {</li><li>      <span class="hljs-attr">username</span>: <span class="hljs-string">"exampleUser"</span>,</li><li>      <span class="hljs-attr">password</span>: <span class="hljs-string">"examplePassword"</span></li><li>    },</li><li>    <span class="hljs-attr">authenticationType</span>: <span class="hljs-string">"basic"</span></li><li>  }</li><li>};</li><li>
</li><li><span class="hljs-comment">// Use the security configuration in the session creation</span></li><li><span class="hljs-keyword">const</span> sessionWithSecurityConfig = rcp.<span class="hljs-title function_">createSession</span>({ <span class="hljs-attr">requestConfiguration</span>: { <span class="hljs-attr">security</span>: securityConfig } });</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1191716433375" device-type="phone,2in1,tablet,tv,wearable">CertificateAuthority<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1191716433375" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>证书颁发机构（CA）用于验证远程服务器的身份。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 375px;"><h3 id="section6628161955914" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6628161955914" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.47.2.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.47.2.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.47.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.47.2.1.6.1.4" width="13.139999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.47.2.1.6.1.5" width="33.1%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>content</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string | ArrayBuffer</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>用于验证对等方的证书颁发机构证书捆绑包。是PEM格式。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>filePath</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>用于验证对等方的证书颁发机构证书文件的路径。该文件应为PEM格式。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>folderPath</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>用于验证对等方包含多个CA证书目录的路径。此目录中的文件应为PEM格式</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section134001711153819" device-type="phone,2in1,tablet,tv,wearable">ClientCertificate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section134001711153819" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ClientCertificate接口允许开发者为会话中的安全连接配置与证书相关的设置。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 513px;"><h3 id="section132111362598" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section132111362598" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.49.2.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.2.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.2.1.6.1.4" width="13.139999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.49.2.1.6.1.5" width="33.1%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>content</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string | ArrayBuffer</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>证书颁发机构（CA）证书的内容。它可以作为字符串或ArrayBuffer提供。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>filePath</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>包含证书颁发机构（CA）证书的文件的路径。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>type</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>'PEM' | 'DER' | 'P12'</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>客户端证书编码格式类型。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>key</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>客户端证书私钥文件的路径。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>keyPassword</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="13.139999999999999%"><p>是</p> </td> <td class="cellrowborder" width="33.1%"><p>客户端证书密码。默认值为undefined。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section523243163818" device-type="phone,2in1,tablet,tv,wearable">ServerAuthentication<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section523243163818" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP服务器身份验证。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 330px;"><h3 id="section17733175435913" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17733175435913" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.51.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>credential</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section721442771710">Credential</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>服务器的凭证。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>authenticationType</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section5757123313210">AuthenticationType</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>服务器的认证类型。如果没有设置，需与服务器协商。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1023912106245" device-type="phone,2in1,tablet,tv,wearable">TlsVersionRangeOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1023912106245" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TLS版本可用范围配置属性，开发者能够设置安全相关TLS版本的上限和下限，并指定该范围内加密套件列表。</p> <p>系统能力：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 714px;"><h3 id="section18301210609" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18301210609" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.53.2.1.6.1.1" width="20%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.2.1.6.1.2" width="20%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.2.1.6.1.3" width="20%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.2.1.6.1.4" width="20%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.2.1.6.1.5" width="20%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>min</p> </td> <td class="cellrowborder" width="20%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9929122918293">TlsVersion</a></p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>TLS可用最小版本，默认不设置，由系统选择。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>max</p> </td> <td class="cellrowborder" width="20%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9929122918293">TlsVersion</a></p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>TLS可用最大版本，默认不设置，由系统选择。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>cipherSuite</p> </td> <td class="cellrowborder" width="20%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section184507292518">CipherSuite</a>[]</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>TLS可用版本范围内的加密套件列表，默认不设置，由系统选择。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.53.5.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.53.5.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>当开发者设置TLS最小版本大于最大版本时，系统将抛出该参数错误码。表示Parameter error.</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section10768169134510" device-type="phone,2in1,tablet,tv,wearable">Request<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section10768169134510" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP请求。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 810px;"><h3 id="section13598322105" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13598322105" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.55.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.2.1.6.1.4" width="8.620000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.55.2.1.6.1.5" width="37.620000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>id</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>否</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>请求对象的唯一标识符。由系统生成。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>url</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section66401230152412">URL</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>否</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP请求的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>method</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section20787153164810">HttpMethod</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>否</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>要使用的HTTP方法。默认值为'GET'。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>headers</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section16586132194914">RequestHeaders</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>是</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP请求头。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>content</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18971142565016">RequestContent</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>是</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP请求内容。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cookies</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section127791738567">RequestCookies</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>是</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP请求的Cookie。将设置转换为HTTP Cookies标头。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>transferRange</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section838945575618">TransferRange</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section838945575618">TransferRange</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>是</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP传输范围。转换为HTTP Range头。带有range头的HTTP请求要求服务器只返回HTTP响应的一部分。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>configuration</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1898141153617">Configuration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>是</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP请求配置。用于覆盖默认或会话范围的设置。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>destination</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9250173916506">ResponseBodyDestination</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>是</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP响应体放置位置。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cacheControl</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section191412521521">CacheControl</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.620000000000001%"><p>是</p> </td> <td class="cellrowborder" width="37.620000000000005%"><p>HTTP请求缓存控制配置。若配置，则<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18613443123412">SessionConfiguration</a>中的配置的缓存控制不生效。默认值为undefined。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1351px;"><h3 id="section926215231095" device-type="phone,2in1,tablet,tv,wearable">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section926215231095" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(url: URLOrString, method?: HttpMethod, headers?: RequestHeaders, content?: RequestContent, cookies?: RequestCookies, transferRange?: TransferRange | TransferRange[], configuration?: Configuration)</p> <p>提供用于创建Request对象的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.3" width="6.94%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.56.7.1.5.1.4" width="43.059999999999995%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="6.94%"><p>是</p> </td> <td class="cellrowborder" width="43.059999999999995%"><p>请求的地址类型，在构造函数中，参数可以是 URLOrString，但 URL 只是 URL，字符串需要转换为URL。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>method</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section20787153164810">HttpMethod</a></p> </td> <td class="cellrowborder" width="6.94%"><p>否</p> </td> <td class="cellrowborder" width="43.059999999999995%"><p>HTTP 请求方法。默认是GET。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>headers</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section16586132194914">RequestHeaders</a></p> </td> <td class="cellrowborder" width="6.94%"><p>否</p> </td> <td class="cellrowborder" width="43.059999999999995%"><p>HTTP请求头。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>content</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18971142565016">RequestContent</a></p> </td> <td class="cellrowborder" width="6.94%"><p>否</p> </td> <td class="cellrowborder" width="43.059999999999995%"><p>HTTP 请求正文。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>cookies</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section127791738567">RequestCookies</a></p> </td> <td class="cellrowborder" width="6.94%"><p>否</p> </td> <td class="cellrowborder" width="43.059999999999995%"><p>HTTP 请求 cookie。该设置将转换为 HTTP Cookies header。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>transferRange</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section838945575618">TransferRange</a>| <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section838945575618">TransferRange</a>[]</p> </td> <td class="cellrowborder" width="6.94%"><p>否</p> </td> <td class="cellrowborder" width="43.059999999999995%"><p>HTTP 传输范围。该设置将转换为 HTTP Range header。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>configuration</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1898141153617">Configuration</a></p> </td> <td class="cellrowborder" width="6.94%"><p>否</p> </td> <td class="cellrowborder" width="43.059999999999995%"><p>HTTP 请求配置。见<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1898141153617">Configuration</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">headers</span>: rcp.<span class="hljs-property">RequestHeaders</span> = {</li><li>  <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span></li><li>};</li><li><span class="hljs-keyword">let</span> content = <span class="hljs-string">"data to send"</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">configuration</span>: rcp.<span class="hljs-property">Configuration</span> = {</li><li>  <span class="hljs-attr">transfer</span>: {</li><li>    <span class="hljs-attr">timeout</span>: { <span class="hljs-attr">connectMs</span>: <span class="hljs-number">60000</span>, <span class="hljs-attr">transferMs</span>: <span class="hljs-number">60000</span> }</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">cookies</span>: rcp.<span class="hljs-property">RequestCookies</span> = { <span class="hljs-string">'name1'</span>: <span class="hljs-string">'value1'</span>, <span class="hljs-string">'name2'</span>: <span class="hljs-string">'value2'</span> };</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">transferRange</span>: rcp.<span class="hljs-property">TransferRange</span> = { <span class="hljs-attr">from</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">200</span> };</li><li><span class="hljs-keyword">let</span> req = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"http://example.com"</span>, <span class="hljs-string">"POST"</span>, headers, content, cookies, transferRange, configuration);</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 473px;"><h2 id="section66401230152412" device-type="phone,2in1,tablet,tv,wearable">URL<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section66401230152412" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type URL = url.URL</p> <p>请求的地址类型，链接到@<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-url" target="_blank">ohos.url</a>中的URL。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.57.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.57.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>url.URL</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为@ohos.url.URL，请求的地址类型，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 521px;"><h2 id="section136572026194112" device-type="phone,2in1,tablet,tv,wearable">X509Cert<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section136572026194112" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type X509Cert = cert.X509Cert</p> <p>提供 x509 证书类型，链接到@<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-cert" target="_blank">ohos.security.cert</a>中的X509Cert。</p> <p>取值范围请见下表。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.58.7.1.3.1.1" width="51.18000000000001%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.58.7.1.3.1.2" width="48.82%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="51.18000000000001%"><p>cert.X509Cert</p> </td> <td class="cellrowborder" width="48.82%"><p>表示值的类型为@ohos.security.cert.X509Cert，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section627313541711" device-type="phone,2in1,tablet,tv,wearable">File<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section627313541711" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type File = fs.File</p> <p>文件系统中的文件，链接到@<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fs" target="_blank">ohos.file.fs</a>中的File。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.59.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.59.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>fs.File</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为@ohos.file.fs.File，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 473px;"><h2 id="section5384161714342" device-type="phone,2in1,tablet,tv,wearable">RandomAccessFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section5384161714342" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type RandomAccessFile = fs.RandomAccessFile</p> <p>可以随机访问的文件，链接到@<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fs" target="_blank">ohos.file.fs</a>中的RandomAccessFile。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.60.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.60.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>fs.RandomAccessFile</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为@ohos.file.fs.RandomAccessFile，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section17454218451" device-type="phone,2in1,tablet,tv,wearable">Stream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17454218451" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Stream = fs.Stream</p> <p>提供数据流的形式，链接到@<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fs" target="_blank">ohos.file.fs</a>中的Stream。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.61.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.61.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>fs.Stream</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为@ohos.file.fs.Stream，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 559px;"><h2 id="section12323181618910" device-type="phone,2in1,tablet,tv,wearable">RawDataContent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12323181618910" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type RawDataContent = string | ArrayBuffer | object</p> <p>ArkTs的基本类型数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.62.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.62.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>string</p> </td> <td class="cellrowborder" width="50%"><p>表示数据以文本字符串的形式存在，可取任意值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="50%"><p>表示数据以二进制形式存在，可取任意值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>object</p> </td> <td class="cellrowborder" width="50%"><p>表示数据以对象的形式存在，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section21886214126" device-type="phone,2in1,tablet,tv,wearable">FileDescriptor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section21886214126" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type FileDescriptor = number</p> <p>文件的描述符，用于访问文件或者I/O设备的抽象表示。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.63.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.63.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为number，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 655px;"><h2 id="section19493339161418" device-type="phone,2in1,tablet,tv,wearable">LocalFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19493339161418" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type LocalFile = <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section21886214126">FileDescriptor</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section627313541711">File</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section5384161714342">RandomAccessFile</a></p> <p>具有文件特性的对象，允许用户使用不同类型的文件描述符或文件对象进行操作。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.64.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.64.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section21886214126">FileDescriptor</a></p> </td> <td class="cellrowborder" width="50%"><p>表示文件的描述符。文件描述符是一个整数，用于标识一个打开的文件。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section627313541711">File</a></p> </td> <td class="cellrowborder" width="50%"><p>文件系统中的文件，用于获取文件的描述符、路径和名称，以及对文件的锁定和解锁操作。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section5384161714342">RandomAccessFile</a></p> </td> <td class="cellrowborder" width="50%"><p>提供随机访问文件的操作功能。用于处理随机访问文件的一种类型。提供了文件描述符、文件指针的读取，以及文件指针的设置和文件的写入操作。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1372525722415" device-type="phone,2in1,tablet,tv,wearable">WriteFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1372525722415" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供向文件写入数据的函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 648px;"><h3 id="section14574104312336" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">write<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14574104312336" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(buffer: ArrayBuffer): Promise&lt;void | number&gt;</p> <p>向文件写入数据，使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.66.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>向文件中写入的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.66.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void | number&gt;</p> </td> <td class="cellrowborder" width="50%"><p>使用Promise异步回调，返回写入的number类型数据，或者无返回值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section4363132325017" device-type="phone,2in1,tablet,tv,wearable">ReadFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4363132325017" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供从文件中读取数据的函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 648px;"><h3 id="section18364102315018" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">read<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18364102315018" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(buffer: ArrayBuffer): Promise&lt;number&gt;</p> <p>从文件中读取数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.68.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>需要读取数据的文件。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.68.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;number&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回从文件中读取到的数据，类型为number。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section113874918253" device-type="phone,2in1,tablet,tv,wearable">WriteStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section113874918253" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供将数据写入流中的函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 648px;"><h3 id="section339184942513" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">write<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section339184942513" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(buffer: ArrayBuffer): Promise&lt;void | number&gt;</p> <p>从文件中写入数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.70.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>需要写入流中的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.70.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void | number&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回写入的number类型数据，或者无返回值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section27539206460" device-type="phone,2in1,tablet,tv,wearable">SyncWriteStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section27539206460" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供同步将数据写入流中的函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 624px;"><h3 id="section1375442034611" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">writeSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1375442034611" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeSync(buffer: ArrayBuffer): void | number</p> <p>将数据写入流中。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.72.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>需要写入流中的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.72.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>返回写入的number类型数据。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section14397920517" device-type="phone,2in1,tablet,tv,wearable">ReadStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14397920517" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供从流中读取数据的函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 648px;"><h3 id="section63971420516" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">read<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section63971420516" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(buffer: ArrayBuffer): Promise&lt;number&gt;</p> <p>从流中读取数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>需要写入流中的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.74.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;number&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回从文件中读取到的数据，类型为number。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section121694408513" device-type="phone,2in1,tablet,tv,wearable">SyncReadStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section121694408513" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>提供同步从流中读取数据的函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 624px;"><h3 id="section3170114013511" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">readSync<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3170114013511" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readSync(buffer: ArrayBuffer): number</p> <p>从流中读取数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.76.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>需要写入流中的数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.76.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>返回写入的number类型数据。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1166941712103" device-type="phone,2in1,tablet,tv,wearable">DownloadedTo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1166941712103" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>根据请求，最后的结果将会保存到DownloadToFile指定的路径中。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 402px;"><h3 id="section433320381304" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section433320381304" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.78.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>path</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>如果请求目标（<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request.destination</a>）是下载到文件时，path表示文件保存的路径。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>requestSkipped</p> </td> <td class="cellrowborder" width="23.12%"><p>true</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>当前仅支持true，若配置时选择此项则默认跳过请求，若不想跳过则不必选择此项。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1522633761218" device-type="phone,2in1,tablet,tv,wearable">TargetFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1522633761218" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>下载后的数据存放在本地设备的指定目录中，通常是下载文件夹或指定的默认存储位置。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 306px;"><h3 id="section1866214541704" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1866214541704" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.80.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.80.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.80.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.80.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.80.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>path</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>指定的数据下载路径。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>skipRequest</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否跳过请求，true代表跳过，false代表不跳过，默认值为false。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 741px;"><h2 id="section205374351176" device-type="phone,2in1,tablet,tv,wearable">TargetFileCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section205374351176" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TargetFileCallback = (request: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a>, suggestedPath: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a>) =&gt; <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1522633761218">TargetFile</a> | Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1522633761218">TargetFile</a>&gt;</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1522633761218">TargetFile</a>回调函数，返回一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1522633761218">TargetFile</a>对象，使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.3" width="15.36%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.81.7.1.5.1.4" width="34.64%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>request</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="15.36%"><p>是</p> </td> <td class="cellrowborder" width="34.64%"><p>表示入参的类型为一个HTTP请求。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>suggestedPath</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a></p> </td> <td class="cellrowborder" width="15.36%"><p>是</p> </td> <td class="cellrowborder" width="34.64%"><p>表示入参的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a>，请求中指定的路径。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.81.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1522633761218">TargetFile</a> | Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1522633761218">TargetFile</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>直接返回<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1522633761218">TargetFile</a>，或者使用Promise异步回调，表示下载数据的存放位置，或是默认文件夹。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 672px;"><h2 id="section1421528202712" device-type="phone,2in1,tablet,tv,wearable">IncomingDataCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1421528202712" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type IncomingDataCallback = (incomingData: ArrayBuffer) =&gt; void | Promise&lt;void&gt;</p> <p>处理下载数据的回调函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.3" width="15.36%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.82.7.1.5.1.4" width="34.64%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>incomingData</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="15.36%"><p>是</p> </td> <td class="cellrowborder" width="34.64%"><p>表示需要处理的ArrayBuffer类型数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.82.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>表示入参类型为ArrayBuffer，返回空值，使用Promise异步回调。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 453px;"><h2 id="section1753162618375" device-type="phone,2in1,tablet,tv,wearable">UploadFromFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1753162618375" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>UploadFromFile表示一种文件上传的方式，允许客户端将本地计算机上的文件上传到服务器。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.83.6.1.6.1.1" width="15.440000000000001%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.6.1.2" width="31.66%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.6.1.4" width="16.91%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.83.6.1.6.1.5" width="28.470000000000002%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.440000000000001%"><p>fileOrPath</p> </td> <td class="cellrowborder" width="31.66%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section19493339161418">LocalFile</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section4363132325017">ReadFile</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="16.91%"><p>否</p> </td> <td class="cellrowborder" width="28.470000000000002%"><p>表示需要上传的文件或者上传文件的路径，参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-file" target="_blank">应用文件</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 477px;"><h3 id="section151440541531" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section151440541531" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(fileOrPath: Path | LocalFile | ReadFile)</p> <p>提供用于创建UploadFromFile对象的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.1" width="16.7%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.2" width="34.23%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.3" width="18.29%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.84.7.1.5.1.4" width="30.78%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.7%"><p>fileOrPath</p> </td> <td class="cellrowborder" width="34.23%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section19493339161418">LocalFile</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section4363132325017">ReadFile</a></p> </td> <td class="cellrowborder" width="18.29%"><p>是</p> </td> <td class="cellrowborder" width="30.78%"><p>表示需要上传的文件或者上传文件的路径，参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-file" target="_blank">应用文件</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 453px;"><h2 id="section187981940151318" device-type="phone,2in1,tablet,tv,wearable">UploadFromStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section187981940151318" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>UploadFromStream表示以流的形式进行上传操作。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.85.6.1.6.1.1" width="15.440000000000001%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.6.1.2" width="31.66%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.6.1.4" width="16.91%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.85.6.1.6.1.5" width="28.470000000000002%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.440000000000001%"><p>stream</p> </td> <td class="cellrowborder" width="31.66%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section17454218451">Stream</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section14397920517">ReadStream</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section121694408513">SyncReadStream</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="16.91%"><p>否</p> </td> <td class="cellrowborder" width="28.470000000000002%"><p>表示需要上传的流。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 477px;"><h3 id="section5808134081310" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section5808134081310" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(stream: Stream | ReadStream | SyncReadStream)</p> <p>提供用于创建UploadFromStream对象的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.1" width="16.7%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.2" width="34.23%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.3" width="18.29%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.86.7.1.5.1.4" width="30.78%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.7%"><p>stream</p> </td> <td class="cellrowborder" width="34.23%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section17454218451">Stream</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section14397920517">ReadStream</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section121694408513">SyncReadStream</a></p> </td> <td class="cellrowborder" width="18.29%"><p>是</p> </td> <td class="cellrowborder" width="30.78%"><p>表示需要上传的流。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 854px;"><h2 id="section298118136197" device-type="phone,2in1,tablet,tv,wearable">DownloadToFile<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section298118136197" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type DownloadToFile = { kind: 'file'; file: TargetFileCallback; } | { kind: 'file'; file: Path; keepLocal?: boolean; } | { kind: 'file'; file: LocalFile | WriteFile; } | { kind: 'folder'; path: Path; keepLocal?: boolean; }</p> <p>将文件下载到文件夹或文件中。如果下载到文件夹，文件名将与服务器中的文件名相同。取值范围为以下表中类型的并集。其中，kind 用于指定想要下载到文件或目录，file 指的是具体要下载到的目标文件或目录（参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-file" target="_blank">应用文件</a>）。</p> <p>取值范围为以下表中类型的并集。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.87.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.87.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>{ kind: 'file'; file: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section205374351176">TargetFileCallback</a>; }</p> </td> <td class="cellrowborder" width="50%"><p>表示键kind的键值为'file'，键file的键值为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section205374351176">TargetFileCallback</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>{ kind: 'file'; file: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a>; keepLocal?: boolean; }</p> </td> <td class="cellrowborder" width="50%"><p>表示键kind的值为'file'，键file的值为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a>对象，其中keepLocal为可选参数值，当本地文件名和下载的文件名相同时，不会重复下载。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>{ kind: 'file'; file: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section19493339161418">LocalFile</a>| <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1372525722415">WriteFile</a>; }</p> </td> <td class="cellrowborder" width="50%"><p>表示键kind的值为'file'，键file的值为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section19493339161418">LocalFile</a>或<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1372525722415">WriteFile</a>对象。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>{ kind: 'folder'; path: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a>; keepLocal?: boolean; }</p> </td> <td class="cellrowborder" width="50%"><p>键kind的值为'folder'，键path的值为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a>对象，其中keepLocal为可选参数值，当本地文件夹名和下载的文件夹名相同时，不会重复下载。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 473px;"><h2 id="section1790033215431" device-type="phone,2in1,tablet,tv,wearable">DownloadToStream<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1790033215431" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type DownloadToStream = { kind: 'stream'; stream: Stream | WriteStream | SyncWriteStream; }</p> <p>将文件下载到一个数据流中。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.88.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.88.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>{ kind: 'stream'; stream: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section17454218451">Stream</a>| <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section113874918253">WriteStream</a>| <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section27539206460">SyncWriteStream</a> }</p> </td> <td class="cellrowborder" width="50%"><p>表示键kind值为'stream'，键stream的值为</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section17454218451">Stream</a>或<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section113874918253">WriteStream</a>或<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section27539206460">SyncWriteStream</a>的对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section195053616613" device-type="phone,2in1,tablet,tv,wearable">PausePolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section195053616613" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>请求的暂停策略。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 306px;"><h3 id="section1516510231418" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1516510231418" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.90.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.90.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.90.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.90.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.90.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>receiving</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section0636945286">ReceivingPausePolicy</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>设置暂停响应体接收的策略。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>sending</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section6701585215">SendingPausePolicy</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>设置暂停请求体发送的策略。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section46402018173" device-type="phone,2in1,tablet,tv,wearable">ReceivingPauseByTimeout<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section46402018173" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>暂停接收流程的按超时的策略。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 330px;"><h3 id="section5157246114" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section5157246114" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.92.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.92.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.92.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.92.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.92.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>kind</p> </td> <td class="cellrowborder" width="23.12%"><p>'timeout'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>策略类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>timeoutMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>超时时间，如果超过了该时间，框架还没从服务端收到数据，就会暂停请求。单位为毫秒。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section73638218812" device-type="phone,2in1,tablet,tv,wearable">ReceivingPauseByCache<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section73638218812" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>暂停接收流程的按缓存的策略。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 354px;"><h3 id="section19885310434" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19885310434" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.94.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.94.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.94.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.94.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.94.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>kind</p> </td> <td class="cellrowborder" width="23.12%"><p>'cacheSize'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>策略类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>size</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>缓存策略的最大值，框架缓存的数据超过该值，应用一直不处理，就会暂停请求。取值范围[0, 1048576]。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 504px;"><h2 id="section0636945286" device-type="phone,2in1,tablet,tv,wearable">ReceivingPausePolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section0636945286" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ReceivingPausePolicy = ReceivingPauseByCache | ReceivingPauseByTimeout</p> <p>接收流程的暂停策略。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.95.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.95.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section73638218812">ReceivingPauseByCache</a></p> </td> <td class="cellrowborder" width="50%"><p>策略的缓存大小。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section46402018173">ReceivingPauseByTimeout</a></p> </td> <td class="cellrowborder" width="50%"><p>策略的超时时间。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 350px;"><h2 id="section165642074433" device-type="phone,2in1,tablet,tv,wearable">NetworkOutputQueue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section165642074433" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>const NetworkOutputQueue: NetworkOutputQueueConstructor</p> <p>通过 new NetworkInputQueue()来创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section83071244174414" device-type="phone,2in1,tablet,tv,wearable">NetworkOutputQueueConstructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section83071244174414" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>NetworkOutputQueueConstructor是一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a>的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 473px;"><h3 id="section14222416174613" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">new<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14222416174613" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>new (): INetworkOutputQueue</p> <p>创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.98.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.98.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a></p> </td> <td class="cellrowborder" width="50%"><p>返回一个同步读队列对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 664px;"><h3 id="section5951104412481" device-type="phone,2in1,tablet,tv,wearable">new<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section5951104412481" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>new (maxSize: number): INetworkOutputQueue</p> <p>创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.99.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>maxSize</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>队列大小，表示框架可写入的最大字节数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.99.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.99.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a></p> </td> <td class="cellrowborder" width="50%"><p>返回一个同步读队列对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 709px;"><h3 id="section1423071615464" device-type="phone,2in1,tablet,tv,wearable">new<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1423071615464" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>new (maxSize: number, pausePolicyOverride: ReceivingPausePolicy): INetworkOutputQueue</p> <p>创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.100.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>maxSize</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>队列大小，表示可写入的最大字节数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>pausePolicyOverride</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section0636945286">ReceivingPausePolicy</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>请求的接收暂停策略。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.100.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.100.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a></p> </td> <td class="cellrowborder" width="50%"><p>返回一个同步读队列对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section13239201618464" device-type="phone,2in1,tablet,tv,wearable">INetworkOutputQueue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13239201618464" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>INetworkOutputQueue是用读响应体的同步读队列。通过new <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section165642074433">NetworkOutputQueue</a>()来构造。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 648px;"><h3 id="section223911634612" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">read<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section223911634612" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>read(maxBytesToRead: number): ArrayBuffer</p> <p>从队列中读取一段数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.102.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>maxBytesToRead</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>读取到的数据的最大字节数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.102.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.102.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="50%"><p>读取到的二进制数据。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 640px;"><h3 id="section172421116144616" device-type="phone,2in1,tablet,tv,wearable">readInto<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section172421116144616" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readInto(buffer: ArrayBuffer): number</p> <p>将数据从队列中读取并存入指定的缓冲区。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.103.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>读到参数中的buffer里面。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.103.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>读取的二进制数据的字节数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 489px;"><h3 id="section12431916104614" device-type="phone,2in1,tablet,tv,wearable">getStoredBytes<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12431916104614" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getStoredBytes(): number</p> <p>获取队列中的数据的大小。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.104.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.104.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>获取队列中的数据的大小。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 813px;"><h2 id="section9250173916506" device-type="phone,2in1,tablet,tv,wearable">ResponseBodyDestination<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9250173916506" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ResponseBodyDestination = 'array-buffer'| IncomingDataCallback | DownloadToFile | DownloadToStream | INetworkOutputQueue</p> <p>ResponseBodyDestination类型指定了响应的目标位置或目的地，指示HTTP客户端应该将响应数据发送到哪个位置。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.105.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.105.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'array-buffer'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为'array-buffer'类型数据。默认将响应体写到内存。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1421528202712">IncomingDataCallback</a></p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1421528202712">IncomingDataCallback</a>类型数据。将响应体写到回调函数中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section298118136197">DownloadToFile</a></p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section298118136197">DownloadToFile</a>类型数据。将响应体写到文件中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1790033215431">DownloadToStream</a></p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1790033215431">DownloadToStream</a>类型对象。将响应体写到自定义的流中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a></p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13239201618464">INetworkOutputQueue</a>类型对象。把响应体写到队列。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 504px;"><h2 id="section320653742718" device-type="phone,2in1,tablet,tv,wearable">URLOrString<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section320653742718" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type URLOrString = <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section66401230152412">URL</a> | string</p> <p>URLOrString类型是表示URL对象或表示URL的字符串的并集类型。可以作为HTTP/HTTPS地址的入参。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.106.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.106.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section66401230152412">URL</a></p> </td> <td class="cellrowborder" width="50%"><p>URL对象，可以作为HTTP/HTTPS地址的入参</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>string</p> </td> <td class="cellrowborder" width="50%"><p>URL的字符串，可以作为HTTP/HTTPS地址的入参</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 456px;"><h2 id="section828055885811" device-type="phone,2in1,tablet,tv,wearable">PathPreference<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section828055885811" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP请求路径偏好设置。此设置仅为开发者的建议，实际使用路径由系统决定。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.107.5.1.3.1.1" width="49.96%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.107.5.1.3.1.2" width="50.03999999999999%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.96%"><p>'auto'</p> </td> <td class="cellrowborder" width="50.03999999999999%"><p>表示系统自动选择路径。</p> </td> </tr> <tr><td class="cellrowborder" width="49.96%"><p>'cellular'</p> </td> <td class="cellrowborder" width="50.03999999999999%"><p>表示蜂窝网络路径。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 473px;"><h2 id="section1489910532316" device-type="phone,2in1,tablet,tv,wearable">IpAddress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1489910532316" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type IpAddress = string</p> <p>IP地址类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.108.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.108.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>string</p> </td> <td class="cellrowborder" width="50%"><p>表示IP地址只是一个字符串。它可以是IPv4字符串或IPv6字符串。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 497px;"><h2 id="section520311317520" device-type="phone,2in1,tablet,tv,wearable">DnsServers<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section520311317520" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type DnsServers = IpAndPort[]</p> <p>DnsServers接口允许开发者在DnsConfiguration中配置DNS设置时，指定自定义DNS服务器。它提供了一种灵活的方式来定义IP地址和相关端口的列表。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.109.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.109.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section842181319618">IpAndPort</a>[]</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section842181319618">IpAndPort</a>数组，数组成员为地址和端口键值对。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section842181319618" device-type="phone,2in1,tablet,tv,wearable">IpAndPort<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section842181319618" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>IpAndPort接口允许开发者定义IP地址和可选端口号。它通常用于需要同时指定IP地址和端口的情况，例如在DnsServers接口中配置自定义DNS服务器时。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 306px;"><h3 id="section10773299310" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section10773299310" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.111.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.111.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.111.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.111.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.111.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>ip</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1489910532316">IpAddress</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>要关联的IP地址。IPv4或IPv6地址。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>port</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>可选端口号。取值范围[0, 65535]，默认值为53。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1388px;"><h2 id="section4811141807" device-type="phone,2in1,tablet,tv,wearable">ServiceType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4811141807" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ServiceType = 'default' | 'background' | 'realtimeVoice' | 'realtimeVideo' | 'callSignaling' | 'realtimeGame' | 'normalGame' | 'shortVideo' | 'longVideo' | 'livestreamingAnchor' | 'livestreamingWatcher' | 'download' | 'upload' | 'browser'</p> <p>网络服务类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.112.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'default'</p> </td> <td class="cellrowborder" width="50%"><p>表示默认服务类型，适用于大多数一般性的服务需求。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>除'default'外，其他类型均为5.0.0(12)新增类型。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'background'</p> </td> <td class="cellrowborder" width="50%"><p>表示后台服务类型，适用于在后台运行的任务，如定时任务、后台数据同步或推送通知等。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'realtimeVoice'</p> </td> <td class="cellrowborder" width="50%"><p>表示实时语音服务类型，适用于实时语音通信，如电话、视频会议或即时通话等。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'realtimeVideo'</p> </td> <td class="cellrowborder" width="50%"><p>表示实时视频服务类型，适用于实时视频通信。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'callSignaling'</p> </td> <td class="cellrowborder" width="50%"><p>表示呼叫信号服务类型，适用于电话呼叫信号的传输和管理，包括呼叫建立、挂断、转接等操作。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'realtimeGame'</p> </td> <td class="cellrowborder" width="50%"><p>表示实时游戏服务类型，适用于实时多人游戏，需要低延迟和高可靠性，以确保玩家之间的同步和游戏体验。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'normalGame'</p> </td> <td class="cellrowborder" width="50%"><p>表示普通游戏服务类型，适用于非实时的游戏服务，比如单人游戏、离线游戏或非竞技类游戏。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'shortVideo'</p> </td> <td class="cellrowborder" width="50%"><p>表示短视频服务类型，适用于短视频的上传、下载和播放。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'longVideo'</p> </td> <td class="cellrowborder" width="50%"><p>表示长视频服务类型，适用于长视频的服务。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'livestreamingAnchor'</p> </td> <td class="cellrowborder" width="50%"><p>表示直播播控服务类型，适用于直播平台上的主播端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'livestreamingWatcher'</p> </td> <td class="cellrowborder" width="50%"><p>表示直播观看服务类型，适用于直播平台上的观众端。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'download'</p> </td> <td class="cellrowborder" width="50%"><p>表示下载服务类型，适用于资源下载服务。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'upload'</p> </td> <td class="cellrowborder" width="50%"><p>表示上传服务类型，适用于上传资源服务。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'browser'</p> </td> <td class="cellrowborder" width="50%"><p>表示浏览器服务类型，适 用于浏览器中的网页加载和交互。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1026px;"><h2 id="section20787153164810" device-type="phone,2in1,tablet,tv,wearable">HttpMethod<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section20787153164810" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type HttpMethod = 'GET' | 'POST' | 'HEAD' | 'PUT' | 'DELETE' | 'PATCH' | 'OPTIONS' | (string &amp; NonNullable&lt;unknown&gt;)</p> <p>HttpMethod是HTTP库中的一种类型，代表网络请求中使用的各种HTTP方法。HTTP方法定义了要对给定资源执行的操作。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.113.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.113.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'GET'</p> </td> <td class="cellrowborder" width="50%"><p>表示网络请求的方式为GET，通常用于从服务器获取数据，如获取网页、图片、API 数据等。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'POST'</p> </td> <td class="cellrowborder" width="50%"><p>表示网络请求的方式为POST，通常用于向服务器发送数据，如提交表单、上传文件等。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'HEAD'</p> </td> <td class="cellrowborder" width="50%"><p>表示网络请求的方式为HEAD，类似于 GET 请求，但只请求资源的头部信息，不返回资源本身。通常用于检查资源是否存在、获取资源的元数据等。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'PUT'</p> </td> <td class="cellrowborder" width="50%"><p>表示网络请求的方式为PUT，通常用于更新服务器上的现有资源。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'DELETE'</p> </td> <td class="cellrowborder" width="50%"><p>表示网络请求的方式为DELETE，通常用于删除服务器上的资源。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'PATCH'</p> </td> <td class="cellrowborder" width="50%"><p>表示网络请求的方式为PATCH，通常用于对现有资源进行部分更新。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'OPTIONS'</p> </td> <td class="cellrowborder" width="50%"><p>表示网络请求的方式为OPTIONS，可查询目标资源的通信选项。通常用于跨域请求，询问服务器支持哪些 HTTP 方法。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>(string &amp; NonNullable&lt;unknown&gt;)</p> </td> <td class="cellrowborder" width="50%"><p>用以确保 HttpMethod 类型的值必须是非空字符串。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1073px;"><h2 id="section16586132194914" device-type="phone,2in1,tablet,tv,wearable">RequestHeaders<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16586132194914" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type RequestHeaders = { [k: string]: string | string[] | undefined; 'authorization'?: string; 'accept'?: ContentType | ContentType[]; 'accept-charset'?: string | string[]; 'accept-encoding'?: ContentCoding | ContentCoding[]; 'accept-language'?: string | string[]; 'cache-control'?: string | string[]; 'cookie'?: string | string[]; 'range'?: string | string[]; 'upgrade'?: string | string[]; 'user-agent'?: string; 'content-type'?: ContentType; }</p> <p>定义请求头类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.114.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.114.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>{ [k: string]: string | string[] | undefined;</p> <p>'authorization'?: string;</p> <p>'accept'?: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section535112587019">ContentType</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section535112587019">ContentType</a>[];</p> <p>'accept-charset'?: string | string[];</p> <p>'accept-encoding'?: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section2719142017119">ContentCoding</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section2719142017119">ContentCoding</a>[];</p> <p>'accept-language'?: string | string[];</p> <p>'cache-control'?: string | string[];</p> <p>'cookie'?: string | string[];</p> <p>'range'?: string | string[];</p> <p>'upgrade'?: string | string[];</p> <p>'user-agent'?: string;</p> <p>'content-type'?: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section535112587019">ContentType</a>; }</p> </td> <td class="cellrowborder" width="50%"><p>若键取值为[k: string]: string | string[] | undefined，表示值类型为一个包含一个或多个键值对的对象，其键的类型为字符，可取任意值，其值的类型为字符、字符数组或undefined。</p> <p>若键取值为'authorization'，值的类型为字符，可取任意值。</p> <p>若键取值为'accept'，值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section535112587019">ContentType</a>或<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section535112587019">ContentType</a>数组，可取任意值。</p> <p>若键取值为'accept-charset'，值的类型为字符或字符数组，可取任意值。</p> <p>若键取值为'accept-encoding'，值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section2719142017119">ContentCoding</a>或<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section2719142017119">ContentCoding</a>数组，可取任意值。</p> <p>若键取值为'accept-language'，值的类型为字符或字符数组，可取任意值。</p> <p>若键取值为'cache-control'，值的类型为字符或字符数组，可取任意值。</p> <p>若键取值为'cookie'，值的类型为字符或字符数组，可取任意值。</p> <p>若键取值为'range'，值的类型为字符或字符数组，可取任意值。</p> <p>若键取值为'upgrade'，值的类型为字符或字符数组，可取任意值。</p> <p>若键取值为'user-agent'，值的类型为字符，可取任意值。</p> <p>若键取值为'content-type'，值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section535112587019">ContentType</a>，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section6701585215" device-type="phone,2in1,tablet,tv,wearable">SendingPausePolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6701585215" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>暂停发送流程的策略。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 330px;"><h3 id="section1586165115317" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1586165115317" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.116.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.116.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.116.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.116.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.116.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>kind</p> </td> <td class="cellrowborder" width="23.12%"><p>'timeout'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>策略类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>timeoutMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>超时时间，如果超过了该时间，应用还没有给框架数据，就会暂停请求，单位为毫秒。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 326px;"><h2 id="section127952271692" device-type="phone,2in1,tablet,tv,wearable">NetworkInputQueue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section127952271692" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>const NetworkInputQueue: NetworkInputQueueConstructor</p> <p>通过 new NetworkInputQueue()来创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section952209201312" device-type="phone,2in1,tablet,tv,wearable">NetworkInputQueueConstructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section952209201312" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>NetworkInputQueueConstructor是一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a>的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 473px;"><h3 id="section75231299137" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">new<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section75231299137" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>new (): INetworkInputQueue</p> <p>创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.119.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.119.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a></p> </td> <td class="cellrowborder" width="50%"><p>返回一个同步写队列对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 664px;"><h3 id="section910018373114" device-type="phone,2in1,tablet,tv,wearable">new<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section910018373114" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>new (maxSize: number): INetworkInputQueue</p> <p>创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.120.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>maxSize</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>队列大小，表示可写入的最大字节数。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.120.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.120.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a></p> </td> <td class="cellrowborder" width="50%"><p>返回一个同步写队列对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 709px;"><h3 id="section879816024113" device-type="phone,2in1,tablet,tv,wearable">new<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section879816024113" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>new (maxSize: number, pausePolicyOverride: SendingPausePolicy): INetworkInputQueue</p> <p>创建一个<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.121.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>maxSize</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>队列大小，表示可写入的最大字节数。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>pausePolicyOverride</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section6701585215">SendingPausePolicy</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>请求的发送暂停策略。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.121.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.121.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a></p> </td> <td class="cellrowborder" width="50%"><p>返回一个同步写队列对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section882732713562" device-type="phone,2in1,tablet,tv,wearable">INetworkInputQueue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section882732713562" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>INetworkInputQueue是用于写请求体的同步写队列。通过new <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section127952271692">NetworkInputQueue</a>()来构造。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 453px;"><h3 id="section1869104912017" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">write<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1869104912017" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>write(buffer: string | ArrayBuffer): void</p> <p>将一段数据写入队列当中，框架的IO线程会在合适的时候把该数据发送出去。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.123.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>buffer</p> </td> <td class="cellrowborder" width="25%"><p>string | ArrayBuffer</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>要发送的请求。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 318px;"><h3 id="section14801967314" device-type="phone,2in1,tablet,tv,wearable">close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14801967314" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p> <p>关闭此同步写队列，IO线程不再从该队列读取数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 489px;"><h3 id="section136041918342" device-type="phone,2in1,tablet,tv,wearable">getFreeSpace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section136041918342" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getFreeSpace(): number</p> <p>获取剩余可写空间。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.125.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.125.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>获取剩余可写空间。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 923px;"><h2 id="section18971142565016" device-type="phone,2in1,tablet,tv,wearable">RequestContent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18971142565016" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type RequestContent = RawDataContent | Form | MultipartForm | GetDataCallback | UploadFromFile | UploadFromStream | INetworkInputQueue</p> <p>RequestContent是HTTP模块中的一种类型，代表HTTP请求的内容。它可以有多种形式，可以灵活指定请求中要发送的数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.126.6.1.3.1.1" width="49.95%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.126.6.1.3.1.2" width="50.05%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.95%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section12323181618910">RawDataContent</a></p> </td> <td class="cellrowborder" width="50.05%"><p>ArkTs的基本类型的数据。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1188301010515">Form</a></p> </td> <td class="cellrowborder" width="50.05%"><p>HTTP简单的表格数据。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1420174317517">MultipartForm</a></p> </td> <td class="cellrowborder" width="50.05%"><p>HTTP多部分表格数据。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section78781933114">GetDataCallback</a></p> </td> <td class="cellrowborder" width="50.05%"><p>获取任意数据的回调方法的类型，其入参为数据最大字节数。</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section187981940151318">UploadFromStream</a></p> </td> <td class="cellrowborder" width="50.05%"><p>UploadFromStream表示以流的形式进行上传操作。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1753162618375">UploadFromFile</a></p> </td> <td class="cellrowborder" width="50.05%"><p>UploadFromFile表示一种文件上传的方式，允许客户端将本地计算机上的文件上传到服务器。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="49.95%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section882732713562">INetworkInputQueue</a></p> </td> <td class="cellrowborder" width="50.05%"><p>INetworkInputQueue是用于写请求体的同步写队列。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1188301010515" device-type="phone,2in1,tablet,tv,wearable">Form<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1188301010515" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP简单的表格数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 450px;"><h3 id="section193513231472" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section193513231472" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.128.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.128.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.128.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.128.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.128.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>fields</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section16427123712526">FormFields</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP简单表单数据字段，类型为表单字段类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>keys</p> </td> <td class="cellrowborder" width="23.12%"><p>string[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定表单中key的发送顺序。</p> <p>指定后按keys列表的先后顺序发送（不在列表中的key不发送）；不指定默认按各个key的hash顺序发送。</p> <p><strong>起始版本：</strong>6.0.1(21)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1110px;"><h3 id="section86086109914" device-type="phone,2in1,tablet,tv,wearable">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section86086109914" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(fields: FormFields)</p> <p>提供用于创建Form对象的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.129.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>fields</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section16427123712526">FormFields</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP简单表单数据字段，类型为表单字段类型。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">headers</span>: rcp.<span class="hljs-property">RequestHeaders</span> = {</li><li>  <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">configuration</span>: rcp.<span class="hljs-property">Configuration</span> = {</li><li>  <span class="hljs-attr">transfer</span>: {</li><li>    <span class="hljs-attr">timeout</span>: { <span class="hljs-attr">connectMs</span>: <span class="hljs-number">60000</span>, <span class="hljs-attr">transferMs</span>: <span class="hljs-number">60000</span> }</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">cookies</span>: rcp.<span class="hljs-property">RequestCookies</span> = { <span class="hljs-string">'name1'</span>: <span class="hljs-string">'value1'</span>, <span class="hljs-string">'name2'</span>: <span class="hljs-string">'value2'</span> };</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">transferRange</span>: rcp.<span class="hljs-property">TransferRange</span> = { <span class="hljs-attr">from</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">200</span> };</li><li>
</li><li><span class="hljs-keyword">const</span> simpleForm = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Form</span>({</li><li>  <span class="hljs-string">"key1"</span>: <span class="hljs-string">"value1"</span>,</li><li>  <span class="hljs-string">"key2"</span>: [<span class="hljs-string">"valueList0"</span>, <span class="hljs-string">"valueList1"</span>],</li><li>});</li><li>simpleForm.<span class="hljs-property">keys</span> = [<span class="hljs-string">"key2"</span>, <span class="hljs-string">"key1"</span>];</li><li><span class="hljs-keyword">let</span> req = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"http://example.com"</span>, <span class="hljs-string">"POST"</span>, headers, simpleForm, cookies, transferRange, configuration);</li><li>req.<span class="hljs-property">content</span> = simpleForm;</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1420174317517" device-type="phone,2in1,tablet,tv,wearable">MultipartForm<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1420174317517" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP多部分表格数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 882px;"><h3 id="section761831710456" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section761831710456" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.131.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>fields</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section103661472920">MultipartFormFields</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>表示多部分表单数据，其中值为多表单字段类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>boundary</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>多表单中自定义分隔符，开发者可在上传多表单时通过自定义boundary字段实现对表单数据的准确分隔与传输。boundary长度不超过46字符，否则抛出参数错误码。</p> <p><strong>起始版本：</strong>5.1.0(18)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>keys</p> </td> <td class="cellrowborder" width="23.12%"><p>string[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>定义多部分表单中的键顺序。</p> <p>指定后按keys列表的先后顺序发送（不在列表中的key不发送）；不指定默认按各个key的hash顺序发送。</p> <p><strong>起始版本：</strong>6.0.1(21)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.131.5.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.131.5.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1230px;"><h3 id="section15673051162016" device-type="phone,2in1,tablet,tv,wearable">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section15673051162016" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(fields: MultipartFormFields)</p> <p>提供用于创建MultipartForm对象的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.132.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>fields</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section103661472920">MultipartFormFields</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示多部分表单数据，其中值为多表单字段类型。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">headers</span>: rcp.<span class="hljs-property">RequestHeaders</span> = {</li><li>  <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">configuration</span>: rcp.<span class="hljs-property">Configuration</span> = {</li><li>  <span class="hljs-attr">transfer</span>: {</li><li>    <span class="hljs-attr">timeout</span>: { <span class="hljs-attr">connectMs</span>: <span class="hljs-number">60000</span>, <span class="hljs-attr">transferMs</span>: <span class="hljs-number">60000</span> }</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">cookies</span>: rcp.<span class="hljs-property">RequestCookies</span> = { <span class="hljs-string">'name1'</span>: <span class="hljs-string">'value1'</span>, <span class="hljs-string">'name2'</span>: <span class="hljs-string">'value2'</span> };</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">transferRange</span>: rcp.<span class="hljs-property">TransferRange</span> = { <span class="hljs-attr">from</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">200</span> };</li><li>
</li><li><span class="hljs-keyword">const</span> multiForm = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">MultipartForm</span>({</li><li>  <span class="hljs-string">"key1"</span>: <span class="hljs-string">"value1"</span>,</li><li>  <span class="hljs-string">"key2"</span>: [<span class="hljs-string">"valueList0"</span>, <span class="hljs-string">"valueList1"</span>],</li><li>  <span class="hljs-string">"key3"</span>: {</li><li>    <span class="hljs-attr">contentType</span>: <span class="hljs-string">"text/plain"</span>,</li><li>    <span class="hljs-attr">remoteFileName</span>: <span class="hljs-string">"RemoteFileName"</span>,</li><li>    <span class="hljs-attr">contentOrPath</span>: <span class="hljs-string">"/file/to/Path"</span>,</li><li>  },</li><li>});</li><li>multiForm.<span class="hljs-property">keys</span> = [<span class="hljs-string">"key3"</span>, <span class="hljs-string">"key1"</span>, <span class="hljs-string">"key2"</span>];</li><li><span class="hljs-keyword">let</span> req = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"http://example.com"</span>, <span class="hljs-string">"POST"</span>, headers, multiForm, cookies, transferRange, configuration);</li><li>req.<span class="hljs-property">content</span> = multiForm;</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1419px;"><h3 id="section491322616488" device-type="phone,2in1,tablet,tv,wearable">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section491322616488" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(fields: MultipartFormFields, boundary: string)</p> <p>提供用于创建MultipartForm对象的构造函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.1.0(18)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.133.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>fields</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section103661472920">MultipartFormFields</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示多部分表单数据，其中值为多表单字段类型。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>boundary</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>多表单中自定义分隔符，开发者可在上传多表单时通过自定义boundary字段实现对表单数据的准确分隔与传输。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">headers</span>: rcp.<span class="hljs-property">RequestHeaders</span> = {</li><li>  <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">configuration</span>: rcp.<span class="hljs-property">Configuration</span> = {</li><li>  <span class="hljs-attr">transfer</span>: {</li><li>    <span class="hljs-attr">timeout</span>: { <span class="hljs-attr">connectMs</span>: <span class="hljs-number">60000</span>, <span class="hljs-attr">transferMs</span>: <span class="hljs-number">60000</span> }</li><li>  }</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">cookies</span>: rcp.<span class="hljs-property">RequestCookies</span> = { <span class="hljs-string">'name1'</span>: <span class="hljs-string">'value1'</span>, <span class="hljs-string">'name2'</span>: <span class="hljs-string">'value2'</span> };</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">transferRange</span>: rcp.<span class="hljs-property">TransferRange</span> = { <span class="hljs-attr">from</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">200</span> };</li><li><span class="hljs-keyword">let</span> <span class="hljs-title class_">Boundary</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"--MULTIPARTFORM BEGIN AND END BOUNDARY"</span></li><li>
</li><li><span class="hljs-keyword">const</span> multiForm = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">MultipartForm</span>({</li><li>  <span class="hljs-string">"key1"</span>: <span class="hljs-string">"value1"</span>,</li><li>  <span class="hljs-string">"key2"</span>: [<span class="hljs-string">"valueList0"</span>, <span class="hljs-string">"valueList1"</span>],</li><li>  <span class="hljs-string">"key3"</span>: {</li><li>    <span class="hljs-attr">contentType</span>: <span class="hljs-string">"text/plain"</span>,</li><li>    <span class="hljs-attr">remoteFileName</span>: <span class="hljs-string">"RemoteFileName"</span>,</li><li>    <span class="hljs-attr">contentOrPath</span>: <span class="hljs-string">"/file/to/Path"</span>,</li><li>  },</li><li>}, <span class="hljs-title class_">Boundary</span>)</li><li>multiForm.<span class="hljs-property">keys</span> = [<span class="hljs-string">"key3"</span>, <span class="hljs-string">"key1"</span>, <span class="hljs-string">"key2"</span>];</li><li>
</li><li><span class="hljs-keyword">let</span> req = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"http://example.com"</span>, <span class="hljs-string">"POST"</span>, headers, multiForm, cookies, transferRange, configuration);</li><li>req.<span class="hljs-property">content</span> = multiForm;</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 473px;"><h2 id="section103661472920" device-type="phone,2in1,tablet,tv,wearable">MultipartFormFields<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section103661472920" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type MultipartFormFields = { [k: string]: MultipartFormFieldValue | MultipartFormFieldValue[]; }</p> <p>HTTP多部分表单数据字段。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.134.6.1.3.1.1" width="33.879999999999995%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.134.6.1.3.1.2" width="66.12%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="33.879999999999995%"><p>{ [k: string]: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section7241730104213">MultipartFormFieldValue</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section7241730104213">MultipartFormFieldValue</a>[] }</p> </td> <td class="cellrowborder" width="66.12%"><p>表示值的类型为一个或者多个多部分表单数据字段值，值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section7241730104213">MultipartFormFieldValue</a>或<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section7241730104213">MultipartFormFieldValue</a>的数组，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 504px;"><h2 id="section7241730104213" device-type="phone,2in1,tablet,tv,wearable">MultipartFormFieldValue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section7241730104213" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type MultipartFormFieldValue = FormFieldValue | FormFieldFileValue</p> <p>HTTP多部分表单数据字段值。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.135.6.1.3.1.1" width="33.879999999999995%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.135.6.1.3.1.2" width="66.12%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="33.879999999999995%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section620319167532">FormFieldValue</a></p> </td> <td class="cellrowborder" width="66.12%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section620319167532">FormFieldValue</a>，HTTP简单表单数据字段值。</p> </td> </tr> <tr><td class="cellrowborder" width="33.879999999999995%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1497311813556">FormFieldFileValue</a></p> </td> <td class="cellrowborder" width="66.12%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1497311813556">FormFieldFileValue</a>，文件表单数据接口。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 773px;"><h2 id="section16427123712526" device-type="phone,2in1,tablet,tv,wearable">FormFields<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16427123712526" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type FormFields = { [k: string]: FormFieldValue | FormFieldValue[]; }</p> <p>HTTP简单表单数据字段。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.136.6.1.3.1.1" width="33.879999999999995%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.136.6.1.3.1.2" width="66.12%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="33.879999999999995%"><p>{ [k: string]: <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section620319167532">FormFieldValue</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section620319167532">FormFieldValue</a>[] }</p> </td> <td class="cellrowborder" width="66.12%"><p>表示值的类型为简单表单字段或对应数组。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">simpleForm</span>: rcp.<span class="hljs-property">FormFields</span> = {</li><li>  <span class="hljs-string">"key1"</span>: <span class="hljs-string">"value1"</span>,</li><li>  <span class="hljs-string">"key2"</span>: [<span class="hljs-string">"valueList0"</span>, <span class="hljs-string">"valueList1"</span>],</li><li>};</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 662px;"><h2 id="section620319167532" device-type="phone,2in1,tablet,tv,wearable">FormFieldValue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section620319167532" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type FormFieldValue = string | number | boolean | bigint</p> <p>HTTP简单表单数据字段值。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.137.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.137.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>string</p> </td> <td class="cellrowborder" width="50%"><p>表示字段的值是一个字符串。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>表示字段的值是一个数字，可以是整数或浮点数。如传入的数据大于2147483647，请使用bigint类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>boolean</p> </td> <td class="cellrowborder" width="50%"><p>表示字段的值是一个布尔值。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>bigint</p> </td> <td class="cellrowborder" width="50%"><p>表示字段的值是一个大整数。使用此类型传入大于32位的整数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section173755717538" device-type="phone,2in1,tablet,tv,wearable">Path<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section173755717538" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type Path = string</p> <p>HTTP表单数据内容中的文件路径类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.138.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.138.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>string</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为string，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1126712263547" device-type="phone,2in1,tablet,tv,wearable">FileContent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1126712263547" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP表单数据内容中的文件内容类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 237px;"><h3 id="section13741686411" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13741686411" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.140.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>content</p> </td> <td class="cellrowborder" width="23.12%"><p>string | ArrayBuffer</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>要发送到远程服务器的内容，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1497311813556" device-type="phone,2in1,tablet,tv,wearable">FormFieldFileValue<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1497311813556" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>文件表单数据接口。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 747px;"><h3 id="section86140391845" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section86140391845" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.142.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.142.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.142.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.142.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.142.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>contentType</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section535112587019">ContentType</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP多部分表单数据内容类型。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>remoteFileName</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>保存到远程服务器的文件名。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>contentOrPath</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section173755717538">Path</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1126712263547">FileContent</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section78781933114">GetDataCallback</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>要发送到远程服务器的内容或文件路径。具体允许的类型见链接。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">formFieldFileValue</span>: rcp.<span class="hljs-property">FormFieldFileValue</span> = {</li><li>  <span class="hljs-attr">contentType</span>: <span class="hljs-string">"image/png"</span>,</li><li>  <span class="hljs-attr">remoteFileName</span>: <span class="hljs-string">"remoteFile1"</span>,</li><li>  <span class="hljs-attr">contentOrPath</span>: <span class="hljs-string">"/path/to/file"</span>,</li><li>};</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section127791738567" device-type="phone,2in1,tablet,tv,wearable">RequestCookies<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section127791738567" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>RequestCookies是HTTP模块中的一个接口，用于表示HTTP请求中包含的cookie。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 537px;"><h3 id="section1478813919519" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1478813919519" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.144.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.144.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.144.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.144.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.144.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>[name: string]</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>Cookies数据。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例</strong>：</p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">cookies</span>: rcp.<span class="hljs-property">RequestCookies</span> = {</li><li>  <span class="hljs-string">"sessionID"</span>: <span class="hljs-string">"abc123"</span>,</li><li>  <span class="hljs-string">"userToken"</span>: <span class="hljs-string">"xyz789"</span>,</li><li>  <span class="hljs-comment">// Additional cookies can be added here</span></li><li>};</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section838945575618" device-type="phone,2in1,tablet,tv,wearable">TransferRange<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section838945575618" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置传输数据范围。HTTP范围请求要求服务器只将HTTP消息的一部分发回客户端。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 354px;"><h3 id="section16716228256" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16716228256" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.146.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.146.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.146.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.146.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.146.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>from</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>用于设置传输数据的起始字节。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>to</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>用于设置传输数据的结束字节。默认值为undefined。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section156381815599" device-type="phone,2in1,tablet,tv,wearable">Response<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section156381815599" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP请求的响应数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 122px;"><h3 id="section899634212512" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section899634212512" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.149.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.149.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.149.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.149.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.149.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>request</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>收到此响应的相关HTTP请求内容。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>statusCode</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP请求的结果代码。如果回调函数成功执行，将返回ResponseCode中定义的结果代码。否则，将在AsyncCallback中的error字段中返回错误代码。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>headers</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section253714181004">ResponseHeaders</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>响应头。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>effectiveUrl</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section66401230152412">URL</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>重定向后请求的有效URL。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>body</p> </td> <td class="cellrowborder" width="23.12%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>响应内容根据响应头中的Content-type返回。响应内容必须与服务器返回的数据类型相同。默认最大下载字节数是50M。如果超过50M，为了防止内存溢出，请通过<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9264115918536">OnDataReceive</a>来流式接收数据。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>downloadedTo</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1166941712103">DownloadedTo</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>内容下载的路径。在使用下载至文件对象和文件标识符两种方式时，默认情况下，并未设置回调信息。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>debugInfo</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section175663117434">DebugInfo</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>与响应相关联的调试信息。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>timeInfo</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section183911041803">TimeInfo</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP请求各阶段的定时信息。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cookies</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section295119276014">ResponseCookie</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>响应中的Cookie数组。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>httpVersion</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section14719175117590">HttpVersion</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP的版本。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>reasonPhrase</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP响应状态行的reasonPhrase，提供与数字状态代码相关的文本描述。</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cacheInfo</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section19758103145620">CacheInfo</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>缓存信息，包含缓存已存在时长、原始HTTP请求ID信息。当HTTP响应从缓存中获取时，该属性有值，否则为undefined。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 以下为如何修改response，仅供参考</span></li><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ChangeableResponse</span> {</li><li>  <span class="hljs-attr">request</span>: rcp.<span class="hljs-property">Request</span>;</li><li>  <span class="hljs-attr">statusCode</span>: <span class="hljs-built_in">number</span>;</li><li>  <span class="hljs-attr">headers</span>: rcp.<span class="hljs-property">ResponseHeaders</span>;</li><li>  effectiveUrl?: rcp.<span class="hljs-property">URL</span>;</li><li>  body?: <span class="hljs-title class_">ArrayBuffer</span>;</li><li>  downloadedTo?: rcp.<span class="hljs-property">DownloadedTo</span>;</li><li>  debugInfo?: rcp.<span class="hljs-property">DebugInfo</span>[];</li><li>  timeInfo?: rcp.<span class="hljs-property">TimeInfo</span>;</li><li>  cookies?: rcp.<span class="hljs-property">ResponseCookie</span>[];</li><li>  httpVersion?: rcp.<span class="hljs-property">HttpVersion</span>;</li><li>  reasonPhrase?: <span class="hljs-built_in">string</span>;</li><li>  cacheInfo?: rcp.<span class="hljs-property">CacheInfo</span>;</li><li>}</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TestRcp</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>  <span class="hljs-keyword">const</span> resp = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>);</li><li>  <span class="hljs-keyword">const</span> changeableResponse = resp <span class="hljs-keyword">as</span> <span class="hljs-title class_">ChangeableResponse</span>;</li><li>  changeableResponse.<span class="hljs-property">headers</span> = <span class="hljs-variable constant_">HEADERS</span> <span class="hljs-comment">// 此处请自行定义</span></li><li>  changeableResponse.<span class="hljs-property">statusCode</span> = <span class="hljs-variable constant_">STATUSCODE</span> <span class="hljs-comment">// 此处请自行定义</span></li><li>}</li></ol></pre></div></div> <div class="tiledSection" style="contain-intrinsic-size: auto 957px;"><h3 id="section1999915520597" device-type="phone,2in1,tablet,tv,wearable">toString<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1999915520597" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toString(): string | null</p> <p>将响应正文转换为字符串。如果转换失败，则返回空值。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.152.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.152.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>string | null</p> </td> <td class="cellrowborder" width="50%"><p>如果HTTP响应体不是UTF-8格式，则返回UTF-8格式字符串；或者返回null。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"https://www.example.com"</span>);</li><li>session.<span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (response) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"response: "</span> + response.<span class="hljs-title function_">toString</span>());</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 981px;"><h3 id="section208713514013" device-type="phone,2in1,tablet,tv,wearable">toJSON<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section208713514013" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>toJSON(): object | null</p> <p>返回默认的JSON反序列化结果，如需要定制JSON反序列化方式，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-json" target="_blank">JSON解析与生成</a>。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.153.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.153.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>object | null</p> </td> <td class="cellrowborder" width="50%"><p>如果没有异常，则返回带有toString()的JSON格式字符串，toJSON是针对body的，如果body不是JSON那么返回值会是null。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">"https://www.example.com"</span>);</li><li>session.<span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (response) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"response: "</span>, response.<span class="hljs-title function_">toJSON</span>());</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`err: err code is <span class="hljs-subst">${err.code}</span>, err message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>});</li></ol></pre></div></div> <p></p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section92642282211" device-type="phone,2in1,tablet,tv,wearable">ResponseSendable<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section92642282211" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP请求的响应数据，该响应数据支持Sendable。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1068px;"><h3 id="section142656219221" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section142656219221" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.155.2.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.155.2.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.155.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.155.2.1.6.1.4" width="23.11%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.155.2.1.6.1.5" width="23.13%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>requestId</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>否</p> </td> <td class="cellrowborder" width="23.13%"><p>待发送请求的序列号。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>statusCode</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>number</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>否</p> </td> <td class="cellrowborder" width="23.13%"><p>HTTP请求的结果码。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>headers</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section253714181004">ResponseHeaders</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>否</p> </td> <td class="cellrowborder" width="23.13%"><p>响应头。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>effectiveUrl</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>重定向后请求的有效URL字符串。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>body</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>响应内容将依据响应头中的content-type返回，并且必须与服务器返回的数据类型相匹配。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>downloadedTo</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1166941712103">DownloadedTo</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>内容下载的路径，在使用下载至文件对象和文件标识符两种方式时，默认情况下，不设置回调信息。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>debugInfo</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section175663117434">DebugInfo</a>[]</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>与响应相关联的调试信息，默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>timeInfo</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section183911041803">TimeInfo</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>HTTP请求各阶段的定时信息，默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>cookies</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section295119276014">ResponseCookie</a>[]</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>响应中的Cookie数组。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>httpVersion</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section14719175117590">HttpVersion</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>HTTP的版本。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>reasonPhrase</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>提供HTTP请求结果代码的文本描述。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>cacheInfo</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section19758103145620">CacheInfo</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>是</p> </td> <td class="cellrowborder" width="23.11%"><p>是</p> </td> <td class="cellrowborder" width="23.13%"><p>缓存信息，包含缓存已存在时长、原始HTTP请求ID信息。当HTTP响应从缓存中获取时，该属性有值，否则为undefined。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1097px;"><h2 id="section253714181004" device-type="phone,2in1,tablet,tv,wearable">ResponseHeaders<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section253714181004" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ResponseHeaders = { [k: string]: string | string[] | undefined; 'accept-ranges'?: 'none' | 'bytes' | (string &amp; NonNullable&lt;unknown&gt;); 'allow'?: HttpMethod | HttpMethod[]; 'cache-control'?: string | string[]; 'content-encoding'?: ContentCoding; 'content-range'?: string; 'content-type'?: ContentType; 'date'?: string; 'etag'?: string; 'expires'?: string; 'location'?: string; 'retry-after'?: string; 'set-cookie'?: string | string[]; 'server'?: string; 'www-authenticate'?: string | string[]; }</p> <p>定义响应头类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.156.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.156.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>{ [k: string]: string | string[] | undefined;</p> <p>'accept-ranges'?: 'none' | 'bytes' | (string &amp; NonNullable&lt;unknown&gt;);</p> <p>'allow'?: HttpMethod | HttpMethod[];</p> <p>'cache-control'?: string | string[];</p> <p>'content-encoding'?: ContentCoding;</p> <p>'content-range'?: string;</p> <p>'content-type'?: ContentType;</p> <p>'date'?: string;</p> <p>'etag'?: string;</p> <p>'expires'?: string;</p> <p>'location'?: string;</p> <p>'retry-after'?: string;</p> <p>'set-cookie'?: string | string[];</p> <p>'server'?: string;</p> <p>'www-authenticate'?: string | string[]; }</p> </td> <td class="cellrowborder" width="50%"><p>若键取值为[k: string]: string | string[] | undefined，表示值类型为一个包含一个或多个键值对的对象，其键的类型为字符，可取任意值，其值的类型为字符、字符数组或undefined。</p> <p>'accept-ranges'表示响应头accept-ranges数据。</p> <p>若键的值为'allow'，值的类型为HttpMethod或者HttpMethod[]，可取任意值。</p> <p>若键取值为'cache-control'，值的类型为字符串或字符串数组，可取任意值。</p> <p>若键的值为'content-encoding'，值的类型为ContentCoding，可取任意值。</p> <p>若键的值为'content-range'，值的类型为字符串，可取任意值。</p> <p>若键的值为'content-type'，值的类型为ContentType，可取任意值。</p> <p>若键的值为'date'，值的类型为字符串，可取任意值。</p> <p>若键的值为'etag'，值的类型为字符串，可取任意值。</p> <p>若键的值为'expires'，值的类型为字符串，可取任意值。</p> <p>若键的值为'location'，值的类型为字符串，可取任意值。</p> <p>若键的值为'retry-after'，值的类型为字符串，可取任意值。</p> <p>若键的值为'set-cookie'，值的类型为字符串或字符串数组，可取任意值。</p> <p>若键的值为'server'，值的类型为字符串，可取任意值。</p> <p>若键的值为'www-authenticate'，值的类型为字符串或字符串数组，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section295119276014" device-type="phone,2in1,tablet,tv,wearable">ResponseCookie<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section295119276014" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP响应的cookie接口。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 855px;"><h3 id="section1913165415512" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1913165415512" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.158.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.158.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.158.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.158.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.158.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>name</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>cookie的名称。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>value</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>cookie的值。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>domain</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>cookie的域。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>path</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>cookie的路径。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>expires</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>cookie的过期日期。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>maxAge</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>cookie的最大保存时间，单位为秒。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>isSecure</p> </td> <td class="cellrowborder" width="23.12%"><p>true</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定cookie是否只能通过安全连接发送。默认值为true。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>httpOnly</p> </td> <td class="cellrowborder" width="23.12%"><p>true</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>指定cookie是否只能通过HTTP请求访问。默认值为true。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>sameSite</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>sameSite属性，指定何时在跨站请求中发送cookie。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>rawSize</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>cookie的大小。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cookieAttributes</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section162175111013">CookieAttributes</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>响应cookie中的所有属性。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section175663117434" device-type="phone,2in1,tablet,tv,wearable">DebugInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section175663117434" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>请求/响应处理调试信息的接口。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section19155136667" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19155136667" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.160.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.160.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.160.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.160.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.160.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>type</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1295195318118">DebugEvent</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>调试信息的类型。具体类型值见类型链接。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>data</p> </td> <td class="cellrowborder" width="23.12%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>调试信息的数据。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 669px;"><h2 id="section14719175117590" device-type="phone,2in1,tablet,tv,wearable">HttpVersion<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14719175117590" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type HttpVersion = '1.0' | '1.1' | '2' | '3' | 'unknown'</p> <p>HTTP的版本。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.161.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.161.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'1.0'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符串，'1.0'代表HTTP版本为1.0。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'1.1'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符串，'1.1'代表HTTP版本为1.1。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'2'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符串，'2'代表HTTP版本为2。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'3'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符串，'3'代表HTTP版本为3。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'unknown'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符串'unknown'。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section183911041803" device-type="phone,2in1,tablet,tv,wearable">TimeInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section183911041803" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP请求各阶段相关的时间信息的接口。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 983px;"><h3 id="section3356419167" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3356419167" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.163.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.163.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.163.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.163.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.163.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>nameLookupTimeMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>DNS解析所需的时间，单位为毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>connectTimeMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>建立连接时间，单位为毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>tlsHandshakeTimeMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>从开始到远程主机（或代理）的 TLS 握手完成的时间（以毫秒为单位）</p> <p><strong>起始版本</strong>：5.0.0(12)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>preTransferTimeMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>传输开始前的时间，单位为毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>startTransferTimeMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>传输开始时间，单位为毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>totalTimeMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>请求总耗时，单位为毫秒。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>redirectTimeMs</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>重定向所需的时间，单位为毫秒。</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>TimeInfo时间线：请求开始 （0时刻） -&gt; nameLookupTimeMs（DNS解析）-&gt; connectTimeMs（建立连接）-&gt; tlsHandshakeTimeMs（TLS握手）-&gt; preTransferTimeMs（请求业务数据发送到服务器的时间点） -&gt; startTransferTimeMs（从服务器接收到首包数据的时间点），各时间节点所显示的时间均相对于0时刻，即从0时刻开始计时的时间。例如tlsHandshakeTimeMs为150.1ms，指从发起请求时间0开始，直到TLS握手结束所花费的时间为150.1ms。</p> <p>网络请求过程中关键节点时间计算方法：</p> <ul><li>首包耗时：startTransferTimeMs - preTransferTimeMs</li><li>TLS握手（不包含建连时间）耗时：tlsHandshakeTimeMs - connectTimeMs</li><li>接收剩余数据的耗时：totalTimeMs - startTransferTimeMs</li></ul> </div></div></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 1、创建session、requestURL </span></li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li><span class="hljs-keyword">const</span> requestURL = <span class="hljs-string">"https://www.example.com"</span>;</li><li>
</li><li><span class="hljs-comment">// 2、在需要跟踪分析请求过程中各个时间段消耗的时间，请将此开关打开</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">configuration</span>: rcp.<span class="hljs-property">Configuration</span> = {</li><li>  <span class="hljs-attr">tracing</span>: {</li><li>    <span class="hljs-attr">collectTimeInfo</span>: <span class="hljs-literal">true</span></li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 3、创建请求</span></li><li><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(requestURL, <span class="hljs-string">"GET"</span>);</li><li>request.<span class="hljs-property">configuration</span> = configuration;</li><li>
</li><li><span class="hljs-comment">// 4、使用fetch发起网络请求，request中携带上面配置好的configuration</span></li><li>session.<span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response: rcp.Response</span>) =&gt;</span> {</li><li><span class="hljs-comment">// 由于timeInfo中各个参数有可能为undefined，所以需要在两个时间段做运算前添加判空操作</span></li><li>  <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">timeInfo</span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`TimeInfo is undefined <span class="hljs-subst">${response.timeInfo}</span>`</span>);</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> remainderDataTime = response.<span class="hljs-property">timeInfo</span>?.<span class="hljs-property">totalTimeMs</span> - response.<span class="hljs-property">timeInfo</span>?.<span class="hljs-property">startTransferTimeMs</span>;</li><li>  <span class="hljs-keyword">let</span> firstPackageTime = response.<span class="hljs-property">timeInfo</span>?.<span class="hljs-property">startTransferTimeMs</span> - response.<span class="hljs-property">timeInfo</span>?.<span class="hljs-property">preTransferTimeMs</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">TLSTime</span> = response.<span class="hljs-property">timeInfo</span>?.<span class="hljs-property">tlsHandshakeTimeMs</span> - response.<span class="hljs-property">timeInfo</span>?.<span class="hljs-property">connectTimeMs</span>;</li><li>  </li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`首包耗时<span class="hljs-subst">${firstPackageTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`TLS握手（不包含建连时间）耗时<span class="hljs-subst">${TLSTime}</span>`</span>);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`接收剩余数据的耗时<span class="hljs-subst">${remainderDataTime}</span>`</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Response err, the err is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>})</li></ol></pre></div></div> <div class="tiledSection" style="contain-intrinsic-size: auto 497px;"><h2 id="section162175111013" device-type="phone,2in1,tablet,tv,wearable">CookieAttributes<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section162175111013" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CookieAttributes = { [k: string]: string | undefined; }</p> <p>Cookie属性类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.166.6.1.3.1.1" width="49.7%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.166.6.1.3.1.2" width="50.3%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.7%"><p>{ [k: string]: string | undefined; }</p> </td> <td class="cellrowborder" width="50.3%"><p>表示值的类型为一个包含一个或多个键值对的对象。其中键的类型为字符，可取任意值，值的类型为字符或者undefined，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 254px;"><h2 id="section535112587019" device-type="phone,2in1,tablet,tv,wearable">ContentType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section535112587019" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ContentType = 'application/json' | 'text/plain' | 'multipart/form-data' | 'application/octet-stream' | 'application/x-www-form-urlencoded' | (string &amp; NonNullable&lt;unknown&gt;)</p> <p>定义内容类型。</p> </div> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.170.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.170.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'application/json'</p> </td> <td class="cellrowborder" width="50%"><p>'application/json': 表示数据内容的类型为json字符串。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'text/plain'</p> </td> <td class="cellrowborder" width="50%"><p>'text/plain': 表示数据内容的类型为文本数据。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'multipart/form-data'</p> </td> <td class="cellrowborder" width="50%"><p>'multipart/form-data': 表示数据内容的类型为表单数据。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'application/octet-stream'</p> </td> <td class="cellrowborder" width="50%"><p>'application/octet-stream': 表示数据内容的类型为二进制数据流。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'application/x-www-form-urlencoded'</p> </td> <td class="cellrowborder" width="50%"><p>'application/x-www-form-urlencoded': 表示数据内容的类型为表单数据。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>(string &amp; NonNullable&lt;unknown&gt;)</p> </td> <td class="cellrowborder" width="50%"><p>string &amp; NonNullable&lt;unknown&gt;：表示值的类型为字符，可取任意非空字符。</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section7263163111816" device-type="phone,2in1,tablet,tv,wearable">ValidationContext<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section7263163111816" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>证书上下文。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 396px;"><h3 id="section111593112618" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section111593112618" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.172.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.172.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.172.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.172.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.172.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>pemCerts</p> </td> <td class="cellrowborder" width="23.12%"><p>string[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>PEM格式证书。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>x509Certs</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section136572026194112">X509Cert</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>X509证书对象。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>host</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>建立连接的服务器的域名。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>ip</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>建立连接的服务器的IP地址。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 696px;"><h2 id="section209691249748" device-type="phone,2in1,tablet,tv,wearable">ValidationCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section209691249748" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ValidationCallback = (context: ValidationContext) =&gt; boolean | Promise&lt;boolean&gt;</p> <p>自定义证书校验函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.1" width="12.01120112011201%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.2" width="12.8012801280128%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.3" width="7.31073107310731%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.173.7.1.5.1.4" width="67.87678767876787%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="12.01120112011201%"><p>context</p> </td> <td class="cellrowborder" width="12.8012801280128%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section7263163111816">ValidationContext</a></p> </td> <td class="cellrowborder" width="7.31073107310731%"><p>是</p> </td> <td class="cellrowborder" width="67.87678767876787%"><p>表示值的类型为context，是证书上下文。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.173.9.1.3.1.1" width="50%"><p>取值范围</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.173.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>boolean | Promise&lt;boolean&gt;</p> </td> <td class="cellrowborder" width="50%"><p>返回一个布尔值表示是否校验成功，或以Promise形式异步调用；返回Promise.reject()也表示校验失败。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 607px;"><h2 id="section3129163617819" device-type="phone,2in1,tablet,tv,wearable">TlsV13SpecificCipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3129163617819" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsV13SpecificCipherSuite = 'TLS_AES_128_GCM_SHA256' | 'TLS_AES_256_GCM_SHA384' | 'TLS_CHACHA20_POLY1305_SHA256'</p> <p>TLS1.3及以上版本支持的加密套件。本框架有内置的优先顺序，且用户自身的选择也会被记录。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.174.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.174.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'TLS_AES_128_GCM_SHA256'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符，可取'TLS_AES_128_GCM_SHA256'。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'TLS_AES_256_GCM_SHA384'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符，可取'TLS_AES_256_GCM_SHA384'。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'TLS_CHACHA20_POLY1305_SHA256'</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为字符，可取'TLS_CHACHA20_POLY1305_SHA256'。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1170px;"><h2 id="section14955113664814" device-type="phone,2in1,tablet,tv,wearable">TlsV12SpecificCipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14955113664814" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsV12SpecificCipherSuite = 'TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256' | 'TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256' | 'TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384' | 'TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384' | 'TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256' | 'TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256' | 'TLS_RSA_WITH_AES_128_GCM_SHA256' | 'TLS_RSA_WITH_AES_256_GCM_SHA384';</p> <p>TLS1.2及以上版本支持的加密套件。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.175.6.1.3.1.1" width="42.970000000000006%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.175.6.1.3.1.2" width="57.03%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256'。</p> </td> </tr> <tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256'。</p> </td> </tr> <tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384'。</p> </td> </tr> <tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384'。</p> </td> </tr> <tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256'。</p> </td> </tr> <tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256'。</p> </td> </tr> <tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_RSA_WITH_AES_128_GCM_SHA256'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_RSA_WITH_AES_128_GCM_SHA256'。</p> </td> </tr> <tr><td class="cellrowborder" width="42.970000000000006%"><p>'TLS_RSA_WITH_AES_256_GCM_SHA384'</p> </td> <td class="cellrowborder" width="57.03%"><p>表示值的类型为字符串，可取'TLS_RSA_WITH_AES_256_GCM_SHA384'。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 947px;"><h2 id="section18083613205" device-type="phone,2in1,tablet,tv,wearable">TlsV10SpecificCipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18083613205" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsV10SpecificCipherSuite = 'TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA' | 'TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA' | 'TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA' | 'TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA' | 'TLS_RSA_WITH_AES_128_CBC_SHA' | 'TLS_RSA_WITH_AES_256_CBC_SHA' | 'TLS_RSA_WITH_3DES_EDE_CBC_SHA'</p> <p>TLS1.0及以上版本支持的加密套件。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.176.6.1.3.1.1" width="38.93%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.176.6.1.3.1.2" width="61.07%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="38.93%"><p>'TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA'</p> </td> <td class="cellrowborder" width="61.07%"><p>表示值的类型为字符串，可取'TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA'。</p> </td> </tr> <tr><td class="cellrowborder" width="38.93%"><p>'TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA'</p> </td> <td class="cellrowborder" width="61.07%"><p>表示值的类型为字符串，可取'TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA'。</p> </td> </tr> <tr><td class="cellrowborder" width="38.93%"><p>'TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA'</p> </td> <td class="cellrowborder" width="61.07%"><p>表示值的类型为字符串，可取'TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA'。</p> </td> </tr> <tr><td class="cellrowborder" width="38.93%"><p>'TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA'</p> </td> <td class="cellrowborder" width="61.07%"><p>表示值的类型为字符串，可取'TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA'。</p> </td> </tr> <tr><td class="cellrowborder" width="38.93%"><p>'TLS_RSA_WITH_AES_128_CBC_SHA'</p> </td> <td class="cellrowborder" width="61.07%"><p>表示值的类型为字符串，可取'TLS_RSA_WITH_AES_128_CBC_SHA'。</p> </td> </tr> <tr><td class="cellrowborder" width="38.93%"><p>'TLS_RSA_WITH_AES_256_CBC_SHA'</p> </td> <td class="cellrowborder" width="61.07%"><p>表示值的类型为字符串，可取'TLS_RSA_WITH_AES_256_CBC_SHA'。</p> </td> </tr> <tr><td class="cellrowborder" width="38.93%"><p>'TLS_RSA_WITH_3DES_EDE_CBC_SHA'</p> </td> <td class="cellrowborder" width="61.07%"><p>表示值的类型为字符串，可取'TLS_RSA_WITH_3DES_EDE_CBC_SHA'。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section184507292518" device-type="phone,2in1,tablet,tv,wearable">CipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section184507292518" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type CipherSuite = TlsV13CipherSuite</p> <p>加密套件声明函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.177.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.177.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section593594720197">TlsV13CipherSuite</a></p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section593594720197">TlsV13CipherSuite</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 504px;"><h2 id="section593594720197" device-type="phone,2in1,tablet,tv,wearable">TlsV13CipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section593594720197" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsV13CipherSuite = TlsV12CipherSuite | TlsV13SpecificCipherSuite</p> <p>TLS1.3的加密套件声明函数，支持TLS1.3版本，兼容TLS1.2版本。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.178.6.1.3.1.1" width="49.94%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.178.6.1.3.1.2" width="50.06%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.94%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section79896219610">TlsV12CipherSuite</a></p> </td> <td class="cellrowborder" width="50.06%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section79896219610">TlsV12CipherSuite</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="49.94%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section3129163617819">TlsV13SpecificCipherSuite</a></p> </td> <td class="cellrowborder" width="50.06%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section3129163617819">TlsV13SpecificCipherSuite</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 504px;"><h2 id="section79896219610" device-type="phone,2in1,tablet,tv,wearable">TlsV12CipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section79896219610" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsV12CipherSuite = TlsV11CipherSuite | TlsV12SpecificCipherSuite</p> <p>TLS1.2的加密套件声明函数，支持TLS1.2版本，兼容TLS1.1版本。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.179.6.1.3.1.1" width="49.94%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.179.6.1.3.1.2" width="50.06%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.94%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section3358251787">TlsV11CipherSuite</a></p> </td> <td class="cellrowborder" width="50.06%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section3358251787">TlsV11CipherSuite</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="49.94%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section14955113664814">TlsV12SpecificCipherSuite</a></p> </td> <td class="cellrowborder" width="50.06%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section14955113664814">TlsV12SpecificCipherSuite</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section3358251787" device-type="phone,2in1,tablet,tv,wearable">TlsV11CipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3358251787" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsV11CipherSuite = TlsV10CipherSuite</p> <p>TLS1.1的加密套件声明函数，与TLS1.0相同。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.180.6.1.3.1.1" width="49.94%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.180.6.1.3.1.2" width="50.06%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.94%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1451210179125">TlsV10CipherSuite</a></p> </td> <td class="cellrowborder" width="50.06%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1451210179125">TlsV10CipherSuite</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section1451210179125" device-type="phone,2in1,tablet,tv,wearable">TlsV10CipherSuite<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1451210179125" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsV10CipherSuite = TlsV10SpecificCipherSuite</p> <p>TLS1.0的加密套件声明函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.181.6.1.3.1.1" width="49.94%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.181.6.1.3.1.2" width="50.06%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.94%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18083613205">TlsV10SpecificCipherSuite</a></p> </td> <td class="cellrowborder" width="50.06%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18083613205">TlsV10SpecificCipherSuite</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section2816178141816" device-type="phone,2in1,tablet,tv,wearable">TlsV13Option<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section2816178141816" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TLS1.3选择器，用来选择Tls的使用版本，以及配套加密套件。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section26041545269" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section26041545269" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.183.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.183.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.183.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.183.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.183.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>tlsVersion</p> </td> <td class="cellrowborder" width="23.12%"><p>'TlsV1.3'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS版本为"TlsV1.3"。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cipherSuite</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section593594720197">TlsV13CipherSuite</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS1.3版本对应的加密套件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section177701532908" device-type="phone,2in1,tablet,tv,wearable">TlsV12Option<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section177701532908" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TLS1.2选择器，用来选择Tls的使用版本，以及配套加密套件。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section3628956165" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3628956165" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.185.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.185.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.185.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.185.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.185.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>tlsVersion</p> </td> <td class="cellrowborder" width="23.12%"><p>'TlsV1.2'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS版本为'TlsV1.2'。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cipherSuite</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section79896219610">TlsV12CipherSuite</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS1.2版本对应的加密套件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section147673411215" device-type="phone,2in1,tablet,tv,wearable">TlsV11Option<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section147673411215" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TLS1.1选择器，用来选择Tls的使用版本，以及配套加密套件。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section194431810272" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section194431810272" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.187.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.187.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.187.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.187.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.187.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>tlsVersion</p> </td> <td class="cellrowborder" width="23.12%"><p>'TlsV1.1'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS版本为'TlsV1.1'。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cipherSuite</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section3358251787">TlsV11CipherSuite</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS1.1版本对应的加密套件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1638114214316" device-type="phone,2in1,tablet,tv,wearable">TlsV10Option<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1638114214316" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TLS1.0选择器，用来选择Tls的使用版本，以及配套加密套件。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section1996142517713" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1996142517713" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.189.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.189.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.189.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.189.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.189.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>tlsVersion</p> </td> <td class="cellrowborder" width="23.12%"><p>'TlsV1.0'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS版本为'TlsV1.0'。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>cipherSuite</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1451210179125">TlsV10CipherSuite</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>TLS1.0版本对应的加密套件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1191px;"><h2 id="section2719142017119" device-type="phone,2in1,tablet,tv,wearable">ContentCoding<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section2719142017119" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ContentCoding = 'aes128gcm' | 'br' | 'compress' | 'deflate' | 'exi' | 'gzip' | 'pack200-gzip' | 'x-compress' | 'x-gzip' | 'zstd' | (string &amp; NonNullable&lt;unknown&gt;)</p> <p>预定义内容编码类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.190.6.1.3.1.1" width="50%"><p>取值范围</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.190.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'aes128gcm'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用AES-128-GCM加密算法对内容进行编码，用于对称加密。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'br'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用Brotli算法对内容进行编码，适用于需要高压缩比的场景，如网页、文档等。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'compress'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用Unix compress算法对内容进行编码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'deflate'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用DEFLATE算法对内容进行编码，适用于需要高压缩比和较快压缩速度的场景。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'exi'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用XML扩展格式（EXI）对内容进行编码，适用于需要高压缩比的XML数据传输。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'gzip'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用GZIP算法对内容进行编码，广泛用于Web服务器和应用中。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'pack200-gzip'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用Pack200和GZIP算法对内容进行编码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'x-compress'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用Zlib的compress方法对内容进行编码。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'x-gzip'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用Zlib的gzip方法对内容进行编码，gzip方法使用DEFLATE压缩算法，提供了高压缩比和较快压缩速度。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'zstd'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用Zstandard算法对内容进行编码，适用于需要高压缩比的场景，如数据库、文件压缩等。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>(string &amp; NonNullable&lt;unknown&gt;)</p> </td> <td class="cellrowborder" width="50%"><p>用以确保ContentCoding类型的值必须是非空字符串。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 696px;"><h2 id="section1619313413298" device-type="phone,2in1,tablet,tv,wearable">ResponseValidationCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1619313413298" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ResponseValidationCallback = (response: Response) =&gt; boolean | Promise&lt;boolean&gt;</p> <p>响应校验回调函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.191.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>response</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>框架传入的响应，即需要进行校验的响应。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.191.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.191.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>boolean | Promise&lt;boolean&gt;</p> </td> <td class="cellrowborder" width="50%"><p>回调函数会直接返回一个对响应的校验结果，或者以Promise形式异步回调，true代表校验成功，false代表校验失败。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section163971034123120" device-type="phone,2in1,tablet,tv,wearable">ProcessingConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section163971034123120" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>请求处理配置。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 261px;"><h3 id="section17394112881" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17394112881" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.193.2.1.6.1.1" width="22.45%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.193.2.1.6.1.2" width="23.79%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.193.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.193.2.1.6.1.4" width="23.119999999999997%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.193.2.1.6.1.5" width="23.119999999999997%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="22.45%"><p>validateResponse</p> </td> <td class="cellrowborder" width="23.79%"><p>'default' | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1619313413298">ResponseValidationCallback</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>是</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>默认不处理。或者使用<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1619313413298">ResponseValidationCallback</a>对响应进行校验。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 879px;"><h2 id="section78781933114" device-type="phone,2in1,tablet,tv,wearable">GetDataCallback<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section78781933114" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type GetDataCallback = (maxSize: number) =&gt; ArrayBuffer | Promise&lt;ArrayBuffer&gt;</p> <p>获取任意数据的回调方法的类型，其入参为数据最大字节数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.1" width="28.672867286728675%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.2" width="21.61216121612161%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.3" width="6.950695069506951%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.194.7.1.5.1.4" width="42.76427642764276%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="28.672867286728675%"><p>maxSize</p> </td> <td class="cellrowborder" width="21.61216121612161%"><p>number</p> </td> <td class="cellrowborder" width="6.950695069506951%"><p>是</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>数据最大字节数。</p> <p>返回值为ArrayBuffer或使用Promise异步回调的方法，可取任意值。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.194.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.194.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="50%"><p>返回一段ArrayBuffer类型数据，为获取到的回调方法的类型。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>Promise&lt;ArrayBuffer&gt;</p> </td> <td class="cellrowborder" width="50%"><p>使用Promise异步回调方式返回ArrayBuffer类型数据。为获取到的回调方法的类型。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>5.0.0(12)新增返回值Promise&lt;ArrayBuffer&gt;</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 708px;"><h2 id="section1037054954" device-type="phone,2in1,tablet,tv,wearable">DynamicExclusionRule<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1037054954" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type DynamicExclusionRule = (url: URLOrString) =&gt; boolean</p> <p>返回是否要从代理中排除入参的URL的回调函数类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.1" width="26.03260326032603%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.2" width="14.02140214021402%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.3" width="9.36093609360936%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.195.7.1.5.1.4" width="50.58505850585059%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="26.03260326032603%"><p>url</p> </td> <td class="cellrowborder" width="14.02140214021402%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="9.36093609360936%"><p>是</p> </td> <td class="cellrowborder" width="50.58505850585059%"><p>表示URL对象或表示URL的字符串的并集类型。</p> <p>表示入参的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a>，返回值为boolean的方法。为true，代表主机使用代理，false则代表未使用。</p> </td> </tr>  </tbody></table></div> </div>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"><caption><b>表1 </b><strong>返回值：</strong></caption> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.195.8.2.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.195.8.2.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>boolean</p> </td> <td class="cellrowborder" width="50%"><p>返回一个boolean类型值，为true，代表主机使用代理，false则代表未使用。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section47911616155511" device-type="phone,2in1,tablet,tv,wearable">StaticDnsRule<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section47911616155511" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>StaticDnsRule接口表示一个单独的静态DNS规则，将特定的IP地址与主机名和端口相关联。此配置是StaticDnsRule接口的一部分，用于自定义DNS映射。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 375px;"><h3 id="section1877813111388" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1877813111388" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.197.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.197.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.197.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.197.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.197.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>host</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>应用静态DNS规则的主机名。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>port</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>应用静态DNS规则的端口号。范围是[0, 65535]。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>ipAddresses</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1489910532316">IpAddress</a>[]</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>要与指定的主机名和端口关联的IP地址阵列。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section8646352103418" device-type="phone,2in1,tablet,tv,wearable">StaticDnsRules<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8646352103418" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type StaticDnsRules = StaticDnsRule[]</p> <p>允许开发者定义静态DNS规则，将特定的IP地址与主机名和端口关联起来。此配置适用于特定域和端口需要自定义IP映射的情况。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.198.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.198.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section47911616155511">StaticDnsRule</a>[]</p> </td> <td class="cellrowborder" width="50%"><p>表示值的类型为<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section47911616155511">StaticDnsRule</a>数组。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 693px;"><h2 id="section8160554134811" device-type="phone,2in1,tablet,tv,wearable">DynamicDnsRule<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8160554134811" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type DynamicDnsRule = (host: string, port: number) =&gt; IpAddress[]</p> <p>一个可以根据hostname和port直接返回IP地址的函数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.3" width="15.36%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.199.7.1.5.1.4" width="34.64%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>host</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="15.36%"><p>是</p> </td> <td class="cellrowborder" width="34.64%"><p>指定的主机名。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>port</p> </td> <td class="cellrowborder" width="25%"><p>number</p> </td> <td class="cellrowborder" width="15.36%"><p>是</p> </td> <td class="cellrowborder" width="34.64%"><p>指定的端口。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.199.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.199.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1489910532316">IpAddress</a>[]</p> </td> <td class="cellrowborder" width="50%"><p>一个IP地址数组。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section750717273598" device-type="phone,2in1,tablet,tv,wearable">WebProxy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section750717273598" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>WebProxy接口使开发者能够在<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section731665213712">ProxyConfiguration</a>中配置自定义代理时定义自定义代理设置。它允许指定代理URL、排除和其他安全配置。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 756px;"><h3 id="section192213262089" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section192213262089" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.201.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.201.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.201.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.201.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.201.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>url</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>自定义代理的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>createTunnel</p> </td> <td class="cellrowborder" width="23.12%"><p>'auto' | 'always'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>用于控制何时创建代理隧道。隧道是指将HTTP CONNECT请求发送到代理，要求其连接到一个特定端口号上的远程主机，然后流量通过代理。默认值为'auto'。</p> <p>'auto'表示为HTTPS创建隧道，而不是为HTTP创建。</p> <p>'always'表示始终创建隧道。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>exclusions</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a> | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a>[] | <a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1037054954">DynamicExclusionRule</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>要从代理中排除的URL （例如, "<a href="http://exclude.example.com/" target="_blank">http://exclude.example.com</a>" or ["<a href="http://exclude1.com/" target="_blank">http://exclude1.com</a>", "<a href="http://exclude2.com/" target="_blank">http://exclude2.com</a>"]）。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>security</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1597118916425">SecurityConfiguration</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>设置代理安全配置。默认值为undefined。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section12292010397" device-type="phone,2in1,tablet,tv,wearable">InfoToCollect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12292010397" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>InfoToCollect接口可以帮助开发者收集信息事件。收集到的信息事件会在<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>的debugInfo字段中返回。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1169px;"><h3 id="section194431042285" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section194431042285" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.203.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.203.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.203.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.203.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.203.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>textual</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否收集文本信息事件。默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>incomingHeader</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否收集传入的header信息事件。默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>outgoingHeader</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否收集传出的header信息事件。默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>incomingData</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否收集传入的数据信息事件。默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>outgoingData</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否收集传出数据信息事件。默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>incomingSslData</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否收集传入的SSL/TLS数据信息事件。默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>outgoingSslData</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否收集传出的SSL/TLS数据信息事件。默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>srcAddr</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>客户端地址。</p> <p>true：收集客户端地址及端口号。</p> <p>false：不收集客户端地址及端口号。</p> <p>默认值是false。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>dstAddr</p> </td> <td class="cellrowborder" width="23.12%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>服务器地址。</p> <p>true：收集服务器地址及端口号。</p> <p>false：不收集服务器地址及端口号。</p> <p>默认值是false。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>此项开启后会占用内存，建议仅在开发调试阶段使用。</p> </div></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section87603011401" device-type="phone,2in1,tablet,tv,wearable">HttpEventsHandler<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section87603011401" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HttpEventsHandler接口使开发者能够定义自定义逻辑，用于处理会话中HTTP请求/响应过程中的各种操作。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1032px;"><h3 id="section1595511561813" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1595511561813" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.205.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.205.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.205.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.205.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.205.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>onDataReceive</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9264115918536">OnDataReceive</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>当接收到HTTP响应正文的一部分时调用的回调。默认为undefined。当开发者需要请求超过50M字节的数据时，使用此回调接受数据。使用后，返回的<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>对象的body字段将不再含有数据。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onUploadProgress</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1596171465719">OnUploadProgress</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>用于在响应期间处理上传进度的回调。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onDownloadProgress</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section832314187551">OnDownloadProgress</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>用于在响应期间处理下载进度的的回调。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onHeaderReceive</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13232139165012">OnHeaderReceive</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>用于在响应期间处理接收到的headers的回调。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onDataEnd</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1356075625115">OnDataEnd</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>数据传输完成时触发的回调。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onCanceled</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section844405416446">OnCanceled</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>取消请求/响应时触发的回调。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onTimeInfo</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section254219518422">OnTimeInfo</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>HTTP请求失败/成功时触发的回调。默认为undefined。</p> <p><strong>起始版本：</strong>5.0.3(15)</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onStatusCodeReceive</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section829213325618">OnStatusCodeReceive</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>用于在响应期间处理接收到的状态码的回调。默认为undefined。</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section253517541009" device-type="phone,2in1,tablet,tv,wearable">Timeout<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section253517541009" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>配置HTTP请求的超时值，允许开发者定义连接和传输数据所允许的最长时间。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 711px;"><h3 id="section12443188193" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12443188193" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.207.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.207.2.1.6.1.2" width="23.090000000000003%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.207.2.1.6.1.3" width="7.550000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.207.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.207.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>connectMs</p> </td> <td class="cellrowborder" width="23.090000000000003%"><p>number</p> </td> <td class="cellrowborder" width="7.550000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>允许建立连接的最长时间（以毫秒为单位）。如果连接过程超过这个时间限制，连接将被认为超时。默认值为60000。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>transferMs</p> </td> <td class="cellrowborder" width="23.090000000000003%"><p>number</p> </td> <td class="cellrowborder" width="7.550000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>允许传输数据的最长时间（以毫秒为单位）。如果数据传输过程中超过这个时间限制，传输将被认为超时。默认值为60000。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>inactivityMs</p> </td> <td class="cellrowborder" width="23.090000000000003%"><p>number</p> </td> <td class="cellrowborder" width="7.550000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>允许在没有数据传输或连接活动的情况下，允许的最长时间。用于在从服务器接收数据或向服务器发送数据的时间间隔不能超过这个值的情况下，防止长时间的空闲连接。默认情况下，超时值没有设置，即不限制时间间隔。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section930513513227" device-type="phone,2in1,tablet,tv,wearable">CertificatePinning<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section930513513227" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>证书锁定是校验服务器的证书的公钥SHA-256哈希值是否与设置的值匹配。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.0(12)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 327px;"><h3 id="section19757231495" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19757231495" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.209.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.209.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.209.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.209.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.209.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>kind</p> </td> <td class="cellrowborder" width="23.12%"><p>'public-key'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>证书的校验类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>publicKeyHash</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>公钥哈希值。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>hashAlgorithm</p> </td> <td class="cellrowborder" width="23.12%"><p>'SHA-256'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>用于计算公钥哈希值的算法。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1872726111319" device-type="phone,2in1,tablet,tv,wearable">SessionListener<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1872726111319" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义会话监听器。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 354px;"><h3 id="section1110194612919" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1110194612919" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.211.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.211.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.211.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.211.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.211.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>onCanceled</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section844405416446">OnCanceled</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>会话取消事件的回调。会话取消时调用。默认为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>onClosed</p> </td> <td class="cellrowborder" width="23.12%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section334964220501">OnClosed</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>会话关闭事件回调。会话关闭时调用。默认为undefined。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section721442771710" device-type="phone,2in1,tablet,tv,wearable">Credential<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section721442771710" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>凭据接口表示会话中服务器身份验证设置中使用的身份验证凭据，包括用户名和密码。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 306px;"><h3 id="section1784319021014" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1784319021014" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.213.2.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.213.2.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.213.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.213.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.213.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>username</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>用于身份验证的用户名。默认值为' '。</p> </td> </tr> <tr><td class="cellrowborder" width="23.12%"><p>password</p> </td> <td class="cellrowborder" width="23.12%"><p>string</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>用于身份验证的密码。默认值为' '。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 614px;"><h2 id="section9929122918293" device-type="phone,2in1,tablet,tv,wearable">TlsVersion<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9929122918293" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TlsVersion = 'TlsV1.0' | 'TlsV1.1' | 'TlsV1.2' | 'TlsV1.3'</p> <p>安全配置项TLS允许设置的版本，可选择TLS的使用版本。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.214.6.1.3.1.1" width="50%"><p>取值范围</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.214.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'TlsV1.0'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用TLS1.0版本。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'TlsV1.1'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用TLS1.1版本。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'TlsV1.2'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用TLS1.2版本。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'TlsV1.3'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用TLS1.3版本。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1081px;"><h2 id="section1295195318118" device-type="phone,2in1,tablet,tv,wearable">DebugEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1295195318118" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type DebugEvent = 'text' | 'headerIn' | 'headerOut' | 'dataIn' | 'dataOut' | 'sslDataIn' | 'sslDataOut' | 'srcAddr' | 'dstAddr'</p> <p>定义调试事件类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.215.6.1.3.1.1" width="49.87%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.215.6.1.3.1.2" width="50.129999999999995%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="49.87%"><p>'text'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与HTTP响应的文本内容相关。</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'headerIn'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与HTTP响应的头部信息（在客户端接收响应时）相关。</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'headerOut'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与HTTP请求的头部信息（在客户端发送请求时）相关。</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'dataIn'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与HTTP响应的主体数据（在客户端接收响应时）相关。</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'dataOut'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与HTTP请求的主体数据（在客户端发送请求时）相关。</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'sslDataIn'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与通过SSL/TLS协议接收的HTTP响应数据相关。</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'sslDataOut'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与通过SSL/TLS协议发送的HTTP请求数据相关。</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'srcAddr'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与获取客户端地址和端口相关。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr> <tr><td class="cellrowborder" width="49.87%"><p>'dstAddr'</p> </td> <td class="cellrowborder" width="50.129999999999995%"><p>表示调试事件与获取服务器地址和端口相关。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 607px;"><h2 id="section5757123313210" device-type="phone,2in1,tablet,tv,wearable">AuthenticationType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section5757123313210" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type AuthenticationType = 'basic' | 'ntlm' | 'digest'</p> <p>此类型表示可以在会话中的服务器身份验证设置中使用的不同身份验证机制。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.216.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.216.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'basic'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用基本身份验证，通过将用户名和密码组合成一个字符串并进行Base64编码来进行身份验证。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'ntlm'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用NT LAN Manager身份验证。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'digest'</p> </td> <td class="cellrowborder" width="50%"><p>表示使用HTTP摘要身份验证，通过将用户名、密码和其他信息进行哈希运算来生成认证信息。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 501px;"><h2 id="section844405416446" device-type="phone,2in1,tablet,tv,wearable">OnCanceled<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section844405416446" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnCanceled = (request?: Request) =&gt; void</p> <p>此类型表示当请求或会话被取消时的回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.1" width="16.6016601660166%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.2" width="23.42234223422342%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.3" width="12.361236123612361%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.217.7.1.5.1.4" width="47.61476147614761%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.6016601660166%"><p>request</p> </td> <td class="cellrowborder" width="23.42234223422342%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="12.361236123612361%"><p>否</p> </td> <td class="cellrowborder" width="47.61476147614761%"><p>触发回调的HTTP请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 326px;"><h2 id="section334964220501" device-type="phone,2in1,tablet,tv,wearable">OnClosed<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section334964220501" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnClosed = () =&gt; void</p> <p>此类型表示会话关闭时的回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 876px;"><h2 id="section9264115918536" device-type="phone,2in1,tablet,tv,wearable">OnDataReceive<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9264115918536" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnDataReceive = (incomingData: ArrayBuffer, request?: Request) =&gt; number | void | Promise&lt;void&gt;</p> <p>此类型表示接收到HTTP body时的回调。当开发者需要请求超过50M字节的数据时，使用此回调接受数据。使用后，返回的<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a>对象的body字段将不再含有数据。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.1" width="26.369999999999997%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.2" width="18.02%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.3" width="14.14%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.219.7.1.5.1.4" width="41.47%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="26.369999999999997%"><p>incomingData</p> </td> <td class="cellrowborder" width="18.02%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="14.14%"><p>是</p> </td> <td class="cellrowborder" width="41.47%"><p>参数为收到HTTP数据。</p> </td> </tr> <tr><td class="cellrowborder" width="26.369999999999997%"><p>request</p> </td> <td class="cellrowborder" width="18.02%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="14.14%"><p>否</p> </td> <td class="cellrowborder" width="41.47%"><p>触发回调的HTTP请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.219.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.219.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>返回number类型数据，是处理的字节数。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>以Promise形式返回空值。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>5.0.0(12)版本上新增返回值void | Promise&lt;void&gt;</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 591px;"><h2 id="section1596171465719" device-type="phone,2in1,tablet,tv,wearable">OnUploadProgress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1596171465719" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnUploadProgress = (totalSize: number, transferredSize: number, request?: Request) =&gt; void</p> <p>此类型表示上传进度时的回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.1" width="25.91259125912591%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.2" width="18.02180218021802%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.3" width="13.301330133013304%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.220.7.1.5.1.4" width="42.76427642764276%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25.91259125912591%"><p>totalSize</p> </td> <td class="cellrowborder" width="18.02180218021802%"><p>number</p> </td> <td class="cellrowborder" width="13.301330133013304%"><p>是</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>上传总大小。</p> </td> </tr> <tr><td class="cellrowborder" width="25.91259125912591%"><p>transferredSize</p> </td> <td class="cellrowborder" width="18.02180218021802%"><p>number</p> </td> <td class="cellrowborder" width="13.301330133013304%"><p>是</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>已上传大小。</p> </td> </tr> <tr><td class="cellrowborder" width="25.91259125912591%"><p>request</p> </td> <td class="cellrowborder" width="18.02180218021802%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="13.301330133013304%"><p>否</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>触发回调的HTTP请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 591px;"><h2 id="section832314187551" device-type="phone,2in1,tablet,tv,wearable">OnDownloadProgress<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section832314187551" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnDownloadProgress = (totalSize: number, transferredSize: number, request?: Request) =&gt; void</p> <p>此类型表示显示下载进度的回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.1" width="25.742574257425744%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.2" width="18.28182818281828%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.3" width="13.211321132113211%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.221.7.1.5.1.4" width="42.76427642764276%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25.742574257425744%"><p>totalSize</p> </td> <td class="cellrowborder" width="18.28182818281828%"><p>number</p> </td> <td class="cellrowborder" width="13.211321132113211%"><p>是</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>下载总大小。</p> </td> </tr> <tr><td class="cellrowborder" width="25.742574257425744%"><p>transferredSize</p> </td> <td class="cellrowborder" width="18.28182818281828%"><p>number</p> </td> <td class="cellrowborder" width="13.211321132113211%"><p>是</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>已下载大小。</p> </td> </tr> <tr><td class="cellrowborder" width="25.742574257425744%"><p>request</p> </td> <td class="cellrowborder" width="18.28182818281828%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="13.211321132113211%"><p>否</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>触发回调的HTTP请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 546px;"><h2 id="section13232139165012" device-type="phone,2in1,tablet,tv,wearable">OnHeaderReceive<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13232139165012" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnHeaderReceive = (headers: ResponseHeaders, request?: Request) =&gt; void</p> <p>此类型表示接收到HTTP头时的回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.1" width="16.6016601660166%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.2" width="23.42234223422342%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.3" width="12.361236123612361%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.222.7.1.5.1.4" width="47.61476147614761%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.6016601660166%"><p>headers</p> </td> <td class="cellrowborder" width="23.42234223422342%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section253714181004">ResponseHeaders</a></p> </td> <td class="cellrowborder" width="12.361236123612361%"><p>是</p> </td> <td class="cellrowborder" width="47.61476147614761%"><p>参数为HTTP响应头，返回为空。</p> </td> </tr> <tr><td class="cellrowborder" width="16.6016601660166%"><p>request</p> </td> <td class="cellrowborder" width="23.42234223422342%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="12.361236123612361%"><p>否</p> </td> <td class="cellrowborder" width="47.61476147614761%"><p>触发回调的HTTP请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 501px;"><h2 id="section1356075625115" device-type="phone,2in1,tablet,tv,wearable">OnDataEnd<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1356075625115" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnDataEnd = (request?: Request) =&gt; void</p> <p>此类型表示HTTP传输结束时的回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>4.1.0(11)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.1" width="16.6016601660166%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.2" width="23.42234223422342%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.3" width="12.361236123612361%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.223.7.1.5.1.4" width="47.61476147614761%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.6016601660166%"><p>request</p> </td> <td class="cellrowborder" width="23.42234223422342%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="12.361236123612361%"><p>否</p> </td> <td class="cellrowborder" width="47.61476147614761%"><p>触发回调的HTTP请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1523px;"><h2 id="section254219518422" device-type="phone,2in1,tablet,tv,wearable">OnTimeInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section254219518422" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnTimeInfo = (timeInfo: TimeInfo, request?: Request) =&gt; void</p> <p>此类型是HTTP请求成功/失败时的回调。请求成功开发者可获得请求各阶段的时间信息，请求失败可获得失败的阶段之前各阶段时间信息。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.3(15)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.1" width="8.64086408640864%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.2" width="10.75107510751075%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.3" width="9.710971097109713%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.224.7.1.5.1.4" width="70.8970897089709%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="8.64086408640864%"><p>timeInfo</p> </td> <td class="cellrowborder" width="10.75107510751075%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section183911041803">TimeInfo</a></p> </td> <td class="cellrowborder" width="9.710971097109713%"><p>是</p> </td> <td class="cellrowborder" width="70.8970897089709%"><p>HTTP各个阶段耗时。</p> </td> </tr> <tr><td class="cellrowborder" width="8.64086408640864%"><p>request</p> </td> <td class="cellrowborder" width="10.75107510751075%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="9.710971097109713%"><p>否</p> </td> <td class="cellrowborder" width="70.8970897089709%"><p>触发回调的HTTP请求。</p> <p><strong>起始版本</strong>：6.0.0(20)</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 1、创建session、requestURL和request。</span></li><li><span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li><span class="hljs-keyword">const</span> requestURL = <span class="hljs-string">"https://www.example.com"</span>;</li><li><span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(requestURL);</li><li>
</li><li><span class="hljs-comment">// 2、配置请求的configuration，设置onTimeInfo回调函数以获取网络请求相关的时间信息</span></li><li>request.<span class="hljs-property">configuration</span> = {</li><li>  <span class="hljs-attr">tracing</span>: {</li><li>    <span class="hljs-attr">httpEventsHandler</span>: {</li><li>      <span class="hljs-attr">onTimeInfo</span>: <span class="hljs-function">(<span class="hljs-params">timeInfo: rcp.TimeInfo</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Time information for each phase in the HTTP request. '</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(timeInfo));</li><li>        <span class="hljs-keyword">let</span> remainderDataTime = timeInfo?.<span class="hljs-property">totalTimeMs</span> - timeInfo?.<span class="hljs-property">startTransferTimeMs</span>;</li><li>        <span class="hljs-keyword">let</span> firstPackageTime = timeInfo?.<span class="hljs-property">startTransferTimeMs</span> - timeInfo?.<span class="hljs-property">preTransferTimeMs</span>;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-title class_">TLSTime</span> = timeInfo?.<span class="hljs-property">tlsHandshakeTimeMs</span> - timeInfo?.<span class="hljs-property">connectTimeMs</span>;</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`首包耗时<span class="hljs-subst">${firstPackageTime}</span>`</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`TLS握手（不包含建连时间）耗时<span class="hljs-subst">${TLSTime}</span>`</span>);</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`接收剩余数据的耗时<span class="hljs-subst">${remainderDataTime}</span>`</span>);</li><li>      },</li><li>    },</li><li>  },</li><li>};</li><li><span class="hljs-comment">// 3、使用 fetch 发起网络请求，请求中携带上述配置好的 configuration。</span></li><li>session.<span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">if</span> (response) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The request was successful. The statusCode of the response is <span class="hljs-subst">${response.statusCode}</span>`</span>);</li><li>    session.<span class="hljs-title function_">close</span>();</li><li>  }</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Response err, the err is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);</li><li>})</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 570px;"><h2 id="section829213325618" device-type="phone,2in1,tablet,tv,wearable">OnStatusCodeReceive<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section829213325618" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type OnStatusCodeReceive = (statusCode: number，request?: Request) =&gt; void</p> <p>此类型是HTTP请求成功/失败时的回调，开发者可获得响应状态码信息。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.1" width="8.64086408640864%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.2" width="10.75107510751075%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.3" width="9.710971097109713%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.225.7.1.5.1.4" width="70.8970897089709%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="8.64086408640864%"><p>statusCode</p> </td> <td class="cellrowborder" width="10.75107510751075%"><p>number</p> </td> <td class="cellrowborder" width="9.710971097109713%"><p>是</p> </td> <td class="cellrowborder" width="70.8970897089709%"><p>HTTP状态码。</p> </td> </tr> <tr><td class="cellrowborder" width="8.64086408640864%"><p>request</p> </td> <td class="cellrowborder" width="10.75107510751075%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="9.710971097109713%"><p>否</p> </td> <td class="cellrowborder" width="70.8970897089709%"><p>触发回调的HTTP请求。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 302px;"><h2 id="section191412521521" device-type="phone,2in1,tablet,tv,wearable">CacheControl<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section191412521521" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>CacheControl 接口提供了一系列配置参数，开发者可通过这些参数精准控制会话中 HTTP 请求的缓存行为，包括资源缓存策略、更新机制及存储规则等。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1509px;"><h3 id="section13275322101015" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13275322101015" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.227.2.1.6.1.1" width="17.200000000000003%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.227.2.1.6.1.2" width="29.040000000000006%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.227.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.227.2.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.227.2.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.200000000000003%"><p>expirationPolicy</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1915682752214">TimeLimitedExpirationPolicy</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>为HTTP请求所创建的缓存配置过期策略。如果设置该属性，则会覆盖HTTP响应过期策略。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>keepCache</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否需要保留缓存，默认为false。该参数为true时，使用不安全的 HTTP 方法的请求（PUT，POST，或者DELETE）不会使缓存记录失效。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>noCache</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否在请求头中添加no-cache，默认为false。该参数为true时，则会强制客户端在使用缓存前必须向服务器验证资源有效性（即使缓存存在）。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>noStore</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否在请求头中添加no-store，默认为false。该参数为true时，则会严格禁止任何缓存存储请求或响应的内容，确保敏感数据不会被持久化。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>maxAge</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section202412166407">TimeInterval</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>该属性指定缓存资源的有效时长，在此期间客户端可直接使用缓存而无需请求服务器。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>maxStale</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section202412166407">TimeInterval</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>该属性允许客户端接受已过期但未超过指定时间的缓存资源，提升数据可用性。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>minFresh</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section202412166407">TimeInterval</a></p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>该属性要求服务器返回的响应在指定时间内保持新鲜，确保资源短期内不过期。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>noTransform</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否在请求头中添加no-transform，默认为false。该参数为true时，则会禁止缓存服务器对响应内容进行任何转换（如压缩），保证内容与原始响应一致。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>onlyIfCached</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p>boolean</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>是否在请求头中添加only-if-cached，默认为false。该参数为true时，则会强制客户端仅使用缓存资源，若缓存不存在则直接失败（不发起网络请求）。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section19758103145620" device-type="phone,2in1,tablet,tv,wearable">CacheInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19758103145620" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>缓存信息，包含该缓存对应的原始HTTP请求ID和已存在时长。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 258px;"><h3 id="section2834133511106" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section2834133511106" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.229.2.1.6.1.1" width="17.06%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.229.2.1.6.1.2" width="29.770000000000003%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.229.2.1.6.1.3" width="8.41%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.229.2.1.6.1.4" width="8.66%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.229.2.1.6.1.5" width="36.1%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.06%"><p>originalRequestId</p> </td> <td class="cellrowborder" width="29.770000000000003%"><p>string</p> </td> <td class="cellrowborder" width="8.41%"><p>否</p> </td> <td class="cellrowborder" width="8.66%"><p>否</p> </td> <td class="cellrowborder" width="36.1%"><p>创建该缓存时的HTTP请求ID。</p> </td> </tr> <tr><td class="cellrowborder" width="17.06%"><p>age</p> </td> <td class="cellrowborder" width="29.770000000000003%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section202412166407">TimeInterval</a></p> </td> <td class="cellrowborder" width="8.41%"><p>否</p> </td> <td class="cellrowborder" width="8.66%"><p>否</p> </td> <td class="cellrowborder" width="36.1%"><p>缓存已存在时长。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 504px;"><h2 id="section962212143274" device-type="phone,2in1,tablet,tv,wearable">ExpirationPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section962212143274" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ExpirationPolicy = NeverExpirationPolicy | TimeLimitedExpirationPolicy</p> <p>缓存过期策略。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.230.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.230.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section9834444133020">NeverExpirationPolicy</a></p> </td> <td class="cellrowborder" width="50%"><p>永不过期类型过期策略。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1915682752214">TimeLimitedExpirationPolicy</a></p> </td> <td class="cellrowborder" width="50%"><p>时间限制类型过期策略。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section9834444133020" device-type="phone,2in1,tablet,tv,wearable">NeverExpirationPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9834444133020" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>缓存记录永不过期的过期策略。缓存记录会一直停留在缓存中，直到超过缓存大小限制。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 237px;"><h3 id="section427414012117" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section427414012117" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.232.2.1.6.1.1" width="17.2%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.232.2.1.6.1.2" width="29.04%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.232.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.232.2.1.6.1.4" width="7.71%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.232.2.1.6.1.5" width="38.53%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.2%"><p>kind</p> </td> <td class="cellrowborder" width="29.04%"><p>'never'</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="7.71%"><p>否</p> </td> <td class="cellrowborder" width="38.53%"><p>缓存过期策略类型表示键，键值为'never'，表示永不过期的过期策略。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 607px;"><h2 id="section1915682752214" device-type="phone,2in1,tablet,tv,wearable">TimeLimitedExpirationPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1915682752214" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TimeLimitedExpirationPolicy = AbsoluteTimeExpirationPolicy | RelativeTimeExpirationPolicy | SlidingTimeExpirationPolicy</p> <p>时间限制类型过期策略。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.233.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.233.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1756102119351">AbsoluteTimeExpirationPolicy</a></p> </td> <td class="cellrowborder" width="50%"><p>绝对时间过期策略。到达指定时间，该缓存记录过期。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1655411614379">RelativeTimeExpirationPolicy</a></p> </td> <td class="cellrowborder" width="50%"><p>相对时间过期策略。经过指定的时间间隔后，该缓存记录过期。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18501111511392">SlidingTimeExpirationPolicy</a></p> </td> <td class="cellrowborder" width="50%"><p>滑动时间过期策略。指定的时间间隔期间，若无任何访问，该缓存记录过期；若有访问，则重置过期时间。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1756102119351" device-type="phone,2in1,tablet,tv,wearable">AbsoluteTimeExpirationPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1756102119351" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>绝对时间过期策略。到达指定时间，该缓存记录过期。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section322614154115" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section322614154115" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.235.2.1.6.1.1" width="17.200000000000003%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.235.2.1.6.1.2" width="29.040000000000006%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.235.2.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.235.2.1.6.1.4" width="7.810000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.235.2.1.6.1.5" width="38.43%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.200000000000003%"><p>kind</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p>'absolute'</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.810000000000001%"><p>否</p> </td> <td class="cellrowborder" width="38.43%"><p>缓存过期策略类型表示键，键值为'absolute'，表示绝对时间过期策略。</p> </td> </tr> <tr><td class="cellrowborder" width="17.200000000000003%"><p>time</p> </td> <td class="cellrowborder" width="29.040000000000006%"><p>Date</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.810000000000001%"><p>否</p> </td> <td class="cellrowborder" width="38.43%"><p>指定缓存过期时间。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1655411614379" device-type="phone,2in1,tablet,tv,wearable">RelativeTimeExpirationPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1655411614379" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>相对时间过期策略。经过指定的时间间隔后，该缓存记录过期。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section4771102715118" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4771102715118" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.237.2.1.6.1.1" width="17.2%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.237.2.1.6.1.2" width="29.04%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.237.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.237.2.1.6.1.4" width="7.7299999999999995%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.237.2.1.6.1.5" width="38.51%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.2%"><p>kind</p> </td> <td class="cellrowborder" width="29.04%"><p>'relative'</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="7.7299999999999995%"><p>否</p> </td> <td class="cellrowborder" width="38.51%"><p>缓存过期策略类型表示键，键值为'relative'，表示相对时间过期策略。</p> </td> </tr> <tr><td class="cellrowborder" width="17.2%"><p>time</p> </td> <td class="cellrowborder" width="29.04%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section202412166407">TimeInterval</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="7.7299999999999995%"><p>否</p> </td> <td class="cellrowborder" width="38.51%"><p>指定时间间隔。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section18501111511392" device-type="phone,2in1,tablet,tv,wearable">SlidingTimeExpirationPolicy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18501111511392" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>滑动时间过期策略。指定的时间间隔期间，若无任何访问，该缓存记录过期；若有访问，则重置过期时间。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 282px;"><h3 id="section13633144141116" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13633144141116" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.239.2.1.6.1.1" width="17.2%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.239.2.1.6.1.2" width="29.04%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.239.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.239.2.1.6.1.4" width="7.46%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.239.2.1.6.1.5" width="38.78%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.2%"><p>kind</p> </td> <td class="cellrowborder" width="29.04%"><p>'sliding'</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="7.46%"><p>否</p> </td> <td class="cellrowborder" width="38.78%"><p>缓存过期策略类型表示键，键值为'sliding'，表示滑动时间过期策略。</p> </td> </tr> <tr><td class="cellrowborder" width="17.2%"><p>time</p> </td> <td class="cellrowborder" width="29.04%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section202412166407">TimeInterval</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="7.46%"><p>否</p> </td> <td class="cellrowborder" width="38.78%"><p>指定时间间隔。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section202412166407" device-type="phone,2in1,tablet,tv,wearable">TimeInterval<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section202412166407" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>时间间隔。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 258px;"><h3 id="section872125521116" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section872125521116" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.241.2.1.6.1.1" width="17.2%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.241.2.1.6.1.2" width="29.04%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.241.2.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.241.2.1.6.1.4" width="7.199999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.241.2.1.6.1.5" width="39.04%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.2%"><p>units</p> </td> <td class="cellrowborder" width="29.04%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section32011352124313">TimeIntervalUnits</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="7.199999999999999%"><p>否</p> </td> <td class="cellrowborder" width="39.04%"><p>时间间隔单位。</p> </td> </tr> <tr><td class="cellrowborder" width="17.2%"><p>value</p> </td> <td class="cellrowborder" width="29.04%"><p>number</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="7.199999999999999%"><p>否</p> </td> <td class="cellrowborder" width="39.04%"><p>时间长度。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 614px;"><h2 id="section32011352124313" device-type="phone,2in1,tablet,tv,wearable">TimeIntervalUnits<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section32011352124313" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TimeIntervalUnits = 'seconds' | 'minutes' | 'hours' | 'days'</p> <p>时间间隔单位。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.242.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.242.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'seconds'</p> </td> <td class="cellrowborder" width="50%"><p>时间单位：秒。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'minutes'</p> </td> <td class="cellrowborder" width="50%"><p>时间单位：分。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'hours'</p> </td> <td class="cellrowborder" width="50%"><p>时间单位：时。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'days'</p> </td> <td class="cellrowborder" width="50%"><p>时间单位：天。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section49322045124710" device-type="phone,2in1,tablet,tv,wearable">CachedResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section49322045124710" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>缓存中存储的HTTP响应数据。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 621px;"><h3 id="section4249121281215" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4249121281215" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.244.2.1.6.1.1" width="18.8%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.244.2.1.6.1.2" width="27.529999999999998%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.244.2.1.6.1.3" width="7.430000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.244.2.1.6.1.4" width="8.18%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.244.2.1.6.1.5" width="38.06%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="18.8%"><p>timeStamp</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>Date</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>否</p> </td> <td class="cellrowborder" width="38.06%"><p>从网络获取HTTP响应的时间。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>originalRequestId</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>string</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>否</p> </td> <td class="cellrowborder" width="38.06%"><p>原始HTTP请求ID。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>statusCode</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>number</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>否</p> </td> <td class="cellrowborder" width="38.06%"><p>HTTP响应状态码。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>headers</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section253714181004">ResponseHeaders</a></p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>否</p> </td> <td class="cellrowborder" width="38.06%"><p>HTTP响应头信息。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>body</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>是</p> </td> <td class="cellrowborder" width="38.06%"><p>HTTP响应内容。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>effectiveUrl</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>string</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>是</p> </td> <td class="cellrowborder" width="38.06%"><p>重定向后请求的有效URL。默认值为undefined。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>httpVersion</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section14719175117590">HttpVersion</a></p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>是</p> </td> <td class="cellrowborder" width="38.06%"><p>HTTP的版本。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>reasonPhrase</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>string</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>是</p> </td> <td class="cellrowborder" width="38.06%"><p>HTTP响应状态行的reasonPhrase，提供与数字状态代码相关的文本描述。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>extra</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>ArrayBuffer</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="8.18%"><p>是</p> </td> <td class="cellrowborder" width="38.06%"><p>附加信息。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section12431163985515" device-type="phone,2in1,tablet,tv,wearable">ResponseCacheKey<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12431163985515" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>标识HTTP响应缓存记录的键。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 375px;"><h3 id="section249132314123" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section249132314123" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.246.2.1.6.1.1" width="18.800000000000004%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.246.2.1.6.1.2" width="27.530000000000005%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.246.2.1.6.1.3" width="7.4300000000000015%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.246.2.1.6.1.4" width="8.010000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.246.2.1.6.1.5" width="38.230000000000004%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="18.800000000000004%"><p>url</p> </td> <td class="cellrowborder" width="27.530000000000005%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="7.4300000000000015%"><p>否</p> </td> <td class="cellrowborder" width="8.010000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.230000000000004%"><p>请求URL。</p> </td> </tr> <tr><td class="cellrowborder" width="18.800000000000004%"><p>method</p> </td> <td class="cellrowborder" width="27.530000000000005%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section20787153164810">HttpMethod</a></p> </td> <td class="cellrowborder" width="7.4300000000000015%"><p>否</p> </td> <td class="cellrowborder" width="8.010000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.230000000000004%"><p>HTTP方法</p> </td> </tr> <tr><td class="cellrowborder" width="18.800000000000004%"><p>extra</p> </td> <td class="cellrowborder" width="27.530000000000005%"><p>string</p> </td> <td class="cellrowborder" width="7.4300000000000015%"><p>否</p> </td> <td class="cellrowborder" width="8.010000000000002%"><p>是</p> </td> <td class="cellrowborder" width="38.230000000000004%"><p>附加信息。该属性允许相同的URL和HTTP方法存储多条响应缓存记录。例如，开发者可以尝试放置语言类型字符串，用以匹配对应语言的响应内容。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section13850182925713" device-type="phone,2in1,tablet,tv,wearable">ResponseCacheRecord<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13850182925713" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>缓存记录。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 303px;"><h3 id="section61772376125" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section61772376125" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.248.2.1.6.1.1" width="18.800000000000004%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.248.2.1.6.1.2" width="27.530000000000005%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.248.2.1.6.1.3" width="7.4300000000000015%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.248.2.1.6.1.4" width="8.010000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.248.2.1.6.1.5" width="38.230000000000004%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="18.800000000000004%"><p>expirationPolicy</p> </td> <td class="cellrowborder" width="27.530000000000005%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section962212143274">ExpirationPolicy</a></p> </td> <td class="cellrowborder" width="7.4300000000000015%"><p>否</p> </td> <td class="cellrowborder" width="8.010000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.230000000000004%"><p>缓存过期策略。</p> </td> </tr> <tr><td class="cellrowborder" width="18.800000000000004%"><p>response</p> </td> <td class="cellrowborder" width="27.530000000000005%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section49322045124710">CachedResponse</a></p> </td> <td class="cellrowborder" width="7.4300000000000015%"><p>否</p> </td> <td class="cellrowborder" width="8.010000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.230000000000004%"><p>存储的缓存响应。</p> </td> </tr> <tr><td class="cellrowborder" width="18.800000000000004%"><p>key</p> </td> <td class="cellrowborder" width="27.530000000000005%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section12431163985515">ResponseCacheKey</a></p> </td> <td class="cellrowborder" width="7.4300000000000015%"><p>否</p> </td> <td class="cellrowborder" width="8.010000000000002%"><p>否</p> </td> <td class="cellrowborder" width="38.230000000000004%"><p>缓存响应对应的缓存键。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section139991413145915" device-type="phone,2in1,tablet,tv,wearable">CacheConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section139991413145915" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>缓存配置。开发者可以通过该接口控制缓存行为，包括内存和磁盘缓存配置、缓存内存和条数上限、默认过期策略等。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 825px;"><h3 id="section1081124901218" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1081124901218" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.250.2.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.250.2.1.6.1.2" width="31.869999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.250.2.1.6.1.3" width="6.859999999999999%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.250.2.1.6.1.4" width="7.249999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.250.2.1.6.1.5" width="30.9%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>persistent</p> </td> <td class="cellrowborder" width="31.869999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section187463325215">PersistentStorageConfiguration</a></p> </td> <td class="cellrowborder" width="6.859999999999999%"><p>否</p> </td> <td class="cellrowborder" width="7.249999999999999%"><p>否</p> </td> <td class="cellrowborder" width="30.9%"><p>指定持久化缓存配置。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>inMemory</p> </td> <td class="cellrowborder" width="31.869999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section101531755759">InMemoryCacheConfiguration</a></p> </td> <td class="cellrowborder" width="6.859999999999999%"><p>否</p> </td> <td class="cellrowborder" width="7.249999999999999%"><p>是</p> </td> <td class="cellrowborder" width="30.9%"><p>指定内存缓存配置。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>maxItems</p> </td> <td class="cellrowborder" width="31.869999999999997%"><p>number</p> </td> <td class="cellrowborder" width="6.859999999999999%"><p>否</p> </td> <td class="cellrowborder" width="7.249999999999999%"><p>是</p> </td> <td class="cellrowborder" width="30.9%"><p>指定内存/持久化存储的缓存最大数量。如果设置，当缓存数量超过该阈值时，将基于LRU算法（选出最久未被使用的数据）执行淘汰策略：首先淘汰时间过期策略类型的缓存记录，其次再淘汰永不过期的缓存记录。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>maxSize</p> </td> <td class="cellrowborder" width="31.869999999999997%"><p>number</p> </td> <td class="cellrowborder" width="6.859999999999999%"><p>否</p> </td> <td class="cellrowborder" width="7.249999999999999%"><p>是</p> </td> <td class="cellrowborder" width="30.9%"><p>指定内存/持久化存储所占用存储空间的上限。当缓存内存超过该阈值时，将基于LRU算法（选出最久未被使用的数据）执行淘汰策略：首先淘汰时间过期策略类型的缓存记录，其次再淘汰永不过期的缓存记录。</p> <p>单位：MB。</p> <p>默认值：50。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>defaultExpirationPolicy</p> </td> <td class="cellrowborder" width="31.869999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1915682752214">TimeLimitedExpirationPolicy</a></p> </td> <td class="cellrowborder" width="6.859999999999999%"><p>否</p> </td> <td class="cellrowborder" width="7.249999999999999%"><p>是</p> </td> <td class="cellrowborder" width="30.9%"><p>默认缓存过期策略。</p> <p>如果设置，它将应用于每个新增的响应记录；</p> <p>如果未设置，将默认设置为1小时的<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section18501111511392">SlidingTimeExpirationPolicy</a>。</p> <p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1187111165016">set</a>方法配置的缓存过期策略会覆盖本接口默认缓存过期策略。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 449px;"><h2 id="section187463325215" device-type="phone,2in1,tablet,tv,wearable">PersistentStorageConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section187463325215" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PersistentStorageConfiguration = FileSystemStorageConfiguration</p> <p>持久化缓存存储配置。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.251.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.251.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1765861216411">FileSystemStorageConfiguration</a></p> </td> <td class="cellrowborder" width="50%"><p>基于文件系统的缓存存储配置。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1765861216411" device-type="phone,2in1,tablet,tv,wearable">FileSystemStorageConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1765861216411" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>基于文件系统的缓存存储配置。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 306px;"><h3 id="section483313151317" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section483313151317" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.253.2.1.6.1.1" width="18.8%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.253.2.1.6.1.2" width="27.529999999999998%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.253.2.1.6.1.3" width="7.430000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.253.2.1.6.1.4" width="7.6499999999999995%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.253.2.1.6.1.5" width="38.59%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="18.8%"><p>kind</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>'file-system'</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.6499999999999995%"><p>否</p> </td> <td class="cellrowborder" width="38.59%"><p>持久化缓存存储介质键，键值为'file-system'，表示基于文件系统介质存储。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>pathToFolder</p> </td> <td class="cellrowborder" width="27.529999999999998%"><p>string</p> </td> <td class="cellrowborder" width="7.430000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.6499999999999995%"><p>否</p> </td> <td class="cellrowborder" width="38.59%"><p>指定存储缓存的文件路径。可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-file" target="_blank">应用文件</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section101531755759" device-type="phone,2in1,tablet,tv,wearable">InMemoryCacheConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section101531755759" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>基于内存的缓存存储配置。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 354px;"><h3 id="section1958531316134" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1958531316134" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.255.2.1.6.1.1" width="18.8%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.255.2.1.6.1.2" width="27.49%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.255.2.1.6.1.3" width="7.470000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.255.2.1.6.1.4" width="7.3%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.255.2.1.6.1.5" width="38.940000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="18.8%"><p>maxItems</p> </td> <td class="cellrowborder" width="27.49%"><p>number</p> </td> <td class="cellrowborder" width="7.470000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.3%"><p>是</p> </td> <td class="cellrowborder" width="38.940000000000005%"><p>指定内存缓存中的最大记录数上限。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>maxSize</p> </td> <td class="cellrowborder" width="27.49%"><p>number</p> </td> <td class="cellrowborder" width="7.470000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.3%"><p>是</p> </td> <td class="cellrowborder" width="38.940000000000005%"><p>指定内存缓存所占用内存上限。若设置，则<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section139991413145915">CacheConfiguration</a>中配置的maxSize对内存缓存存储不生效。</p> <p>单位：MB。</p> <p>默认值：10。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section29031836872" device-type="phone,2in1,tablet,tv,wearable">CacheState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section29031836872" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>缓存状态信息。包含当前缓存条数、缓存大小和缓存命中数。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 327px;"><h3 id="section9577937111310" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9577937111310" tips="复制节点链接"></i></h3> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.257.2.1.6.1.1" width="18.8%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.257.2.1.6.1.2" width="27.49%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.257.2.1.6.1.3" width="7.470000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.257.2.1.6.1.4" width="7.39%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.257.2.1.6.1.5" width="38.85%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="18.8%"><p>size</p> </td> <td class="cellrowborder" width="27.49%"><p>number</p> </td> <td class="cellrowborder" width="7.470000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.39%"><p>否</p> </td> <td class="cellrowborder" width="38.85%"><p>持久化存储缓存的字节数。</p> <p>单位：Byte。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>count</p> </td> <td class="cellrowborder" width="27.49%"><p>number</p> </td> <td class="cellrowborder" width="7.470000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.39%"><p>否</p> </td> <td class="cellrowborder" width="38.85%"><p>当前持久化存储的缓存数量。</p> </td> </tr> <tr><td class="cellrowborder" width="18.8%"><p>hitCount</p> </td> <td class="cellrowborder" width="27.49%"><p>number</p> </td> <td class="cellrowborder" width="7.470000000000001%"><p>否</p> </td> <td class="cellrowborder" width="7.39%"><p>否</p> </td> <td class="cellrowborder" width="38.85%"><p>缓存命中数。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 278px;"><h2 id="section1124718239340" device-type="phone,2in1,tablet,tv,wearable">ResponseCache<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1124718239340" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>HTTP响应缓存，为开发者提供了记录和操作HTTP缓存的能力。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 878px;"><h3 id="section896329372" device-type="phone,2in1,tablet,tv,wearable" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section896329372" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(configuration: CacheConfiguration)</p> <p>创建HTTP响应缓存实例。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.259.7.1.5.1.1" width="21.592159215921594%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.259.7.1.5.1.2" width="22.43224322432243%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.259.7.1.5.1.3" width="13.211321132113211%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.259.7.1.5.1.4" width="42.76427642764276%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21.592159215921594%"><p>configuration</p> </td> <td class="cellrowborder" width="22.43224322432243%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section139991413145915">CacheConfiguration</a></p> </td> <td class="cellrowborder" width="13.211321132113211%"><p>是</p> </td> <td class="cellrowborder" width="42.76427642764276%"><p>缓存配置。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>  <span class="hljs-attr">persistent</span>: {</li><li>    <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>    <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>  }</li><li>});</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1157px;"><h3 id="section185412316461" device-type="phone,2in1,tablet,tv,wearable">close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section185412316461" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): Promise&lt;void&gt;</p> <p>关闭HTTP缓存响应实例，终止所有待处理的缓存操作。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.260.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.260.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.260.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.260.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>1007900985</p> </td> <td class="cellrowborder" width="50%"><p>File system IO error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">close</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 2029px;"><h3 id="section1187111165016" device-type="phone,2in1,tablet,tv,wearable">set<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1187111165016" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>set(key: ResponseCacheKey, response: CachedResponse, expirationPolicy?: ExpirationPolicy): Promise&lt;void&gt;</p> <p>添加或替换缓存键对应的缓存内容。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.261.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.261.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.261.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.261.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>key</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section12431163985515">ResponseCacheKey</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>缓存键。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>response</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section49322045124710">CachedResponse</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>需要添加或替换的HTTP缓存响应内容。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>expirationPolicy</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section962212143274">ExpirationPolicy</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>缓存过期策略。若传入该参数，则会覆盖<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section139991413145915">CacheConfiguration</a>中的默认缓存过期策略，即defaultExpirationPolicy。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.261.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.261.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.261.12.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.261.12.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>1007900401</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1007900985</p> </td> <td class="cellrowborder" width="50%"><p>File system IO error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">session</span>: rcp.<span class="hljs-property">Session</span> = rcp.<span class="hljs-title function_">createSession</span>({</li><li>    <span class="hljs-attr">requestConfiguration</span>: {</li><li>      <span class="hljs-attr">cache</span>: cache</li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">key</span>: rcp.<span class="hljs-property">ResponseCacheKey</span> = {</li><li>    <span class="hljs-attr">url</span>: <span class="hljs-string">'https://www.example.com'</span>,</li><li>    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>);</li><li>  <span class="hljs-keyword">const</span> cachedRecord = rcp.<span class="hljs-title function_">createCachedResponse</span>(response);</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">policy</span>: rcp.<span class="hljs-property">TimeLimitedExpirationPolicy</span> = {</li><li>    <span class="hljs-attr">kind</span>: <span class="hljs-string">'relative'</span>,</li><li>    <span class="hljs-attr">time</span>: {</li><li>      <span class="hljs-attr">units</span>: <span class="hljs-string">'seconds'</span>,</li><li>      <span class="hljs-attr">value</span>: <span class="hljs-number">3</span></li><li>    }</li><li>  };</li><li>  cache.<span class="hljs-title function_">set</span>(key, cachedRecord, policy).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>  })</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1435px;"><h3 id="section19581927125318" device-type="phone,2in1,tablet,tv,wearable">get<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19581927125318" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>get(key: ResponseCacheKey): Promise&lt;ResponseCacheRecord&gt;</p> <p>获得缓存键对应的HTTP响应缓存记录。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.262.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.262.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.262.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.262.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>key</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section12431163985515">ResponseCacheKey</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>缓存键。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.262.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.262.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13850182925713">ResponseCacheRecord</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回HTTP响应缓存记录。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.262.12.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.262.12.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>1007900401</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1007900985</p> </td> <td class="cellrowborder" width="50%"><p>File system IO error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> record = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">get</span>({</li><li>    <span class="hljs-attr">url</span>: <span class="hljs-string">'https://www.example.com'</span>,</li><li>    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span></li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1157px;"><h3 id="section86931150185413" device-type="phone,2in1,tablet,tv,wearable">clear<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section86931150185413" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>clear(): Promise&lt;void&gt;</p> <p>清除HTTP响应缓存。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.263.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.263.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.263.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.263.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>1007900985</p> </td> <td class="cellrowborder" width="50%"><p>File system IO error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">clear</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1157px;"><h3 id="section127187405556" device-type="phone,2in1,tablet,tv,wearable">getState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section127187405556" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getState(): Promise&lt;CacheState&gt;</p> <p>获取缓存状态信息。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.264.7.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.264.7.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section29031836872">CacheState</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回缓存状态信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.264.10.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.264.10.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>1007900985</p> </td> <td class="cellrowborder" width="50%"><p>File system IO error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> cacheState = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">getState</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1483px;"><h3 id="section172701218165610" device-type="phone,2in1,tablet,tv,wearable">remove<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section172701218165610" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>remove(key: ResponseCacheKey): Promise&lt;boolean&gt;</p> <p>删除缓存键对应的HTTP响应缓存记录。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.265.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>key</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section12431163985515">ResponseCacheKey</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>缓存键。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.265.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.265.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;boolean&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回true表示删除成功；返回false表示删除失败。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.265.12.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.265.12.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>1007900401</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1007900985</p> </td> <td class="cellrowborder" width="50%"><p>File system IO error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">key</span>: rcp.<span class="hljs-property">ResponseCacheKey</span> = {</li><li>    <span class="hljs-attr">url</span>: <span class="hljs-string">'https://www.example.com'</span>,</li><li>    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span></li><li>  };</li><li>  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">remove</span>(key);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1525px;"><h3 id="section579532045719" device-type="phone,2in1,tablet,tv,wearable">removeMultiple<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section579532045719" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeMultiple(url: URLOrString, matchKind: URLMatchKind, method?: HttpMethod): Promise&lt;boolean&gt;</p> <p>按照URL匹配类型，检索并删除一条或者多条HTTP响应缓存记录，开发者可以通过matchKind配置URL匹配类型。使用Promise异步回调。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.266.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.266.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.266.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.266.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>url</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section320653742718">URLOrString</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>URL，用于与缓存键中的URL进行匹配。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>matchKind</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section13928831917">URLMatchKind</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>URL匹配类型。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>method</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section20787153164810">HttpMethod</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>HTTP请求方法。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.266.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.266.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;boolean&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回true表示删除成功；返回false表示删除失败。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.266.12.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.266.12.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>1007900401</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1007900985</p> </td> <td class="cellrowborder" width="50%"><p>File system IO error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">removeMultiple</span>(<span class="hljs-string">'https://www.example.com'</span>, <span class="hljs-string">'exact'</span>, <span class="hljs-string">'GET'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 528px;"><h2 id="section13928831917" device-type="phone,2in1,tablet,tv,wearable">URLMatchKind<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13928831917" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type URLMatchKind = 'exact' | 'as-substring'</p> <p>URL匹配类型。</p> <p><strong>系统能力：</strong>SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.267.6.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.267.6.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>'exact'</p> </td> <td class="cellrowborder" width="50%"><p>指定URL精准匹配。匹配的URL应等于提供的URL。</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>'as-substring'</p> </td> <td class="cellrowborder" width="50%"><p>指定URL应作为子字符串进行匹配。匹配的URL应包含提供的URL。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1547px;"><h2 id="section1316417431113" device-type="phone,2in1,tablet,tv,wearable">rcp.createResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1316417431113" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createResponse(request: Request, cachedResponse: CachedResponse, currentTime: Date): Response</p> <p>根据HTTP响应缓存创建HTTP响应。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.268.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.268.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.268.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.268.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>request</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section10768169134510">Request</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>要创建响应的HTTP请求。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>cachedResponse</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section49322045124710">CachedResponse</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>缓存中存储的HTTP响应缓存。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>currentTime</p> </td> <td class="cellrowborder" width="25%"><p>Date</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>当前时间。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.268.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.268.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a></p> </td> <td class="cellrowborder" width="50%"><p>HTTP响应。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> request = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">Request</span>(<span class="hljs-string">'https://www.example.com'</span>, <span class="hljs-string">'GET'</span>);</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">key</span>: rcp.<span class="hljs-property">ResponseCacheKey</span> = {</li><li>    <span class="hljs-attr">url</span>: request.<span class="hljs-property">url</span>,</li><li>    <span class="hljs-attr">method</span>: request.<span class="hljs-property">method</span>,</li><li>  };</li><li>  <span class="hljs-comment">// 获取HTTP响应缓存结果。</span></li><li>  <span class="hljs-keyword">const</span> responseInCache = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">get</span>(key);</li><li>  <span class="hljs-keyword">if</span> (responseInCache) {</li><li>    <span class="hljs-comment">// 根据HTTP响应缓存得到HTTP响应。</span></li><li>    <span class="hljs-keyword">const</span> response = rcp.<span class="hljs-title function_">createResponse</span>(request, responseInCache.<span class="hljs-property">response</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());</li><li>  }</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection" style="contain-intrinsic-size: auto 1473px;"><h2 id="section518115575144" device-type="phone,2in1,tablet,tv,wearable">rcp.createCachedResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section518115575144" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createCachedResponse(response: Response, timeStamp?: Date): CachedResponse</p> <p>根据HTTP响应创建HTTP响应缓存。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.269.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.269.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.269.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.269.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>response</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section156381815599">Response</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>HTTP响应。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>timeStamp</p> </td> <td class="cellrowborder" width="25%"><p>Date</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>缓存的响应时间戳。默认为当前系统时间。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.269.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.269.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section49322045124710">CachedResponse</a></p> </td> <td class="cellrowborder" width="50%"><p>HTTP响应缓存。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> <p></p> <p><strong>示例：</strong></p> <div _ngcontent-bef-c106="" class="highlight-div"><div _ngcontent-bef-c106="" class="highlight-div-header"><div _ngcontent-bef-c106="" class="highlight-div-header-left"><div _ngcontent-bef-c106="" class="handle-button expand-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bef-c106="" class="highlight-div-header-right"><div _ngcontent-bef-c106="" class="handle-button ai-button"></div><div _ngcontent-bef-c106="" class="handle-button line-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bef-c106="" class="handle-button theme-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bef-c106="" class="handle-button copy-button"><div _ngcontent-bef-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bef-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>    <span class="hljs-attr">persistent</span>: {</li><li>      <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>      <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span>, <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>    }</li><li>  });</li><li>  <span class="hljs-keyword">const</span> session = rcp.<span class="hljs-title function_">createSession</span>();</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">key</span>: rcp.<span class="hljs-property">ResponseCacheKey</span> = {</li><li>    <span class="hljs-attr">url</span>: <span class="hljs-string">'https://www.example.com'</span>,</li><li>    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span></li><li>  };</li><li>  <span class="hljs-comment">// 获取HTTP响应。</span></li><li>  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>);</li><li>  <span class="hljs-comment">// 根据HTTP响应创建HTTP响应缓存。</span></li><li>  <span class="hljs-keyword">const</span> cachedRecord = rcp.<span class="hljs-title function_">createCachedResponse</span>(response);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error: error code is <span class="hljs-subst">${err.code}</span>, error message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err.data)}</span>`</span>);</li><li>}</li></ol></pre></div></div> <p></p> </div> </div> <div></div></div>