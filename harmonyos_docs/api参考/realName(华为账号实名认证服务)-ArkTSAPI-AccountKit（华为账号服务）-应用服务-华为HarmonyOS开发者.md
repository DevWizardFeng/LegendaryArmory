<h1 _ngcontent-ooq-c119="" class="doc-title ng-star-inserted" title="realName (华为账号实名认证服务)"> realName (华为账号实名认证服务) </h1>

<div _ngcontent-ooq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块提供Account Kit实名认证能力，包括人脸核身功能。当需要验证用户实名信息的场景，为保证用户填写的实名信息的正确性，应用需要对用户的实名信息进行校验。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>该接口目前暂停开放。</p> </div></div></div> <div class="tiledSection"><h2 id="section164051883419" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section164051883419" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ooq-c106="" class="highlight-div"><div _ngcontent-ooq-c106="" class="highlight-div-header"><div _ngcontent-ooq-c106="" class="highlight-div-header-left"><div _ngcontent-ooq-c106="" class="handle-button expand-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ooq-c106="" class="highlight-div-header-right"><div _ngcontent-ooq-c106="" class="handle-button ai-button"></div><div _ngcontent-ooq-c106="" class="handle-button line-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ooq-c106="" class="handle-button theme-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ooq-c106="" class="handle-button copy-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ooq-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { realName } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section10967755141115" device-type="phone,2in1,tablet,tv">FacialRecognitionVerificationRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section10967755141115" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该类为人脸核身请求对象，定义了人脸核身请求参数。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.RealNameVerify</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.6.1.1" width="17.330000000000002%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.6.1.2" width="11.76%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.6.1.3" width="20.200000000000003%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.6.1.4" width="16.45%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.6.1.5" width="34.260000000000005%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17.330000000000002%"><p>verificationToken</p> </td> <td class="cellrowborder" width="11.76%"><p>string</p> </td> <td class="cellrowborder" width="20.200000000000003%"><p>否</p> </td> <td class="cellrowborder" width="16.45%"><p>否</p> </td> <td class="cellrowborder" width="34.260000000000005%"><p>身份验证令牌，调用华为账号OpenRealName服务<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-verify-realname">实名信息校验</a>接口获取。长度限制1-2048。</p> </td> </tr> <tr><td class="cellrowborder" width="17.330000000000002%"><p>state</p> </td> <td class="cellrowborder" width="11.76%"><p>string</p> </td> <td class="cellrowborder" width="20.200000000000003%"><p>否</p> </td> <td class="cellrowborder" width="16.45%"><p>是</p> </td> <td class="cellrowborder" width="34.260000000000005%"><p>请求体中的state参数，开发者可自定义，字符包含0-9、a-z、A-Z、英文点号、英文冒号、斜杠、下划线等，长度限制1-255，校验规则^[0-9a-zA-Z:/\.\-_]{1,255}$。该参数与响应体中返回的state比较，校验是否是当前请求，可防止跨站攻击。</p> <p>默认值：undefined。</p> <p>推荐开发者用随机数并做一致性校验。建议生成方式：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-util#utilgeneraterandomuuid9" target="_blank">util.generateRandomUUID()</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ooq-c106="" class="highlight-div"><div _ngcontent-ooq-c106="" class="highlight-div-header"><div _ngcontent-ooq-c106="" class="highlight-div-header-left"><div _ngcontent-ooq-c106="" class="handle-button expand-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ooq-c106="" class="highlight-div-header-right"><div _ngcontent-ooq-c106="" class="handle-button ai-button"></div><div _ngcontent-ooq-c106="" class="handle-button line-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ooq-c106="" class="handle-button theme-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ooq-c106="" class="handle-button copy-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ooq-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { realName } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">request</span>: realName.<span class="hljs-property">FacialRecognitionVerificationRequest</span> = {</li><li>  <span class="hljs-attr">verificationToken</span>: <span class="hljs-string">"</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;可调用华为账号服务实名信息校验接口获取&gt;</span></span></div></i><span class="hljs-string">"</span>, <span class="hljs-comment">// 调用华为账号OpenRealName服务实名信息校验接口获取</span></li><li>  <span class="hljs-attr">state</span>: util.<span class="hljs-title function_">generateRandomUUID</span>() <span class="hljs-comment">// 建议使用generateRandomUUID生成state</span></li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section19699554110" device-type="phone,2in1,tablet,tv">FacialRecognitionVerificationResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19699554110" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该类为人脸核身请求结果对象，定义了人脸核身请求返回结果数据字段。如果成功返回该对象，说明人脸核身验证成功。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.RealNameVerify</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.1" width="18.740000000000002%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.2" width="12.41%"><p><strong>类型</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.3" width="18.14%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.4" width="17.01%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.6.1.5" width="33.7%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="18.740000000000002%"><p>facialRecognitionVerificationToken</p> </td> <td class="cellrowborder" width="12.41%"><p>string</p> </td> <td class="cellrowborder" width="18.14%"><p>是</p> </td> <td class="cellrowborder" width="17.01%"><p>否</p> </td> <td class="cellrowborder" width="33.7%"><p>验证成功后返回的人脸核身验证令牌。长度限制1-2048。</p> </td> </tr> <tr><td class="cellrowborder" width="18.740000000000002%"><p>state</p> </td> <td class="cellrowborder" width="12.41%"><p>string</p> </td> <td class="cellrowborder" width="18.14%"><p>是</p> </td> <td class="cellrowborder" width="17.01%"><p>是</p> </td> <td class="cellrowborder" width="33.7%"><p>响应体中返回的state，字符包含0-9、a-z、A-Z、英文点号、英文冒号、斜杠、下划线等，长度限制1-255，校验规则^[0-9a-zA-Z:/\.\-_]{1,255}$。与请求体中传入的state比较，校验是否是当前请求，防止跨站攻击。</p> <p>推荐开发者用随机数并做一致性校验。建议生成方式：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-util#utilgeneraterandomuuid9" target="_blank">util.generateRandomUUID()</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section16629630232" device-type="phone,2in1,tablet,tv">RealNameErrorCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16629630232" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>该枚举为Account Kit实名认证服务的错误码。</p> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.RealNameVerify</p> <p><strong>起始版本：</strong>5.0.0(12)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.4.1.1" width="41.91%"><p><strong>名称</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.4.1.2" width="20.86%"><p><strong>值</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.4.1.3" width="37.230000000000004%"><p><strong>说明</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="41.91%"><p>NETWORK_ERROR</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section126501952132317">1002500001</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>网络不可用。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>ACCOUNT_NOT_LOGGED_IN</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1651105232319">1002500002</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>用户未登录华为账号。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>PACKAGE_FINGERPRINT_CHECK_ERROR</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section665175210236">1002500003</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>应用指纹证书校验失败。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>PERMISSION_CHECK_ERROR</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section17651105272310">1002500004</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>应用程序未申请对应permissions权限。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>USER_CANCELED</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1995615923313">1002500005</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>用户取消验证。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>INTERNAL_ERROR</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section10196176171810">1002500006</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>内部错误。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>REAL_NAME_UNSUPPORTED</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section177525511359">1002500008</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>该华为账号不支持实名验证。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>REAL_NAME_VERIFICATION_ERROR</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1055112416269">1002500009</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>实名渠道验证错误。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>FACE_NOT_MATCH</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section12860126792">1002500011</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>您的面部与作为身份证明的面部图像不匹配。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>REAL_NAME_NOT_EXIST</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1235141017912">1002500012</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>未查询到该华为账号的实名信息。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>NAME_AND_ID_NUMBER_NOT_MATCH</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1792982614911">1002500013</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>姓名和身份证号码不匹配。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>TOO_MANY_ATTEMPTS</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section13455833098">1002500014</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>实名验证尝试次数过多。24小时后重试。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>VERIFICATION_TOKEN_INCORRECT</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1377413361998">1002500015</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>参数verificationToken不合法。</p> </td> </tr> <tr><td class="cellrowborder" width="41.91%"><p>DEVICE_NOT_SUPPORTED</p> </td> <td class="cellrowborder" width="20.86%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1239413431916">1002500016</a></p> </td> <td class="cellrowborder" width="37.230000000000004%"><p>此设备不支持此API。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section47974214241" device-type="phone,2in1,tablet,tv">startFacialRecognitionVerification<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section47974214241" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>startFacialRecognitionVerification(context: common.Context, request: FacialRecognitionVerificationRequest): Promise&lt;FacialRecognitionVerificationResult&gt;</p> <p>执行华为账号人脸核身请求，拉起验证人脸页面。使用Promise异步回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>该接口暂不支持儿童账号使用。</p> </div></div></div> <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p> <p><strong>元服务API：</strong>从版本5.0.0(12)开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong>SystemCapability.AuthenticationServices.HuaweiID.RealNameVerify</p> <p><strong>设备行为差异：</strong>该接口在Phone、PC/2in1、Tablet中可正常调用，在其他设备类型中返回801错误码。</p> <p><strong>起始版本：</strong>5.0.0(12)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.11.1.5.1.1" width="10.530000000000001%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.5.1.2" width="21.060000000000002%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.5.1.3" width="25.679999999999996%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.5.1.4" width="42.730000000000004%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="10.530000000000001%"><p>context</p> </td> <td class="cellrowborder" width="21.060000000000002%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-common#context" target="_blank">common.Context</a></p> </td> <td class="cellrowborder" width="25.679999999999996%"><p>是</p> </td> <td class="cellrowborder" width="42.730000000000004%"><p>Context上下文。</p> <p>应用可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>。不支持应用在半模态、弹出框、子窗口等非全页面组件中使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiextensioncontext" target="_blank">UIExtensionContext</a>调用。</p> <p>元服务可支持的Context有：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">UIAbilityContext</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="10.530000000000001%"><p>request</p> </td> <td class="cellrowborder" width="21.060000000000002%"><p><a href="/consumer/cn/doc/harmonyos-references/account-api-realname#section10967755141115">FacialRecognitionVerificationRequest</a></p> </td> <td class="cellrowborder" width="25.679999999999996%"><p>是</p> </td> <td class="cellrowborder" width="42.730000000000004%"><p>人脸核身请求对象，传入令牌等信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.13.1.3.1.1" width="34.88%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.13.1.3.1.2" width="65.12%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="34.88%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/account-api-realname#section19699554110">FacialRecognitionVerificationResult</a>&gt;</p> </td> <td class="cellrowborder" width="65.12%"><p>Promise对象，返回<a href="/consumer/cn/doc/harmonyos-references/account-api-realname#section19699554110">FacialRecognitionVerificationResult</a>对象。返回该对象，说明人脸核身验证成功。可使用该对象的state和入参对象的state比较，校验是否是当前请求，可防止跨站攻击。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code">ArkTS错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.16.1.3.1.1" width="33.72%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.16.1.3.1.2" width="66.28%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section88861315453">401</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Parameter error. Possible causes: 1. Mandatory parameters are left unspecified; 2. Incorrect parameter types; 3. Parameter verification failed.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section801-该设备不支持此api" target="_blank">801</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Capability not supported. Function startFacialRecognitionVerification can not work correctly due to limited device capabilities.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section126501952132317">1002500001</a></p> </td> <td class="cellrowborder" width="66.28%"><p>The network is unavailable.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1651105232319">1002500002</a></p> </td> <td class="cellrowborder" width="66.28%"><p>The user has not logged in with HUAWEI ID.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section665175210236">1002500003</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Failed to check the fingerprint of the application bundle.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section17651105272310">1002500004</a></p> </td> <td class="cellrowborder" width="66.28%"><p>The application does not have the required permissions.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1995615923313">1002500005</a></p> </td> <td class="cellrowborder" width="66.28%"><p>The user canceled the verification of the HUAWEI ID.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section10196176171810">1002500006</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Internal error.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section177525511359">1002500008</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Real-name verification is not supported for the HUAWEI ID.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section12860126792">1002500011</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Your face does not match your facial image as proof of identity.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1235141017912">1002500012</a></p> </td> <td class="cellrowborder" width="66.28%"><p>No real-name information is found for the HUAWEI ID.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1792982614911">1002500013</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Your name and ID number do not match.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section13455833098">1002500014</a></p> </td> <td class="cellrowborder" width="66.28%"><p>Too many real-name verification attempts.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1377413361998">1002500015</a></p> </td> <td class="cellrowborder" width="66.28%"><p>The verificationToken parameter is incorrectly set.</p> </td> </tr> <tr><td class="cellrowborder" width="33.72%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-error-code#section1239413431916">1002500016</a></p> </td> <td class="cellrowborder" width="66.28%"><p>This device does not support this API.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-ooq-c106="" class="highlight-div"><div _ngcontent-ooq-c106="" class="highlight-div-header"><div _ngcontent-ooq-c106="" class="highlight-div-header-left"><div _ngcontent-ooq-c106="" class="handle-button expand-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ooq-c106="" class="highlight-div-header-right"><div _ngcontent-ooq-c106="" class="handle-button ai-button"></div><div _ngcontent-ooq-c106="" class="handle-button line-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ooq-c106="" class="handle-button theme-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ooq-c106="" class="handle-button copy-button"><div _ngcontent-ooq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ooq-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { realName } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AccountKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { util } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">request</span>: realName.<span class="hljs-property">FacialRecognitionVerificationRequest</span> = {</li><li>  <span class="hljs-attr">verificationToken</span>: <span class="hljs-string">"</span><i><div class="varname_wrapper"><span class="varname"><span class="hljs-string">&lt;可调用华为账号服务实名信息校验接口获取&gt;</span></span></div></i><span class="hljs-string">"</span>, <span class="hljs-comment">// 调用华为账号OpenRealName服务实名信息校验接口获取</span></li><li>  <span class="hljs-attr">state</span>: util.<span class="hljs-title function_">generateRandomUUID</span>() <span class="hljs-comment">// 建议使用generateRandomUUID生成state</span></li><li>}</li><li>hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`verifyFacialRecognitionWithPromise params <span class="hljs-subst">${request}</span>`</span>);</li><li><span class="hljs-comment">// 此示例为代码片段，实际需在自定义组件实例中使用，以获取UIContext对象作为函数入参</span></li><li>realName.<span class="hljs-title function_">startFacialRecognitionVerification</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {</li><li>  <span class="hljs-keyword">const</span> verifyResult = data <span class="hljs-keyword">as</span> realName.<span class="hljs-property">FacialRecognitionVerificationResult</span>;</li><li>  <span class="hljs-comment">// 开发者处理verifyResult</span></li><li>  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in verifying facial recognition.'</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError&lt;<span class="hljs-built_in">Object</span>&gt;</span>) =&gt;</span> {</li><li>  <span class="hljs-title function_">dealAllError</span>(error);</li><li>})</li><li>
</li><li><span class="hljs-comment">// 错误处理</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">dealAllError</span>(<span class="hljs-params">error: BusinessError&lt;<span class="hljs-built_in">Object</span>&gt;</span>): <span class="hljs-keyword">void</span> {</li><li>  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`Failed to authorize. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>