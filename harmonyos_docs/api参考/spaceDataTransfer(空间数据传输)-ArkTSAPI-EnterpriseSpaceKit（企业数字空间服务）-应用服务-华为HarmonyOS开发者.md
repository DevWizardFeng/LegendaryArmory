<h1 _ngcontent-cky-c119="" class="doc-title ng-star-inserted" title="spaceDataTransfer (空间数据传输)"> spaceDataTransfer (空间数据传输) </h1>

<div _ngcontent-cky-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>空间数据传输为企业安全管控类<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/mdm-kit" target="_blank">MDM</a>应用提供下发空间互传策略能力，提供设置审批信息、获取审批信息的能力。</p> <p>供企业安全管控类MDM应用申请权限后使用。</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <div class="tiledSection"><h2 id="section16609101116259" device-type="2in1">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16609101116259" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-cky-c106="" class="highlight-div"><div _ngcontent-cky-c106="" class="highlight-div-header"><div _ngcontent-cky-c106="" class="highlight-div-header-left"><div _ngcontent-cky-c106="" class="handle-button expand-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cky-c106="" class="highlight-div-header-right"><div _ngcontent-cky-c106="" class="handle-button ai-button"></div><div _ngcontent-cky-c106="" class="handle-button line-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cky-c106="" class="handle-button theme-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cky-c106="" class="handle-button copy-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cky-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileTransfer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section14605182931520" device-type="2in1">AuditInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14605182931520" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>审计信息。</p> <p><strong>系统能力</strong>：SystemCapability.EnterpriseSpace.SpaceDataTransfer</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="14.299999999999999%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="13.99%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="13.8%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="37.91%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>auditId</p> </td> <td class="cellrowborder" width="14.299999999999999%"><p>string</p> </td> <td class="cellrowborder" width="13.99%"><p>否</p> </td> <td class="cellrowborder" width="13.8%"><p>否</p> </td> <td class="cellrowborder" width="37.91%"><p>表示在发起审批时由数据库自动生成的审批ID，通常为由9位数字组成的字符串。不能为空字符串。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>userId</p> </td> <td class="cellrowborder" width="14.299999999999999%"><p>string</p> </td> <td class="cellrowborder" width="13.99%"><p>否</p> </td> <td class="cellrowborder" width="13.8%"><p>否</p> </td> <td class="cellrowborder" width="37.91%"><p>表示用户ID。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>userName</p> </td> <td class="cellrowborder" width="14.299999999999999%"><p>string</p> </td> <td class="cellrowborder" width="13.99%"><p>否</p> </td> <td class="cellrowborder" width="13.8%"><p>否</p> </td> <td class="cellrowborder" width="37.91%"><p>表示用户名称。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>time</p> </td> <td class="cellrowborder" width="14.299999999999999%"><p>number</p> </td> <td class="cellrowborder" width="13.99%"><p>否</p> </td> <td class="cellrowborder" width="13.8%"><p>否</p> </td> <td class="cellrowborder" width="37.91%"><p>表示整形转换后的审批时间戳，以ms为单位。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>comments</p> </td> <td class="cellrowborder" width="14.299999999999999%"><p>string</p> </td> <td class="cellrowborder" width="13.99%"><p>否</p> </td> <td class="cellrowborder" width="13.8%"><p>否</p> </td> <td class="cellrowborder" width="37.91%"><p>表示审批评论。无位数限制。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>status</p> </td> <td class="cellrowborder" width="14.299999999999999%"><p>string</p> </td> <td class="cellrowborder" width="13.99%"><p>否</p> </td> <td class="cellrowborder" width="13.8%"><p>否</p> </td> <td class="cellrowborder" width="37.91%"><p>表示文件审批状态。其中，"1"表示等待审批，"2"表示取消审批，"3"表示拒绝审批，"4"表示同意审批。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1285414104597" device-type="2in1">setAuditInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1285414104597" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>setAuditInfo(transactionNum: string, info: AuditInfo): number</p> <p>设置审批信息，将审批结果返回给空间互传应用。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_FILE_TRANSFER_AUDIT_POLICY_MANAGEMENT</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.SpaceDataTransfer</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>transactionNum</p> </td> <td class="cellrowborder" width="30.8%"><p>string</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>在传输文件时由数据库自动生成的传输编号，通常为由19位数字组成的字符串。不能为空字符串。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>info</p> </td> <td class="cellrowborder" width="30.8%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacedatatransfer#section14605182931520">AuditInfo</a></p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>表示审批信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>返回设置审批信息的结果。结果为0代表设置审批信息成功。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>the application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020300001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020300002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-cky-c106="" class="highlight-div"><div _ngcontent-cky-c106="" class="highlight-div-header"><div _ngcontent-cky-c106="" class="highlight-div-header-left"><div _ngcontent-cky-c106="" class="handle-button expand-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cky-c106="" class="highlight-div-header-right"><div _ngcontent-cky-c106="" class="handle-button ai-button"></div><div _ngcontent-cky-c106="" class="handle-button line-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cky-c106="" class="handle-button theme-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cky-c106="" class="handle-button copy-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cky-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileTransfer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">transactionNum</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'1111111'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">info</span>: fileTransfer.<span class="hljs-property">AuditInfo</span> = {</li><li>  <span class="hljs-attr">auditId</span>: <span class="hljs-string">'123456'</span>,</li><li>  <span class="hljs-attr">userId</span>: <span class="hljs-string">'100'</span>,</li><li>  <span class="hljs-attr">userName</span>: <span class="hljs-string">'test'</span>,</li><li>  <span class="hljs-attr">time</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),</li><li>  <span class="hljs-attr">comments</span>: <span class="hljs-string">'Waiting approval'</span>,</li><li>  <span class="hljs-attr">status</span>: <span class="hljs-string">'1'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">ret</span>: <span class="hljs-built_in">number</span> = fileTransfer.<span class="hljs-title function_">setAuditInfo</span>(transactionNum, info);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting audit info, number:`</span>, ret);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set audit info. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section5740142017119" device-type="2in1">getAuditInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section5740142017119" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>getAuditInfo(transactionNum: string): AuditInfo</p> <p>获取审批信息。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_FILE_TRANSFER_AUDIT_POLICY_MANAGEMENT</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.SpaceDataTransfer</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>transactionNum</p> </td> <td class="cellrowborder" width="30.8%"><p>string</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>在传输文件时由数据库自动生成的传输编号，通常为由19位数字组成的字符串。不能为空字符串。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacedatatransfer#section14605182931520">AuditInfo</a></p> </td> <td class="cellrowborder" width="50%"><p>表示审批信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>the application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020300001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020300002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-cky-c106="" class="highlight-div"><div _ngcontent-cky-c106="" class="highlight-div-header"><div _ngcontent-cky-c106="" class="highlight-div-header-left"><div _ngcontent-cky-c106="" class="handle-button expand-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cky-c106="" class="highlight-div-header-right"><div _ngcontent-cky-c106="" class="handle-button ai-button"></div><div _ngcontent-cky-c106="" class="handle-button line-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cky-c106="" class="handle-button theme-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cky-c106="" class="handle-button copy-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cky-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileTransfer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">transactionNum</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'1111111'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">auditInfo</span>: fileTransfer.<span class="hljs-property">AuditInfo</span> = fileTransfer.<span class="hljs-title function_">getAuditInfo</span>(transactionNum);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting audit info:`</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(auditInfo));</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get audit info. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section153991131799" device-type="2in1">policyPush<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section153991131799" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>policyPush(policyContext: string): void</p> <p>配置工作空间互传单双通策略。具体而言，分别配置是否允许个人工作空间和企业工作空间向对端空间发送文件。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_FILE_TRANSFER_AUDIT_POLICY_MANAGEMENT or ohos.permission.FILE_TRANSFER_OPERATION</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.SpaceDataTransfer</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="11.89%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="9.04%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="59.870000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>policyContext</p> </td> <td class="cellrowborder" width="11.89%"><p>string</p> </td> <td class="cellrowborder" width="9.04%"><p>是</p> </td> <td class="cellrowborder" width="59.870000000000005%"><p>下发单双通策略的内容。一级节点为<strong>config</strong>，其有5个二级节点，分别为<strong>inEnable</strong>、<strong>incoming_check</strong>、<strong>outEnable</strong>、<strong>outgoing_check</strong>和<strong>checkpoint_config</strong><strong>。</strong></p> <ul><li><strong>inEnable</strong>：控制个人空间向企业空间发送文件的权限。参数格式为字符串，其值为“0”时，表示禁止；为“1”时，表示允许。</li><li><strong>incoming_check</strong>：定义个人空间向企业空间发送文件时的检测规则。参数格式为字符串，内容会在后续详细解释。</li><li><strong>outEnable </strong>：控制企业空间向个人空间发送文件的权限。参数格式为字符串，其值为“0”时，表示禁止；为“1”时，表示允许。</li><li><strong>outgoing_check</strong>：定义企业空间向个人空间发送文件时的检测规则。参数格式为字符串，内容会在后续详细解释。</li><li><strong>checkpoint_config</strong>：配置检测应用的信息，包括应用的包名、组件名、参数、检测函数编码。参数格式为字符串，内容会在后续详细解释。</li></ul> <p><strong>incoming_check</strong>、<strong>outgoing_check</strong>和<strong>checkpoint_config</strong>均有三级节点<strong>data_list</strong>，其为中间参数，用于多检测点情况下，多个检测点对象的配置。</p> <p>具体而言，<strong>incoming_check</strong>和<strong>outgoing_check</strong>下的三级节点<strong>data_list</strong>有如下四级节点：</p> <p>- allow：放通动作配置，通过表达式配置。例如，"allow": "result == 1"，代表当result为1时，放通。</p> <p>- order：检测点顺序号。例如，"order": "0"。</p> <p>- approval：审批动作配置，通过表达式配置。例如，"allow": "result == 2"，代表当result为2时，审批。</p> <p>- forbidden：拦截动作配置，通过表达式配置。例如，"allow": "result == 3"，代表当result为3时，拦截。</p> <p>- encryption：加密动作配置，通过表达式配置。例如，"allow": "result == 4"，代表当result为4时，加密。</p> <p>- check_point：检测点类型。例如，"check_point": "Test"。</p> <p>- check_sequence：是否启用，1：启用，0：不启用。</p> <p>- check_point_name：检测点名称。例如，"check_point": "TestName"。</p> <p><strong>checkpoint_config</strong>下的三级节点<strong>data_list</strong>有如下四级节点：</p> <p>- check_point_name：检测点名称。例如，"check_point": "TestName"。</p> <p>- bundle_name：包名。例如，"bundle_name": "com.example.test"。</p> <p>- ability_name：组件名。例如，"ability_name": "EntryAbility"。</p> <p>- fun_code：检测函数编码，表示为检测点的函数序号，取值为正整数。</p> <p>- send_param：检测发起的参数配置，当前取值为空字符串。</p> <p>- recv_msg：检测响应的参数配置，当前取值为空字符串。</p> <p>例如，policyContext内容可写成'{\'config\': {\'inEnable\': \'1\', \'incoming_check\': {\'data_list\': {\'allow\': \'result == 1\', \'order\': \'0\', \'approval\': \'result == 2\', \'forbidden\': \'result == 3\', \'encryption\': \'result == 4\', \'check_point\': \'Test\', \'check_sequence\': \'1\', \'check_point_name\': \'TestName\'}}, \'outEnable\': \'1\', \'outgoing_check\': {\'data_list\': {\'allow\': \'result == 1\', \'order\': \'0\', \'approval\': \'result == 2\', \'forbidden\': \'result == 3\', \'encryption\': \'result == 4\', \'check_point\': \'Test\', \'check_sequence\': \'1\', \'check_point_name\': \'TestName\'}}, \'checkpoint_config\': {\'data_list\': {\'check_point_name\': \'TestName\', \'bundle_name\': \'com.example.test\', \'ability_name\': \'EntryAbility\', \'fun_code\': \'1\', \'send_param\': \'\', \'recv_msg\': \'\'}}}}'。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.11.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>the application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020300001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020300002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-cky-c106="" class="highlight-div"><div _ngcontent-cky-c106="" class="highlight-div-header"><div _ngcontent-cky-c106="" class="highlight-div-header-left"><div _ngcontent-cky-c106="" class="handle-button expand-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cky-c106="" class="highlight-div-header-right"><div _ngcontent-cky-c106="" class="handle-button ai-button"></div><div _ngcontent-cky-c106="" class="handle-button line-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cky-c106="" class="handle-button theme-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cky-c106="" class="handle-button copy-button"><div _ngcontent-cky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cky-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { fileTransfer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">policyContext</span>: <span class="hljs-built_in">string</span> =</li><li>  <span class="hljs-string">'{\'config\': {\'inEnable\': \'1\', \'incoming_check\': {\'data_list\': {\'allow\': \'result == 1\', \'order\': \'0\', \'approval\': \'result == 2\', \'forbidden\': \'result == 3\', \'encryption\': \'result == 4\', \'check_point\': \'Test\', \'check_sequence\': \'1\', \'check_point_name\': \'TestName\'}}, \'outEnable\': \'1\', \'outgoing_check\': {\'data_list\': {\'allow\': \'result == 1\', \'order\': \'0\', \'approval\': \'result == 2\', \'forbidden\': \'result == 3\', \'encryption\': \'result == 4\', \'check_point\': \'Test\', \'check_sequence\': \'1\', \'check_point_name\': \'TestName\'}}, \'checkpoint_config\': {\'data_list\': {\'check_point_name\': \'TestName\', \'bundle_name\': \'com.example.test\', \'ability_name\': \'EntryAbility\', \'fun_code\': \'1\', \'send_param\': \'\', \'recv_msg\': \'\'}}}}'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  fileTransfer.<span class="hljs-title function_">policyPush</span>(policyContext);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in pushing policy`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to push policy. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>