<h1 _ngcontent-uln-c119="" class="doc-title ng-star-inserted" title="spaceManager (空间管理)"> spaceManager (空间管理) </h1>

<div _ngcontent-uln-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>空间管理服务提供统一的空间管理能力，包括创建工作空间、移除工作空间、订阅空间事件等功能，满足用户空间使用和企业对空间的管理诉求。</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <div class="tiledSection"><h2 id="section16609101116259" device-type="2in1">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16609101116259" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section2818219505" device-type="2in1">CreateWorkspaceParams<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section2818219505" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>创建工作空间参数。</p> <p><strong>系统能力</strong>：SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.1" width="20%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.2" width="20%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.3" width="20%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.4" width="20%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.6.1.5" width="20%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>shortName</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间的本地简称，其值与localName一致。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1457564515610" device-type="2in1">WorkspaceDomainInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1457564515610" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>工作空间域账号信息。</p> <p><strong>系统能力</strong>：SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="20%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="20%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>domain</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>域名，仅在企业空间有值，例如“xx.com”，在个人空间中，其值为空。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>workspaceName</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间域账号名称，仅在企业空间中有效，而在个人空间中则为空。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>accountId</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>域中的账号标识符，仅在企业空间中有效，而在个人空间中则为空。其创建空间时，由系统自动生成的字符串，在<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section15245021163318">setWorkspaceInfo</a>中可设置为空。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>isAuthenticated</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>工作空间是否已鉴权。</p> <ul><li>true：已鉴权</li><li>false：未鉴权</li></ul> <p>默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>serverConfigId</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>工作空间所属域的服务器配置标识符。由创建空间时系统自动生成的，仅在企业空间中有效，例如“xx:test.com”，而在个人空间中则为空。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1528202625516" device-type="2in1">WorkspaceInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1528202625516" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>工作空间信息。</p> <p><strong>系统能力</strong>：SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.1" width="20%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.2" width="20%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.3" width="20%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.4" width="20%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.5" width="20%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>workspaceId</p> </td> <td class="cellrowborder" width="20%"><p>number</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间ID。</p> <p>首个空间ID为100，后续创建的工作空间ID逐一递增。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>localName</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间的本地账号名称，例如，“test”。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>shortName</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>工作空间的本地简称，其值与localName一致。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>isUnlocked</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间是否处于解锁状态。</p> <ul><li>true：解锁状态</li><li>false：锁屏状态</li></ul> <p>默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>photo</p> </td> <td class="cellrowborder" width="20%"><p>string</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间的照片，是本地照片所在的文件路径名，例如“resource/path1/path2/avatar.png”。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>createTime</p> </td> <td class="cellrowborder" width="20%"><p>number</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间的创建时间戳，为系统生成的10位数字组成的时间戳。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>lastLoginTime</p> </td> <td class="cellrowborder" width="20%"><p>number</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间的最后登录时间，通常为系统生成的10位数字组成的时间戳。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>serialNumber</p> </td> <td class="cellrowborder" width="20%"><p>number</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>通常为由9位数字组成的工作空间序列号。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>isActivated</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间是否处于激活状态。</p> <ul><li>true：激活状态</li><li>false：未激活状态</li></ul> <p>默认值为false。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>isCreateCompleted</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间创建是否完成。</p> <ul><li>true：创建工作空间已完成状态</li><li>false：创建工作空间未完成状态</li></ul> <p>默认值为true。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>isAllowedToBeDeleted</p> </td> <td class="cellrowborder" width="20%"><p>boolean</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间是否允许被删除。</p> <ul><li>true：允许被删除</li><li>false：不允许被删除</li></ul> <p>默认值为true。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>domainInfo</p> </td> <td class="cellrowborder" width="20%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1457564515610">WorkspaceDomainInfo</a></p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>工作空间域信息，具体可参见<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1457564515610">WorkspaceDomainInfo</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section667711319120" device-type="2in1">ProcessConfigInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section667711319120" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>管控的系统服务进程以及其不可访问路径的配置信息。</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.1(21)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.1" width="19.82198219821982%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.2" width="20.762076207620765%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.3" width="19.671967196719674%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.4" width="18.76187618761876%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.6.1.5" width="20.982098209820983%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.82198219821982%"><p>processName</p> </td> <td class="cellrowborder" width="20.762076207620765%"><p>string</p> </td> <td class="cellrowborder" width="19.671967196719674%"><p>否</p> </td> <td class="cellrowborder" width="18.76187618761876%"><p>否</p> </td> <td class="cellrowborder" width="20.982098209820983%"><p>系统服务进程的名称。</p> </td> </tr> <tr><td class="cellrowborder" width="19.82198219821982%"><p>disallowPaths</p> </td> <td class="cellrowborder" width="20.762076207620765%"><p>string[]</p> </td> <td class="cellrowborder" width="19.671967196719674%"><p>否</p> </td> <td class="cellrowborder" width="18.76187618761876%"><p>否</p> </td> <td class="cellrowborder" width="20.982098209820983%"><p>不可访问的路径列表，列表只能包含如下列表的子集：['/data/service','/data/app','/storage','/mnt']</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section3637177173919" device-type="2in1">WorkspaceType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3637177173919" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>工作空间类型。</p> <p><strong>系统能力</strong>：SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.5.1.4.1.1" width="28.24%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.4.1.2" width="21.33%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.4.1.3" width="50.43%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="28.24%"><p>ADMIN</p> </td> <td class="cellrowborder" width="21.33%"><p>0</p> </td> <td class="cellrowborder" width="50.43%"><p>管理员工作空间，具有管理其他工作空间的权限。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section87287517554" device-type="2in1">QueryType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section87287517554" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>查询的工作空间类型。</p> <p><strong>系统能力</strong>：SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.1" width="28.24%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.2" width="21.33%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.3" width="50.43%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="28.24%"><p>ALL</p> </td> <td class="cellrowborder" width="21.33%"><p>0</p> </td> <td class="cellrowborder" width="50.43%"><p>查询所有的工作空间。</p> </td> </tr> <tr><td class="cellrowborder" width="28.24%"><p>NON_DELETABLE</p> </td> <td class="cellrowborder" width="21.33%"><p>1</p> </td> <td class="cellrowborder" width="50.43%"><p>查询不允许被删除的工作空间。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section3338122511597" device-type="2in1">EventType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3338122511597" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>订阅事件类型。</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.1" width="33.33333333333333%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.2" width="33.33333333333333%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.3" width="33.33333333333333%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><p>EVENT_WORKSPACE_SWITCHED</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>0</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>工作空间切换事件。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section8847145144416" device-type="2in1">UserDataEnum<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8847145144416" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>用户类型。</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.1(21)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.1" width="33.33333333333333%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.2" width="33.33333333333333%"><p>值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.5.1.4.1.3" width="33.33333333333333%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><p>ENTERPRISE</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>0</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>表示企业用户。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><p>PERSONAL</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>1</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>表示个人用户。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1831382917492" device-type="2in1">EventData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1831382917492" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>与空间事件相关的详细信息。</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.1" width="20%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.2" width="20%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.3" width="20%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.4" width="20%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.5.1.6.1.5" width="20%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>event</p> </td> <td class="cellrowborder" width="20%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section3338122511597">EventType</a></p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>事件类型，取值可参见<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section3338122511597">EventType</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>currentWorkspaceId</p> </td> <td class="cellrowborder" width="20%"><p>number</p> </td> <td class="cellrowborder" width="20%"><p>否</p> </td> <td class="cellrowborder" width="20%"><p>是</p> </td> <td class="cellrowborder" width="20%"><p>当前工作空间ID。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section174311747184814" device-type="2in1">createWorkspace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section174311747184814" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>createWorkspace(localName: string, workspaceType: WorkspaceType, params?: CreateWorkspaceParams): Promise&lt;WorkspaceInfo&gt;</p> <p>创建工作空间。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES或ohos.permission.MANAGE_LOCAL_WORKSPACES</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>localName</p> </td> <td class="cellrowborder" width="30.8%"><p>string</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>工作空间的本地名称。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>workspaceType</p> </td> <td class="cellrowborder" width="30.8%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section3637177173919">WorkspaceType</a></p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>工作空间的类型，取值可参见<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section3637177173919">WorkspaceType</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>params</p> </td> <td class="cellrowborder" width="30.8%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section2818219505">CreateWorkspaceParams</a></p> </td> <td class="cellrowborder" width="9.24%"><p>否</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>创建工作空间配置，具体可参见<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section2818219505">CreateWorkspaceParams</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1528202625516">WorkspaceInfo</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回工作空间信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400003</p> </td> <td class="cellrowborder" width="50%"><p>Invalid workspace.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">localName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'111111'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">workspaceType</span>: spaceManager.<span class="hljs-property">WorkspaceType</span> = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">params</span>: spaceManager.<span class="hljs-property">CreateWorkspaceParams</span> = {</li><li>  <span class="hljs-attr">shortName</span>: <span class="hljs-string">'test'</span></li><li>};</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">workspaceInfo</span>: spaceManager.<span class="hljs-property">WorkspaceInfo</span> = <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">createWorkspace</span>(localName, workspaceType, params);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in creating workspace, workspaceInfo:`</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(workspaceInfo));</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to create workspace. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section85743218296" device-type="2in1">enableWorkspace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section85743218296" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>enableWorkspace(enable: boolean): Promise&lt;void&gt;</p> <p>使能双空间特性。双空间分别为企业空间和个人空间，企业空间为完全受企业管控的通用办公空间，个人空间为因工作需要对外交流、作业、开源开发等用途的空间。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES或ohos.permission.MANAGE_LOCAL_WORKSPACES</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>enable</p> </td> <td class="cellrowborder" width="30.8%"><p>boolean</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>双空间特性是否启用。</p> <ul><li>true：支持双空间特性</li><li>false：不支持双空间特性</li></ul> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">enable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">enableWorkspace</span>(enable);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in enabling workspace'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to enable workspace. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section6592656143118" device-type="2in1">queryWorkspace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6592656143118" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>queryWorkspace(queryFlag: QueryType): Promise&lt;WorkspaceInfo[]&gt;</p> <p>查询工作空间。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.QUERY_LOCAL_WORKSPACES</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>queryFlag</p> </td> <td class="cellrowborder" width="30.8%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section87287517554">QueryType</a></p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>工作空间类型，其取值可参见<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section87287517554">QueryType</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1528202625516">WorkspaceInfo</a>[]&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回工作空间信息列表。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">queryFlag</span>: spaceManager.<span class="hljs-property">QueryType</span> = spaceManager.<span class="hljs-property">QueryType</span>.<span class="hljs-property">ALL</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">spaces</span>: spaceManager.<span class="hljs-property">WorkspaceInfo</span>[] = <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">queryWorkspace</span>(queryFlag);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in querying workspace`</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(spaces));</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to query workspace. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1285414104597" device-type="2in1">removeWorkspace<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1285414104597" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>removeWorkspace(workspaceId: number): Promise&lt;void&gt;</p> <p>移除工作空间。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES或ohos.permission.MANAGE_LOCAL_WORKSPACES</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>workspaceId</p> </td> <td class="cellrowborder" width="30.8%"><p>number</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>工作空间ID。首个空间ID为100，后续创建的工作空间ID逐一递增。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400003</p> </td> <td class="cellrowborder" width="50%"><p>Invalid workspace.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">workspaceId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">removeWorkspace</span>(workspaceId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in removing workspace'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to remove workspace. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section15245021163318" device-type="2in1">setWorkspaceInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section15245021163318" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>setWorkspaceInfo(workspaceId: number, domainInfo: WorkspaceDomainInfo): Promise&lt;void&gt;</p> <p>设置工作空间域信息。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>workspaceId</p> </td> <td class="cellrowborder" width="30.8%"><p>number</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>工作空间ID。首个空间ID为100，后续创建的工作空间ID逐一递增。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>domainInfo</p> </td> <td class="cellrowborder" width="30.8%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1457564515610">WorkspaceDomainInfo</a></p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>工作空间域信息，具体可参见<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1457564515610">WorkspaceDomainInfo</a>。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.17.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400003</p> </td> <td class="cellrowborder" width="50%"><p>Invalid workspace.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">workspaceId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">domainInfo</span>: spaceManager.<span class="hljs-property">WorkspaceDomainInfo</span> = {</li><li>  <span class="hljs-attr">domain</span>: <span class="hljs-string">'test1'</span>,</li><li>  <span class="hljs-attr">workspaceName</span>: <span class="hljs-string">'test2'</span>,</li><li>  <span class="hljs-attr">accountId</span>: <span class="hljs-string">'test3'</span>,</li><li>  <span class="hljs-attr">isAuthenticated</span>: <span class="hljs-literal">false</span>,</li><li>  <span class="hljs-attr">serverConfigId</span>: <span class="hljs-string">'test4'</span></li><li>};</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">setWorkspaceInfo</span>(workspaceId, domainInfo);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting workspace info'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set workspace info. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section6531192033412" device-type="2in1">setWorkspaceProfilePhoto<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6531192033412" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>setWorkspaceProfilePhoto(workspaceId: number, photo: string): Promise&lt;void&gt;</p> <p>根据工作空间ID设置工作空间资料照片。使用Promise异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>workspaceId</p> </td> <td class="cellrowborder" width="30.8%"><p>number</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>工作空间ID。首个空间ID为100，后续创建的工作空间ID逐一递增。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>photo</p> </td> <td class="cellrowborder" width="30.8%"><p>string</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>设置的工作空间资料照片，是本地照片所在的文件路径。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400003</p> </td> <td class="cellrowborder" width="50%"><p>Invalid workspace.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">workspaceId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">photo</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'resource/path1/path2/avatar.png'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">setWorkspaceProfilePhoto</span>(workspaceId, photo);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in setting workspace profile photo'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set workspace profile photo. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section53038113910" device-type="2in1">subscribeEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section53038113910" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>subscribeEvent(eventId: EventType[], callback: AsyncCallback&lt;EventData&gt;): number</p> <p>订阅空间事件。使用callback异步回调。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_WORKSPACES_EVENT_SUBSCRIBE</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>eventId</p> </td> <td class="cellrowborder" width="30.8%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section3338122511597">EventType</a>[]</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>订阅的空间事件类型列表。</p> </td> </tr> <tr><td class="cellrowborder" width="19.2%"><p>callback</p> </td> <td class="cellrowborder" width="30.8%"><p>AsyncCallback&lt;<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1831382917492">EventData</a>&gt;</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>回调函数，当订阅空间事件成功，<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section1831382917492">EventData</a>为与空间事件相关的详细信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>number</p> </td> <td class="cellrowborder" width="50%"><p>订阅ID，用于在取消空间事件中使用。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.19.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400006</p> </td> <td class="cellrowborder" width="50%"><p>Session disconnected.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> subscribeId = spaceManager.<span class="hljs-title function_">subscribeEvent</span>([<span class="hljs-number">0</span>],</li><li>    <span class="hljs-function">(<span class="hljs-params">error: BusinessError, data: spaceManager.EventData</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">if</span> (error) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`error info:<span class="hljs-subst">${error?.code}</span>, err message:<span class="hljs-subst">${error?.message}</span>`</span>);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`event: <span class="hljs-subst">${data.event}</span>,currentWorkSpaceId: <span class="hljs-subst">${data.currentWorkspaceId}</span>`</span>);</li><li>      }</li><li>    });</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in subscribing event. subscribeId: <span class="hljs-subst">${subscribeId}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to subscribe event. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section134241041398" device-type="2in1">unsubscribeEvent<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section134241041398" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>unsubscribeEvent(subscribeId: number): void</p> <p>取消订阅空间事件。</p> <p><strong>需要权限：</strong>ohos.permission.ENTERPRISE_WORKSPACES_EVENT_SUBSCRIBE</p> <p><strong>系统能力：</strong>SystemCapability.EnterpriseSpace.ServiceManage</p> <p><strong>起始版本：</strong>6.0.0(20)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="19.2%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="30.8%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="9.24%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="40.760000000000005%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.2%"><p>subscribeId</p> </td> <td class="cellrowborder" width="30.8%"><p>number</p> </td> <td class="cellrowborder" width="9.24%"><p>是</p> </td> <td class="cellrowborder" width="40.760000000000005%"><p>由订阅空间事件得到的订阅ID，用于取消订阅对应的空间事件。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">subscribeId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  spaceManager.<span class="hljs-title function_">unsubscribeEvent</span>(subscribeId);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in unsubscribing event'</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to unsubscribe event. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section16390141073315" device-type="2in1">setRestrictedAccessBackgroundUserdata<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16390141073315" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>setRestrictedAccessBackgroundUserdata(userData: UserDataEnum, enable: boolean): Promise&lt;void&gt;</p> <p>设置系统服务进程不可访问后台用户数据的功能。使用Promise异步回调。</p> <p>需要权限：ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES</p> <p>系统能力：SystemCapability.EnterpriseSpace.ServiceManage</p> <p>起始版本：6.0.1(21)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>userData</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section8847145144416">UserDataEnum</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示用户空间类型。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>enable</p> </td> <td class="cellrowborder" width="25%"><p>boolean</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示是否开启管控。</p> <ul><li>true：表示开启管控，此时系统服务进程不可访问后台用户的数据</li><li>false：表示关闭管控，此时系统服务进程可正常访问后台用户的数据</li></ul> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.21.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: spaceManager.<span class="hljs-property">UserDataEnum</span> = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">enable</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">setRestrictedAccessBackgroundUserdata</span>(userData, enable)</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in setting restricted access background user data. userData: <span class="hljs-subst">${userData}</span>, enable: <span class="hljs-subst">${enable}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to set restricted access background user data. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section4269102713541" device-type="2in1">getRestrictedAccessBackgroundUserdataStatus<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4269102713541" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>getRestrictedAccessBackgroundUserdataStatus(userData: UserDataEnum): Promise&lt;boolean&gt;</p> <p>获取系统服务进程不可访问的后台用户数据状态。后台用户数据主要包含如下目录['/data/service','/data/app','/storage','/mnt']下特定路径下的用户数据。使用Promise异步回调。</p> <p>需要权限：ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES</p> <p>系统能力：SystemCapability.EnterpriseSpace.ServiceManage</p> <p>起始版本：6.0.1(21)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>userData</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section8847145144416">UserDataEnum</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示用户空间类型。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;boolean&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回系统服务进程不可访问的后台用户数据状态。</p> <ul><li>true：表示开启管控，此时系统服务进程不可访问后台用户的数据</li><li>false：表示关闭管控，此时系统服务进程可正常访问后台用户的数据</li></ul> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: spaceManager.<span class="hljs-property">UserDataEnum</span> = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">status</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">getRestrictedAccessBackgroundUserdataStatus</span>(userData);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting restricted access background user data status. status: <span class="hljs-subst">${status}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get restricted access background user data status. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1362244814574" device-type="2in1">getRestrictedAccessBackgroundUserdataProcessList<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1362244814574" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>getRestrictedAccessBackgroundUserdataProcessList(userData: UserDataEnum): Promise&lt;ProcessConfigInfo[]&gt;</p> <p>获取不可访问后台用户数据的系统服务进程列表。使用Promise异步回调。</p> <p>需要权限：ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES</p> <p>系统能力：SystemCapability.EnterpriseSpace.ServiceManage</p> <p>起始版本：6.0.1(21)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>userData</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section8847145144416">UserDataEnum</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示用户空间类型。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section667711319120">ProcessConfigInfo</a>[]&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，表示当前配置的管控信息列表。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.23.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: spaceManager.<span class="hljs-property">UserDataEnum</span> = spaceManager.<span class="hljs-property">UserDataEnum</span>.<span class="hljs-property">ENTERPRISE</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">processConfigInfos</span>: spaceManager.<span class="hljs-property">ProcessConfigInfo</span>[] = <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">getRestrictedAccessBackgroundUserdataProcessList</span>(userData);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in getting restricted access background user data process list. process config infos: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(processConfigInfos)}</span>`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to get restricted access background user data process list. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1674601141" device-type="2in1">addRestrictedAccessBackgroundUserdataProcessList<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1674601141" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>addRestrictedAccessBackgroundUserdataProcessList(userData: UserDataEnum, processName: string, disallowPaths?: string[]): Promise&lt;void&gt;</p> <p>新增系统服务进程不可访问后台用户数据路径列表。使用Promise异步回调。</p> <p>需要权限：ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES</p> <p>系统能力：SystemCapability.EnterpriseSpace.ServiceManage</p> <p>起始版本：6.0.1(21)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>userData</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section8847145144416">UserDataEnum</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示用户空间类型。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>processName</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示系统服务进程的名称。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>disallowPaths</p> </td> <td class="cellrowborder" width="25%"><p>string[]</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>表示配置的不可访问的路径。</p> <ul><li>当不传该参数时，默认值为['/data/service','/data/app','/storage','/mnt']</li><li>当传该参数时，其值只能是['/data/service','/data/app','/storage','/mnt']列表的子集</li></ul> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.24.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.24.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: spaceManager.<span class="hljs-property">UserDataEnum</span> = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">processName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'testSa'</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">disallowPaths</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'/data/service'</span>, <span class="hljs-string">'/data/app'</span>];</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">addRestrictedAccessBackgroundUserdataProcessList</span>(userData, processName, disallowPaths);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in adding restricted access background user data process list`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to add restricted access background user data process list. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section815011291814" device-type="2in1">deleteRestrictedAccessBackgroundUserdataProcessList<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section815011291814" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">PC/2in1</span></div><p>deleteRestrictedAccessBackgroundUserdataProcessList(userData: UserDataEnum, processName: string): Promise&lt;void&gt;</p> <p>删除系统服务进程不可访问后台用户数据路径列表。使用Promise异步回调。</p> <p>需要权限：ohos.permission.ENTERPRISE_MANAGE_LOCAL_PUBLICSPACES</p> <p>系统能力：SystemCapability.EnterpriseSpace.ServiceManage</p> <p>起始版本：6.0.1(21)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>userData</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section8847145144416">UserDataEnum</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示用户空间类型，其值参考<a href="/consumer/cn/doc/harmonyos-references/enterprisespace-spacemanager#section8847145144416">UserDataEnum</a>枚举值。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>processName</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>表示系统服务进程的名称。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;void&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，无返回结果的Promise对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/enterprisespace-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>The application does not have permission to call this function.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400001</p> </td> <td class="cellrowborder" width="50%"><p>System service exception.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400002</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>1020400007</p> </td> <td class="cellrowborder" width="50%"><p>Enterprise workspace not enabled.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-uln-c106="" class="highlight-div"><div _ngcontent-uln-c106="" class="highlight-div-header"><div _ngcontent-uln-c106="" class="highlight-div-header-left"><div _ngcontent-uln-c106="" class="handle-button expand-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uln-c106="" class="highlight-div-header-right"><div _ngcontent-uln-c106="" class="handle-button ai-button"></div><div _ngcontent-uln-c106="" class="handle-button line-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uln-c106="" class="handle-button theme-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uln-c106="" class="handle-button copy-button"><div _ngcontent-uln-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uln-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { spaceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.EnterpriseSpaceKit'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: spaceManager.<span class="hljs-property">UserDataEnum</span> = <span class="hljs-number">0</span>;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">processName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'testSa'</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> spaceManager.<span class="hljs-title function_">deleteRestrictedAccessBackgroundUserdataProcessList</span>(userData, processName);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in deleting restricted access background user data process list`</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to delete restricted access background user data process list. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>