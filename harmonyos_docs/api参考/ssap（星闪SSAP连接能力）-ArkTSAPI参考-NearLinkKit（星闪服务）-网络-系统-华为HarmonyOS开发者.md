<h1 _ngcontent-cvu-c119="" class="doc-title ng-star-inserted" title="ssap（星闪SSAP连接能力）"> ssap（星闪SSAP连接能力） </h1>

<div _ngcontent-cvu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>本模块提供了SSAP（SparkLink Service Access Protocol）连接功能。</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="section148115414307" device-type="phone,2in1,tv,tablet,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section148115414307" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 449px;">     <h2 id="section14942121015417" device-type="phone,2in1,tv,tablet,wearable">ConnectionState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14942121015417" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type ConnectionState = <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-constant#section14942121015417">constant.ConnectionState</a></p>     <p>表示和远端设备的连接状态，为枚举值。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.3.1.1" width="26.179999999999996%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.6.1.3.1.2" width="73.82%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="26.179999999999996%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-constant#section14942121015417">constant.ConnectionState</a></p></td>         <td class="cellrowborder" width="73.82%">          <p>和远端设备的连接状态。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1529px;">     <h2 id="section1855815061418" device-type="phone,2in1,tv,tablet,wearable">createClient<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1855815061418" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createClient(address: string): Client</p>     <p>创建ssap客户端实例。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.6.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.6.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.6.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.6.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>address</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p>string</p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>远端服务端设备地址。地址格式参考："11:22:33:AA:BB:FF"。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.6.8.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.6.8.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section124191030153618">Client</a></p></td>          <td class="cellrowborder" width="71.95%">           <p>ssap客户端实例。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.11.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr);</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'client: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(client));</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1300px;">     <h2 id="section383817192117" device-type="phone,2in1,tv,tablet,wearable">createServer<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section383817192117" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createServer(): Server</p>     <p>创建ssap服务端实例。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.7.7.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.7.7.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section159881148173016">Server</a></p></td>          <td class="cellrowborder" width="71.95%">           <p>ssap服务端实例。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'server: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(server));</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 250px;">     <h2 id="section124191030153618" device-type="phone,2in1,tv,tablet,wearable">Client<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section124191030153618" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>提供和远端设备ssap数据交互操作方法，使用前需要使用<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section1855815061418">ssap.createClient</a>方法创建一个<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section124191030153618">Client</a>实例。</p>       <p>一个应用针对一个远端设备只需要创建一次实例。</p>      </div></div></div>    </div>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="tiledSection" style="contain-intrinsic-size: auto 1348px;">     <h3 id="section0465155481619" device-type="phone,2in1,tv,tablet,wearable" class="firsth2">connect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section0465155481619" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>connect(): Promise&lt;void&gt;</p>     <p>向服务端发起连接。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.11.7.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.11.7.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，无返回值。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">connect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connect success"</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1436px;">     <h3 id="section8810319812" device-type="phone,2in1,tv,tablet,wearable">disconnect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8810319812" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>disconnect(): Promise&lt;void&gt;</p>     <p>向服务端发起断连，断开已有连接或者终止正在建立的连接。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.12.7.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.12.7.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，无返回值。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">connect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"connect success"</span>); <span class="hljs-comment">// 建立连接</span></li><li>  });</li><li>  client.<span class="hljs-title function_">disconnect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"disconnect success"</span>); <span class="hljs-comment">// 断开连接</span></li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1145px;">     <h3 id="section791619414274" device-type="phone,2in1,tv,tablet,wearable">close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section791619414274" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p>     <p>关闭客户端。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.9.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> { </li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">close</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1508px;">     <h3 id="section10154105183620" device-type="phone,2in1,tv,tablet,wearable">getServices<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section10154105183620" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getServices(): Promise&lt;Array&lt;Service&gt;&gt;</p>     <p>获取服务端支持的服务列表。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.14.7.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.14.7.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section1622511479139">Service</a>&gt;&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，返回服务端支持的服务列表。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">connect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connect success'</span>);</li><li>  });</li><li>  <span class="hljs-comment">// 连接耗时较长，等待连接完成才能获取服务，实际开发者根据连接速度调整定时器长度</span></li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    client.<span class="hljs-title function_">getServices</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: <span class="hljs-built_in">Array</span>&lt;ssap.Service&gt;</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'getServices successfully:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    });</li><li>  }, <span class="hljs-number">3000</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1929px;">     <h3 id="section447518180514" device-type="phone,2in1,tv,tablet,wearable">readProperty<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section447518180514" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>readProperty(property: Property): Promise&lt;Property&gt;</p>     <p>读取服务端属性。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.15.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.15.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.15.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.15.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>property</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a></p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>服务端属性。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.15.8.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.15.8.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a>&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，返回服务端属性。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.11.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">connect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connect success'</span>);</li><li>  });</li><li>  <span class="hljs-comment">// 创建property,实际开发时需要通过getServices接口从服务端获取</span></li><li>  <span class="hljs-keyword">let</span> arrayBufferC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li>  <span class="hljs-keyword">let</span> properV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferC);</li><li>  properV[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">property</span>: ssap.<span class="hljs-property">Property</span> = {</li><li>    <span class="hljs-attr">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>    <span class="hljs-attr">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000001234'</span>,</li><li>    <span class="hljs-attr">value</span>: arrayBufferC</li><li>  };</li><li>  <span class="hljs-comment">// 连接耗时较长，等待连接完成才能获取服务，实际开发者根据连接速度调整定时器长度</span></li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    client.<span class="hljs-title function_">readProperty</span>(property).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result: ssap.Property</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'readProperty successfully:'</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));</li><li>    });</li><li>  }, <span class="hljs-number">3000</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1998px;">     <h3 id="section12565420144911" device-type="phone,2in1,tv,tablet,wearable">writeProperty<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12565420144911" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>writeProperty(property: Property, writeType: PropertyWriteType): Promise&lt;void&gt;</p>     <p>写入服务端property值。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.16.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.16.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.16.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.16.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>property</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a></p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>服务端属性。</p></td>         </tr>         <tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>writeType</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section1976472485918">PropertyWriteType</a></p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>写类型，支持服务端回复响应和不回复响应两种方式。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.16.8.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.16.8.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，无返回值。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.11.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">connect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connect success'</span>);</li><li>  });</li><li>  <span class="hljs-comment">// 创建property,实际开发时需要通过getServices接口从服务端获取</span></li><li>  <span class="hljs-keyword">let</span> arrayBufferC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li>  <span class="hljs-comment">// 期望写入的property值</span></li><li>  <span class="hljs-keyword">let</span> properV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferC);</li><li>  properV[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">property</span>: ssap.<span class="hljs-property">Property</span> = {</li><li>    <span class="hljs-attr">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>    <span class="hljs-attr">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000001234'</span>,</li><li>    <span class="hljs-attr">value</span>: arrayBufferC</li><li>  };</li><li>  <span class="hljs-comment">// 连接耗时较长，等待连接完成才能获取服务，实际开发者根据连接速度调整定时器长度</span></li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    client.<span class="hljs-title function_">writeProperty</span>(property, ssap.<span class="hljs-property">PropertyWriteType</span>.<span class="hljs-property">WRITE_NO_RESPONSE</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'writeProperty success'</span>);</li><li>    });</li><li>  }, <span class="hljs-number">3000</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1998px;">     <h3 id="section579174605120" device-type="phone,2in1,tv,tablet,wearable">setPropertyNotification<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section579174605120" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setPropertyNotification(property: Property, enable: boolean): Promise&lt;void&gt;</p>     <p>设置Property变化通知。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.17.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.17.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.17.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.17.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>property</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a></p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>服务端属性。</p></td>         </tr>         <tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>enable</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p>boolean</p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>true: 打开通知功能。false: 关闭通知功能。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.17.8.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.17.8.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，无返回值。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.11.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">connect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connect success'</span>);</li><li>  });</li><li>  <span class="hljs-comment">// 创建property,实际开发时需要通过getServices接口从服务端获取</span></li><li>  <span class="hljs-keyword">let</span> arrayBufferC = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li>  <span class="hljs-comment">// 期望写入的property值</span></li><li>  <span class="hljs-keyword">let</span> properV = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBufferC);</li><li>  properV[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">property</span>: ssap.<span class="hljs-property">Property</span> = {</li><li>    <span class="hljs-attr">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>    <span class="hljs-attr">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000001234'</span>,</li><li>    <span class="hljs-attr">value</span>: arrayBufferC</li><li>  };</li><li>  <span class="hljs-comment">// 连接耗时较长，等待连接完成才能获取服务，实际开发者根据连接速度调整定时器长度</span></li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    client.<span class="hljs-title function_">setPropertyNotification</span>(property, <span class="hljs-literal">true</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'setPropertyNotification success'</span>);</li><li>    });</li><li>  }, <span class="hljs-number">3000</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1713px;">     <h3 id="section171901711153612" device-type="phone,2in1,tv,tablet,wearable">requestMtuSize<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section171901711153612" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>requestMtuSize(mtu: number): Promise&lt;void&gt;</p>     <p>发起MTU协商请求。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.18.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.18.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.18.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.18.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>mtu</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p>number</p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>MTU参数，范围22~512字节。默认值为256字节</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.18.8.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.18.8.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，无返回值。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.11.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">connect</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'connect success'</span>);</li><li>  });</li><li>  <span class="hljs-comment">// 连接耗时较长，等待连接完成才能获取服务，实际开发者根据连接速度调整定时器长度</span></li><li>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{</li><li>    client.<span class="hljs-title function_">requestMtuSize</span>(<span class="hljs-number">128</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'requestMtuSize success'</span>);</li><li>    });</li><li>  }, <span class="hljs-number">3000</span>);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section75631811278" device-type="phone,2in1,tv,tablet,wearable">on( 'propertyChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section75631811278" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'propertyChange', callback: Callback&lt;Property&gt;): void</p>    </div>    <p>订阅Property变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"propertyChange"字符串，表示Property变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>表示星闪Property变化事件回调函数的入参。回调函数由用户创建通过该接口注册。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.26.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.26.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onPropertyChange</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.Property</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.Property</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'propertyChange'</span>, onPropertyChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section10677122612813" device-type="phone,2in1,tv,tablet,wearable">off( 'propertyChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section10677122612813" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'propertyChange', callback?: Callback&lt;Property&gt;): void</p>    </div>    <p>取消订阅Property变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"propertyChange"字符串，表示Property变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>否</p></td>         <td class="cellrowborder" width="54.24%">          <p>可选参数，需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.35.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.35.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onPropertyChange</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.Property</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.Property</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">off</span>(<span class="hljs-string">'propertyChange'</span>, onPropertyChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section145567317291" device-type="phone,2in1,tv,tablet,wearable">on( 'connectionStateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section145567317291" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'connectionStateChange', callback: Callback&lt;ConnectionChangeState&gt;): void</p>    </div>    <p>订阅连接状态变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.42.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.42.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.42.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"connectionStateChange"字符串，表示连接状态变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section8290102785216">ConnectionChangeState</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>表示连接状态变化事件回调函数的入参。回调函数由用户创建通过该接口注册。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.44.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.44.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onConnectionStateChange</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connectionStateChange'</span>, onConnectionStateChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section06651028132914" device-type="phone,2in1,tv,tablet,wearable">off( 'connectionStateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section06651028132914" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'connectionStateChange', callback?: Callback&lt;ConnectionChangeState&gt;): void</p>    </div>    <p>取消订阅连接状态变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.51.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"connectionStateChange"字符串，表示连接状态变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section8290102785216">ConnectionChangeState</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>否</p></td>         <td class="cellrowborder" width="54.24%">          <p>可选参数，需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.53.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.53.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onConnectionStateChange</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">off</span>(<span class="hljs-string">'connectionStateChange'</span>, onConnectionStateChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section273974502915" device-type="phone,2in1,tv,tablet,wearable">on( 'mtuChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section273974502915" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'mtuChange', callback: Callback&lt;number&gt;): void</p>    </div>    <p>订阅MTU变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.60.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.60.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.60.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.60.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"mtuChange"字符串，表示MTU变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;number&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>表示MTU变化事件回调函数的入参。回调函数由用户创建通过该接口注册。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.62.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.62.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onMtuChange</span>:<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ data);</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'mtuChange'</span>, onMtuChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section0388134123013" device-type="phone,2in1,tv,tablet,wearable">off( 'mtuChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section0388134123013" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'mtuChange', callback?: Callback&lt;number&gt;): void</p>    </div>    <p>取消订阅MTU变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.69.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.69.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.69.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.69.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"mtuChange"字符串，表示MTU变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;number&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>否</p></td>         <td class="cellrowborder" width="54.24%">          <p>可选参数，需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.71.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.71.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onMtuChange</span>:<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ data);</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">addr</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'00:11:22:33:AA:FF'</span>; <span class="hljs-comment">// 扫描获取到的远端设备地址</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">client</span>: ssap.<span class="hljs-property">Client</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  client = ssap.<span class="hljs-title function_">createClient</span>(addr); <span class="hljs-comment">// 一个应用针对一个远端设备只需要创建一次实例</span></li><li>  client.<span class="hljs-title function_">off</span>(<span class="hljs-string">'mtuChange'</span>, onMtuChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 250px;">     <h2 id="section159881148173016" device-type="phone,2in1,tv,tablet,wearable">Server<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section159881148173016" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>提供和远端设备ssap数据交互操作方法，使用前需要使用createServer方法创建一个Server实例。</p>       <p>一个应用针对一个远端设备只需要创建一次实例。</p>      </div></div></div>    </div>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="tiledSection" style="contain-intrinsic-size: auto 2270px;">     <h3 id="section169891248173012" device-type="phone,2in1,tv,tablet,wearable" class="firsth2">addService<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section169891248173012" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>addService(service: Service): void</p>     <p>服务端添加服务。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.76.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.76.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.76.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.76.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>service</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section1622511479139">Service</a></p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>服务端提供的服务信息，支持添加多个服务，根据不同的UUID区分。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.76.10.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">ssap</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 构造descriptor</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">descriptorsArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">PropertyDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">arrayBuffer</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">descValue</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">Uint8Array</span>(<span class="hljs-variable">arrayBuffer</span>);</li><li><span class="hljs-variable">descValue</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-variable">descValue</span>[<span class="hljs-number">1</span>] = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">descriptor</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">PropertyDescriptor</span> = {</li><li>  <span class="hljs-variable">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>  <span class="hljs-variable">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000001234'</span>,</li><li>  <span class="hljs-variable">value</span>: <span class="hljs-title class_">arrayBuffer</span>,</li><li>  <span class="hljs-variable">descriptorType</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">PropertyDescriptorType</span>.<span class="hljs-title class_">PROPERTY</span>,</li><li>  <span class="hljs-variable">isWriteable</span>: <span class="hljs-keyword">true</span></li><li>};</li><li><span class="hljs-variable">descriptorsArray</span>[<span class="hljs-number">0</span>] = <span class="hljs-variable">descriptor</span>;</li><li><span class="hljs-comment">// 构造properties</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">propertiesArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">Property</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">arrayBufferProperty</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">properValue</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">Uint8Array</span>(<span class="hljs-variable">arrayBufferProperty</span>);</li><li><span class="hljs-variable">properValue</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">property1</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">Property</span> = {</li><li>  <span class="hljs-variable">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>  <span class="hljs-variable">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000001234'</span>,</li><li>  <span class="hljs-variable">value</span>: <span class="hljs-title class_">arrayBufferProperty</span>,</li><li>  <span class="hljs-variable">descriptors</span>:<span class="hljs-title class_">descriptorsArray</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">property2</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">Property</span> = {</li><li>  <span class="hljs-variable">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>  <span class="hljs-variable">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000003421'</span>,</li><li>  <span class="hljs-variable">value</span>: <span class="hljs-title class_">arrayBufferProperty</span>,</li><li>  <span class="hljs-variable">descriptors</span>:<span class="hljs-title class_">descriptorsArray</span>,</li><li>  <span class="hljs-variable">operation</span>:<span class="hljs-number">12</span></li><li>};</li><li><span class="hljs-variable">propertiesArray</span>[<span class="hljs-number">0</span>] = <span class="hljs-variable">property1</span>;</li><li><span class="hljs-variable">propertiesArray</span>[<span class="hljs-number">1</span>] = <span class="hljs-variable">property2</span>;</li><li><span class="hljs-comment">// 构造服务</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">Service</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">Service</span> = {</li><li>  <span class="hljs-variable">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>  <span class="hljs-variable">properties</span>:<span class="hljs-title class_">propertiesArray</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">server</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-variable">server</span> = <span class="hljs-variable">ssap</span>.<span class="hljs-title function_">createServer</span>();</li><li>  <span class="hljs-variable">server</span>.<span class="hljs-title function_">addService</span>(<span class="hljs-variable">Service</span>);</li><li>} <span class="hljs-keyword">catch</span> (<span class="hljs-variable">err</span>) {</li><li>  <span class="hljs-variable">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (<span class="hljs-variable">err</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>).<span class="hljs-variable">code</span> + <span class="hljs-string">', errMessage: '</span> + (<span class="hljs-variable">err</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>).<span class="hljs-variable">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1398px;">     <h3 id="section489411181020" device-type="phone,2in1,tv,tablet,wearable">removeService<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section489411181020" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>removeService(serviceUuid: string): void</p>     <p>服务端删除服务。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.77.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.77.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.77.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.77.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>serviceUuid</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p>string</p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>服务UUID，用户添加服务时的UUID号，例如：37bea880-fc70-11ea-b720-000000004386。UUID格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-faq#section1263634155618" target="_blank">星闪标准服务UUID</a>。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.77.10.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  <span class="hljs-comment">// 服务已通过addService添加，可以通过指定UUID进行删除</span></li><li>  <span class="hljs-keyword">let</span> serviceUuid = <span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>;</li><li>  server.<span class="hljs-title function_">removeService</span>(serviceUuid);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1121px;">     <h3 id="section054019281276" device-type="phone,2in1,tv,tablet,wearable">close<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section054019281276" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>close(): void</p>     <p>关闭服务端。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.78.9.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">close</span>();</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 2190px;">     <h3 id="section19961193482813" device-type="phone,2in1,tv,tablet,wearable">notifyPropertyChanged<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19961193482813" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>notifyPropertyChanged(address: string, property: Property): Promise&lt;void&gt;</p>     <p>通知客户端property值更新。使用Promise异步回调。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.79.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.79.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.79.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.79.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>address</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p>string</p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>客户端设备地址。地址格式参考："11:22:33:AA:BB:FF"。</p></td>         </tr>         <tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>property</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a></p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>发生值变化的Property。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <div class="p">      <strong>返回值：</strong>      <div class="tablenoborder">       <div class="tbBox"><table class="tableClass2_t">                         <tbody><tr class="firstRow">          <th align="left" class="cellrowborder" id="mcps1.3.79.8.2.1.3.1.1" width="28.050000000000004%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.79.8.2.1.3.1.2" width="71.95%">           <p>说明</p></th>         </tr><tr>          <td class="cellrowborder" width="28.050000000000004%">           <p>Promise&lt;void&gt;</p></td>          <td class="cellrowborder" width="71.95%">           <p>Promise对象，无返回值。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.79.11.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.79.11.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">ssap</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 构造descriptor</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">descriptorsArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">PropertyDescriptor</span>&gt; = [];</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">arrayBuffer</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">descValue</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">Uint8Array</span>(<span class="hljs-variable">arrayBuffer</span>);</li><li><span class="hljs-variable">descValue</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li><span class="hljs-variable">descValue</span>[<span class="hljs-number">1</span>] = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">descriptor</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">PropertyDescriptor</span> = {</li><li>  <span class="hljs-variable">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>  <span class="hljs-variable">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000001234'</span>,</li><li>  <span class="hljs-variable">value</span>: <span class="hljs-title class_">arrayBuffer</span>,</li><li>  <span class="hljs-variable">descriptorType</span>:<span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">PropertyDescriptorType</span>.<span class="hljs-title class_">PROPERTY</span>,</li><li>  <span class="hljs-variable">isWriteable</span>:<span class="hljs-keyword">true</span></li><li>};</li><li><span class="hljs-variable">descriptorsArray</span>[<span class="hljs-number">0</span>] = <span class="hljs-variable">descriptor</span>;</li><li><span class="hljs-comment">// 构造properties</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">arrayBufferProperty</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">properValue</span> = <span class="hljs-variable">new</span> <span class="hljs-title function_">Uint8Array</span>(<span class="hljs-variable">arrayBufferProperty</span>);</li><li><span class="hljs-variable">properValue</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">123</span>; <span class="hljs-comment">// 本次更新后的值</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">property</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">Property</span> = {</li><li>  <span class="hljs-variable">serviceUuid</span>:<span class="hljs-string">'37bea880-fc70-11ea-b720-000000004386'</span>,</li><li>  <span class="hljs-variable">propertyUuid</span>: <span class="hljs-string">'37bea880-fc70-11ea-b720-000000001234'</span>,</li><li>  <span class="hljs-variable">value</span>: <span class="hljs-title class_">arrayBufferProperty</span>,</li><li>  <span class="hljs-variable">descriptors</span>:<span class="hljs-title class_">descriptorsArray</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">server</span>: <span class="hljs-title class_">ssap</span>.<span class="hljs-title class_">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-variable">server</span> = <span class="hljs-variable">ssap</span>.<span class="hljs-title function_">createServer</span>();</li><li>  <span class="hljs-comment">// 地址是服务端缓存的已连接的客户端设备</span></li><li>  <span class="hljs-variable">server</span>.<span class="hljs-title function_">notifyPropertyChanged</span>(<span class="hljs-string">'00:11:22:33:AA:FF'</span>, <span class="hljs-variable">property</span>).<span class="hljs-title function_">then</span>(() =&gt; {</li><li>    <span class="hljs-variable">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'notifyPropertyChanged success'</span>);</li><li>  });</li><li>} <span class="hljs-keyword">catch</span> (<span class="hljs-variable">err</span>) {</li><li>  <span class="hljs-variable">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (<span class="hljs-variable">err</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>).<span class="hljs-variable">code</span> + <span class="hljs-string">', errMessage: '</span> + (<span class="hljs-variable">err</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">BusinessError</span>).<span class="hljs-variable">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1590px;">     <h3 id="section299716275465" device-type="phone,2in1,tv,tablet,wearable">sendResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section299716275465" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>sendResponse(response: ServerResponse): void</p>     <p>回复客户端读写请求。</p>     <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="p">      <strong>参数：</strong>      <div class="tablenoborder">       <div class="tbBox"><table>        <thead>         <tr>          <th align="left" class="cellrowborder" id="mcps1.3.80.7.2.1.5.1.1" width="13.320000000000002%">           <p>参数名</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.80.7.2.1.5.1.2" width="25.319999999999997%">           <p>类型</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.80.7.2.1.5.1.3" width="7.12%">           <p>必填</p></th>          <th align="left" class="cellrowborder" id="mcps1.3.80.7.2.1.5.1.4" width="54.24%">           <p>说明</p></th>         </tr>        </thead>                 <tbody><tr>          <td class="cellrowborder" width="13.320000000000002%">           <p>response</p></td>          <td class="cellrowborder" width="25.319999999999997%">           <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section18988175925012">ServerResponse</a></p></td>          <td class="cellrowborder" width="7.12%">           <p>是</p></td>          <td class="cellrowborder" width="54.24%">           <p>回复客户端的响应数据。</p></td>         </tr>               </tbody></table></div>      </div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-error-code">ArkTS API错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.1" style="border: none;" width="49.419999999999995%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.80.10.1.3.1.2" style="border: none;" width="50.580000000000005%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>201</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Permission denied</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>401</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Invalid parameter</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>801</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Capability not supported</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700003</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Nearlink is off</p></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" width="49.419999999999995%">          <p>1009700099</p></td>         <td class="cellrowborder" style="border: none;" width="50.580000000000005%">          <p>Operation failed</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-comment">// 订阅客户端的读写请求，收到请求后通过该接口回复</span></li><li><span class="hljs-keyword">let</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">8</span>);</li><li><span class="hljs-keyword">let</span> descValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrayBuffer);</li><li>descValue[<span class="hljs-number">0</span>] = <span class="hljs-number">11</span>;</li><li>descValue[<span class="hljs-number">1</span>] = <span class="hljs-number">22</span>;</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">resp</span>: ssap.<span class="hljs-property">ServerResponse</span> = {</li><li>  <span class="hljs-attr">address</span>: <span class="hljs-string">'00:11:22:33:AA:FF'</span>, <span class="hljs-comment">// 请求方的客户端地址</span></li><li>  <span class="hljs-attr">requestId</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 请求方传入</span></li><li>  <span class="hljs-attr">value</span>: arrayBuffer <span class="hljs-comment">// 回复的数据</span></li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  <span class="hljs-comment">// 地址是服务端缓存的已连接的客户端设备</span></li><li>  server.<span class="hljs-title function_">sendResponse</span>(resp);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section168082298487" device-type="phone,2in1,tv,tablet,wearable">on('connectionStateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section168082298487" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'connectionStateChange', callback: Callback&lt;ConnectionChangeState&gt;): void</p>    </div>    <p>订阅连接状态变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.86.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.86.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.86.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.86.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"connectionStateChange"字符串，表示连接状态变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section8290102785216">ConnectionChangeState</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>表示连接状态变化事件回调函数的入参。回调函数由用户创建通过该接口注册。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.88.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.88.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onConnectionStateChange</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connectionStateChange'</span>, onConnectionStateChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section08101292483" device-type="phone,2in1,tv,tablet,wearable">off( 'connectionStateChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section08101292483" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'connectionStateChange', callback?: Callback&lt;ConnectionChangeState&gt;): void</p>    </div>    <p>取消订阅连接状态变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.95.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.95.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.95.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.95.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"connectionStateChange"字符串，表示连接状态变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section8290102785216">ConnectionChangeState</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>否</p></td>         <td class="cellrowborder" width="54.24%">          <p>可选参数，需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.97.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.97.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onConnectionStateChange</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.ConnectionChangeState</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">off</span>(<span class="hljs-string">'connectionStateChange'</span>, onConnectionStateChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section16823110115120" device-type="phone,2in1,tv,tablet,wearable">on( 'propertyRead')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16823110115120" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'propertyRead', callback: Callback&lt;PropertyReadRequest&gt;): void</p>    </div>    <p>订阅客户端的读请求事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.104.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.104.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.104.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.104.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"propertyRead"字符串，表示读请求事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section20432111694316">PropertyReadRequest</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>表示读请求事件回调函数的入参。回调函数由用户创建通过该接口注册。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.106.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.106.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onPropertyReadRequest</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyReadRequest</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyReadRequest</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">on</span>(<span class="hljs-string">'propertyRead'</span>, onPropertyReadRequest);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section2092817339911" device-type="phone,2in1,tv,tablet,wearable">off( 'propertyRead')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section2092817339911" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'propertyRead', callback?: Callback&lt;PropertyReadRequest&gt;): void</p>    </div>    <p>取消订阅客户端的读请求事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.113.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.113.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.113.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.113.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"propertyRead"字符串，表示读请求事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section20432111694316">PropertyReadRequest</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>否</p></td>         <td class="cellrowborder" width="54.24%">          <p>可选参数，需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.115.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.115.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onPropertyReadRequest</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyReadRequest</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyReadRequest</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">off</span>(<span class="hljs-string">'propertyRead'</span>, onPropertyReadRequest);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section186201314114" device-type="phone,2in1,tv,tablet,wearable">on( 'propertyWrite')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section186201314114" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'propertyWrite', callback: Callback&lt;PropertyWriteRequest&gt;): void</p>    </div>    <p>订阅客户端的写请求事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.122.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.122.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.122.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.122.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"propertyWrite"字符串，表示写请求事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section383578205013">PropertyWriteRequest</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>表示写请求事件回调函数的入参。回调函数由用户创建通过该接口注册。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.124.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.124.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onPropertyWriteRequest</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyWriteRequest</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyWriteRequest</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">on</span>(<span class="hljs-string">'propertyWrite'</span>, onPropertyWriteRequest);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section10491115119121" device-type="phone,2in1,tv,tablet,wearable">off( 'propertyWrite')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section10491115119121" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'propertyWrite', callback?: Callback&lt;PropertyWriteRequest&gt;): void</p>    </div>    <p>取消订阅客户端的写请求事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.131.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"propertyWrite"字符串，表示写请求事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section383578205013">PropertyWriteRequest</a>&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>否</p></td>         <td class="cellrowborder" width="54.24%">          <p>可选参数，需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.133.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.133.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onPropertyWriteRequest</span>:<span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyWriteRequest</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function">(<span class="hljs-params">data: ssap.PropertyWriteRequest</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">off</span>(<span class="hljs-string">'propertyWrite'</span>, onPropertyWriteRequest);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section18521251131420" device-type="phone,2in1,tv,tablet,wearable">on( 'mtuChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18521251131420" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>on(type: 'mtuChange', callback: Callback&lt;number&gt;): void</p>    </div>    <p>订阅MTU（Maximum Transmission Unit）变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.140.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"mtuChange"字符串，表示MTU变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;number&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>表示MTU变化事件回调函数的入参。回调函数由用户创建通过该接口注册。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.142.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.142.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onMtuChange</span>:<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ data);</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">on</span>(<span class="hljs-string">'mtuChange'</span>, onMtuChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 174px;">     <h3 id="section35412512144" device-type="phone,2in1,tv,tablet,wearable">off( 'mtuChange')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section35412512144" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>off(type: 'mtuChange', callback?: Callback&lt;number&gt;): void</p>    </div>    <p>取消订阅MTU变化事件。</p>    <p><strong>需要权限：</strong>ohos.permission.ACCESS_NEARLINK</p>    <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>    <p><strong>起始版本：</strong>5.0.1(13)</p>    <div class="p">     <strong>参数：</strong>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.149.2.1.5.1.1" width="13.320000000000002%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.149.2.1.5.1.2" width="25.319999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.149.2.1.5.1.3" width="7.12%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.149.2.1.5.1.4" width="54.24%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>type</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="7.12%">          <p>是</p></td>         <td class="cellrowborder" width="54.24%">          <p>固定填写"mtuChange"字符串，表示MTU变化事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.320000000000002%">          <p>callback</p></td>         <td class="cellrowborder" width="25.319999999999997%">          <p>Callback&lt;number&gt;</p></td>         <td class="cellrowborder" width="7.12%">          <p>否</p></td>         <td class="cellrowborder" width="54.24%">          <p>可选参数，需要取消注册的回调函数，需与订阅时传入的回调函数是同一个。若无此参数，则取消注册所有的回调函数。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <p><strong>错误码：</strong></p>    <div class="tablenoborder">     <div class="tbBox"><table class="tableClass2_t">                   <tbody><tr class="firstRow">        <th align="left" class="cellrowborder" id="mcps1.3.151.1.3.1.1" style="border: none;" width="49.419999999999995%">         <p>错误码ID</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.151.1.3.1.2" style="border: none;" width="50.580000000000005%">         <p>错误信息</p></th>       </tr><tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>201</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Permission denied</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>401</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Invalid parameter</p></td>       </tr>       <tr>        <td class="cellrowborder" style="border: none;" width="49.419999999999995%">         <p>801</p></td>        <td class="cellrowborder" style="border: none;" width="50.580000000000005%">         <p>Capability not supported</p></td>       </tr>           </tbody></table></div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-cvu-c106="" class="highlight-div"><div _ngcontent-cvu-c106="" class="highlight-div-header"><div _ngcontent-cvu-c106="" class="highlight-div-header-left"><div _ngcontent-cvu-c106="" class="handle-button expand-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cvu-c106="" class="highlight-div-header-right"><div _ngcontent-cvu-c106="" class="handle-button ai-button"></div><div _ngcontent-cvu-c106="" class="handle-button line-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cvu-c106="" class="handle-button theme-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cvu-c106="" class="handle-button copy-button"><div _ngcontent-cvu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cvu-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { ssap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NearLinkKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">onMtuChange</span>:<span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'data:'</span>+ data);</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">server</span>: ssap.<span class="hljs-property">Server</span>;</li><li><span class="hljs-keyword">try</span> {</li><li>  server = ssap.<span class="hljs-title function_">createServer</span>();</li><li>  server.<span class="hljs-title function_">off</span>(<span class="hljs-string">'mtuChange'</span>, onMtuChange);</li><li>} <span class="hljs-keyword">catch</span> (err) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'errCode: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">code</span> + <span class="hljs-string">', errMessage: '</span> + (err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>).<span class="hljs-property">message</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 474px;">     <h2 id="section1622511479139" device-type="phone,2in1,tv,tablet,wearable">Service<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1622511479139" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示星闪服务。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.153.5.1.6.1.1" width="14.299999999999999%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.153.5.1.6.1.2" width="22.16%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.153.5.1.6.1.3" width="7.5200000000000005%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.153.5.1.6.1.4" width="21.77%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.153.5.1.6.1.5" width="34.25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>serviceUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示服务UUID例如：37bea880-fc70-11ea-b720-000000004386。UUID格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-faq#section1263634155618" target="_blank">星闪标准服务UUID</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>properties</p></td>         <td class="cellrowborder" width="22.16%">          <p>Array&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section9708731141914">Property</a>&gt;</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示服务的Property列表。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 801px;">     <h2 id="section9708731141914" device-type="phone,2in1,tv,tablet,wearable">Property<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section9708731141914" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示服务的Property。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.154.5.1.6.1.1" width="14.299999999999999%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.154.5.1.6.1.2" width="22.16%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.154.5.1.6.1.3" width="7.5200000000000005%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.154.5.1.6.1.4" width="21.77%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.154.5.1.6.1.5" width="34.25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>serviceUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示服务UUID例如：37bea880-fc70-11ea-b720-000000004386。UUID格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-faq#section1263634155618" target="_blank">星闪标准服务UUID</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>propertyUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示Property的UUID，数据格式同serviceUuid。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>value</p></td>         <td class="cellrowborder" width="22.16%">          <p>ArrayBuffer</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示Property的数据值。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>descriptors</p></td>         <td class="cellrowborder" width="22.16%">          <p>Array&lt;<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section8390185620919">PropertyDescriptor</a>&gt;</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>是</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示当前Property的描述符列表。若未配置则默认不携带该字段。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>operation</p></td>         <td class="cellrowborder" width="22.16%">          <p>number</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>是</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示Property支持的操作方式，默认值为0，即不支持操作。如要使属性支持相应的操作，需要对该字段赋值，例如赋值为：READABLE|WRITE_NO_RESPONSE。取值范围[0, 15]，各比特位对应的操作方式详见<a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section1491191314579">Operation</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 681px;">     <h2 id="section8390185620919" device-type="phone,2in1,tv,tablet,wearable">PropertyDescriptor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8390185620919" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示Property的描述符。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.1" width="14.299999999999999%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.2" width="22.16%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.3" width="7.5200000000000005%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.4" width="20.330000000000002%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.155.5.1.6.1.5" width="35.69%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>serviceUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="20.330000000000002%">          <p>否</p></td>         <td class="cellrowborder" width="35.69%">          <p>表示服务UUID，例如：37bea880-fc70-11ea-b720-000000004386。UUID格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-faq#section1263634155618" target="_blank">星闪标准服务UUID</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>propertyUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="20.330000000000002%">          <p>否</p></td>         <td class="cellrowborder" width="35.69%">          <p>表示Property的UUID，数据格式同serviceUuid。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>value</p></td>         <td class="cellrowborder" width="22.16%">          <p>ArrayBuffer</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="20.330000000000002%">          <p>否</p></td>         <td class="cellrowborder" width="35.69%">          <p>表示描述符的数据值。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>descriptorType</p></td>         <td class="cellrowborder" width="22.16%">          <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section757023015351">PropertyDescriptorType</a></p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="20.330000000000002%">          <p>否</p></td>         <td class="cellrowborder" width="35.69%">          <p>表示Property的描述符类型。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>isWriteable</p></td>         <td class="cellrowborder" width="22.16%">          <p>boolean</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="20.330000000000002%">          <p>是</p></td>         <td class="cellrowborder" width="35.69%">          <p>表示描述符是否是可写的。true：可写，false：不可写。默认值为true。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 612px;">     <h2 id="section20432111694316" device-type="phone,2in1,tv,tablet,wearable">PropertyReadRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section20432111694316" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示客户端的Property读请求参数。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.156.5.1.6.1.1" width="14.299999999999999%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.156.5.1.6.1.2" width="22.16%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.156.5.1.6.1.3" width="7.5200000000000005%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.156.5.1.6.1.4" width="21.77%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.156.5.1.6.1.5" width="34.25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>address</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示客户端设备地址。地址格式参考："11:22:33:AA:BB:FF"。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>serviceUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示服务UUID，例如：37bea880-fc70-11ea-b720-000000004386。UUID格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-faq#section1263634155618" target="_blank">星闪标准服务UUID</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>propertyUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示Property的UUID，数据格式同serviceUuid。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>requestId</p></td>         <td class="cellrowborder" width="22.16%">          <p>number</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示请求ID。取值范围[0, 65535]。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 726px;">     <h2 id="section383578205013" device-type="phone,2in1,tv,tablet,wearable">PropertyWriteRequest<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section383578205013" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示客户端的Property写请求参数。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.157.5.1.6.1.1" width="14.299999999999999%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.157.5.1.6.1.2" width="22.16%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.157.5.1.6.1.3" width="7.5200000000000005%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.157.5.1.6.1.4" width="16.76%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.157.5.1.6.1.5" width="39.26%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>address</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="16.76%">          <p>否</p></td>         <td class="cellrowborder" width="39.26%">          <p>表示客户端设备地址。地址格式参考："11:22:33:AA:BB:FF"。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>serviceUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="16.76%">          <p>否</p></td>         <td class="cellrowborder" width="39.26%">          <p>表示服务UUID，例如：37bea880-fc70-11ea-b720-000000004386。UUID格式参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/nearlink-faq#section1263634155618" target="_blank">星闪标准服务UUID</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>propertyUuid</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="16.76%">          <p>否</p></td>         <td class="cellrowborder" width="39.26%">          <p>表示Property的UUID，数据格式同serviceUuid。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>value</p></td>         <td class="cellrowborder" width="22.16%">          <p>ArrayBuffer</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="16.76%">          <p>否</p></td>         <td class="cellrowborder" width="39.26%">          <p>表示客户端写入的值。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>requestId</p></td>         <td class="cellrowborder" width="22.16%">          <p>number</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="16.76%">          <p>否</p></td>         <td class="cellrowborder" width="39.26%">          <p>表示客户端的写请求ID，服务端回复响应时需携带该ID。取值范围[0, 65535]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>writeType</p></td>         <td class="cellrowborder" width="22.16%">          <p><a href="/consumer/cn/doc/harmonyos-references/nearlink-ssap#section1976472485918">PropertyWriteType</a></p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="16.76%">          <p>否</p></td>         <td class="cellrowborder" width="39.26%">          <p>表示客户端写Property类型。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 495px;">     <h2 id="section18988175925012" device-type="phone,2in1,tv,tablet,wearable">ServerResponse<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18988175925012" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示回复客户端请求的响应。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.158.5.1.6.1.1" width="14.299999999999999%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.158.5.1.6.1.2" width="22.16%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.158.5.1.6.1.3" width="7.5200000000000005%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.158.5.1.6.1.4" width="21.77%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.158.5.1.6.1.5" width="34.25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>address</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示客户端设备地址。地址格式参考："11:22:33:AA:BB:FF"。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>requestId</p></td>         <td class="cellrowborder" width="22.16%">          <p>number</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示请求ID。取值范围[0, 65535]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>value</p></td>         <td class="cellrowborder" width="22.16%">          <p>ArrayBuffer</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示回复的数据值。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 450px;">     <h2 id="section8290102785216" device-type="phone,2in1,tv,tablet,wearable">ConnectionChangeState<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8290102785216" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示连接状态上报参数。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.159.5.1.6.1.1" width="14.299999999999999%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.159.5.1.6.1.2" width="22.16%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.159.5.1.6.1.3" width="7.5200000000000005%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.159.5.1.6.1.4" width="21.77%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.159.5.1.6.1.5" width="34.25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>address</p></td>         <td class="cellrowborder" width="22.16%">          <p>string</p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示远端设备地址。地址格式参考："11:22:33:AA:BB:FF"。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="14.299999999999999%">          <p>state</p></td>         <td class="cellrowborder" width="22.16%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/nearlink-constant#section14942121015417">ConnectionState</a></p></td>         <td class="cellrowborder" width="7.5200000000000005%">          <p>否</p></td>         <td class="cellrowborder" width="21.77%">          <p>否</p></td>         <td class="cellrowborder" width="34.25%">          <p>表示和远端设备的连接状态。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 609px;">     <h2 id="section757023015351" device-type="phone,2in1,tv,tablet,wearable">PropertyDescriptorType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section757023015351" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示Property的描述符类型，为枚举值。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.160.5.1.4.1.1" width="21.912191219121908%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.160.5.1.4.1.2" width="16.31163116311631%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.160.5.1.4.1.3" width="61.776177617761775%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>PROPERTY</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>1</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示Property。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>CLIENT_PROPERTY_CONFIG</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>2</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示客户端Property配置。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>SERVER_PROPERTY_CONFIG</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>3</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示服务端Property配置。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>PROPERTY_FORMAT</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>4</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示Property格式。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>TYPE_VENDOR</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>255</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示厂商自定义字段。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 540px;">     <h2 id="section1491191314579" device-type="phone,2in1,tv,tablet,wearable">Operation<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1491191314579" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示Property支持的操作类型，为枚举值。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.4.1.1" width="21.912191219121908%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.4.1.2" width="16.31163116311631%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.161.5.1.4.1.3" width="61.776177617761775%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>READABLE</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>0x01</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示可读。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>WRITE_NO_RESPONSE</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>0x02</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示支持无响应的写请求。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>WRITE_WITH_RESPONSE</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>0x04</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示支持有响应的写请求。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>NOTIFY</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>0x08</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示支持通知。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 426px;">     <h2 id="section1976472485918" device-type="phone,2in1,tv,tablet,wearable">PropertyWriteType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1976472485918" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示Property支持的写类型，为枚举值。</p>     <p><strong>系统能力：</strong>SystemCapability.Communication.NearLink.Core</p>     <p><strong>起始版本：</strong>5.0.1(13)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.162.5.1.4.1.1" width="21.912191219121908%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.162.5.1.4.1.2" width="16.31163116311631%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.162.5.1.4.1.3" width="61.776177617761775%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>WRITE</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>1</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示写请求并等待服务端响应回复。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.912191219121908%">          <p>WRITE_NO_RESPONSE</p></td>         <td class="cellrowborder" width="16.31163116311631%">          <p>2</p></td>         <td class="cellrowborder" width="61.776177617761775%">          <p>表示写请求，无需服务端响应回复。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>