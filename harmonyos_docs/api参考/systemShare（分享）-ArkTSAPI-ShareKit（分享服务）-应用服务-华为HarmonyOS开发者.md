<h1 _ngcontent-ebf-c119="" class="doc-title ng-star-inserted" title="systemShare（分享）"> systemShare（分享） </h1>

<div _ngcontent-ebf-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>本模块提供分享数据创建及分享面板拉起的功能，提供多种系统标准分享服务，例如分享数据给其他应用、复制、打印等。</p>    <ul>     <li>分享接入应用需要配置、呈现和关闭分享面板。</li>     <li>分享面板的配置包括数据对象、呈现视图的方式、预览模式等。</li>    </ul>    <p><strong>模型约束：</strong>此模块的接口仅可在Stage模型下使用。</p>    <p><strong>起始版本：</strong>4.1.0(11)</p>    <div class="tiledSection">     <h2 id="section164051883419" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section164051883419" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section20696483813" device-type="phone,2in1,tablet,tv">SharedRecord<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section20696483813" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>用于构造一条分享数据记录。包含数据类型、数据内容及描述等信息。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.6.1.1" width="23.119999999999997%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.6.1.2" width="23.119999999999997%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.6.1.3" width="12.02%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.6.1.4" width="11.26%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.6.1.6.1.5" width="30.48%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>utd</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>否</p></td>         <td class="cellrowborder" width="30.48%">          <p>统一数据类型，参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor" target="_blank">@ohos.data.uniformTypeDescriptor (标准化数据定义与描述)</a></p>          <p>建议开发者传入精准的数据类型，有助于匹配到精确的目标应用，参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/share-access-precautions" target="_blank">Share Kit体验规范</a></p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>title</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>如果是文本、链接等内容，建议填入title标识其标题。缺省时，若分享内容为文本类型，则文本内容作为title字段；若分享内容为文件类型，则文件名作为title字段。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>label</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>标识当前数据记录类型的标签，在单选模式时生效。缺省为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-data-uniformtypedescriptor#uniformdatatype" target="_blank">UniformDataType</a>类型相应的标签。具体如下：HYPERLINK显示为链接；HTML显示为网页；TEXT显示为文本；VIDEO显示为视频；AUDIO显示为音乐；IMAGE显示为图片；FILE显示为文件；</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>description</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>数据记录的描述。缺省为空字符串。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>thumbnail</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>Uint8Array</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>数据记录缩略图。缺省时使用与分享内容类型匹配的图标作为缩略图。</p>          <p>建议开发者传入符合数据记录的缩略图，如无，可传入应用图标。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>限制图片大小：32KB以下。过大的图片可能导致want数据超限无法拉起分享，可使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-image-imagepacker#packtodata13" target="_blank">ImagePacker.packToData</a>压缩图片质量。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>thumbnailUri</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>数据记录缩略图的uri。缺省时使用与分享内容类型匹配的图标作为缩略图。支持的uri类型：</p>          <ul>           <li>应用文件uri，参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/share-app-file" target="_blank">应用文件分享</a></li>           <li>用户文件uri，参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro" target="_blank">用户文件uri介绍</a></li>          </ul>          <p><strong>起始版本</strong>：5.0.0(12)。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>与thumbnail字段同时存在时，优先使用thumbnail字段。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>uri</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>数据记录的uri。支持的uri类型：</p>          <ul>           <li>应用文件uri，参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/share-app-file" target="_blank">应用文件分享</a></li>           <li>用户文件uri，参见：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/user-file-uri-intro" target="_blank">用户文件uri介绍</a></li>          </ul>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>沙箱路径可通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-file-fileuri#fileurigeturifrompath" target="_blank">fileUri.getUriFromPath</a>方法获取文件URI。</p>            <p>content和uri二者至少有一个不为空。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>content</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>string</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>数据记录内容。链接（包含App Linking）、文本类型的内容通过该字段传递。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>content和uri二者至少有一个不为空。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>extraData</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>Record&lt;string, string | number | boolean | Array&lt;string | number | boolean&gt;&gt;</p></td>         <td class="cellrowborder" width="12.02%">          <p>否</p></td>         <td class="cellrowborder" width="11.26%">          <p>是</p></td>         <td class="cellrowborder" width="30.48%">          <p>扩展数据，用于向目标应用/设备分享自定义的扩展内容。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section107934816010" device-type="phone,2in1,tablet,tv">ShareControllerOptions<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section107934816010" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>分享控制器配置项。用于配置分享预览模式，选择模式等，决定了分享面板的显示样式。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>需要权限：</strong>如需使用appLaunchTrustInfo字段时，需申请权限ohos.permission.SET_SYSTEMSHARE_APPLAUNCHTRUSTLIST，权限申请方式请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions-in-acl" target="_blank">申请使用受限权限</a>。</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.1" width="23.119999999999997%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.2" width="22.3%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.3" width="12.17%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.4" width="12.959999999999999%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.6.1.5" width="29.45%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>anchor</p></td>         <td class="cellrowborder" width="22.3%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section19505934714">ShareControllerAnchor</a> | string</p></td>         <td class="cellrowborder" width="12.17%">          <p>否</p></td>         <td class="cellrowborder" width="12.959999999999999%">          <p>是</p></td>         <td class="cellrowborder" width="29.45%">          <p>类型为string时，表示分享面板关联的控件ID（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-common-attributes#常规属性" target="_blank">ArkUI组件常规属性的id值</a>）。</p>          <p>类型为ShareControllerAnchor时，表示锚点位置。</p>          <p>不传此参数时，面板会显示在默认位置(居中)。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>previewMode</p></td>         <td class="cellrowborder" width="22.3%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section71597311103">SharePreviewMode</a></p></td>         <td class="cellrowborder" width="12.17%">          <p>否</p></td>         <td class="cellrowborder" width="12.959999999999999%">          <p>是</p></td>         <td class="cellrowborder" width="29.45%">          <p>预览的模式，缺省为卡片模式。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>selectionMode</p></td>         <td class="cellrowborder" width="22.3%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section188631791714">SelectionMode</a></p></td>         <td class="cellrowborder" width="12.17%">          <p>否</p></td>         <td class="cellrowborder" width="12.959999999999999%">          <p>是</p></td>         <td class="cellrowborder" width="29.45%">          <p>选择的模式，缺省为单选模式。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>excludedAbilities</p></td>         <td class="cellrowborder" width="22.3%">          <p>Array&lt;<a href="/consumer/cn/doc/harmonyos-references/share-system-share#section205631342153016">ShareAbilityType</a>&gt;</p></td>         <td class="cellrowborder" width="12.17%">          <p>否</p></td>         <td class="cellrowborder" width="12.959999999999999%">          <p>是</p></td>         <td class="cellrowborder" width="29.45%">          <p>操作区不需要显示的能力列表。</p>          <p><strong>起始版本</strong>：5.0.0(12)。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>appLaunchTrustInfo</p></td>         <td class="cellrowborder" width="22.3%">          <p>Array&lt;string&gt;</p></td>         <td class="cellrowborder" width="12.17%">          <p>否</p></td>         <td class="cellrowborder" width="12.959999999999999%">          <p>是</p></td>         <td class="cellrowborder" width="29.45%">          <p>通过配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-bundleinfo#signatureinfo" target="_blank">应用唯一标识符</a>（appIdentifier字段）列表，指定可分享的目标应用名单。仅取前50个配置项，超出部分不生效。</p>          <p><strong>起</strong><strong>始版本</strong>：6.0.1(21)。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section19505934714" device-type="phone,2in1,tablet,tv">ShareControllerAnchor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19505934714" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>分享悬浮窗视图依附锚点，分享面板会根据屏幕大小选择是否在指定的位置显示悬浮窗。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>设备屏幕宽度较小时，不会以悬浮形态展示，而是以模态形式/弹窗形式显示。</p>      </div></div></div>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.1" width="23.119999999999997%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.2" width="16.03%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.3" width="13.98%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.4" width="13.530000000000001%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.6.1.5" width="33.339999999999996%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>windowOffset</p></td>         <td class="cellrowborder" width="16.03%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section747515217482">Offset</a></p></td>         <td class="cellrowborder" width="13.98%">          <p>否</p></td>         <td class="cellrowborder" width="13.530000000000001%">          <p>否</p></td>         <td class="cellrowborder" width="33.339999999999996%">          <p>相对锚点的窗体偏移值。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="23.119999999999997%">          <p>size</p></td>         <td class="cellrowborder" width="16.03%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section16811150124912">Size</a></p></td>         <td class="cellrowborder" width="13.98%">          <p>否</p></td>         <td class="cellrowborder" width="13.530000000000001%">          <p>是</p></td>         <td class="cellrowborder" width="33.339999999999996%">          <p>锚点矩形的尺寸，缺省时，锚点是一个点，即宽高都为0。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section747515217482" device-type="phone,2in1,tablet,tv">Offset<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section747515217482" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>可以设置的相对锚点的窗口偏移值。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.1" width="21.529999999999998%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.2" width="17.68%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.3" width="15.8%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.4" width="21.87%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.6.1.5" width="23.119999999999997%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.529999999999998%">          <p>x</p></td>         <td class="cellrowborder" width="17.68%">          <p>number</p></td>         <td class="cellrowborder" width="15.8%">          <p>否</p></td>         <td class="cellrowborder" width="21.87%">          <p>否</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>x点的坐标。单位：像素。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.529999999999998%">          <p>y</p></td>         <td class="cellrowborder" width="17.68%">          <p>number</p></td>         <td class="cellrowborder" width="15.8%">          <p>否</p></td>         <td class="cellrowborder" width="21.87%">          <p>否</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>y点的坐标。单位：像素。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section16811150124912" device-type="phone,2in1,tablet,tv">Size<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16811150124912" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>锚点矩形的尺寸，缺省时，锚点是一个点，即宽高都为0。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.6.1.1" width="21.52%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.6.1.2" width="17.76%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.6.1.3" width="15.840000000000002%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.6.1.4" width="21.759999999999998%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.6.1.5" width="23.119999999999997%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.52%">          <p>width</p></td>         <td class="cellrowborder" width="17.76%">          <p>number</p></td>         <td class="cellrowborder" width="15.840000000000002%">          <p>否</p></td>         <td class="cellrowborder" width="21.759999999999998%">          <p>否</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>组件宽度，单位：像素。负数按0处理。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.52%">          <p>height</p></td>         <td class="cellrowborder" width="17.76%">          <p>number</p></td>         <td class="cellrowborder" width="15.840000000000002%">          <p>否</p></td>         <td class="cellrowborder" width="21.759999999999998%">          <p>否</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>组件高度，单位：像素。负数按0处理。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section17135118312" device-type="phone,2in1,tablet,tv">ShareOperationResult<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17135118312" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>shareCompleted事件的返回值，用于获知用户分享渠道信息。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.6.1.1" width="21.52%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.6.1.2" width="17.76%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.6.1.3" width="15.840000000000002%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.6.1.4" width="21.759999999999998%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.6.1.6.1.5" width="23.119999999999997%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.52%">          <p>targetAbilityInfo</p></td>         <td class="cellrowborder" width="17.76%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section8809223154210">ShareAbilityInfo</a></p></td>         <td class="cellrowborder" width="15.840000000000002%">          <p>是</p></td>         <td class="cellrowborder" width="21.759999999999998%">          <p>否</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>用户分享渠道的信息。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section8809223154210" device-type="phone,2in1,tablet,tv">ShareAbilityInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section8809223154210" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>用户分享渠道的信息。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.6.1.1" width="21.52%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.6.1.2" width="17.76%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.6.1.3" width="15.840000000000002%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.6.1.4" width="21.759999999999998%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.6.1.5" width="23.119999999999997%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.52%">          <p>name</p></td>         <td class="cellrowborder" width="17.76%">          <p>string</p></td>         <td class="cellrowborder" width="15.840000000000002%">          <p>否</p></td>         <td class="cellrowborder" width="21.759999999999998%">          <p>否</p></td>         <td class="cellrowborder" width="23.119999999999997%">          <p>分享渠道的名称。</p>          <ul>           <li>系统操作有固定名称。请参见：<a href="/consumer/cn/doc/harmonyos-references/share-system-share#section16531512163920">ShareAbilityName</a>。</li>           <li>非系统操作采用'[bundleName]#[moduleName]#[abilityName]'格式拼接。</li>          </ul></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section102532316184" device-type="phone,2in1,tablet,tv">ContactInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section102532316184" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>意图框架推荐联系人的信息。当分享到推荐联系人时，携带此参数用于区分。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.6.1.1" width="21.152115211521153%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.6.1.2" width="18.201820182018203%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.6.1.3" width="15.761576157615762%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.6.1.4" width="21.512151215121513%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.6.1.6.1.5" width="23.37233723372337%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="21.152115211521153%">          <p>contactType</p></td>         <td class="cellrowborder" width="18.201820182018203%">          <p>string</p></td>         <td class="cellrowborder" width="15.761576157615762%">          <p>否</p></td>         <td class="cellrowborder" width="21.512151215121513%">          <p>否</p></td>         <td class="cellrowborder" width="23.37233723372337%">          <p>联系人类型：取值来源应用向意图捐赠数据中的entityName字段，例如"Contact"、"ChatGroup"。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="21.152115211521153%">          <p>contactId</p></td>         <td class="cellrowborder" width="18.201820182018203%">          <p>string</p></td>         <td class="cellrowborder" width="15.761576157615762%">          <p>否</p></td>         <td class="cellrowborder" width="21.512151215121513%">          <p>否</p></td>         <td class="cellrowborder" width="23.37233723372337%">          <p>联系人ID：取值来源应用向意图捐赠数据中的entityId字段。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section71597311103" device-type="phone,2in1,tablet,tv">SharePreviewMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section71597311103" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>分享预览模式。图片、视频等格式推荐使用详细预览图模式。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.4.1.1" width="33.33333333333333%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.4.1.2" width="33.33333333333333%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.4.1.3" width="33.33333333333333%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>DEFAULT</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>0</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>默认模式（缩略图卡片）。推荐文本、链接等数据使用此模式。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>DETAIL</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>1</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>详细预览图模式。推荐图片、视频等数据使用此模式。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section188631791714" device-type="phone,2in1,tablet,tv">SelectionMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section188631791714" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>分享面板选择模式。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.4.1.1" width="33.33333333333333%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.4.1.2" width="33.33333333333333%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.15.6.1.4.1.3" width="33.33333333333333%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>SINGLE</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>0</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>单选模式，当传入多条分享数据记录（SharedRecord）时，需要用户多选一进行分享。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>BATCH</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>1</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>批量模式，分享全部数据记录。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section205631342153016" device-type="phone,2in1,tablet,tv">ShareAbilityType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section205631342153016" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>系统能力类型定义。用于排除操作区的系统能力。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.4.1.1" width="33.33333333333333%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.4.1.2" width="33.33333333333333%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.6.1.4.1.3" width="33.33333333333333%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>COPY_TO_PASTEBOARD</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>0</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>复制</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>SAVE_TO_MEDIA_ASSET</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>1</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>保存至图库</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>SAVE_AS_FILE</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>2</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>另存为</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>PRINT</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>3</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>打印</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>SAVE_TO_SUPERHUB</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>4</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>添加至中转站</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section1711118591913" device-type="phone,2in1,tablet,tv">ShareAbilityResultCode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1711118591913" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>从UIExtensionAbility返回的Code值。可控制分享面板的行为。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.4.1.1" width="33.33333333333333%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.4.1.2" width="33.33333333333333%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.17.6.1.4.1.3" width="33.33333333333333%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>ERROR</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>-1</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>发生错误。如果同时传递message参数，将弹出toast提示。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>BACK</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>0</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>用户点击返回按钮。返回分享面板。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">          <p>CLOSE</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>1</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>用户点击关闭按钮。关闭分享面板。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section16531512163920" device-type="phone,2in1,tablet,tv">ShareAbilityName<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16531512163920" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>系统操作的名称，用于返回分享结果数据。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.4.1.1" width="33.31333133313331%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.4.1.2" width="33.35333533353336%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.4.1.3" width="33.33333333333333%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>COPY_TO_PASTEBOARD</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_CopyToPasteboard</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>复制</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>SAVE_TO_MEDIA_ASSET</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_SaveToMediaAsset</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>保存至图库</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>SAVE_AS_FILE</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_SaveAsFile</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>另存为</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>PRINT</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_Print</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>打印</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>SAVE_TO_SUPERHUB</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_Superhub</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>添加至中转站</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>COLLECTION</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_Collection</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>小艺知识空间</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>HARMONYSHARE</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_HarmonyShare</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>华为分享</p></td>        </tr>        <tr>         <td class="cellrowborder" width="33.31333133313331%">          <p>ENCRYPT</p></td>         <td class="cellrowborder" width="33.35333533353336%">          <p>SystemShare_Encrypt</p></td>         <td class="cellrowborder" width="33.33333333333333%">          <p>加密分享</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section816451553012" device-type="phone,2in1,tablet,tv">SharedData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section816451553012" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>表示分享数据对象，提供封装一组数据记录的方法。</p>     <p>一个分享数据对象至少存在一条记录，开发者需要在SharedData实例化过程中，通过构造器第一个参数传入；当分享数据包含多条数据记录时，则需要使用addRecord(record: SharedRecord)方法追加记录。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>数据记录当前最大可支持500条，且需同时满足数据总大小不超过IPC传输上限200KB。</p>      </div></div></div>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>    </div>    <div class="tiledSection">     <h3 id="section12493192913448" device-type="phone,2in1,tablet,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12493192913448" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(record: SharedRecord)</p>     <p>用于构造分享数据对象。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>record</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section20696483813">SharedRecord</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>分享数据记录对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.20.11.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>; </li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section11132201919101" device-type="phone,2in1,tablet,tv">addRecord<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section11132201919101" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>addRecord(record: SharedRecord): void</p>     <p>在当前分享数据中添加一条分享数据记录。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>record</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section20696483813">SharedRecord</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>要添加到分享数据对象中的数据记录，该记录为SharedRecord对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code">分享服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.21.11.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code#section16205152494111">1003700001</a></p></td>         <td class="cellrowborder" width="50%">          <p>The number of records exceeds the maximum.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>; </li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li><li>
</li><li>data.<span class="hljs-title function_">addRecord</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PNG</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://.../test.png'</span></li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section14943101911111" device-type="phone,2in1,tablet,tv">getRecords<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section14943101911111" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getRecords(): Array&lt;SharedRecord&gt;</p>     <p>获取当前分享数据中的所有数据记录。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.22.8.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Array&lt;<a href="/consumer/cn/doc/harmonyos-references/share-system-share#section20696483813">SharedRecord</a>&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>当前分享数据对象内所包含的记录。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>; </li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">records</span>: systemShare.<span class="hljs-property">SharedRecord</span>[] = data.<span class="hljs-title function_">getRecords</span>();</li><li>records.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">record: systemShare.SharedRecord</span>) =&gt;</span> {</li><li>  <span class="hljs-comment">// To do things.</span></li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section147001858124512" device-type="phone,2in1,tablet,tv">ShareController<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section147001858124512" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>分享面板在不同设备下有不同的展示形式，根据屏幕规格&amp;参数为应用提供不同的预览形式以及分享方式。</p>     <ul>      <li>例如手机设备中，分享以模态显示；横屏/折叠屏展开状态时，分享面板以对话框形式显示；</li>      <li>而2in1设备及tablet，需要传入锚点信息并且以悬浮窗（Popup）形式显示。</li>     </ul>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>    </div>    <div class="tiledSection">     <h3 id="section1834181561418" device-type="phone,2in1,tablet,tv" class="firsth2">constructor<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1834181561418" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>constructor(data: SharedData)</p>     <p>用于创建分享面板的控制器。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>data</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section816451553012">SharedData</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>分享数据。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.24.11.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: systemShare.<span class="hljs-property">ShareController</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">ShareController</span>(data);</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section3392161117158" device-type="phone,2in1,tablet,tv">show<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section3392161117158" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>show(context: common.UIAbilityContext, options: ShareControllerOptions): Promise&lt;void&gt;</p>     <p>显示分享面板，使用Promise异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>context</p></td>         <td class="cellrowborder" width="25%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-uiabilitycontext" target="_blank">common.UIAbilityContext</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>拉起分享面板的上下文对象。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">          <p>options</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section107934816010">ShareControllerOptions</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>分享控制器配置项。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Promise&lt;void&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>Promise对象。无返回结果的Promise对象。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code">分享服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code#section1559215645516">1003702001</a></p></td>         <td class="cellrowborder" width="50%">          <p>Record types are not support.(The batch and multiple selection modes support { @link UDMF.File } type records only.)</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code#section1761113519576">1003702002</a></p></td>         <td class="cellrowborder" width="50%">          <p>IPC data is oversized.</p></td>        </tr>             </tbody></table></div>     </div>     <div class="p">      <strong>示例：</strong>      <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">ShareUtdText</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">share</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// 构造ShareData，需配置一条有效数据信息</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">shareData</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>      <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">TEXT</span>,</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">'这是一段文本内容'</span></li><li>    });</li><li>    <span class="hljs-comment">// 进行分享面板显示</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: systemShare.<span class="hljs-property">ShareController</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">ShareController</span>(shareData);</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> = uiContext.<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;</li><li>    controller.<span class="hljs-title function_">show</span>(context, {</li><li>      <span class="hljs-attr">selectionMode</span>: systemShare.<span class="hljs-property">SelectionMode</span>.<span class="hljs-property">SINGLE</span>,</li><li>      <span class="hljs-attr">previewMode</span>: systemShare.<span class="hljs-property">SharePreviewMode</span>.<span class="hljs-property">DETAIL</span>,</li><li>    }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ShareController show success.'</span>);</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ShareController show error. code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section107214125161" device-type="phone,2in1,tablet,tv">on('dismiss')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section107214125161" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(event: 'dismiss', callback: () =&gt; void): void</p>     <p>注册分享面板关闭事件监听。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.26.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>event</p></td>         <td class="cellrowborder" width="25%">          <p>string</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>事件回调类型，支持的事件为'dismiss'，当分享面板关闭时，触发该事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">          <p>callback</p></td>         <td class="cellrowborder" width="25%">          <p>() =&gt; void</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>事件回调。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.26.11.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li><li>data.<span class="hljs-title function_">addRecord</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PNG</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://.../test.png'</span></li><li>});</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: systemShare.<span class="hljs-property">ShareController</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">ShareController</span>(data);</li><li>controller.<span class="hljs-title function_">on</span>(<span class="hljs-string">'dismiss'</span>, <span class="hljs-function">() =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Share panel closed'</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section774510361177" device-type="phone,2in1,tablet,tv">off('dismiss')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section774510361177" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(event: 'dismiss', callback: () =&gt; void): void</p>     <p>取消分享面板关闭事件监听。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>event</p></td>         <td class="cellrowborder" width="25%">          <p>string</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>事件回调类型，支持的事件为'dismiss'，取消触发该事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">          <p>callback</p></td>         <td class="cellrowborder" width="25%">          <p>() =&gt; void</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>回调函数。传入on中的callback取消对应的监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li><li>data.<span class="hljs-title function_">addRecord</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PNG</span>,</li><li>  <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://.../test.png'</span></li><li>});</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: systemShare.<span class="hljs-property">ShareController</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">ShareController</span>(data);</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Share panel closed'</span>);</li><li>};</li><li>controller.<span class="hljs-title function_">on</span>(<span class="hljs-string">'dismiss'</span>, callback);</li><li>controller.<span class="hljs-title function_">off</span>(<span class="hljs-string">'dismiss'</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section238319917154" device-type="phone,2in1,tablet,tv">on('shareCompleted')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section238319917154" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'shareCompleted', callback: Callback&lt;ShareOperationResult&gt;): void</p>     <p>注册用户完成分享事件监听。返回用户分享渠道，可用于数据统计等。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>设备行为差异：</strong>该接口在TV中无效果，在其他设备类型中可正常调用。</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.28.9.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>type</p></td>         <td class="cellrowborder" width="25%">          <p>string</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>事件回调类型，支持的事件为'shareCompleted'，当用户完成分享时，触发该事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">          <p>callback</p></td>         <td class="cellrowborder" width="25%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/share-system-share#section17135118312">ShareOperationResult</a>&gt;</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>事件回调。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.12.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.28.12.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: systemShare.<span class="hljs-property">ShareController</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">ShareController</span>(data);</li><li>controller.<span class="hljs-title function_">on</span>(<span class="hljs-string">'shareCompleted'</span>, <span class="hljs-function">(<span class="hljs-params">result: systemShare.ShareOperationResult</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'shareCompleted name:'</span>, result.<span class="hljs-property">targetAbilityInfo</span>.<span class="hljs-property">name</span>);</li><li>});</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section1961017386282" device-type="phone,2in1,tablet,tv">off('shareCompleted')<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1961017386282" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'shareCompleted', callback?: Callback&lt;ShareOperationResult&gt;): void</p>     <p>取消用户完成分享事件监听。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>设备行为差异：</strong>该接口在TV中无效果，在其他设备类型中可正常调用。</p>     <p><strong>起始版本：</strong>5.1.0(18)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>type</p></td>         <td class="cellrowborder" width="25%">          <p>string</p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>事件回调类型，支持的事件为'shareCompleted'，取消触发该事件。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">          <p>callback</p></td>         <td class="cellrowborder" width="25%">          <p>Callback&lt;<a href="/consumer/cn/doc/harmonyos-references/share-system-share#section17135118312">ShareOperationResult</a>&gt;</p></td>         <td class="cellrowborder" width="25%">          <p>否</p></td>         <td class="cellrowborder" width="25%">          <p>回调函数。可以指定传入on中的callback取消对应的监听，也可以不指定callback清空所有监听。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.12.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.29.12.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>  <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>  <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>});</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">controller</span>: systemShare.<span class="hljs-property">ShareController</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">ShareController</span>(data);</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params">result: systemShare.ShareOperationResult</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'shareCompleted name:'</span>, result.<span class="hljs-property">targetAbilityInfo</span>.<span class="hljs-property">name</span>);</li><li>};</li><li>controller.<span class="hljs-title function_">on</span>(<span class="hljs-string">'shareCompleted'</span>, callback);</li><li>controller.<span class="hljs-title function_">off</span>(<span class="hljs-string">'shareCompleted'</span>, callback);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section661613319216" device-type="phone,2in1,tablet,tv">getSharedData<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section661613319216" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getSharedData(want: Want): Promise&lt;SharedData&gt;</p>     <p>通过目标应用获取的want信息，从中解析出分享数据，使用Promise异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>want</p></td>         <td class="cellrowborder" width="25%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-ability-want" target="_blank">Want</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>目标应用获取的want信息。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.30.10.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/share-system-share#section816451553012">SharedData</a>&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>Promise对象，返回分享数据。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code">分享服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.13.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.30.13.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code#section13612105175717">1003703001</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parse data failed.</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="p">     <strong>示例：</strong>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">ShareExtensionAbility</span>, <span class="hljs-title class_">UIExtensionContentSession</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestShareAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ShareExtensionAbility</span> {</li><li>  <span class="hljs-title function_">onSessionCreate</span>(<span class="hljs-params">want: Want, session: UIExtensionContentSession</span>) {</li><li>    systemShare.<span class="hljs-title function_">getSharedData</span>(want)</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data: systemShare.SharedData</span>) =&gt;</span> {</li><li>        data.<span class="hljs-title function_">getRecords</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">record: systemShare.SharedRecord</span>) =&gt;</span> {        </li><li>          <span class="hljs-comment">// 处理分享数据</span></li><li>        });</li><li>        session.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>);</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getSharedData. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>        session.<span class="hljs-title function_">terminateSelf</span>();</li><li>      });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section19799132782117" device-type="phone,2in1,tablet,tv">getContactInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section19799132782117" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getContactInfo(want: Want): Promise&lt;ContactInfo&gt;</p>     <p>通过目标应用获取的want信息，从中解析联系人信息，使用Promise异步回调。</p>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>4.1.0(11)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.32.8.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>want</p></td>         <td class="cellrowborder" width="25%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-ability-want" target="_blank">Want</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>目标应用获取的want信息。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/share-system-share#section102532316184">ContactInfo</a>&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>Promise对象，返回联系人信息。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code">分享服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.13.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.32.13.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code#section13612105175717">1003703001</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parse data failed.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">ShareExtensionAbility</span>, <span class="hljs-title class_">UIExtensionContentSession</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestShareAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ShareExtensionAbility</span> {</li><li>  <span class="hljs-title function_">onSessionCreate</span>(<span class="hljs-params">want: Want, session: UIExtensionContentSession</span>) {</li><li>    systemShare.<span class="hljs-title function_">getContactInfo</span>(want)</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">contact</span>: systemShare.<span class="hljs-property">ContactInfo</span>) =&gt; {</li><li>        <span class="hljs-comment">// 处理联系人信息，可通过联系人类型（如：个人，群组等），联系人ID，进行指定用户分享。</span></li><li>        <span class="hljs-comment">// 获取分享数据</span></li><li>        <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">await</span> systemShare.<span class="hljs-title function_">getSharedData</span>(want);</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getContactInfo. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>        <span class="hljs-comment">// 联系人不存在或数据获取异常</span></li><li>        session.<span class="hljs-title function_">terminateSelf</span>();</li><li>      });</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section1688102013386" device-type="phone,2in1,tablet,tv">getWant<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1688102013386" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getWant(data: SharedData, options?: ShareControllerOptions): Promise&lt;Want&gt;</p>     <p>基于SharedData和预览模式构造want数据，使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>请勿随意修改返回值want数据中的参数，可能会导致未知的错误。</p>      </div></div></div>     <p><strong>模型约束：</strong>此接口仅可在Stage模型下使用。</p>     <p><strong>系统能力：</strong>SystemCapability.Collaboration.SystemShare</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.1" width="25%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.2" width="25%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.3" width="25%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.9.1.5.1.4" width="25%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">          <p>data</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section816451553012">SharedData</a></p></td>         <td class="cellrowborder" width="25%">          <p>是</p></td>         <td class="cellrowborder" width="25%">          <p>分享目标应用的分享数据信息。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">          <p>options</p></td>         <td class="cellrowborder" width="25%">          <p><a href="/consumer/cn/doc/harmonyos-references/share-system-share#section107934816010">ShareControllerOptions</a></p></td>         <td class="cellrowborder" width="25%">          <p>否</p></td>         <td class="cellrowborder" width="25%">          <p>分享控制器配置项。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.1" width="50%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.11.1.3.1.2" width="50%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-ability-want" target="_blank">Want</a>&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>Promise对象，返回分享目标应用的want信息。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal" target="_blank">通用错误码</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code">分享服务错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.14.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.33.14.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal#section401-参数检查失败" target="_blank">401</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parameter error.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-error-code#section13612105175717">1003703001</a></p></td>         <td class="cellrowborder" width="50%">          <p>Parse data failed.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div class="p">      不配置预览模式      <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">ShareExtensionAbility</span>, <span class="hljs-title class_">UIExtensionContentSession</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestShareAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ShareExtensionAbility</span> {</li><li>  <span class="hljs-title function_">onSessionCreate</span>(<span class="hljs-params">want: Want, session: UIExtensionContentSession</span>) {</li><li>    <span class="hljs-comment">// 处理分享数据</span></li><li>    <span class="hljs-comment">// To do things.</span></li><li>    <span class="hljs-comment">// 准备返回数据</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>      <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>    });</li><li>    data.<span class="hljs-title function_">addRecord</span>({</li><li>      <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PNG</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://.../test.png'</span></li><li>    });</li><li>    systemShare.<span class="hljs-title function_">getWant</span>(data)</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">want</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'want = '</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(want));</li><li>        session!.<span class="hljs-title function_">terminateSelfWithResult</span>({</li><li>          <span class="hljs-attr">resultCode</span>: <span class="hljs-number">2</span>,</li><li>          <span class="hljs-attr">want</span>: want</li><li>        })</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getWant. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      });</li><li>  }</li><li>}</li></ol></pre></div></div>     </div>    </div>    <p>配置预览模式</p>    <div _ngcontent-ebf-c106="" class="highlight-div"><div _ngcontent-ebf-c106="" class="highlight-div-header"><div _ngcontent-ebf-c106="" class="highlight-div-header-left"><div _ngcontent-ebf-c106="" class="handle-button expand-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ebf-c106="" class="highlight-div-header-right"><div _ngcontent-ebf-c106="" class="handle-button ai-button"></div><div _ngcontent-ebf-c106="" class="handle-button line-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ebf-c106="" class="handle-button theme-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ebf-c106="" class="handle-button copy-button"><div _ngcontent-ebf-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ebf-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">ShareExtensionAbility</span>, <span class="hljs-title class_">UIExtensionContentSession</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;</li><li><span class="hljs-keyword">import</span> { systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestShareAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ShareExtensionAbility</span> {</li><li>  <span class="hljs-title function_">onSessionCreate</span>(<span class="hljs-params">want: Want, session: UIExtensionContentSession</span>) {</li><li>    <span class="hljs-comment">// 处理分享数据</span></li><li>    <span class="hljs-comment">// To do things.</span></li><li>    <span class="hljs-comment">// 准备返回数据</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: systemShare.<span class="hljs-property">SharedData</span> = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({</li><li>      <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PLAIN_TEXT</span>,</li><li>      <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello HarmonyOS'</span></li><li>    });</li><li>    data.<span class="hljs-title function_">addRecord</span>({</li><li>      <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">PNG</span>,</li><li>      <span class="hljs-attr">uri</span>: <span class="hljs-string">'file://.../test.png'</span></li><li>    });</li><li>    <span class="hljs-keyword">let</span> options : systemShare.<span class="hljs-property">ShareControllerOptions</span> = {</li><li>      <span class="hljs-attr">previewMode</span>: systemShare.<span class="hljs-property">SharePreviewMode</span>.<span class="hljs-property">DETAIL</span>,</li><li>      <span class="hljs-attr">selectionMode</span>: systemShare.<span class="hljs-property">SelectionMode</span>.<span class="hljs-property">SINGLE</span></li><li>    };</li><li>    systemShare.<span class="hljs-title function_">getWant</span>(data,options)</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">want</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'want = '</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(want));</li><li>        session!.<span class="hljs-title function_">terminateSelfWithResult</span>({</li><li>          <span class="hljs-attr">resultCode</span>: <span class="hljs-number">2</span>,</li><li>          <span class="hljs-attr">want</span>: want</li><li>        })</li><li>      })</li><li>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to getWant. Code: <span class="hljs-subst">${error.code}</span>, message: <span class="hljs-subst">${error.message}</span>`</span>);</li><li>      });</li><li>  }</li><li>}</li></ol></pre></div></div>   </div>   <div></div></div>