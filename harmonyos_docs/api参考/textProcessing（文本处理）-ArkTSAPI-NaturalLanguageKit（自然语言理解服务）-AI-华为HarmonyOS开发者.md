<h1 _ngcontent-clh-c119="" class="doc-title ng-star-inserted" title="textProcessing（文本处理）"> textProcessing（文本处理） </h1>

<div _ngcontent-clh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>自然语言理解服务提供将输入的普通文本都标注为带词性的文本，标注每个词是名词、动词、形容词或其他词性。</p>    <p>还提供实体抽取功能，通过对用户输入的文本进行实体识别。然后依据Kit中的实体类别来进行分类，其中用户可以根据实体类别列表中的类别来进行选择。输出结果中包含实体的类别、实体在原文本中的位置、实体的原文本以及实体解析后的其他字段。实体字段内容可参考<a href="/consumer/cn/doc/harmonyos-references/natural-language-text-processing-api#section4298938144913">EntityType</a>详情。</p>    <p><strong>起始版本：</strong>5.0.0(12)</p>    <div class="tiledSection">     <h2 id="section46481450181012" device-type="phone,2in1,tablet">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section46481450181012" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-clh-c106="" class="highlight-div"><div _ngcontent-clh-c106="" class="highlight-div-header"><div _ngcontent-clh-c106="" class="highlight-div-header-left"><div _ngcontent-clh-c106="" class="handle-button expand-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-clh-c106="" class="highlight-div-header-right"><div _ngcontent-clh-c106="" class="handle-button ai-button"></div><div _ngcontent-clh-c106="" class="handle-button line-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-clh-c106="" class="handle-button theme-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-clh-c106="" class="handle-button copy-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-clh-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { textProcessing, <span class="hljs-title class_">EntityType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NaturalLanguageKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section12706154134017" device-type="phone,2in1,tablet">WordSegment<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12706154134017" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>分词的输出结果，包含词语和词性。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="16.42%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="23.580000000000002%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>word</p></td>         <td class="cellrowborder" width="20%">          <p>string</p></td>         <td class="cellrowborder" width="20%">          <p>否</p></td>         <td class="cellrowborder" width="16.42%">          <p>否</p></td>         <td class="cellrowborder" width="23.580000000000002%">          <p>词语。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>wordTag</p></td>         <td class="cellrowborder" width="20%">          <p>string</p></td>         <td class="cellrowborder" width="20%">          <p>否</p></td>         <td class="cellrowborder" width="16.42%">          <p>否</p></td>         <td class="cellrowborder" width="23.580000000000002%">          <p>词性。词性分类参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/natural-language-word-tag-api">wordTag</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section7467975499" device-type="phone,2in1,tablet">EntityConfig<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section7467975499" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>可选配置项，实体的类别。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.1" width="20%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.2" width="20%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.3" width="20%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.4" width="20%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.5" width="20%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>entityTypes</p></td>         <td class="cellrowborder" width="20%">          <p><a href="/consumer/cn/doc/harmonyos-references/natural-language-text-processing-api#section4298938144913">EntityType</a>[]</p></td>         <td class="cellrowborder" width="20%">          <p>否</p></td>         <td class="cellrowborder" width="20%">          <p>是</p></td>         <td class="cellrowborder" width="20%">          <p>实体的类别。</p>          <p>默认全选。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section4298938144913" device-type="phone,2in1,tablet">EntityType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4298938144913" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>实体类别的枚举类。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.1" width="29.959999999999997%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.2" width="39.37%">          <p>值</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.5.1.4.1.3" width="30.669999999999998%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>DATETIME</p></td>         <td class="cellrowborder" width="39.37%">          <p>datetime</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>时间实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>EMAIL</p></td>         <td class="cellrowborder" width="39.37%">          <p>email</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>邮箱实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>EXPRESS_NO</p></td>         <td class="cellrowborder" width="39.37%">          <p>expressNo</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>快递单号实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>FLIGHT_NO</p></td>         <td class="cellrowborder" width="39.37%">          <p>flightNo</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>航班号实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>LOCATION</p></td>         <td class="cellrowborder" width="39.37%">          <p>location</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>地点实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>NAME</p></td>         <td class="cellrowborder" width="39.37%">          <p>name</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>姓名实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>PHONE_NO</p></td>         <td class="cellrowborder" width="39.37%">          <p>phoneNo</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>手机号实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>URL</p></td>         <td class="cellrowborder" width="39.37%">          <p>url</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>url实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>VERIFICATION_CODE</p></td>         <td class="cellrowborder" width="39.37%">          <p>verificationCode</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>验证码实体</p></td>        </tr>        <tr>         <td class="cellrowborder" width="29.959999999999997%">          <p>ID_NO</p></td>         <td class="cellrowborder" width="39.37%">          <p>idNo</p></td>         <td class="cellrowborder" width="30.669999999999998%">          <p>身份证号实体</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section1518613358392" device-type="phone,2in1,tablet">Entity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1518613358392" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>实体抽取的结果。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.1" width="17.07%">          <p>名称</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.2" width="15.5%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.3" width="13.38%">          <p>只读</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.4" width="11.24%">          <p>可选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.5.1.6.1.5" width="42.809999999999995%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="17.07%">          <p>text</p></td>         <td class="cellrowborder" width="15.5%">          <p>string</p></td>         <td class="cellrowborder" width="13.38%">          <p>否</p></td>         <td class="cellrowborder" width="11.24%">          <p>否</p></td>         <td class="cellrowborder" width="42.809999999999995%">          <p>实体原文本。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.07%">          <p>charOffset</p></td>         <td class="cellrowborder" width="15.5%">          <p>number</p></td>         <td class="cellrowborder" width="13.38%">          <p>否</p></td>         <td class="cellrowborder" width="11.24%">          <p>否</p></td>         <td class="cellrowborder" width="42.809999999999995%">          <p>实体在原文本中的位置。所在位置以字符计算。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.07%">          <p>type</p></td>         <td class="cellrowborder" width="15.5%">          <p><a href="/consumer/cn/doc/harmonyos-references/natural-language-text-processing-api#section4298938144913">EntityType</a></p></td>         <td class="cellrowborder" width="13.38%">          <p>否</p></td>         <td class="cellrowborder" width="11.24%">          <p>否</p></td>         <td class="cellrowborder" width="42.809999999999995%">          <p>实体类别。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.07%">          <p>jsonObject</p></td>         <td class="cellrowborder" width="15.5%">          <p>string</p></td>         <td class="cellrowborder" width="13.38%">          <p>否</p></td>         <td class="cellrowborder" width="11.24%">          <p>否</p></td>         <td class="cellrowborder" width="42.809999999999995%">          <p>实体的其他字段。详情参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/natural-language-json-object-api">jsonObject</a>。</p>          <p></p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section4612914419" device-type="phone,2in1,tablet">textProcessing.getWordSegment<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4612914419" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getWordSegment(text: string): Promise&lt;Array&lt;WordSegment&gt;&gt;</p>     <p>创建分词实例，并初始化引擎。使用Promise异步回调。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="19.2%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="22.07%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="17.97%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="40.760000000000005%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="19.2%">          <p>text</p></td>         <td class="cellrowborder" width="22.07%">          <p>string</p></td>         <td class="cellrowborder" width="17.97%">          <p>是</p></td>         <td class="cellrowborder" width="40.760000000000005%">          <p>输入待分析的文本内容。相关规格参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/natural-language-introduction#section1454714381942" target="_blank">约束与限制</a>。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="45.36%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="54.64%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="45.36%">          <p>Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/natural-language-text-processing-api#section12706154134017">WordSegment</a>&gt;&gt;</p></td>         <td class="cellrowborder" width="54.64%">          <p>Promise对象，返回分词结果的集合。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/natural-language-error-code">Natural Language Kit错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.12.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>200</p></td>         <td class="cellrowborder" width="50%">          <p>Run timed out, please try again later.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>401</p></td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200001</p></td>         <td class="cellrowborder" width="50%">          <p>Failed to run, please try again.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200002</p></td>         <td class="cellrowborder" width="50%">          <p>The service is abnormal.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-clh-c106="" class="highlight-div"><div _ngcontent-clh-c106="" class="highlight-div-header"><div _ngcontent-clh-c106="" class="highlight-div-header-left"><div _ngcontent-clh-c106="" class="handle-button expand-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-clh-c106="" class="highlight-div-header-right"><div _ngcontent-clh-c106="" class="handle-button ai-button"></div><div _ngcontent-clh-c106="" class="handle-button line-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-clh-c106="" class="handle-button theme-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-clh-c106="" class="handle-button copy-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-clh-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { textProcessing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NaturalLanguageKit'</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testWordSegment</span>(<span class="hljs-params">inputText: <span class="hljs-built_in">string</span></span>) {</li><li>  textProcessing.<span class="hljs-title function_">getWordSegment</span>(inputText)</li><li>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> outputText = <span class="hljs-title function_">formatWordSegmentResult</span>(result);</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'NLUDemo'</span>, <span class="hljs-string">`getWordSegment result:<span class="hljs-subst">${outputText}</span>`</span>);</li><li>    })</li><li>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'NLUDemo'</span>, <span class="hljs-string">`getWordSegment errorCode: <span class="hljs-subst">${err.code}</span> errorMessage: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>    });</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">formatWordSegmentResult</span>(<span class="hljs-params">segments: textProcessing.WordSegment[]</span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">let</span> output = <span class="hljs-string">'Word Segments:\n'</span>;</li><li>  segments.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">segment, index</span>) =&gt;</span> {</li><li>    output += <span class="hljs-string">`Word[<span class="hljs-subst">${index}</span>]: <span class="hljs-subst">${segment.word}</span>, Tag: <span class="hljs-subst">${segment.wordTag}</span>\n`</span>;</li><li>  });</li><li>  <span class="hljs-keyword">return</span> output;</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Start'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-comment">// 测试文本分词</span></li><li>        <span class="hljs-keyword">let</span> inputText = <span class="hljs-string">'test for nlp word segment'</span>;</li><li>        <span class="hljs-title function_">testWordSegment</span>(inputText);</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section6469197174917" device-type="phone,2in1,tablet">textProcessing.getEntity<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section6469197174917" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>getEntity(text: string, entityConfig?: EntityConfig): Promise&lt;Array&lt;Entity&gt;&gt;</p>     <p>创建实体抽取实例，并初始化引擎。使用Promise异步回调。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="19.2%">          <p>参数名</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="22.07%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="17.97%">          <p>必填</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="40.760000000000005%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="19.2%">          <p>text</p></td>         <td class="cellrowborder" width="22.07%">          <p>string</p></td>         <td class="cellrowborder" width="17.97%">          <p>是</p></td>         <td class="cellrowborder" width="40.760000000000005%">          <p>输入的字符串。相关规格参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/natural-language-introduction#section1454714381942" target="_blank">约束与限制</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="19.2%">          <p>entityConfig</p></td>         <td class="cellrowborder" width="22.07%">          <p><a href="/consumer/cn/doc/harmonyos-references/natural-language-text-processing-api#section7467975499">EntityConfig</a></p></td>         <td class="cellrowborder" width="17.97%">          <p>否</p></td>         <td class="cellrowborder" width="40.760000000000005%">          <p>实体配置项：实体类别。</p>          <p>默认全选。推荐按需加载实体类别，以提高应用性能。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.1" width="45.36%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.9.1.3.1.2" width="54.64%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="45.36%">          <p>Promise&lt;Array&lt;<a href="/consumer/cn/doc/harmonyos-references/natural-language-text-processing-api#section1518613358392">Entity</a>&gt;&gt;</p></td>         <td class="cellrowborder" width="54.64%">          <p>Promise对象，返回实体的结果集合。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/natural-language-error-code">Natural Language Kit错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.12.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>200</p></td>         <td class="cellrowborder" width="50%">          <p>Run timed out, please try again later.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>401</p></td>         <td class="cellrowborder" width="50%">          <p>The parameter check failed.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200001</p></td>         <td class="cellrowborder" width="50%">          <p>Failed to run, please try again.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200002</p></td>         <td class="cellrowborder" width="50%">          <p>The service is abnormal.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-clh-c106="" class="highlight-div"><div _ngcontent-clh-c106="" class="highlight-div-header"><div _ngcontent-clh-c106="" class="highlight-div-header-left"><div _ngcontent-clh-c106="" class="handle-button expand-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-clh-c106="" class="highlight-div-header-right"><div _ngcontent-clh-c106="" class="handle-button ai-button"></div><div _ngcontent-clh-c106="" class="handle-button line-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-clh-c106="" class="handle-button theme-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-clh-c106="" class="handle-button copy-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-clh-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { textProcessing, <span class="hljs-title class_">EntityType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NaturalLanguageKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testEntityRecognition</span>(<span class="hljs-params">inputText: <span class="hljs-built_in">string</span></span>) {</li><li>  textProcessing.<span class="hljs-title function_">getEntity</span>(inputText, {</li><li>    <span class="hljs-attr">entityTypes</span>: [<span class="hljs-title class_">EntityType</span>.<span class="hljs-property">NAME</span>]</li><li>  }).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {</li><li>    <span class="hljs-keyword">let</span> outputText = <span class="hljs-title function_">formatEntityResult</span>(result);</li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'NLUDemo'</span>, <span class="hljs-string">`getEntity result:<span class="hljs-subst">${outputText}</span>`</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'NLUDemo'</span>, <span class="hljs-string">`getEntity errorCode: <span class="hljs-subst">${err.code}</span> errorMessage: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  })</li><li>}</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">formatEntityResult</span>(<span class="hljs-params">entities: textProcessing.Entity[]</span>): <span class="hljs-built_in">string</span> {</li><li>  <span class="hljs-keyword">if</span> (!entities || !entities.<span class="hljs-property">length</span>) {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-string">'No entities found.'</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">let</span> output = <span class="hljs-string">'Entities:\n'</span>;</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; entities.<span class="hljs-property">length</span>; i++) {</li><li>    <span class="hljs-keyword">let</span> entity = entities[i];</li><li>    output += <span class="hljs-string">`Entity[<span class="hljs-subst">${i}</span>]:\n`</span>;</li><li>    output += <span class="hljs-string">`  oriText: <span class="hljs-subst">${entity.text}</span>\n`</span>;</li><li>    output += <span class="hljs-string">`  charOffset: <span class="hljs-subst">${entity.charOffset}</span>\n`</span>;</li><li>    output += <span class="hljs-string">`  entityType: <span class="hljs-subst">${entity.<span class="hljs-keyword">type</span>}</span>\n`</span>;</li><li>    output += <span class="hljs-string">`  jsonObject: <span class="hljs-subst">${entity.jsonObject}</span>\n\n`</span>;</li><li>  }</li><li>  <span class="hljs-keyword">return</span> output;</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Start'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-comment">// 测试实体识别</span></li><li>        <span class="hljs-keyword">let</span> inputText = <span class="hljs-string">'test for nlp getEntity. Mary, Bob and Mike.'</span>;</li><li>        <span class="hljs-title function_">testEntityRecognition</span>(inputText);</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section1137373024916" device-type="phone,2in1,tablet">textProcessing.init<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1137373024916" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>init(): Promise&lt;boolean&gt;</p>     <p>初始化自然语言处理的引擎。使用Promise异步回调。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="45.36%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="54.64%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="45.36%">          <p>Promise&lt;boolean&gt;</p></td>         <td class="cellrowborder" width="54.64%">          <p>Promise对象，true表示初始化成功，false表示初始化失败。</p></td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>此初始化接口非必须调用。在主动使用时，可以提前初始化该功能，减少首次调用文本处理能力的时延。</p>      </div></div></div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/natural-language-error-code">Natural Language Kit错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.11.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>200</p></td>         <td class="cellrowborder" width="50%">          <p>Run timed out, please try again later.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200001</p></td>         <td class="cellrowborder" width="50%">          <p>Failed to run, please try again.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200002</p></td>         <td class="cellrowborder" width="50%">          <p>The service is abnormal.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-clh-c106="" class="highlight-div"><div _ngcontent-clh-c106="" class="highlight-div-header"><div _ngcontent-clh-c106="" class="highlight-div-header-left"><div _ngcontent-clh-c106="" class="handle-button expand-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-clh-c106="" class="highlight-div-header-right"><div _ngcontent-clh-c106="" class="handle-button ai-button"></div><div _ngcontent-clh-c106="" class="handle-button line-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-clh-c106="" class="handle-button theme-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-clh-c106="" class="handle-button copy-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-clh-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { textProcessing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NaturalLanguageKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'init'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        textProcessing.<span class="hljs-title function_">init</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> result =&gt; {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`textProcess init result: <span class="hljs-subst">${result}</span>`</span>)</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`textProcess init failed errorCode: <span class="hljs-subst">${err.code}</span> errorMessage: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      })</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section1362224354919" device-type="phone,2in1,tablet">textProcessing.release<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1362224354919" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>release(): Promise&lt;boolean&gt;</p>     <p>释放引擎。使用Promise异步回调。</p>     <p><strong>系统能力：</strong>SystemCapability.AI.NaturalLanguage.TextProcessing</p>     <p><strong>起始版本：</strong>5.0.0(12)</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="45.36%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="54.64%">          <p>说明</p></th>        </tr><tr>         <td class="cellrowborder" width="45.36%">          <p>Promise&lt;boolean&gt;</p></td>         <td class="cellrowborder" width="54.64%">          <p>Promise对象，true表示释放引擎成功，false表示释放引擎失败。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/natural-language-error-code">Natural Language Kit错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">          <p>错误码ID</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">          <p>错误信息</p></th>        </tr><tr>         <td class="cellrowborder" width="50%">          <p>200</p></td>         <td class="cellrowborder" width="50%">          <p>Run timed out, please try again later.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200001</p></td>         <td class="cellrowborder" width="50%">          <p>Failed to run, please try again.</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%">          <p>1011200002</p></td>         <td class="cellrowborder" width="50%">          <p>The service is abnormal.</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-clh-c106="" class="highlight-div"><div _ngcontent-clh-c106="" class="highlight-div-header"><div _ngcontent-clh-c106="" class="highlight-div-header-left"><div _ngcontent-clh-c106="" class="handle-button expand-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-clh-c106="" class="highlight-div-header-right"><div _ngcontent-clh-c106="" class="handle-button ai-button"></div><div _ngcontent-clh-c106="" class="handle-button line-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-clh-c106="" class="handle-button theme-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-clh-c106="" class="handle-button copy-button"><div _ngcontent-clh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-clh-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { textProcessing } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NaturalLanguageKit'</span>;</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runTextProcessing</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">await</span> textProcessing.<span class="hljs-title function_">init</span>();</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Text processing initialized successfully'</span>);</li><li>
</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> textProcessing.<span class="hljs-title function_">release</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`textProcess release result: <span class="hljs-subst">${result}</span>`</span>);</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`textProcess release failed errorCode: <span class="hljs-subst">${err.code}</span> errorMessage: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Page</span> {</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>(){</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Start'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-title function_">runTextProcessing</span>()</li><li>      })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>