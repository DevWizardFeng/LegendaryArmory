<h1 _ngcontent-rdy-c119="" class="doc-title ng-star-inserted" title="urpc"> urpc </h1>

<div _ngcontent-rdy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>本模块提供URPC功能。应用程序可通过URPC提供的生成代码接口发起RPC请求。常见的URPC方法包括urpcStubCreate、call、cancel、destroy。</p> <p><strong>起始版本：</strong>5.0.1(13)</p> <div class="tiledSection"><h2 id="section848492671817" device-type="phone,2in1,tablet,tv,wearable">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section848492671817" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-rdy-c106="" class="highlight-div"><div _ngcontent-rdy-c106="" class="highlight-div-header"><div _ngcontent-rdy-c106="" class="highlight-div-header-left"><div _ngcontent-rdy-c106="" class="handle-button expand-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rdy-c106="" class="highlight-div-header-right"><div _ngcontent-rdy-c106="" class="handle-button ai-button"></div><div _ngcontent-rdy-c106="" class="handle-button line-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rdy-c106="" class="handle-button theme-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rdy-c106="" class="handle-button copy-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rdy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { urpc } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.RemoteCommunicationKit"</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section123121188272" device-type="phone,2in1,tablet,tv,wearable">FlowbufType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section123121188272" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type FlowbufType =</p> <p>'INT8' | 'UINT8' | 'INT16' | 'UINT16' | 'INT32' | 'UINT32' | 'INT64' | 'UINT64' | 'BOOL' | 'FLOAT' | 'DOUBLE' | 'STRING' | 'BYTES' | 'MESSAGE' | 'REPEATED_INT8' | 'REPEATED_UINT8' | 'REPEATED_INT16' | 'REPEATED_UINT16' | 'REPEATED_INT32' | 'REPEATED_UINT32' | 'REPEATED_INT64' | 'REPEATED_UINT64' | 'REPEATED_BOOL' | 'REPEATED_FLOAT' | 'REPEATED_DOUBLE' | 'REPEATED_STRING' | 'REPEATED_BYTES' | 'REPEATED_MESSAGE' | 'ARRAY_INT8' | 'ARRAY_UINT8' | 'ARRAY_INT16' | 'ARRAY_UINT16' | 'ARRAY_INT32' | 'ARRAY_UINT32' | 'ARRAY_INT64' | 'ARRAY_UINT64' | 'ARRAY_BOOL' | 'ARRAY_FLOAT' | 'ARRAY_DOUBLE';</p> <p>表示通过URPC通信允许传入和接收返回值的类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.1" width="27.54%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.3.1.2" width="72.46000000000001%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="27.54%"><p>'INT8'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'INT8'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'UINT8'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'UINT8'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'INT16'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'INT16'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'UINT16'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'UINT16'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'INT32'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'INT32'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'UINT32'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'UINT32'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'INT64'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'INT64'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'UINT64'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'UINT64'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'BOOL'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'BOOL'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'FLOAT'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'FLOAT'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'DOUBLE'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'DOUBLE'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'STRING'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'STRING'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'BYTES'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为'BYTES'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'MESSAGE'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为自定义的'MESSAGE'。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_INT8'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'INT8'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_UINT8'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'UINT8'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_INT16'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'INT16'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_UINT16'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'UINT16'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_INT32'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'INT32'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_UINT32'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'UINT32'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_INT64'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'INT64'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_UINT64'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'UINT64'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_BOOL'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'BOOL'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_FLOAT'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'INT8'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_DOUBLE'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'DOUBLE'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_STRING'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'STRING'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_BYTES'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的'BYTES'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'REPEATED_MESSAGE'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为可变长度的自定义'MESSAGE'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_INT8'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'INT8'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_UINT8'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'UINT8'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_INT16'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'INT16'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_UINT16'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'UINT16'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_INT32'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'INT32'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_UINT32'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'UINT32'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_INT64'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'INT64'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_UINT64'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'UINT64'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_BOOL'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'BOOL'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_FLOAT'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'FLOAT'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr> <tr><td class="cellrowborder" width="27.54%"><p>'ARRAY_DOUBLE'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示参数类型为固定长度的'DOUBLE'数组，该字段为预留字段，在当前版本不能使用。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section17371956319" device-type="phone,2in1,tablet,tv,wearable">FlowbufElement&lt;T&gt;<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17371956319" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>FlowbufElement&lt;T&gt;用于定义非数组的URPC入参和返回值类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="9.049999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="37.19%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>type</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section123121188272">FlowbufType</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>表示通过URPC通信允许传入和接收返回值的类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>value</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>T</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>表示该参数的具体数值。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>name</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>表示该参数的名称。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-rdy-c106="" class="highlight-div"><div _ngcontent-rdy-c106="" class="highlight-div-header"><div _ngcontent-rdy-c106="" class="highlight-div-header-left"><div _ngcontent-rdy-c106="" class="handle-button expand-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rdy-c106="" class="highlight-div-header-right"><div _ngcontent-rdy-c106="" class="handle-button ai-button"></div><div _ngcontent-rdy-c106="" class="handle-button line-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rdy-c106="" class="handle-button theme-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rdy-c106="" class="handle-button copy-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rdy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">urpc</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.RemoteCommunicationKit"</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">version</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">FlowbufElement</span>&lt;<span class="hljs-title class_">number</span>&gt; = {<span class="hljs-keyword">type</span>: <span class="hljs-string">'INT8'</span>, <span class="hljs-variable">value</span>: <span class="hljs-number">0</span>, <span class="hljs-variable">name</span>: <span class="hljs-string">""</span>};</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section13127202610152" device-type="phone,2in1,tablet,tv,wearable">FlowbufArrayElement&lt;T&gt;<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section13127202610152" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>FlowbufArrayElement&lt;T&gt;用于定义数组类型的URPC入参和返回值类型。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.4" width="9.049999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.5.1.6.1.5" width="37.19%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>type</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section123121188272">FlowbufType</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>表示通过URPC通信允许传送和接收返回值的类型。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>value</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>T[]</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>表示该参数的具体数值。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>length</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>number</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>表示该参数数组的长度，长度范围[0, 2147483647]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-rdy-c106="" class="highlight-div"><div _ngcontent-rdy-c106="" class="highlight-div-header"><div _ngcontent-rdy-c106="" class="highlight-div-header-left"><div _ngcontent-rdy-c106="" class="handle-button expand-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rdy-c106="" class="highlight-div-header-right"><div _ngcontent-rdy-c106="" class="handle-button ai-button"></div><div _ngcontent-rdy-c106="" class="handle-button line-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rdy-c106="" class="handle-button theme-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rdy-c106="" class="handle-button copy-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rdy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">urpc</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.RemoteCommunicationKit"</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">version</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">FlowbufArrayElement</span>&lt;<span class="hljs-title class_">number</span>&gt; = {<span class="hljs-keyword">type</span>: <span class="hljs-string">'ARRAY_INT8'</span>, <span class="hljs-variable">value</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], <span class="hljs-variable">length</span>: <span class="hljs-number">3</span>};</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section163819131811" device-type="phone,2in1,tablet,tv,wearable">urpc.urpcStubCreate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section163819131811" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>urpcStubCreate(config: UrpcInitConfiguration, funcList: string | string[]): Promise&lt;UrpcStub&gt;</p> <p>创建UrpcStub，使用Promise异步回调。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>需要</strong><strong>权限：</strong>ohos.permission.INTERNET</p> <p><strong>起始版本：</strong>5.0.1(13)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>config</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section18613443123412">UrpcInitConfiguration</a></p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>stub配置。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>funcList</p> </td> <td class="cellrowborder" width="25%"><p>string | string[]</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>URPC函数调用列表。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>Promise&lt;<a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section1671892662116">UrpcStub</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回可用于发出URPC请求的对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong></p> <p>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.1" width="50%"><p>错误码ID</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.13.1.3.1.2" width="50%"><p>错误信息</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p>201</p> </td> <td class="cellrowborder" width="50%"><p>Permission denied.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>401</p> </td> <td class="cellrowborder" width="50%"><p>Parameter error.</p> </td> </tr> <tr><td class="cellrowborder" width="50%"><p>10079100998</p> </td> <td class="cellrowborder" width="50%"><p>Function name error.</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-rdy-c106="" class="highlight-div"><div _ngcontent-rdy-c106="" class="highlight-div-header"><div _ngcontent-rdy-c106="" class="highlight-div-header-left"><div _ngcontent-rdy-c106="" class="handle-button expand-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rdy-c106="" class="highlight-div-header-right"><div _ngcontent-rdy-c106="" class="handle-button ai-button"></div><div _ngcontent-rdy-c106="" class="handle-button line-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rdy-c106="" class="handle-button theme-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rdy-c106="" class="handle-button copy-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rdy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">urpc</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.RemoteCommunicationKit"</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">node</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">IpAndPort</span> = {</li><li>  <span class="hljs-variable">ip</span>: <span class="hljs-string">'127.0.0.1'</span>,</li><li>  <span class="hljs-variable">port</span>: <span class="hljs-number">8000</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">connect</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">UrpcConnectConfiguration</span> = {</li><li>  <span class="hljs-variable">node</span>: <span class="hljs-title class_">node</span>,</li><li>  <span class="hljs-variable">protocol</span>: <span class="hljs-string">'eat'</span>,</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">config</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">UrpcInitConfiguration</span> = {</li><li>  <span class="hljs-variable">timeout</span>: <span class="hljs-number">3000</span>,</li><li>  <span class="hljs-variable">mode</span>: <span class="hljs-string">'client'</span>,</li><li>  <span class="hljs-variable">connect</span>: <span class="hljs-title class_">connect</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable">funcList</span>:<span class="hljs-title class_">string</span>[] = [<span class="hljs-string">"uploadFile"</span>];</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">urpcStub</span> = <span class="hljs-variable">await</span> <span class="hljs-variable">urpc</span>.<span class="hljs-title function_">urpcStubCreate</span>(<span class="hljs-variable">config</span>, <span class="hljs-variable">funcList</span>);</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1223416820339" device-type="phone,2in1,tablet,tv,wearable">UrpcCall<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1223416820339" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type UrpcCall = (funcName: string, request: object, returnValue: object, config?: CallingOption) =&gt; UrpcPromise;</p> <p>用于发起一个URPC请求，并接收来自服务器的响应。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>funcName</p> </td> <td class="cellrowborder" width="25%"><p>string</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>URPC请求函数名。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>request</p> </td> <td class="cellrowborder" width="25%"><p>object</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>URPC请求对象，请求数据的最大值为1M。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>returnValue</p> </td> <td class="cellrowborder" width="25%"><p>object</p> </td> <td class="cellrowborder" width="25%"><p>是</p> </td> <td class="cellrowborder" width="25%"><p>URPC接受response的对象，接收数据的最大值为100KB。</p> </td> </tr> <tr><td class="cellrowborder" width="25%"><p>config</p> </td> <td class="cellrowborder" width="25%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section731665213712">CallingOption</a></p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>单次请求配置选项。该字段为预留字段，在当前版本并不生效。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="50%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section154329285418">UrpcPromise</a></p> </td> <td class="cellrowborder" width="50%"><p>Promise对象，返回来自服务器的响应对象。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> </div> <div class="tiledSection"><h2 id="section16128181393419" device-type="phone,2in1,tablet,tv,wearable">UrpcCancel<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section16128181393419" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type UrpcCancel = (callingId?: number | number[]) =&gt; void;</p> <p>用于取消指定或所有正在进行的URPC请求。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%"><p>必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>callingId</p> </td> <td class="cellrowborder" width="25%"><p>number | number[]</p> </td> <td class="cellrowborder" width="25%"><p>否</p> </td> <td class="cellrowborder" width="25%"><p>取消指定callingId的请求。如果不填该字段表示取消本次UrpcStub对应的所有请求，取值范围[0, 2147483647]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> </div> <div class="tiledSection"><h2 id="section4758175133410" device-type="phone,2in1,tablet,tv,wearable">UrpcDestroy<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4758175133410" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type UrpcDestroy = () =&gt; void</p> <p>用于销毁<a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section1671892662116">UrpcStub</a>实例。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p> <p><strong>错误码：</strong>错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-error-code">ArkTS API错误码</a>。</p> </div> <div class="tiledSection"><h2 id="section1671892662116" device-type="phone,2in1,tablet,tv,wearable">UrpcStub<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1671892662116" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示可用于发出URPC请求的通信会话。它提供了各种远程调用方法（call、cancel、destroy）。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p> <p><strong>属性：</strong></p> </div>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.1" width="15.09%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.2" width="30.930000000000003%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.3" width="9.64%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.4" width="16.400000000000002%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.1.6.1.5" width="27.939999999999998%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="15.09%"><p>id</p> </td> <td class="cellrowborder" width="30.930000000000003%"><p>number</p> </td> <td class="cellrowborder" width="9.64%"><p>是</p> </td> <td class="cellrowborder" width="16.400000000000002%"><p>否</p> </td> <td class="cellrowborder" width="27.939999999999998%"><p>UrpcStub的唯一标识id。</p> </td> </tr> <tr><td class="cellrowborder" width="15.09%"><p>call</p> </td> <td class="cellrowborder" width="30.930000000000003%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section1223416820339">UrpcCall</a></p> </td> <td class="cellrowborder" width="9.64%"><p>否</p> </td> <td class="cellrowborder" width="16.400000000000002%"><p>否</p> </td> <td class="cellrowborder" width="27.939999999999998%"><p>表示调用URPC请求。</p> </td> </tr> <tr><td class="cellrowborder" width="15.09%"><p>cancel</p> </td> <td class="cellrowborder" width="30.930000000000003%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section16128181393419">UrpcCancel</a></p> </td> <td class="cellrowborder" width="9.64%"><p>否</p> </td> <td class="cellrowborder" width="16.400000000000002%"><p>否</p> </td> <td class="cellrowborder" width="27.939999999999998%"><p>表示取消URPC请求。</p> </td> </tr> <tr><td class="cellrowborder" width="15.09%"><p>destroy</p> </td> <td class="cellrowborder" width="30.930000000000003%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section4758175133410">UrpcDestroy</a></p> </td> <td class="cellrowborder" width="9.64%"><p>否</p> </td> <td class="cellrowborder" width="16.400000000000002%"><p>否</p> </td> <td class="cellrowborder" width="27.939999999999998%"><p>表示销毁UrpcStub。</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection"><h2 id="section18613443123412" device-type="phone,2in1,tablet,tv,wearable">UrpcInitConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section18613443123412" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>SessionConfiguration接口定义了会话的配置参数，为开发者提供了对HTTP会话各个方面的详细控制。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.1" width="27.057294270572946%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.2" width="27.057294270572946%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.3" width="11.158884111588842%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.4" width="7.669233076692332%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.6.1.5" width="27.057294270572946%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="27.057294270572946%"><p>mode</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section1898141153617">UrpcMode</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>是</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>URPC的运行模式，默认值为'client'，表示client模式。</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>connect</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section4802256134519">UrpcConnectConfiguration</a></p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>否</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>指定与stub相关联的连接配置，包括ip地址和端口号、URPC连接协议、是否多径等配置项。</p> </td> </tr> <tr><td class="cellrowborder" width="27.057294270572946%"><p>timeout</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>number</p> </td> <td class="cellrowborder" width="11.158884111588842%"><p>否</p> </td> <td class="cellrowborder" width="7.669233076692332%"><p>否</p> </td> <td class="cellrowborder" width="27.057294270572946%"><p>设置URPC的连接超时时间，表示请求等待多久后超时返回，单位是毫秒（ms），取值范围[0, 4294967295]。该字段为预留字段，在当前版本并不生效。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-rdy-c106="" class="highlight-div"><div _ngcontent-rdy-c106="" class="highlight-div-header"><div _ngcontent-rdy-c106="" class="highlight-div-header-left"><div _ngcontent-rdy-c106="" class="handle-button expand-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rdy-c106="" class="highlight-div-header-right"><div _ngcontent-rdy-c106="" class="handle-button ai-button"></div><div _ngcontent-rdy-c106="" class="handle-button line-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rdy-c106="" class="handle-button theme-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rdy-c106="" class="handle-button copy-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rdy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">urpc</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.RemoteCommunicationKit"</span>;</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">node</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">IpAndPort</span> = {</li><li>  <span class="hljs-variable">ip</span>: <span class="hljs-string">'127.0.0.1'</span>,</li><li>  <span class="hljs-variable">port</span>: <span class="hljs-number">8000</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">connect</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">UrpcConnectConfiguration</span> = {</li><li>  <span class="hljs-variable">node</span>: <span class="hljs-title class_">node</span>,</li><li>  <span class="hljs-variable">protocol</span>: <span class="hljs-string">'eat'</span>,</li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">config</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">UrpcInitConfiguration</span> = {</li><li>  <span class="hljs-variable">timeout</span>: <span class="hljs-number">3000</span>,</li><li>  <span class="hljs-variable">mode</span>: <span class="hljs-string">'client'</span>,</li><li>  <span class="hljs-variable">connect</span>: <span class="hljs-title class_">connect</span></li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1898141153617" device-type="phone,2in1,tablet,tv,wearable">UrpcMode<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section1898141153617" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type UrpcMode = 'client';</p> <p>当前仅支持填写'client'，表示该URPC节点为client模式，可主动发起请求，等待服务器的响应。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="27.54%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="72.46000000000001%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="27.54%"><p>'client'</p> </td> <td class="cellrowborder" width="72.46000000000001%"><p>表示URPC节点的模式，值固定为'client'。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section4802256134519" device-type="phone,2in1,tablet,tv,wearable">UrpcConnectConfiguration<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section4802256134519" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>UrpcConnectConfiguration配置URPC连接的关键信息，可以配置连接的ip和端口号，以及传输协议等可选参数。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.4" width="15.540000000000001%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.5" width="30.7%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>node</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section59321354193610">IpAndPort</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="15.540000000000001%"><p>否</p> </td> <td class="cellrowborder" width="30.7%"><p>连接的IP和端口配置。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>protocol</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p><a href="/consumer/cn/doc/harmonyos-references/remote-communication-urpcapi#section557714186379">UrpcProtocol</a></p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="15.540000000000001%"><p>是</p> </td> <td class="cellrowborder" width="30.7%"><p>传输连接采用的协议类型，默认值为'eat'，表示采用eat协议。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>multiPath</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>boolean</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="15.540000000000001%"><p>是</p> </td> <td class="cellrowborder" width="30.7%"><p>是否支持多路径传输，true表示支持多路径传输，多路径包含蜂窝网络和Wi-Fi；false表示不支持多路径传输，默认值为false。该字段为预留字段，在当前版本并不生效。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>flags</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>number</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="15.540000000000001%"><p>是</p> </td> <td class="cellrowborder" width="30.7%"><p>证书标记位，非0表示开启证书校验。默认值为0，表示不开启证书校验。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>host</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="15.540000000000001%"><p>是</p> </td> <td class="cellrowborder" width="30.7%"><p>urpc服务的域名，默认值为空字符串。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>caPath</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="15.540000000000001%"><p>是</p> </td> <td class="cellrowborder" width="30.7%"><p>校验证书的路径名称，默认值为空字符串。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-rdy-c106="" class="highlight-div"><div _ngcontent-rdy-c106="" class="highlight-div-header"><div _ngcontent-rdy-c106="" class="highlight-div-header-left"><div _ngcontent-rdy-c106="" class="handle-button expand-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rdy-c106="" class="highlight-div-header-right"><div _ngcontent-rdy-c106="" class="handle-button ai-button"></div><div _ngcontent-rdy-c106="" class="handle-button line-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rdy-c106="" class="handle-button theme-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rdy-c106="" class="handle-button copy-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rdy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">urpc</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.RemoteCommunicationKit"</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">node</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">IpAndPort</span> = {</li><li>  <span class="hljs-variable">ip</span>: <span class="hljs-string">'127.0.0.1'</span>,</li><li>  <span class="hljs-variable">port</span>: <span class="hljs-number">8000</span></li><li>}</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">connect</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">UrpcConnectConfiguration</span> = {</li><li>  <span class="hljs-variable">node</span>: <span class="hljs-title class_">node</span>,</li><li>  <span class="hljs-variable">protocol</span>: <span class="hljs-string">'eat'</span>,</li><li>  <span class="hljs-variable">multiPath</span>: <span class="hljs-keyword">false</span>,</li><li>  <span class="hljs-variable">flags</span>: <span class="hljs-number">0</span>,</li><li>  <span class="hljs-variable">host</span>: <span class="hljs-string">"127.0.0.1"</span>,</li><li>  <span class="hljs-variable">caPath</span>: <span class="hljs-string">"data/single_urpc/eat.pem"</span></li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section59321354193610" device-type="phone,2in1,tablet,tv,wearable">IpAndPort<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section59321354193610" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>IpAndPort用于配置URPC的连接IP和端口号。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.4" width="9.049999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.6.1.5" width="37.19%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>ip</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>string</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>指定UPRC的IPv4或IPv6地址。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>port</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>number</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>指定URPC端口号，取值范围[0, 65535]。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-rdy-c106="" class="highlight-div"><div _ngcontent-rdy-c106="" class="highlight-div-header"><div _ngcontent-rdy-c106="" class="highlight-div-header-left"><div _ngcontent-rdy-c106="" class="handle-button expand-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rdy-c106="" class="highlight-div-header-right"><div _ngcontent-rdy-c106="" class="handle-button ai-button"></div><div _ngcontent-rdy-c106="" class="handle-button line-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rdy-c106="" class="handle-button theme-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rdy-c106="" class="handle-button copy-button"><div _ngcontent-rdy-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rdy-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">urpc</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.RemoteCommunicationKit"</span></li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">node</span>: <span class="hljs-title class_">urpc</span>.<span class="hljs-title class_">IpAndPort</span> = {</li><li>  <span class="hljs-variable">ip</span>: <span class="hljs-string">'127.0.0.1'</span>,</li><li>  <span class="hljs-variable">port</span>: <span class="hljs-number">8000</span></li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section154329285418" device-type="phone,2in1,tablet,tv,wearable">UrpcPromise<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section154329285418" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>表示URPC请求的返回值</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.1" width="23.119999999999997%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.2" width="23.119999999999997%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.3" width="7.5200000000000005%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.4" width="9.049999999999999%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.6.1.5" width="37.19%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.119999999999997%"><p>promise</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>Promise&lt;Object&gt;</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>URPC请求的响应对象。</p> </td> </tr> <tr><td class="cellrowborder" width="23.119999999999997%"><p>callingId</p> </td> <td class="cellrowborder" width="23.119999999999997%"><p>number</p> </td> <td class="cellrowborder" width="7.5200000000000005%"><p>否</p> </td> <td class="cellrowborder" width="9.049999999999999%"><p>否</p> </td> <td class="cellrowborder" width="37.19%"><p>URPC请求的唯一标识Id，取值范围[0, 2147483647]。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section557714186379" device-type="phone,2in1,tablet,tv,wearable">UrpcProtocol<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section557714186379" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type UrpcProtocol = 'eat'</p> <p>当前仅支持填写'eat'，表示URPC的协议类型为eat。</p> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.18.6.1.3.1.1" width="20.65%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.18.6.1.3.1.2" width="79.35%"><p>说明</p> </th> </tr><tr><td class="cellrowborder" width="20.65%"><p>'eat'</p> </td> <td class="cellrowborder" width="79.35%"><p>表示URPC节点的协议类型，值固定为'eat'。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section731665213712" device-type="phone,2in1,tablet,tv,wearable">CallingOption<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section731665213712" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>用于配置URPC请求的优先级。</p> </div> <p><strong>系统能力</strong>：SystemCapability.Collaboration.RemoteCommunication</p> <p><strong>起始版本：</strong>5.0.1(13)</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.22.1.6.1.1" width="23.12%"><p>名称</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.1.6.1.2" width="23.12%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.1.6.1.3" width="7.520000000000001%"><p>只读</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.1.6.1.4" width="23.12%"><p>可选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.22.1.6.1.5" width="23.12%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.12%"><p>priority</p> </td> <td class="cellrowborder" width="23.12%"><p>number</p> </td> <td class="cellrowborder" width="7.520000000000001%"><p>否</p> </td> <td class="cellrowborder" width="23.12%"><p>是</p> </td> <td class="cellrowborder" width="23.12%"><p>配置URPC请求的优先级，默认为0，最大取值为3，表示优先级最高，优先级高的可以优先传输。该字段为预留字段，当前版本并不生效。</p> </td> </tr>  </tbody></table></div> </div> </div> <div></div></div>