<h1 _ngcontent-wlj-c119="" class="doc-title ng-star-inserted" title="video_processing.h"> video_processing.h </h1>

<div _ngcontent-wlj-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="概述" device-type="phone,2in1,tablet">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><p>声明视频处理函数。</p>     <p>提供视频处理能力，包括颜色空间转换、元数据生成和视频缩放。</p>     <p><strong>引用文件：</strong> &lt;multimedia/video_processing_engine/video_processing.h&gt;</p>     <p><strong>库：</strong> libvideo_processing.so</p>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.VideoProcessingEngine</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing">VideoProcessing</a></p>    </div>    <div class="tiledSection">     <h2 id="汇总" device-type="phone,2in1,tablet">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div>    <div class="tiledSection">     <h3 id="函数" device-type="phone,2in1,tablet" class="firsth2">函数<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" width="50%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_initializeenvironment">VideoProcessing_ErrorCode OH_VideoProcessing_InitializeEnvironment(void)</a></td>         <td class="cellrowborder" width="50%">          <p>初始化视频处理全局环境。</p>          <p>该函数是可选的。</p>          <p>该函数只在主进程启动时被调用一次，用于初始化视频处理全局环境，这样可以减少<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_create">OH_VideoProcessing_Create</a>的时间。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_deinitializeenvironment">VideoProcessing_ErrorCode OH_VideoProcessing_DeinitializeEnvironment(void)</a></td>         <td class="cellrowborder" width="50%">          <p>释放视频处理全局环境。</p>          <p>调用前，必须调用<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_initializeenvironment">OH_VideoProcessing_InitializeEnvironment</a>初始化。</p>          <p>通常在主进程即将退出时调用该函数来释放通过调用<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_initializeenvironment">OH_VideoProcessing_InitializeEnvironment</a>函数初始化的全局环境。</p>          <p>如果仍有视频处理的实例运行中，就不能调用该函数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_iscolorspaceconversionsupported">bool OH_VideoProcessing_IsColorSpaceConversionSupported(const VideoProcessing_ColorSpaceInfo* sourceVideoInfo, const VideoProcessing_ColorSpaceInfo* destinationVideoInfo)</a></td>         <td class="cellrowborder" width="50%">查询是否支持视频颜色空间转换。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_ismetadatagenerationsupported">bool OH_VideoProcessing_IsMetadataGenerationSupported(const VideoProcessing_ColorSpaceInfo* sourceVideoInfo)</a></td>         <td class="cellrowborder" width="50%">查询是否支持视频元数据生成。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_create">VideoProcessing_ErrorCode OH_VideoProcessing_Create(OH_VideoProcessing** videoProcessor, int type)</a></td>         <td class="cellrowborder" width="50%">创建视频处理实例。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_destroy">VideoProcessing_ErrorCode OH_VideoProcessing_Destroy(OH_VideoProcessing* videoProcessor)</a></td>         <td class="cellrowborder" width="50%">          <p>销毁视频处理实例。</p>          <p>销毁之前先停止实例，参阅<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_stop">OH_VideoProcessing_Stop</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_registercallback">VideoProcessing_ErrorCode OH_VideoProcessing_RegisterCallback(OH_VideoProcessing* videoProcessor,const VideoProcessing_Callback* callback, void* userData)</a></td>         <td class="cellrowborder" width="50%">          <p>注册回调函数。</p>          <p>在开始视频处理之前注册回调函数，视频处理过程中无法注册回调函数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_setsurface">VideoProcessing_ErrorCode OH_VideoProcessing_SetSurface(OH_VideoProcessing* videoProcessor,const OHNativeWindow* window)</a></td>         <td class="cellrowborder" width="50%">          <p>设置视频处理输出surface。</p>          <p>在视频处理启动之前设置输出surface。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_getsurface">VideoProcessing_ErrorCode OH_VideoProcessing_GetSurface(OH_VideoProcessing* videoProcessor, OHNativeWindow** window)</a></td>         <td class="cellrowborder" width="50%">          <p>创建surface。</p>          <p>在视频处理启动之前创建输入surface。调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-external-window-h#oh_nativewindow_destroynativewindow">OH_NativeWindow_DestroyNativeWindow</a>销毁输入surface。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_setparameter">VideoProcessing_ErrorCode OH_VideoProcessing_SetParameter(OH_VideoProcessing* videoProcessor, const OH_AVFormat* parameter)</a></td>         <td class="cellrowborder" width="50%">设置视频处理输出参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_getparameter">VideoProcessing_ErrorCode OH_VideoProcessing_GetParameter(OH_VideoProcessing* videoProcessor, OH_AVFormat* parameter)</a></td>         <td class="cellrowborder" width="50%">获取视频处理参数。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_start">VideoProcessing_ErrorCode OH_VideoProcessing_Start(OH_VideoProcessing* videoProcessor)</a></td>         <td class="cellrowborder" width="50%">          <p>启动视频处理。</p>          <p>成功启动后，回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onstate">OH_VideoProcessingCallback_OnState</a>会报告<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_state">VIDEO_PROCESSING_STATE_RUNNING</a>状态。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_stop">VideoProcessing_ErrorCode OH_VideoProcessing_Stop(OH_VideoProcessing* videoProcessor)</a></td>         <td class="cellrowborder" width="50%">          <p>停止视频处理。</p>          <p>成功停止后，回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onstate">OH_VideoProcessingCallback_OnState</a>会报告<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_state">VIDEO_PROCESSING_STATE_STOPPED</a>状态。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_renderoutputbuffer">VideoProcessing_ErrorCode OH_VideoProcessing_RenderOutputBuffer(OH_VideoProcessing* videoProcessor, uint32_t index)</a></td>         <td class="cellrowborder" width="50%">          <p>渲染处理并输出buffer。</p>          <p>如果设置了回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onnewoutputbuffer">OH_VideoProcessingCallback_OnNewOutputBuffer</a>，当输出buffer准备好之后会通过回调函数把buffer的索引返回给用户。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessingcallback_create">VideoProcessing_ErrorCode OH_VideoProcessingCallback_Create(VideoProcessing_Callback** callback)</a></td>         <td class="cellrowborder" width="50%">创建视频处理回调函数对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessingcallback_destroy">VideoProcessing_ErrorCode OH_VideoProcessingCallback_Destroy(VideoProcessing_Callback* callback)</a></td>         <td class="cellrowborder" width="50%">销毁回调对象。回调对象在注册之后就可以销毁。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessingcallback_bindonerror">VideoProcessing_ErrorCode OH_VideoProcessingCallback_BindOnError(VideoProcessing_Callback* callback,OH_VideoProcessingCallback_OnError onError)</a></td>         <td class="cellrowborder" width="50%">绑定回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onerror">OH_VideoProcessingCallback_OnError</a>到回调对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessingcallback_bindonstate">VideoProcessing_ErrorCode OH_VideoProcessingCallback_BindOnState(VideoProcessing_Callback* callback,OH_VideoProcessingCallback_OnState onState)</a></td>         <td class="cellrowborder" width="50%">绑定回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onstate">OH_VideoProcessingCallback_OnState</a>到回调对象。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessingcallback_bindonnewoutputbuffer">VideoProcessing_ErrorCode OH_VideoProcessingCallback_BindOnNewOutputBuffer(VideoProcessing_Callback* callback,OH_VideoProcessingCallback_OnNewOutputBuffer onNewOutputBuffer)</a></td>         <td class="cellrowborder" width="50%">绑定回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onnewoutputbuffer">OH_VideoProcessingCallback_OnNewOutputBuffer</a>到回调对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="函数说明" device-type="phone,2in1,tablet">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div></div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_initializeenvironment" device-type="phone,2in1,tablet" class="firsth2">OH_VideoProcessing_InitializeEnvironment()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_initializeenvironment" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-title function_">OH_VideoProcessing_InitializeEnvironment</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>初始化视频处理全局环境。</p>     <p>该函数是可选的。</p>     <p>该函数只在主进程启动时被调用一次，用于初始化视频处理全局环境，这样可以减少<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_create">OH_VideoProcessing_Create</a>的时间。</p>     <p>调用<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_deinitializeenvironment">OH_VideoProcessing_DeinitializeEnvironment</a>释放视频处理全局环境。</p>     <p>初始化后，必须释放视频处理全局环境，释放方式及时机详见<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_deinitializeenvironment">OH_VideoProcessing_DeinitializeEnvironment</a>。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.11.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果初始化成功，返回VIDEO_PROCESSING_SUCCESS，否则返回VIDEO_PROCESSING_ERROR_INITIALIZE_FAILED。</p>          <p>如果失败，应用需要检查GPU是否正常工作。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_deinitializeenvironment" device-type="phone,2in1,tablet">OH_VideoProcessing_DeinitializeEnvironment()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_deinitializeenvironment" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-title function_">OH_VideoProcessing_DeinitializeEnvironment</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>释放视频处理全局环境。</p>     <p>调用前，必须调用<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_initializeenvironment">OH_VideoProcessing_InitializeEnvironment</a>初始化。</p>     <p>通常在主进程即将退出时调用该函数来释放通过调用<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_initializeenvironment">OH_VideoProcessing_InitializeEnvironment</a>函数初始化的全局环境。</p>     <p>如果仍有视频处理的实例运行中，就不能调用该函数。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果执行成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果还有视频处理的实例没有销毁或者没有调用<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_initializeenvironment">OH_VideoProcessing_InitializeEnvironment</a>，返回VIDEO_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_iscolorspaceconversionsupported" device-type="phone,2in1,tablet">OH_VideoProcessing_IsColorSpaceConversionSupported()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_iscolorspaceconversionsupported" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_VideoProcessing_IsColorSpaceConversionSupported</span><span class="hljs-params">(<span class="hljs-type">const</span> VideoProcessing_ColorSpaceInfo* sourceVideoInfo,<span class="hljs-type">const</span> VideoProcessing_ColorSpaceInfo* destinationVideoInfo)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询是否支持视频颜色空间转换。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-videoprocessing-videoprocessing-colorspaceinfo">VideoProcessing_ColorSpaceInfo</a>* sourceVideoInfo</td>         <td class="cellrowborder" width="50%">输入视频颜色空间信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-videoprocessing-videoprocessing-colorspaceinfo">VideoProcessing_ColorSpaceInfo</a>* destinationVideoInfo</td>         <td class="cellrowborder" width="50%">输出视频颜色空间信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bool</td>         <td class="cellrowborder" width="50%">如果支持视频颜色空间转换返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_ismetadatagenerationsupported" device-type="phone,2in1,tablet">OH_VideoProcessing_IsMetadataGenerationSupported()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_ismetadatagenerationsupported" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OH_VideoProcessing_IsMetadataGenerationSupported</span><span class="hljs-params">(<span class="hljs-type">const</span> VideoProcessing_ColorSpaceInfo* sourceVideoInfo)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>查询是否支持视频元数据生成。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/api-videoprocessing-videoprocessing-colorspaceinfo">VideoProcessing_ColorSpaceInfo</a>* sourceVideoInfo</td>         <td class="cellrowborder" width="50%">输入视频颜色空间信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">bool</td>         <td class="cellrowborder" width="50%">如果支持视频元数据生成返回true，否则返回false。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_create" device-type="phone,2in1,tablet">OH_VideoProcessing_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_create" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-go" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode OH_VideoProcessing_Create(OH_VideoProcessing** videoProcessor, <span class="hljs-type">int</span> <span class="hljs-keyword">type</span>)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>创建视频处理实例。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>** videoProcessor</td>         <td class="cellrowborder" width="50%">输出参数。指向视频处理对象的指针的指针。输入前*videoProcessor必须是空指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">int type</td>         <td class="cellrowborder" width="50%">使用VIDEO_PROCESSING_TYPE_XXX来指定处理类型。实例的处理类型不能改变。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果视频处理实例创建成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果处理类型不支持，返回VIDEO_PROCESSING_ERROR_UNSUPPORTED_PROCESSING，例如，不支持元数据生成。</p>          <p>如果创建视频处理实例失败，返回VIDEO_PROCESSING_ERROR_CREATE_FAILED。</p>          <p>如果实例为空或实例的指针非空，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果处理类型无效，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_destroy" device-type="phone,2in1,tablet">OH_VideoProcessing_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_destroy" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessing_Destroy</span>(OH_VideoProcessing* videoProcessor)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>销毁视频处理实例。</p>     <p>销毁之前先停止实例，参阅<a href="/consumer/cn/doc/harmonyos-references/capi-video-processing-h#oh_videoprocessing_stop">OH_VideoProcessing_Stop</a>。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针，建议在实例销毁之后将其设置为空指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果实例销毁成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果实例仍在运行，返回VIDEO_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_registercallback" device-type="phone,2in1,tablet">OH_VideoProcessing_RegisterCallback()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_registercallback" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">VideoProcessing_ErrorCode <span class="hljs-title">OH_VideoProcessing_RegisterCallback</span><span class="hljs-params">(OH_VideoProcessing* videoProcessor,<span class="hljs-type">const</span> VideoProcessing_Callback* callback, <span class="hljs-type">void</span>* userData)</span></span></li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>注册回调函数。</p>     <p>在开始视频处理之前注册回调函数，视频处理过程中无法注册回调函数。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-videoprocessing-callback">VideoProcessing_Callback</a>* callback</td>         <td class="cellrowborder" width="50%">回调函数指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">void* userData</td>         <td class="cellrowborder" width="50%">指向用户特定数据的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果回调函数注册成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果回调函数指针为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>如果实例仍在运行，返回VIDEO_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_setsurface" device-type="phone,2in1,tablet">OH_VideoProcessing_SetSurface()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_setsurface" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title class_">VideoProcessing</span>_ErrorCode <span class="hljs-title function_">OH_VideoProcessing_SetSurface</span>(OH_VideoProcessing* videoProcessor,<span class="hljs-keyword">const</span> <span class="hljs-title class_">OHNativeWindow</span>* <span class="hljs-variable language_">window</span>)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置视频处理输出surface。</p>     <p>在视频处理启动之前设置输出surface。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-nativewindow">OHNativeWindow</a>* window</td>         <td class="cellrowborder" width="50%">指向输出surface的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果输出surface设置成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果window为空指针，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_getsurface" device-type="phone,2in1,tablet">OH_VideoProcessing_GetSurface()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_getsurface" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessing_GetSurface</span>(OH_VideoProcessing* videoProcessor, OHNativeWindow** window)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>创建surface。</p>     <p>在视频处理启动之前创建输入surface。调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-external-window-h#oh_nativewindow_destroynativewindow">OH_NativeWindow_DestroyNativeWindow</a>销毁输入surface。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-nativewindow">OHNativeWindow</a>** window</td>         <td class="cellrowborder" width="50%">指向输入surface的指针。例如，此输入surface指针可以指向视频解码器输出surface。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果执行成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果window为空指针或指向window的指针不为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>如果创建surface失败，或者输入surface已经创建，或者视频处理实例还在运行，返回VIDEO_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_setparameter" device-type="phone,2in1,tablet">OH_VideoProcessing_SetParameter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_setparameter" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessing_SetParameter</span>(OH_VideoProcessing* videoProcessor,const OH_AVFormat* parameter)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>设置视频处理输出参数。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-avformat">OH_AVFormat</a>* parameter</td>         <td class="cellrowborder" width="50%">指向视频处理参数实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果参数设置成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果参数为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>如果参数的某些属性无效，返回VIDEO_PROCESSING_ERROR_INVALID_VALUE，例如，包含不支持的参数值。</p>          <p>如果内存分配失败，返回VIDEO_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_getparameter" device-type="phone,2in1,tablet">OH_VideoProcessing_GetParameter()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_getparameter" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessing_GetParameter</span>(OH_VideoProcessing* videoProcessor, OH_AVFormat* parameter)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>获取视频处理参数。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-avformat">OH_AVFormat</a>* parameter</td>         <td class="cellrowborder" width="50%">指向视频处理参数实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果参数获取成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果参数为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_start" device-type="phone,2in1,tablet">OH_VideoProcessing_Start()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_start" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessing_Start</span>(OH_VideoProcessing* videoProcessor)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>启动视频处理。</p>     <p>成功启动后，回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onstate">OH_VideoProcessingCallback_OnState</a>会报告<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_state">VideoProcessing_State</a>.VIDEO_PROCESSING_STATE_RUNNING状态。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果执行成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果没有设置输出surface，或者没有创建输入surface，或者实例已经运行，返回VIDEO_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_stop" device-type="phone,2in1,tablet">OH_VideoProcessing_Stop()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_stop" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessing_Stop</span>(OH_VideoProcessing* videoProcessor)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>停止视频处理。</p>     <p>成功停止后，回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onstate">OH_VideoProcessingCallback_OnState</a>会报告<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_state">VideoProcessing_State</a>.VIDEO_PROCESSING_STATE_STOPPED状态。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果执行成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果实例已经停止，返回VIDEO_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessing_renderoutputbuffer" device-type="phone,2in1,tablet">OH_VideoProcessing_RenderOutputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessing_renderoutputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessing_RenderOutputBuffer</span>(OH_VideoProcessing* videoProcessor, uint32_t index)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>渲染处理并输出buffer。</p>     <p>如果设置了回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onnewoutputbuffer">OH_VideoProcessingCallback_OnNewOutputBuffer</a>，当输出buffer准备好之后会通过回调函数把buffer的索引返回给用户。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.8.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-oh-videoprocessing">OH_VideoProcessing</a>* videoProcessor</td>         <td class="cellrowborder" width="50%">指向视频处理实例的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">uint32_t index</td>         <td class="cellrowborder" width="50%">输出buffer的索引。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果执行成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果实例为空或者不是一个视频处理实例，返回VIDEO_PROCESSING_ERROR_INVALID_INSTANCE。</p>          <p>如果索引值无效，输出VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>如果没有设置回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onnewoutputbuffer">OH_VideoProcessingCallback_OnNewOutputBuffer</a>或者实例已经停止运行，返回VIDEO_PROCESSING_ERROR_OPERATION_NOT_PERMITTED。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessingcallback_create" device-type="phone,2in1,tablet">OH_VideoProcessingCallback_Create()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessingcallback_create" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessingCallback_Create</span>(VideoProcessing_Callback** callback)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>创建视频处理回调函数对象。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-videoprocessing-callback">VideoProcessing_Callback</a>** callback</td>         <td class="cellrowborder" width="50%">输出参数。*callback是指向回调函数对象的指针。在创建回调函数对象之前*callback必须为空指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果回调函数对象创建成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果callback为空或者callback不为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p>          <p>如果内存不足，返回VIDEO_PROCESSING_ERROR_NO_MEMORY。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessingcallback_destroy" device-type="phone,2in1,tablet">OH_VideoProcessingCallback_Destroy()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessingcallback_destroy" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessingCallback_Destroy</span>(VideoProcessing_Callback* callback)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>销毁回调对象。回调对象在注册之后就可以销毁。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-videoprocessing-callback">VideoProcessing_Callback</a>* callback</td>         <td class="cellrowborder" width="50%">指向回调对象的指针，建议在回调对象销毁之后将其设置为空指针。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果回调对象销毁成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果callback为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessingcallback_bindonerror" device-type="phone,2in1,tablet">OH_VideoProcessingCallback_BindOnError()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessingcallback_bindonerror" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessingCallback_BindOnError</span>(VideoProcessing_Callback* callback,OH_VideoProcessingCallback_OnError onError)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>绑定回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onerror">OH_VideoProcessingCallback_OnError</a>到回调对象。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-videoprocessing-callback">VideoProcessing_Callback</a>* callback</td>         <td class="cellrowborder" width="50%">指向回调对象的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onerror">OH_VideoProcessingCallback_OnError</a> onError</td>         <td class="cellrowborder" width="50%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果函数绑定成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果callback为空或者onError为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessingcallback_bindonstate" device-type="phone,2in1,tablet">OH_VideoProcessingCallback_BindOnState()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessingcallback_bindonstate" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessingCallback_BindOnState</span>(VideoProcessing_Callback* callback,OH_VideoProcessingCallback_OnState onState)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>绑定回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onstate">OH_VideoProcessingCallback_OnState</a>到回调对象。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-videoprocessing-callback">VideoProcessing_Callback</a>* callback</td>         <td class="cellrowborder" width="50%">指向回调对象的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onstate">OH_VideoProcessingCallback_OnState</a> onState</td>         <td class="cellrowborder" width="50%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果函数绑定成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果callback为空或者onState为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="oh_videoprocessingcallback_bindonnewoutputbuffer" device-type="phone,2in1,tablet">OH_VideoProcessingCallback_BindOnNewOutputBuffer()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="oh_videoprocessingcallback_bindonnewoutputbuffer" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span></div><div _ngcontent-wlj-c106="" class="highlight-div"><div _ngcontent-wlj-c106="" class="highlight-div-header"><div _ngcontent-wlj-c106="" class="highlight-div-header-left"><div _ngcontent-wlj-c106="" class="handle-button expand-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wlj-c106="" class="highlight-div-header-right"><div _ngcontent-wlj-c106="" class="handle-button ai-button"></div><div _ngcontent-wlj-c106="" class="handle-button line-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wlj-c106="" class="handle-button theme-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wlj-c106="" class="handle-button copy-button"><div _ngcontent-wlj-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wlj-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VideoProcessing_ErrorCode <span class="hljs-built_in">OH_VideoProcessingCallback_BindOnNewOutputBuffer</span>(VideoProcessing_Callback* callback,OH_VideoProcessingCallback_OnNewOutputBuffer onNewOutputBuffer)</li></ol></pre></div></div>     <p><strong>描述</strong></p>     <p>绑定回调函数<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onnewoutputbuffer">OH_VideoProcessingCallback_OnNewOutputBuffer</a>到回调对象。</p>     <p><strong>起始版本：</strong> 12</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.1" width="50%">参数项</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.3.1.2" width="50%">描述</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-videoprocessing-videoprocessing-callback">VideoProcessing_Callback</a>* callback</td>         <td class="cellrowborder" width="50%">指向回调对象的指针。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#oh_videoprocessingcallback_onnewoutputbuffer">OH_VideoProcessingCallback_OnNewOutputBuffer</a> onNewOutputBuffer</td>         <td class="cellrowborder" width="50%">回调函数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-video-processing-types-h#videoprocessing_errorcode">VideoProcessing_ErrorCode</a></td>         <td class="cellrowborder" width="50%">          <p>如果函数绑定成功，返回VIDEO_PROCESSING_SUCCESS。</p>          <p>如果callback为空，返回VIDEO_PROCESSING_ERROR_INVALID_PARAMETER。</p></td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>