<h1 _ngcontent-sxv-c119="" class="doc-title ng-star-inserted" title="vulkan_ohos.h"> vulkan_ohos.h </h1>

<div _ngcontent-sxv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="概述" device-type="phone,2in1,tablet,wearable,tv">概述<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="概述" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>定义了HarmonyOS平台扩展的Vulkan接口。</p> <p><strong>引用文件：</strong> &lt;vulkan/vulkan_ohos.h&gt;</p> <p><strong>库：</strong> libvulkan.so</p> <p><strong>起始版本：</strong> 10</p> <p><strong>相关模块：</strong> <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan">Vulkan</a></p> </div>  <div class="tiledSection"><h2 id="汇总" device-type="phone,2in1,tablet,wearable,tv">汇总<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="汇总" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="结构体" class="firsth2">结构体<i class="anchor-icon anchor-icon-link" anchorid="结构体" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vksurfacecreateinfoohos">VkSurfaceCreateInfoOHOS</a></td> <td class="cellrowborder" width="33.33333333333333%">VkSurfaceCreateInfoOHOS</td> <td class="cellrowborder" width="33.33333333333333%">包含创建Vulkan Surface时必要的参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vknativebufferusageohos">VkNativeBufferUsageOHOS</a></td> <td class="cellrowborder" width="33.33333333333333%">VkNativeBufferUsageOHOS</td> <td class="cellrowborder" width="33.33333333333333%">提供HarmonyOS NativeBuffer用途的说明。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vknativebufferpropertiesohos">VkNativeBufferPropertiesOHOS</a></td> <td class="cellrowborder" width="33.33333333333333%">VkNativeBufferPropertiesOHOS</td> <td class="cellrowborder" width="33.33333333333333%">包含了NativeBuffer的属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vknativebufferformatpropertiesohos">VkNativeBufferFormatPropertiesOHOS</a></td> <td class="cellrowborder" width="33.33333333333333%">VkNativeBufferFormatPropertiesOHOS</td> <td class="cellrowborder" width="33.33333333333333%">包含了NativeBuffer的一些格式属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vkimportnativebufferinfoohos">VkImportNativeBufferInfoOHOS</a></td> <td class="cellrowborder" width="33.33333333333333%">VkImportNativeBufferInfoOHOS</td> <td class="cellrowborder" width="33.33333333333333%">包含了OH_NativeBuffer结构体的指针。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vkmemorygetnativebufferinfoohos">VkMemoryGetNativeBufferInfoOHOS</a></td> <td class="cellrowborder" width="33.33333333333333%">VkMemoryGetNativeBufferInfoOHOS</td> <td class="cellrowborder" width="33.33333333333333%">用于从Vulkan内存中获取OH_NativeBuffer。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vkexternalformatohos">VkExternalFormatOHOS</a></td> <td class="cellrowborder" width="33.33333333333333%">VkExternalFormatOHOS</td> <td class="cellrowborder" width="33.33333333333333%">表示外部定义的格式标识符。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-nativewindow">NativeWindow</a></td> <td class="cellrowborder" width="33.33333333333333%">OHNativeWindow</td> <td class="cellrowborder" width="33.33333333333333%">本地窗口。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-oh-nativebuffer">OH_NativeBuffer</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">OH_NativeBuffer结构体声明。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="宏定义">宏定义<i class="anchor-icon anchor-icon-link" anchorid="宏定义" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VK_OHOS_surface 1</td> <td class="cellrowborder" width="50%"><p>HarmonyOS平台Surface扩展宏定义。</p> <p><strong>起始版本：</strong> 10</p> </td> </tr> <tr><td class="cellrowborder" width="50%">VK_OHOS_SURFACE_SPEC_VERSION 1</td> <td class="cellrowborder" width="50%"><p>HarmonyOS平台Surface扩展版本号。</p> <p><strong>起始版本：</strong> 10</p> </td> </tr> <tr><td class="cellrowborder" width="50%">VK_OHOS_SURFACE_EXTENSION_NAME "VK_OHOS_surface"</td> <td class="cellrowborder" width="50%"><p>HarmonyOS平台Surface扩展名。</p> <p><strong>起始版本：</strong> 10</p> </td> </tr> <tr><td class="cellrowborder" width="50%">VK_OHOS_external_memory 1</td> <td class="cellrowborder" width="50%"><p>HarmonyOS平台external_memory扩展宏定义。</p> <p><strong>起始版本：</strong> 10</p> </td> </tr> <tr><td class="cellrowborder" width="50%">VK_OHOS_EXTERNAL_MEMORY_SPEC_VERSION 1</td> <td class="cellrowborder" width="50%"><p>HarmonyOS平台external_memory扩展版本号。</p> <p><strong>起始版本：</strong> 10</p> </td> </tr> <tr><td class="cellrowborder" width="50%">VK_OHOS_EXTERNAL_MEMORY_EXTENSION_NAME "VK_OHOS_external_memory"</td> <td class="cellrowborder" width="50%"><p>HarmonyOS平台external_memory扩展名。</p> <p><strong>起始版本：</strong> 10</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="函数">函数<i class="anchor-icon anchor-icon-link" anchorid="函数" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">typedef关键字</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#pfn_vkcreatesurfaceohos">VkResult (VKAPI_PTR PFN_vkCreateSurfaceOHOS)(VkInstance instance, const VkSurfaceCreateInfoOHOS pCreateInfo, const VkAllocationCallbacks* pAllocator, VkSurfaceKHR* pSurface)</a></td> <td class="cellrowborder" width="33.33333333333333%">PFN_vkCreateSurfaceOHOS</td> <td class="cellrowborder" width="33.33333333333333%">创建Vulkan Surface的函数指针定义。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#vkcreatesurfaceohos">VKAPI_ATTR VkResult VKAPI_CALL vkCreateSurfaceOHOS(VkInstance instance, const VkSurfaceCreateInfoOHOS* pCreateInfo, const VkAllocationCallbacks* pAllocator, VkSurfaceKHR* pSurface)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">创建Vulkan Surface。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#pfn_vkgetnativebufferpropertiesohos">VkResult (VKAPI_PTR PFN_vkGetNativeBufferPropertiesOHOS)(VkDevice device, const struct OH_NativeBuffer buffer, VkNativeBufferPropertiesOHOS* pProperties)</a></td> <td class="cellrowborder" width="33.33333333333333%">PFN_vkGetNativeBufferPropertiesOHOS</td> <td class="cellrowborder" width="33.33333333333333%">获取OH_NativeBuffer属性的函数指针定义。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#pfn_vkgetmemorynativebufferohos">VkResult (VKAPI_PTR PFN_vkGetMemoryNativeBufferOHOS)(VkDevice device, const VkMemoryGetNativeBufferInfoOHOS pInfo, struct OH_NativeBuffer** pBuffer)</a></td> <td class="cellrowborder" width="33.33333333333333%">PFN_vkGetMemoryNativeBufferOHOS</td> <td class="cellrowborder" width="33.33333333333333%">获取OH_NativeBuffer的函数指针定义。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#vkgetnativebufferpropertiesohos">VKAPI_ATTR VkResult VKAPI_CALL vkGetNativeBufferPropertiesOHOS(VkDevice device, const struct OH_NativeBuffer* buffer, VkNativeBufferPropertiesOHOS* pProperties)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取OH_NativeBuffer属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#vkgetmemorynativebufferohos">VKAPI_ATTR VkResult VKAPI_CALL vkGetMemoryNativeBufferOHOS(VkDevice device, const VkMemoryGetNativeBufferInfoOHOS* pInfo, struct OH_NativeBuffer** pBuffer)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">获取OH_NativeBuffer。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#vkgetswapchaingrallocusageohos">VKAPI_ATTR VkResult VKAPI_CALL vkGetSwapchainGrallocUsageOHOS(VkDevice device, VkFormat format, VkImageUsageFlags imageUsage, uint64_t* grallocUsage)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">根据给定的Vulkan设备、图像格式和图像使用标志, 返回适当的Gralloc(内存分配器)使用标志。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#vkacquireimageohos">VKAPI_ATTR VkResult VKAPI_CALL vkAcquireImageOHOS(VkDevice device, VkImage image, int32_t nativeFenceFd, VkSemaphore semaphore, VkFence fence)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">用于获取交换链图像的所有权, 并将外部信号的Fence导入到VkSemaphore对象和VkFence对象中。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%"><a href="/consumer/cn/doc/harmonyos-references/capi-vulkan-ohos-h#vkqueuesignalreleaseimageohos">VKAPI_ATTR VkResult VKAPI_CALL vkQueueSignalReleaseImageOHOS(VkQueue queue, uint32_t waitSemaphoreCount, const VkSemaphore* pWaitSemaphores, VkImage image, int32_t* pNativeFenceFd)</a></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">当前图像使用完毕后，通过该函数向系统硬件缓冲区发出释放信号, 以便其他组件可以访问该图像。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="函数说明" device-type="phone,2in1,tablet,wearable,tv">函数说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="函数说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="pfn_vkcreatesurfaceohos" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">PFN_vkCreateSurfaceOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pfn_vkcreatesurfaceohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">VkResult</span> <span class="hljs-params">(VKAPI_PTR *PFN_vkCreateSurfaceOHOS)</span><span class="hljs-params">(VkInstance instance, <span class="hljs-type">const</span> VkSurfaceCreateInfoOHOS* pCreateInfo, <span class="hljs-type">const</span> VkAllocationCallbacks* pAllocator, VkSurfaceKHR* pSurface)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建Vulkan Surface的函数指针定义。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.7.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkInstance instance</td> <td class="cellrowborder" width="50%">Vulkan实例。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vksurfacecreateinfoohos">const VkSurfaceCreateInfoOHOS</a>* pCreateInfo</td> <td class="cellrowborder" width="50%">一个VkSurfaceCreateInfoOHOS结构体的指针，包含创建Vulkan Surface时必要的参数。</td> </tr> <tr><td class="cellrowborder" width="50%">const VkAllocationCallbacks* pAllocator</td> <td class="cellrowborder" width="50%">用户自定义内存分配的回调函数，如果不需要可以传入NULL，接口会使用默认的内存分配函数。</td> </tr> <tr><td class="cellrowborder" width="50%">VkSurfaceKHR* pSurface</td> <td class="cellrowborder" width="50%">出参，用于接收创建的Vulkan Surface，类型为VkSurfaceKHR。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%">返回一个VkResult类型的错误码，返回值为VK_SUCCESS表示执行成功。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="vkcreatesurfaceohos" device-type="phone,2in1,tablet,wearable,tv">vkCreateSurfaceOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vkcreatesurfaceohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">VKAPI_ATTR VkResult VKAPI_CALL <span class="hljs-title">vkCreateSurfaceOHOS</span><span class="hljs-params">(VkInstance instance, <span class="hljs-type">const</span> VkSurfaceCreateInfoOHOS* pCreateInfo, <span class="hljs-type">const</span> VkAllocationCallbacks* pAllocator, VkSurfaceKHR* pSurface)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>创建Vulkan Surface。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkInstance instance</td> <td class="cellrowborder" width="50%">Vulkan实例。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vksurfacecreateinfoohos">const VkSurfaceCreateInfoOHOS</a>* pCreateInfo</td> <td class="cellrowborder" width="50%">一个VkSurfaceCreateInfoOHOS结构体的指针，包含创建Vulkan Surface时必要的参数。</td> </tr> <tr><td class="cellrowborder" width="50%">const VkAllocationCallbacks* pAllocator</td> <td class="cellrowborder" width="50%">用户自定义内存分配的回调函数，如果不需要可以传入NULL，接口会使用默认的内存分配函数。</td> </tr> <tr><td class="cellrowborder" width="50%">VkSurfaceKHR* pSurface</td> <td class="cellrowborder" width="50%">出参，用于接收创建的Vulkan Surface，类型为VkSurfaceKHR。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%"><p>返回一个VkResult类型的错误码，具体返回类型如下：</p> <p> 返回VK_SUCCESS，表示执行成功。</p> <p> 返回VK_ERROR_OUT_OF_HOST_MEMORY，表示分配VkSurfaceKHR内存失败。</p> <p> 返回VK_ERROR_SURFACE_LOST_KHR，表示操作NativeWindow失败。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="pfn_vkgetnativebufferpropertiesohos" device-type="phone,2in1,tablet,wearable,tv">PFN_vkGetNativeBufferPropertiesOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pfn_vkgetnativebufferpropertiesohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">VkResult</span> <span class="hljs-params">(VKAPI_PTR *PFN_vkGetNativeBufferPropertiesOHOS)</span><span class="hljs-params">(VkDevice device, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_NativeBuffer* buffer, VkNativeBufferPropertiesOHOS* pProperties)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取OH_NativeBuffer属性的函数指针定义。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkDevice device</td> <td class="cellrowborder" width="50%">VkDevice对象。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-oh-nativebuffer">struct OH_NativeBuffer</a>* buffer</td> <td class="cellrowborder" width="50%">OH_NativeBuffer结构体指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vknativebufferpropertiesohos">VkNativeBufferPropertiesOHOS</a>* pProperties</td> <td class="cellrowborder" width="50%">用于接收OH_NativeBuffer属性的结构体。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%">返回一个VkResult类型的错误码，返回值为VK_SUCCESS表示执行成功。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="pfn_vkgetmemorynativebufferohos" device-type="phone,2in1,tablet,wearable,tv">PFN_vkGetMemoryNativeBufferOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="pfn_vkgetmemorynativebufferohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">VkResult</span> <span class="hljs-params">(VKAPI_PTR *PFN_vkGetMemoryNativeBufferOHOS)</span><span class="hljs-params">(VkDevice device, <span class="hljs-type">const</span> VkMemoryGetNativeBufferInfoOHOS* pInfo, <span class="hljs-keyword">struct</span> OH_NativeBuffer** pBuffer)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取OH_NativeBuffer的函数指针定义。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkDevice device</td> <td class="cellrowborder" width="50%">VkDevice对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vkmemorygetnativebufferinfoohos">const VkMemoryGetNativeBufferInfoOHOS</a>* pInfo</td> <td class="cellrowborder" width="50%">VkMemoryGetNativeBufferInfoOHOS结构体对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-oh-nativebuffer">struct OH_NativeBuffer</a>** pBuffer</td> <td class="cellrowborder" width="50%">用于接收获取到的OH_NativeBuffer。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%">返回一个VkResult类型的错误码，返回值为VK_SUCCESS表示执行成功。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="vkgetnativebufferpropertiesohos" device-type="phone,2in1,tablet,wearable,tv">vkGetNativeBufferPropertiesOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vkgetnativebufferpropertiesohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">VKAPI_ATTR VkResult VKAPI_CALL <span class="hljs-title">vkGetNativeBufferPropertiesOHOS</span><span class="hljs-params">(VkDevice device, <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> OH_NativeBuffer* buffer, VkNativeBufferPropertiesOHOS* pProperties)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取OH_NativeBuffer属性。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkDevice device</td> <td class="cellrowborder" width="50%">VkDevice对象。</td> </tr> <tr><td class="cellrowborder" width="50%">const <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-oh-nativebuffer">struct OH_NativeBuffer</a>* buffer</td> <td class="cellrowborder" width="50%">OH_NativeBuffer结构体指针。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vknativebufferpropertiesohos">VkNativeBufferPropertiesOHOS</a>* pProperties</td> <td class="cellrowborder" width="50%">用于接收OH_NativeBuffer属性的结构体。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%"><p>返回一个VkResult类型的错误码，具体返回类型如下：</p> <p> 返回VK_SUCCESS，表示执行成功。</p> <p> 返回VK_ERROR_INVALID_EXTERNAL_HANDLE_KHR，表示入参存在异常。</p> <p> 返回VK_ERROR_OUT_OF_DEVICE_MEMORY，表示设备内存不足。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="vkgetmemorynativebufferohos" device-type="phone,2in1,tablet,wearable,tv">vkGetMemoryNativeBufferOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vkgetmemorynativebufferohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">VKAPI_ATTR VkResult VKAPI_CALL <span class="hljs-title">vkGetMemoryNativeBufferOHOS</span><span class="hljs-params">(VkDevice device, <span class="hljs-type">const</span> VkMemoryGetNativeBufferInfoOHOS* pInfo, <span class="hljs-keyword">struct</span> OH_NativeBuffer** pBuffer)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>获取OH_NativeBuffer。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkDevice device</td> <td class="cellrowborder" width="50%">VkDevice对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-vkmemorygetnativebufferinfoohos">const VkMemoryGetNativeBufferInfoOHOS</a>* pInfo</td> <td class="cellrowborder" width="50%">VkMemoryGetNativeBufferInfoOHOS结构体对象。</td> </tr> <tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/capi-vulkan-oh-nativebuffer">struct OH_NativeBuffer</a>** pBuffer</td> <td class="cellrowborder" width="50%">用于接收获取到的OH_NativeBuffer。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%"><p>返回一个VkResult类型的错误码，具体返回类型如下：</p> <p> 返回VK_SUCCESS，表示执行成功。</p> <p> 返回VK_ERROR_OUT_OF_HOST_MEMORY，表示pInfo入参异常，或获取的pBuffer异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="vkgetswapchaingrallocusageohos" device-type="phone,2in1,tablet,wearable,tv">vkGetSwapchainGrallocUsageOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vkgetswapchaingrallocusageohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VKAPI_ATTR VkResult VKAPI_CALL <span class="hljs-built_in">vkGetSwapchainGrallocUsageOHOS</span>(VkDevice device, VkFormat format, VkImageUsageFlags imageUsage, uint64_t* grallocUsage)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>根据给定的Vulkan设备、图像格式和图像使用标志, 返回适当的Gralloc(内存分配器)使用标志。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkDevice device</td> <td class="cellrowborder" width="50%">VkDevice对象。</td> </tr> <tr><td class="cellrowborder" width="50%">VkFormat format</td> <td class="cellrowborder" width="50%">图像格式。</td> </tr> <tr><td class="cellrowborder" width="50%">VkImageUsageFlags imageUsage</td> <td class="cellrowborder" width="50%">图像使用标志。</td> </tr> <tr><td class="cellrowborder" width="50%">uint64_t* grallocUsage</td> <td class="cellrowborder" width="50%">出参, 返回Gralloc(内存分配器)使用标志。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%"><p>返回一个VkResult类型的错误码，具体返回类型如下：</p> <p> 返回VK_SUCCESS，表示执行成功。</p> <p> 返回VK_ERROR_INITIALIZATION_FAILED，表示入参异常。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="vkacquireimageohos" device-type="phone,2in1,tablet,wearable,tv">vkAcquireImageOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vkacquireimageohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>VKAPI_ATTR VkResult VKAPI_CALL <span class="hljs-built_in">vkAcquireImageOHOS</span>(VkDevice device, VkImage image, int32_t nativeFenceFd, VkSemaphore semaphore, VkFence fence)</li></ol></pre></div></div> <p><strong>描述</strong></p> <p>用于获取交换链图像的所有权, 并将外部信号的Fence导入到VkSemaphore对象和VkFence对象中。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkDevice device</td> <td class="cellrowborder" width="50%">VkDevice对象。</td> </tr> <tr><td class="cellrowborder" width="50%">VkImage image</td> <td class="cellrowborder" width="50%">要获取的Vulkan图像。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t nativeFenceFd</td> <td class="cellrowborder" width="50%">原生Fence的文件描述符。</td> </tr> <tr><td class="cellrowborder" width="50%">VkSemaphore semaphore</td> <td class="cellrowborder" width="50%">表示图像可用状态的Vulkan Semaphore(信号量)。</td> </tr> <tr><td class="cellrowborder" width="50%">VkFence fence</td> <td class="cellrowborder" width="50%">用于在图像获取完成时进行同步的Vulkan Fence。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%"><p>返回一个VkResult类型的错误码，具体返回类型如下：</p> <p> 返回VK_SUCCESS，表示执行成功。</p> <p> 返回VK_ERROR_OUT_OF_HOST_MEMORY，表示主机内存不足。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="vkqueuesignalreleaseimageohos" device-type="phone,2in1,tablet,wearable,tv">vkQueueSignalReleaseImageOHOS()<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="vkqueuesignalreleaseimageohos" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div _ngcontent-sxv-c106="" class="highlight-div"><div _ngcontent-sxv-c106="" class="highlight-div-header"><div _ngcontent-sxv-c106="" class="highlight-div-header-left"><div _ngcontent-sxv-c106="" class="handle-button expand-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sxv-c106="" class="highlight-div-header-right"><div _ngcontent-sxv-c106="" class="handle-button ai-button"></div><div _ngcontent-sxv-c106="" class="handle-button line-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sxv-c106="" class="handle-button theme-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sxv-c106="" class="handle-button copy-button"><div _ngcontent-sxv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sxv-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">VKAPI_ATTR VkResult VKAPI_CALL <span class="hljs-title">vkQueueSignalReleaseImageOHOS</span><span class="hljs-params">(VkQueue queue, <span class="hljs-type">uint32_t</span> waitSemaphoreCount, <span class="hljs-type">const</span> VkSemaphore* pWaitSemaphores, VkImage image, <span class="hljs-type">int32_t</span>* pNativeFenceFd)</span></span></li></ol></pre></div></div> <p><strong>描述</strong></p> <p>当前图像使用完毕后，通过该函数向系统硬件缓冲区发出释放信号, 以便其他组件可以访问该图像。</p> <p><strong>系统能力：</strong> SystemCapability.Graphic.Vulkan</p> <p><strong>起始版本：</strong> 10</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.1" width="50%">参数项</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">VkQueue queue</td> <td class="cellrowborder" width="50%">Vulkan队列的句柄。</td> </tr> <tr><td class="cellrowborder" width="50%">uint32_t waitSemaphoreCount</td> <td class="cellrowborder" width="50%">等待Semaphore(信号量)的数量。</td> </tr> <tr><td class="cellrowborder" width="50%">const VkSemaphore* pWaitSemaphores</td> <td class="cellrowborder" width="50%">指向等待Semaphore(信号量)数组的指针。</td> </tr> <tr><td class="cellrowborder" width="50%">VkImage image</td> <td class="cellrowborder" width="50%">要释放的Vulkan图像句柄。</td> </tr> <tr><td class="cellrowborder" width="50%">int32_t* pNativeFenceFd</td> <td class="cellrowborder" width="50%">指向Fence的文件描述符的指针。</td> </tr>  </tbody></table></div> </div> <p><strong>返回：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">VkResult</td> <td class="cellrowborder" width="50%"><p>返回一个VkResult类型的错误码，具体返回类型如下：</p> <p> 返回VK_SUCCESS，表示执行成功。</p> <p> 返回VK_ERROR_DEVICE_LOST，表示Vulkan设备链接丢失。</p> <p> 返回VK_ERROR_OUT_OF_HOST_MEMORY，表示主机内存不足。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>