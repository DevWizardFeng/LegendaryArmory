<h1 _ngcontent-bxs-c119="" class="doc-title ng-star-inserted" title="zlib子系统错误码"> zlib子系统错误码 </h1>

<div _ngcontent-bxs-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>以下仅介绍本模块特有错误码，通用错误码请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="section900001-传入的源文件错误" device-type="phone,2in1,tablet,wearable,tv">900001 传入的源文件错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section900001-传入的源文件错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The input source file is invalid.</p>     <p><strong>错误描述</strong></p>     <p>当调用compressFile或decompressFile接口时，传入源文件无效。</p>     <p><strong>可能原因</strong></p>     <p>当调用compressFile接口时，传入的待压缩的文件不存在；当调用decompressFile接口时，传入的待解压缩的文件不存在。</p>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查源文件是否存在。</li>      <li>检查源文件的后缀是否为.zip。</li>      <li>检查待压缩的文件路径是否存在，并且路径是否在正确的沙箱路径下。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section900002-传入的目标文件错误" device-type="phone,2in1,tablet,wearable,tv">900002 传入的目标文件错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section900002-传入的目标文件错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The input destination file is invalid.</p>     <p><strong>错误描述</strong></p>     <p>当调用compressFile或decompressFile接口时，传入目标文件无效。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>当调用compressFile接口时，传入的目标文件路径无效，如不存在的沙箱路径。</li>      <li>当调用decompressFile接口时，传入的目标目录不存在。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查目标文件路径是否正确，如果不正确，填写正确的沙箱路径。</li>      <li>检查目标文件目录是否存在，如果不存在，新建这个路径。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section900003-传入的源文件格式错误或者已损坏" device-type="phone,2in1,tablet,wearable,tv">900003 传入的源文件格式错误或者已损坏<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section900003-传入的源文件格式错误或者已损坏" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The input source file is not in ZIP format or is damaged.</p>     <p><strong>错误描述</strong></p>     <p>当调用decompressFile接口时，传入源文件的压缩格式有误或者已损坏。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>当调用decompressFile接口时，传入的源文件压缩格式有误。</li>      <li>当调用decompressFile接口时，传入的源文件不完整或已损坏。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查源文件压缩格式是否为ZIP格式。</li>      <li>检查源文件是否完整，如果是网络下载的，需要确保文件下载完成后再调用decompress接口。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section17800002-传入的文件或访问模式错误" device-type="phone,2in1,tablet,wearable,tv">17800002 传入的文件或访问模式错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17800002-传入的文件或访问模式错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>No such file or access mode error.</p>     <p><strong>错误描述</strong></p>     <p>当调用gzopen或gzdopen接口时，传入的文件路径、文件描述符或文件访问模式错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>当调用gzopen接口时，传入的文件路径或文件访问模式错误。</li>      <li>当调用gzdopen接口时，传入的文件描述符或文件访问模式错误。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查gz文件路径或文件描述符是否正确，如果是新建gz文件的操作，需要确保文件访问模式为压缩模式(w或wb等)。</li>      <li>检查文件访问模式，是否为"w"、"wb"、"r"、"rb"、"a"、"ab"等。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section17800004-压缩流或解压流错误" device-type="phone,2in1,tablet,wearable,tv">17800004 压缩流或解压流错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17800004-压缩流或解压流错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Compression or decompression stream error, which may be caused by an initialization error in the zlib stream structure or a modified structure.</p>     <p><strong>错误描述</strong></p>     <p>当调用deflate或inflate等接口时，压缩流或解压流发生错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>当调用deflate或inflate等接口时，未先使用deflateInit或inflateInit接口对压缩或解压流进行初始化。</li>      <li>当调用gzsetparams、gzclose或gzflush等接口时，传入的刷新模式错误或接口调用前，调用打开gz文件的相关接口时传入的文件访问模式错误。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>当调用deflate或inflate等接口前，先使用deflateInit或inflateInit接口对压缩或解压流进行初始化。</li>      <li>检查接口调用前，打开gz文件的相关接口是否未被调用或调用失败。</li>      <li>检查接口调用前，调用打开gz文件的相关接口时传入的访问模式是否与该接口匹配。例如gzprintf属于压缩操作接口，调用打开gz文件的相关接口时传入的访问模式需要为压缩模式(w或wb等)。</li>      <li>检查传入的枚举参数是否正确。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section17800005-传入的数据错误" device-type="phone,2in1,tablet,wearable,tv">17800005 传入的数据错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17800005-传入的数据错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The input data is incorrect. For example, the data does not conform to the zlib compression format, the compressed data is corrupted, or the data is not compressed.</p>     <p><strong>错误描述</strong></p>     <p>当调用uncompress或uncompress2等接口时，传入的数据错误。</p>     <p><strong>可能原因</strong></p>     <p>当调用uncompress或uncompress2接口时，未先使用compress接口进行压缩。</p>     <p><strong>处理步骤</strong></p>     <p>先使用compress进行压缩后再通过uncompress2或uncompress进行解压。</p>    </div>    <div class="tiledSection">     <h2 id="section17800006-内存分配失败错误" device-type="phone,2in1,tablet,wearable,tv">17800006 内存分配失败错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17800006-内存分配失败错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Memory allocation failed.</p>     <p><strong>错误描述</strong></p>     <p>当调用gzclose或gzclosew接口时，内存分配失败。</p>     <p><strong>可能原因</strong></p>     <p>在调用gzclose或gzclosew接口前，调用了gzsetparams接口，传入错误的压缩级别或压缩策略。</p>     <p><strong>处理步骤</strong></p>     <p>检查gzsetparams接口的调用，传入正确的压缩级别和压缩策略。</p>    </div>    <div class="tiledSection">     <h2 id="section17800007-传入的缓冲区错误" device-type="phone,2in1,tablet,wearable,tv">17800007 传入的缓冲区错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17800007-传入的缓冲区错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The input buffer is incorrect, and the output buffer is too small to accommodate the compressed or decompressed data.</p>     <p><strong>错误描述</strong></p>     <p>当调用compress或compress2或uncompress或uncompress2接口时，传入的缓冲区错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>当调用uncompress或uncompress2接口时，传入的输入buffer大小大于解压后输出buffer的大小。</li>      <li>当调用compress或compress2接口时，传入的输入buffer大小大于压缩后输出buffer的大小。</li>      <li>当调用compress或compress2或uncompress或uncompress2接口，传入的buffer大小为0。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>增大对应buffer的大小。</p>    </div>    <div class="tiledSection">     <h2 id="section17800009-内部结构错误" device-type="phone,2in1,tablet,wearable,tv">17800009 内部结构错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section17800009-内部结构错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Internal structure error.</p>     <p><strong>错误描述</strong></p>     <p>当调用gzputc、gzwrite、gzread等接口时，传入的参数错误或接口调用前，调用打开gz文件的相关接口时传入的文件访问模式错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>当调用接口前，打开gz文件的相关接口未被调用或调用失败。</li>      <li>当调用接口前，调用打开gz文件的相关接口时传入的文件访问模式错误。</li>      <li>当调用gzwrite接口时，传入的未压缩字节长度为0。</li>      <li>当调用gzfwrite或gzfread接口时，传入的数据块大小或数量为0。</li>      <li>当调用gzprintf接口时，传入的格式化描述符和纯文本为空字符串。</li>      <li>当调用gzgets接口时，传入空的ArrayBuffer。</li>      <li>当调用gzgetc接口时，gz文件为空文件。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查接口调用前，打开gz文件的相关接口是否未被调用或调用失败。</li>      <li>检查接口调用前，调用打开gz文件的相关接口时传入的访问模式是否与该接口匹配。例如gzgetc属于解压缩操作接口，调用打开gz文件的相关接口时传入的访问模式需要为解压缩模式(r或rb等)。</li>      <li>检查传入的参数是否正确。</li>     </ol>    </div>   </div>   <div></div></div>