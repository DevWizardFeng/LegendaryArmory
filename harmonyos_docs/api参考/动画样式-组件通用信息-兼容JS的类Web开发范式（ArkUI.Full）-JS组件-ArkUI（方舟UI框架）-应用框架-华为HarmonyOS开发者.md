<h1 _ngcontent-axi-c119="" class="doc-title ng-star-inserted" title="动画样式"> 动画样式 </h1>

<div _ngcontent-axi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> 从API version 4开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  </div></div></div> <p>组件支持动态的旋转、平移、缩放效果，可在style或css中设置。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">transform-origin</td> <td class="cellrowborder" width="33.33333333333333%"><p>string<sup>6+</sup> |</p> <p> &lt;percentage&gt; |</p> <p> &lt;length&gt; string<sup>6+</sup> |</p> <p> &lt;percentage&gt; | &lt;length&gt;</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>变换对象的原点位置，支持px和百分比(相对于动画目标组件)，如果仅设置一个值，另一个值为50%，第一个string的可选值为：left | center | right ，第二个string的可选值为：top | center | bottom。</p> <p>示例：</p> <p>transform-origin: 200px 30%。</p> <p>transform-origin: 100px top。</p> <p>transform-origin: center center。</p> <p>默认值：center center</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">transform</td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>支持同时设置平移/旋转/缩放的属性。</p> <p>详见表 transform操作说明。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>格式：duration | timing-function | delay | iteration-count | direction | fill-mode | play-state | name，每个字段不区分先后，但是 duration / delay 按照出现的先后顺序解析。</p> <p>默认值：0s ease 0s 1 normal none running none</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-name</td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%">指定@keyframes，详见表 @keyframes属性说明。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-delay</td> <td class="cellrowborder" width="33.33333333333333%">&lt;time&gt;</td> <td class="cellrowborder" width="33.33333333333333%"><p>定义动画播放的延迟时间。支持的单位为[s(秒)|ms(毫秒) ]，默认单位为ms，格式为：1000ms或1s。</p> <p>默认值：0</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-duration</td> <td class="cellrowborder" width="33.33333333333333%">&lt;time&gt;</td> <td class="cellrowborder" width="33.33333333333333%"><p>定义一个动画周期。支持的单位为[s(秒)|ms(毫秒) ]，默认单位为ms，格式为：1000ms或1s。</p> <p>必须设置animation-duration 样式，否则时长为 0将不会播放动画。</p> <p>默认值：0</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-iteration-count</td> <td class="cellrowborder" width="33.33333333333333%">number | infinite</td> <td class="cellrowborder" width="33.33333333333333%"><p>定义动画播放的次数，默认播放一次，可通过设置为infinite无限次播放。</p> <p>默认值：1</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-timing-function</td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>描述动画执行的速度曲线，用于使动画更为平滑。</p> <p>可选项有：</p> <p>- linear：表示动画从头到尾的速度都是相同的。</p> <p>- ease：表示动画以低速开始，然后加快，在结束前变慢，cubic-bezier(0.25, 0.1, 0.25, 1.0)。</p> <p>- ease-in：表示动画以低速开始，cubic-bezier(0.42, 0.0, 1.0, 1.0)。</p> <p>- ease-out：表示动画以低速结束，cubic-bezier(0.0, 0.0, 0.58, 1.0)。</p> <p>- ease-in-out：表示动画以低速开始和结束，cubic-bezier(0.42, 0.0, 0.58, 1.0)。</p> <p>- friction：阻尼曲线，cubic-bezier(0.2, 0.0, 0.2, 1.0)。</p> <p>- extreme-deceleration：急缓曲线，cubic-bezier(0.0, 0.0, 0.0, 1.0)。</p> <p>- sharp：锐利曲线，cubic-bezier(0.33, 0.0, 0.67, 1.0)。</p> <p>- rhythm：节奏曲线，cubic-bezier(0.7, 0.0, 0.2, 1.0)。</p> <p>- smooth：平滑曲线，cubic-bezier(0.4, 0.0, 0.4, 1.0)。</p> <p>- cubic-bezier：在三次贝塞尔函数中定义动画变化过程，入参的x和y值必须处于0-1之间。</p> <p>- steps: 阶梯曲线<sup>6+</sup>。语法：steps(number[, end|start])；number必须设置，支持的类型为正整数。第二个参数可选，表示在每个间隔的起点或是终点发生阶跃变化，支持设置end或start，默认值为end。</p> <p>默认值：ease</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-direction<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>指定动画的播放模式：</p> <p>- normal： 动画正向循环播放。</p> <p>- reverse： 动画反向循环播放。</p> <p>- alternate：动画交替循环播放，奇数次正向播放，偶数次反向播放。</p> <p>- alternate-reverse：动画反向交替循环播放，奇数次反向播放，偶数次正向播放。</p> <p>默认值：normal</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-fill-mode</td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>指定动画开始和结束的状态：</p> <p>- none：在动画执行之前和之后都不会应用任何样式到目标上。</p> <p>- forwards：在动画结束后，目标将保留动画结束时的状态（在最后一个关键帧中定义）。</p> <p>- backwards<sup>6+</sup>：动画将在animation-delay期间应用第一个关键帧中定义的值。当animation-direction为"normal"或"alternate"时应用from关键帧中的值，当animation-direction为"reverse"或"alternate-reverse"时应用to关键帧中的值。</p> <p>- both<sup>6+</sup>：动画将遵循forwards和backwards的规则，从而在两个方向上扩展动画属性。</p> <p>默认值：none</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">animation-play-state<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>指定动画的当前状态：</p> <p>- paused：动画状态为暂停。</p> <p>- running：动画状态为播放。</p> <p>默认值：running</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">transition<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>指定组件状态切换时的过渡效果，可以通过transition属性设置如下四个属性：</p> <p>- transition-property：规定设置过渡效果的 CSS 属性的名称，目前支持宽、高、背景色。</p> <p>- transition-duration：规定完成过渡效果需要的时间，单位秒。</p> <p>- transition-timing-function：规定过渡效果的时间曲线，支持样式动画提供的曲线。</p> <p>- transition-delay：规定过渡效果延时启动时间，单位秒。</p> <p>默认值：all 0 ease 0</p> </td> </tr>  </tbody></table></div> </div> <p><strong>表1</strong> transform操作说明</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">none<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">不进行任何转换。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">matrix<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">入参为六个值的矩阵，6个值分别代表：scaleX, skewY, skewX, scaleY, translateX, translateY。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">matrix3d<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">入参为十六个值的4X4矩阵。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">translate</td> <td class="cellrowborder" width="33.33333333333333%">&lt;length&gt; | &lt;percent&gt;</td> <td class="cellrowborder" width="33.33333333333333%">平移动画属性，支持设置x轴和y轴两个维度的平移参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">translate3d<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;length&gt; | &lt;percent&gt;</td> <td class="cellrowborder" width="33.33333333333333%">三个入参，分别代表X轴、Y轴、Z轴的平移距离。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">translateX</td> <td class="cellrowborder" width="33.33333333333333%">&lt;length&gt; | &lt;percent&gt;</td> <td class="cellrowborder" width="33.33333333333333%">X轴方向平移动画属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">translateY</td> <td class="cellrowborder" width="33.33333333333333%">&lt;length&gt; | &lt;percent&gt;</td> <td class="cellrowborder" width="33.33333333333333%">Y轴方向平移动画属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">translateZ<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;length&gt; | &lt;percent&gt;</td> <td class="cellrowborder" width="33.33333333333333%">Z轴的平移距离。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">scale</td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">缩放动画属性，支持设置x轴和y轴两个维度的缩放参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">scale3d<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">三个入参，分别代表X轴、Y轴、Z轴的缩放参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">scaleX</td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">X轴方向缩放动画属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">scaleY</td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">Y轴方向缩放动画属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">scaleZ<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">Z轴的缩放参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">rotate</td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt;<sup>6+</sup> | &lt;turn&gt;6+</td> <td class="cellrowborder" width="33.33333333333333%">旋转动画属性，支持设置x轴和y轴两个维度的旋转参数。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">rotate3d<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt; | &lt;turn&gt;</td> <td class="cellrowborder" width="33.33333333333333%">四个入参，前三个分别为X轴、Y轴、Z轴的旋转向量，第四个是旋转角度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">rotateX</td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt;<sup>6+</sup> | &lt;turn&gt;<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">X轴方向旋转动画属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">rotateY</td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt;<sup>6+</sup> | &lt;turn&gt;<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">Y轴方向旋转动画属性。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">rotateZ<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt; | &lt;turn&gt;</td> <td class="cellrowborder" width="33.33333333333333%">Z轴方向的旋转角度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">skew<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt; | &lt;turn&gt;</td> <td class="cellrowborder" width="33.33333333333333%">两个入参，分别为X轴和Y轴的2D倾斜角度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">skewX<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt; | &lt;turn&gt;</td> <td class="cellrowborder" width="33.33333333333333%">X轴的2D倾斜角度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">skewY<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;deg&gt; | &lt;rad&gt; | &lt;grad&gt; | &lt;turn&gt;</td> <td class="cellrowborder" width="33.33333333333333%">Y轴的2D倾斜角度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">perspective<sup>6+</sup></td> <td class="cellrowborder" width="33.33333333333333%">&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">3D透视场景下镜头距离元素表面的距离。</td> </tr>  </tbody></table></div> </div> <p><strong>表2</strong> @keyframes属性说明</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.1.5.1.1" width="25%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.1.5.1.3" width="25%">默认值</th> <th align="left" class="cellrowborder" id="mcps1.3.7.1.5.1.4" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">background-color</td> <td class="cellrowborder" width="25%">&lt;color&gt;</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">动画执行后应用到组件上的背景颜色。</td> </tr> <tr><td class="cellrowborder" width="25%">opacity</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">1</td> <td class="cellrowborder" width="25%">动画执行后应用到组件上的不透明度值，为介于0到1间的数值，默认为1。</td> </tr> <tr><td class="cellrowborder" width="25%">width</td> <td class="cellrowborder" width="25%">&lt;length&gt;</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">动画执行后应用到组件上的宽度值。</td> </tr> <tr><td class="cellrowborder" width="25%">height</td> <td class="cellrowborder" width="25%">&lt;length&gt;</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">动画执行后应用到组件上的高度值。</td> </tr> <tr><td class="cellrowborder" width="25%">transform</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">定义应用在组件上的变换类型，见表 transform操作说明。</td> </tr> <tr><td class="cellrowborder" width="25%">background-position<sup>6+</sup></td> <td class="cellrowborder" width="25%"><p>string | &lt;percentage&gt; | &lt;length&gt; string |</p> <p> &lt;percentage&gt; | &lt;length&gt;</p> </td> <td class="cellrowborder" width="25%">50% 50%</td> <td class="cellrowborder" width="25%"><p>背景图位置。单位支持百分比和px，第一个值是水平位置，第二个值是垂直位置。如果仅设置一个值，另一个值为50%。第一个string的可选值为：left | center | right ，第二个string的可选值为：top | center | bottom。</p> <p>示例：</p> <p>- background-position: 200px 30%</p> <p>- background-position: 100px top</p> <p>- background-position: center center</p> </td> </tr>  </tbody></table></div> </div> <p>对于不支持起始值或终止值缺省的情况，可以通过from和to显示指定起始和结束。可以通过百分比指定动画运行的中间状态<sup>6+</sup>。示例：</p> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rect"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">display</span>: flex;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">150px</span>;</li><li>}</li><li><span class="hljs-selector-class">.rect</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f76160</span>;</li><li>  <span class="hljs-attribute">animation</span>: Go <span class="hljs-number">3s</span> infinite;</li><li>}</li><li><span class="hljs-keyword">@keyframes</span> Go</li><li>{</li><li>  <span class="hljs-selector-tag">from</span> {</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f76160</span>;</li><li>    <span class="hljs-attribute">transform</span>:<span class="hljs-built_in">translate</span>(<span class="hljs-number">100px</span>) <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>) <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.0</span>);</li><li>  }</li><li>  <span class="hljs-comment">/* 可以通过百分比指定动画运行的中间状态 */</span></li><li>  <span class="hljs-number">50%</span> {</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f76160</span>;</li><li>  <span class="hljs-attribute">transform</span>:<span class="hljs-built_in">translate</span>(<span class="hljs-number">100px</span>) <span class="hljs-built_in">rotate</span>(<span class="hljs-number">60deg</span>) <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.3</span>);</li><li>  }</li><li>  <span class="hljs-selector-tag">to</span> {</li><li>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#09ba07</span>;</li><li>    <span class="hljs-attribute">transform</span>:<span class="hljs-built_in">translate</span>(<span class="hljs-number">100px</span>) <span class="hljs-built_in">rotate</span>(<span class="hljs-number">180deg</span>) <span class="hljs-built_in">scale</span>(<span class="hljs-number">2.0</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="233" originwidth="294" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115830.68740749835731335964886453893274:50001231000000:2800:16CB8DA280D4015014F7CE76370D8A9BE744868B1BCA34A8D623B077A266F723.gif" class="notEnlarge" width="294" height="233"></span></p> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"simpleAnimation simpleSize"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"animation-play-state: {{playState}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"toggleState"</span>&gt;</span>animation-play-state: {{playState}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li><span class="hljs-selector-class">.simpleSize</span> {</li><li>  <span class="hljs-attribute">background-color</span>: blue;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>}</li><li><span class="hljs-selector-class">.simpleAnimation</span> {</li><li>  <span class="hljs-attribute">animation</span>: simpleFrames <span class="hljs-number">9s</span>;</li><li>}</li><li><span class="hljs-keyword">@keyframes</span> simpleFrames {</li><li>  <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">0px</span>); }</li><li>  <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">100px</span>); }</li><li>}</li></ol></pre></div></div> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">title</span>: <span class="hljs-string">""</span>,</li><li>    <span class="hljs-attr">playState</span>: <span class="hljs-string">"running"</span></li><li>  },</li><li>  <span class="hljs-title function_">toggleState</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">playState</span> ===  <span class="hljs-string">"running"</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">playState</span> = <span class="hljs-string">"paused"</span>;</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">playState</span> = <span class="hljs-string">"running"</span>;</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="294" originwidth="399" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115831.09726829305276678709988116862758:50001231000000:2800:46B4447931360AFBD0BDE976513C847BC72F73013EDB75E2E4E08712B204F346.gif" width="399" height="294"></span></p> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'img'</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"img"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.img</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">294px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">233px</span>;</li><li>  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'common/heartBeat.jpg'</span>);</li><li>  <span class="hljs-attribute">background-repeat</span>: no-repeat;</li><li>  <span class="hljs-attribute">background-position</span>: <span class="hljs-number">0%</span> <span class="hljs-number">0%</span>;</li><li>  <span class="hljs-attribute">background-size</span>: <span class="hljs-number">900%</span>;</li><li>  <span class="hljs-attribute">animation-name</span>: heartBeating;</li><li>  <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">1s</span>;</li><li>  <span class="hljs-attribute">animation-delay</span>: <span class="hljs-number">0s</span>;</li><li>  <span class="hljs-attribute">animation-fill-mode</span>: forwards;</li><li>  <span class="hljs-attribute">animation-iteration-count</span>: -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-attribute">animation-timing-function</span>: <span class="hljs-built_in">steps</span>(<span class="hljs-number">8</span>, end);</li><li>}</li><li>
</li><li><span class="hljs-keyword">@keyframes</span> heartBeating {</li><li>  <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">background-position</span>: <span class="hljs-number">0%</span> <span class="hljs-number">0%</span>;}</li><li>  <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">background-position</span>: <span class="hljs-number">100%</span> <span class="hljs-number">0%</span>;}</li><li>}</li></ol></pre></div></div> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-axi-c106="" class="highlight-div"><div _ngcontent-axi-c106="" class="highlight-div-header"><div _ngcontent-axi-c106="" class="highlight-div-header-left"><div _ngcontent-axi-c106="" class="handle-button expand-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-axi-c106="" class="highlight-div-header-right"><div _ngcontent-axi-c106="" class="handle-button ai-button"></div><div _ngcontent-axi-c106="" class="handle-button line-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-axi-c106="" class="handle-button theme-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-axi-c106="" class="handle-button copy-button"><div _ngcontent-axi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-axi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>    <span class="hljs-attribute">flex-direction</span>: column;</li><li>    <span class="hljs-attribute">justify-content</span>: center;</li><li>    <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li><span class="hljs-selector-class">.content</span> { <span class="hljs-comment">/* 组件状态1 */</span></li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>    <span class="hljs-attribute">background-color</span>: red;</li><li>    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">5s</span> ease <span class="hljs-number">0s</span>;</li><li>}</li><li><span class="hljs-selector-class">.content</span><span class="hljs-selector-pseudo">:active</span> { <span class="hljs-comment">/* 组件状态2 */</span></li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;</li><li>    <span class="hljs-attribute">background-color</span>: blue;</li><li>    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">5s</span> linear <span class="hljs-number">0s</span>;</li><li>}</li></ol></pre></div></div> <p><span><img originheight="284" originwidth="305" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115831.34774562171911760703567570355422:50001231000000:2800:68DA0DB399C88391033F84AC51A7AA6D6743FC06FD5E2C5A214051FAA4C8F898.gif" width="305" height="284"></span></p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> @keyframes的from/to不支持动态绑定。</p>  <p> steps函数的end和start含义如下图所示。</p>  <p> <span><img originheight="403" originwidth="787" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115831.91645900420994596666807290427225:50001231000000:2800:7A89AC659A060CDA1553A2782B13B5C540676595A86643EB9FE16451B32F79A7.png" width="787" height="403"></span></p>  </div></div></div> </div> <div></div></div>