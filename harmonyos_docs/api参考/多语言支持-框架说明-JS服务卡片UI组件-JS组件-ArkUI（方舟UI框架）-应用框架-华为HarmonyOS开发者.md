<h1 _ngcontent-rel-c119="" class="doc-title ng-star-inserted" title="多语言支持"> 多语言支持 </h1>

<div _ngcontent-rel-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>基于开发框架的应用会覆盖多个国家和地区，开发框架支持多语言能力后，可以让应用开发者无需开发多个不同语言的版本，就可以同时支持多种语言的切换，为项目维护带来便利。</p> <p>开发者仅需要通过<a href="/consumer/cn/doc/harmonyos-references/js-service-widget-multiple-languages#定义资源文件">定义资源文件</a>和<a href="/consumer/cn/doc/harmonyos-references/js-service-widget-multiple-languages#引用资源">引用资源</a>两个步骤，就可以使用开发框架的多语言能力。</p>  <div class="tiledSection"><h2 id="定义资源文件" device-type="phone,2in1,tablet,wearable,tv">定义资源文件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="定义资源文件" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>资源文件用于存放应用在多种语言场景下的资源内容，开发框架使用JSON文件保存资源定义。</p> <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-service-widget-file">文件组织</a>中指定的i18n文件夹内放置每个语言地区下的资源定义文件即可，资源文件命名为“语言-地区.json”格式，例如英文（美国）的资源文件命名为en-US.json。当开发框架无法在应用中找到系统语言的资源文件时，默认使用en-US.json中的资源内容。</p> <p>由于不同语言针对单复数有不同的匹配规则，在资源文件中的使用“zero”、“one”、“two”、“few”、“many”、“other”定义不同单复数场景下的词条内容。例如中文不区分单复数仅存在“other”场景；英文存在“one”、“other”场景；阿拉伯语存在上述6种场景。</p> <p> 以en-US.json和ar-AE.json为例，资源文件内容格式如下：</p> <div _ngcontent-rel-c106="" class="highlight-div"><div _ngcontent-rel-c106="" class="highlight-div-header"><div _ngcontent-rel-c106="" class="highlight-div-header-left"><div _ngcontent-rel-c106="" class="handle-button expand-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rel-c106="" class="highlight-div-header-right"><div _ngcontent-rel-c106="" class="handle-button ai-button"></div><div _ngcontent-rel-c106="" class="handle-button line-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rel-c106="" class="handle-button theme-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rel-c106="" class="handle-button copy-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rel-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"strings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"hello"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hello world!"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"symbol"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@#$%^&amp;*()_+-={}[]\\|:;\"'&lt;&gt;,./?"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"plurals"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"one"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"one person"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"other"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"other people"</span></li><li>        <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>
</li><li>    <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"image"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image/en_picture.PNG"</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> <div _ngcontent-rel-c106="" class="highlight-div"><div _ngcontent-rel-c106="" class="highlight-div-header"><div _ngcontent-rel-c106="" class="highlight-div-header-left"><div _ngcontent-rel-c106="" class="handle-button expand-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rel-c106="" class="highlight-div-header-right"><div _ngcontent-rel-c106="" class="handle-button ai-button"></div><div _ngcontent-rel-c106="" class="handle-button line-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rel-c106="" class="handle-button theme-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rel-c106="" class="handle-button copy-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rel-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"strings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"plurals"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"zero"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"لا أحد"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"one"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"وحده"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"two"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"اثنان"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"few"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ستة اشخاص"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"many"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"خمسون شخص"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"other"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"مائة شخص"</span></li><li>        <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="引用资源" device-type="phone,2in1,tablet,wearable,tv">引用资源<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="引用资源" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>在应用开发的页面中使用多语言的语法，包含简单格式化和单复数格式化两种，都可以在hml或js中使用。</p> <ul><li><p>简单格式化方法</p> <p>在应用中使用$t方法引用资源，$t既可以在hml中使用，也可以在js中使用。系统将根据当前语言环境和指定的资源路径（通过$t的path参数设置），显示对应语言的资源文件中的内容。</p>  <p>  <strong>表1</strong> 简单格式化</p>   <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.6.1.1" width="20%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.6.1.3" width="20%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.6.1.4" width="20%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.4.1.6.1.5" width="20%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">$t</td> <td class="cellrowborder" width="20%">Function</td> <td class="cellrowborder" width="20%">请见$t参数说明</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">根据系统语言完成简单的替换：this.$t('strings.hello')</td> </tr>  </tbody></table></div> </div>  <p>  <strong>表2</strong> $t参数说明</p>   <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.5.1.1" width="25%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.1.6.1.5.1.4" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">资源路径</td> </tr>  </tbody></table></div> </div>  </li><li><p>简单格式化示例代码</p>  <div _ngcontent-rel-c106="" class="highlight-div"><div _ngcontent-rel-c106="" class="highlight-div-header"><div _ngcontent-rel-c106="" class="highlight-div-header-left"><div _ngcontent-rel-c106="" class="handle-button expand-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rel-c106="" class="highlight-div-header-right"><div _ngcontent-rel-c106="" class="handle-button ai-button"></div><div _ngcontent-rel-c106="" class="handle-button line-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rel-c106="" class="handle-button theme-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rel-c106="" class="handle-button copy-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rel-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li> <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> </li><li>   <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $t('strings.hello') }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>  </li><li>   <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{ $t('files.image') }}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span> </li><li> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>  </li><li><p>单复数格式化方法</p>  <p><strong>表3</strong> 单复数格式化</p>   <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.3.3.1.6.1.1" width="20%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.3.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.3.1.6.1.3" width="20%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.3.1.6.1.4" width="20%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.3.1.6.1.5" width="20%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">$tc</td> <td class="cellrowborder" width="20%">Function</td> <td class="cellrowborder" width="20%">请见$tc参数说明</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>根据系统语言完成单复数替换：this.$tc('strings.plurals')</p> <p>定义资源的内容通过json格式的key为“zero”、“one”、“two”、“few”、“many”和“other”区分。</p> </td> </tr>  </tbody></table></div> </div>  <p><strong>表4</strong> $tc参数说明</p>   <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.3.5.1.5.1.1" width="25%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.5.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.5.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.3.5.1.5.1.4" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">资源路径</td> </tr> <tr><td class="cellrowborder" width="25%">count</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">要表达的值</td> </tr>  </tbody></table></div> </div>  </li><li><p>单复数格式化示例代码</p>  <div _ngcontent-rel-c106="" class="highlight-div"><div _ngcontent-rel-c106="" class="highlight-div-header"><div _ngcontent-rel-c106="" class="highlight-div-header-left"><div _ngcontent-rel-c106="" class="handle-button expand-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rel-c106="" class="highlight-div-header-right"><div _ngcontent-rel-c106="" class="handle-button ai-button"></div><div _ngcontent-rel-c106="" class="handle-button line-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rel-c106="" class="handle-button theme-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rel-c106="" class="handle-button copy-button"><div _ngcontent-rel-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rel-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!--xxx.hml--&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 传递数值为0时： "0 people" 阿拉伯语中此处匹配key为zero的词条--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $tc('strings.plurals', 0) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 传递数值为1时： "one person" 阿拉伯语中此处匹配key为one的词条--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $tc('strings.plurals', 1) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 传递数值为2时： "2 people" 阿拉伯语中此处匹配key为two的词条--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $tc('strings.plurals', 2) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 传递数值为6时： "6 people" 阿拉伯语中此处匹配key为few的词条--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $tc('strings.plurals', 6) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 传递数值为50时： "50 people" 阿拉伯语中此处匹配key为many的词条--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $tc('strings.plurals', 50) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 传递数值为100时： "100 people" 阿拉伯语中此处匹配key为other的词条--&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $tc('strings.plurals', 100) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>  </li></ul> </div> </div> <div></div></div>