<h1 _ngcontent-yae-c119="" class="doc-title ng-star-inserted" title="多语言支持"> 多语言支持 </h1>

<div _ngcontent-yae-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>基于开发框架的应用会覆盖多个国家和地区，开发框架支持多语言能力后，可以让应用开发者无需开发多个不同语言的版本，就可以同时支持多种语言的切换，为项目维护带来便利。</p> <p>开发者仅需要通过<a href="/consumer/cn/doc/harmonyos-references/js-lite-framework-localization#定义资源文件">定义资源文件</a>和<a href="/consumer/cn/doc/harmonyos-references/js-lite-framework-localization#引用资源">引用资源</a>两个步骤，就可以使用开发框架的多语言能力；如果需要在应用中获取当前系统语言，请参考<a href="/consumer/cn/doc/harmonyos-references/js-lite-framework-localization#获取语言">获取语言</a>。</p>  <div class="tiledSection"><h2 id="定义资源文件" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">定义资源文件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="定义资源文件" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>资源文件用于存放应用在多种语言场景下的资源内容，开发框架使用JSON文件保存资源定义。</p> <p>在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-lite-framework-file">文件组织</a>中指定的i18n文件夹内放置每个语言地区下的资源定义文件即可，资源文件命名为“语言-地区.json”格式，例如英文（美国）的资源文件命名为en-US.json。当开发框架无法在应用中找到系统语言的资源文件时，默认使用en-US.json中的资源内容。</p> <p>资源文件内容格式如下：</p> <p>en-US.json</p> <div _ngcontent-yae-c106="" class="highlight-div"><div _ngcontent-yae-c106="" class="highlight-div-header"><div _ngcontent-yae-c106="" class="highlight-div-header-left"><div _ngcontent-yae-c106="" class="handle-button expand-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yae-c106="" class="highlight-div-header-right"><div _ngcontent-yae-c106="" class="handle-button ai-button"></div><div _ngcontent-yae-c106="" class="handle-button line-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yae-c106="" class="handle-button theme-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yae-c106="" class="handle-button copy-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yae-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"strings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"hello"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hello world!"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Object parameter substitution-{name}"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"array"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Array type parameter substitution-{0}"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"symbol"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@#$%^&amp;*()_+-={}[]\\|:;\"'&lt;&gt;,./?"</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>
</li><li>    <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"image"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image/en_picture.PNG"</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="引用资源" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">引用资源<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="引用资源" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><ul><li><p>在应用中使用$t方法引用资源，$t既可以在hml中使用，也可以在js中使用。系统将根据当前语言环境和指定的资源路径（通过$t的path参数设置），显示对应语言的资源文件中的内容。</p>   <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.2.1.5.1.1" width="25%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.2.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.2.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.2.1.5.1.4" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">path</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">资源路径</td> </tr> <tr><td class="cellrowborder" width="25%">params</td> <td class="cellrowborder" width="25%">Array|Object</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%">运行时用来替换占位符的实际内容，占位符分为两种：具名占位符，例如{name}。实际内容必须用Object类型指定，例如：$t('strings.object', <strong>{ name: 'Hello world' }</strong>)。数字占位符，例如{0}。实际内容必须用Array类型指定，例如：$t('strings.array', <strong>['Hello world']</strong>)。</td> </tr>  </tbody></table></div> </div>  </li><li><p>示例代码</p>  <div _ngcontent-yae-c106="" class="highlight-div"><div _ngcontent-yae-c106="" class="highlight-div-header"><div _ngcontent-yae-c106="" class="highlight-div-header-left"><div _ngcontent-yae-c106="" class="handle-button expand-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yae-c106="" class="highlight-div-header-right"><div _ngcontent-yae-c106="" class="handle-button ai-button"></div><div _ngcontent-yae-c106="" class="handle-button line-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yae-c106="" class="handle-button theme-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yae-c106="" class="handle-button copy-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yae-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 不使用占位符，text中显示“Hello world!” --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $t('strings.hello') }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 具名占位符格式，运行时将占位符{name}替换为“Hello world” --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $t('strings.object', { name: 'Hello world' }) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 数字占位符格式，运行时将占位符{0}替换为“Hello world” --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ $t('strings.array', ['Hello world']) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 先在js中获取资源内容，再在text中显示“Hello world” --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ hello }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 先在js中获取资源内容，并将占位符{name}替换为“Hello world”，再在text中显示“Object parameter substitution-Hello world” --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ replaceObject }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 先在js中获取资源内容，并将占位符{0}替换为“Hello world”，再在text中显示“Array type parameter substitution-Hello world” --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ replaceArray }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>
</li><li>  <span class="hljs-comment">&lt;!-- 获取图片路径 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{ $t('files.image') }}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 先在js中获取图片路径，再在image中显示图片 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{ replaceSrc }}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>  <div _ngcontent-yae-c106="" class="highlight-div"><div _ngcontent-yae-c106="" class="highlight-div-header"><div _ngcontent-yae-c106="" class="highlight-div-header-left"><div _ngcontent-yae-c106="" class="handle-button expand-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yae-c106="" class="highlight-div-header-right"><div _ngcontent-yae-c106="" class="handle-button ai-button"></div><div _ngcontent-yae-c106="" class="handle-button line-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yae-c106="" class="handle-button theme-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yae-c106="" class="handle-button copy-button"><div _ngcontent-yae-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yae-c106="" class="highlight-scroll-div"><pre class="javascript prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-comment">// 下面为在js文件中的使用方法。</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">hello</span>: <span class="hljs-string">''</span>,</li><li>    <span class="hljs-attr">replaceObject</span>: <span class="hljs-string">''</span>,</li><li>    <span class="hljs-attr">replaceArray</span>: <span class="hljs-string">''</span>,</li><li>    <span class="hljs-attr">replaceSrc</span>: <span class="hljs-string">''</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hello</span> = <span class="hljs-variable language_">this</span>.$t(<span class="hljs-string">'strings.hello'</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">replaceObject</span> = <span class="hljs-variable language_">this</span>.$t(<span class="hljs-string">'strings.object'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'Hello world'</span> });</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">replaceArray</span> = <span class="hljs-variable language_">this</span>.$t(<span class="hljs-string">'strings.array'</span>, [<span class="hljs-string">'Hello world'</span>]);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">replaceSrc</span> = <span class="hljs-variable language_">this</span>.$t(<span class="hljs-string">'files.image'</span>);</li><li>  },</li><li>}</li></ol></pre></div></div>  </li></ul> </div>  <div class="tiledSection"><h2 id="获取语言" device-type="phone,2in1,tablet,wearable,lite_wearable,tv">获取语言<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="获取语言" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span><span class="support-device-item">Lite Wearable</span></div><p>获取语言功能请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-system-configuration">应用配置</a>。</p> </div> </div> <div></div></div>