<h1 _ngcontent-nbm-c119="" class="doc-title ng-star-inserted" title="安全区域"> 安全区域 </h1>

<div _ngcontent-nbm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>安全区域是指页面的显示区域，默认情况下开发者开发的界面都布局在安全区域内，不与系统设置的避让区比如状态栏、导航栏区域重叠。提供属性方法允许开发者设置组件绘制内容突破安全区域的限制，通过<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#expandsafearea">expandSafeArea</a>属性支持组件不改变布局情况下扩展其绘制区域至安全区外，通过设置<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#setkeyboardavoidmode11">setKeyboardAvoidMode</a>来配置虚拟键盘弹出时页面的避让模式。页面中有标题栏等文字不希望和避让区重叠时，建议对组件设置expandSafeArea属性实现沉浸式效果，也可直接通过窗口接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-window-window#setwindowlayoutfullscreen9">setWindowLayoutFullScreen</a>实现全屏沉浸式效果。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API Version 10开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p> <p>摄像头挖孔区域不属于避让区，页面默认不避让挖孔。</p> <p>从API Version 12开始，可在module.json5中添加以下配置项，摄像头挖孔区域会视为避让区，实现页面默认避让挖孔：</p> <p> "metadata": [</p> <p>   {</p> <p>     "name": "avoid_cutout",</p> <p>     "value": "true",</p> <p>   }</p> <p> ],</p>  </div></div></div>  <div class="tiledSection"><h2 id="expandsafearea" device-type="phone,2in1,tablet,wearable,tv">expandSafeArea<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="expandsafearea" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>expandSafeArea(types?: Array&lt;SafeAreaType&gt;, edges?: Array&lt;SafeAreaEdge&gt;): T</p> <p>控制组件扩展其安全区域。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">types</td> <td class="cellrowborder" width="25%">Array &lt;<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#safeareatype">SafeAreaType</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%"><p>配置扩展安全区域的类型。未添加<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager-metadata">Metadata</a>配置项时，页面不避让挖孔，CUTOUT类型不生效。</p> <p>默认值：[SafeAreaType.SYSTEM, SafeAreaType.CUTOUT, SafeAreaType.KEYBOARD] </p> <p>非法值：按默认值处理。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">edges</td> <td class="cellrowborder" width="25%">Array &lt;<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#safeareaedge">SafeAreaEdge</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%"><p>配置扩展安全区域的边缘。</p> <p>默认值：[SafeAreaEdge.TOP, SafeAreaEdge.BOTTOM, SafeAreaEdge.START, SafeAreaEdge.END] </p> <p>非法值：按默认值处理。</p> <p>扩展至所有避让区域。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">T</td> <td class="cellrowborder" width="50%">返回当前组件。</td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> 设置expandSafeArea属性进行组件绘制扩展时，建议组件尺寸不要设置固定宽高（百分比除外），当设置固定宽高（包括设置'auto'）时，扩展安全区域的方向只支持[SafeAreaEdge.TOP, SafeAreaEdge.START]，扩展后的组件尺寸保持不变。</p>  <p> 安全区域不会限制内部组件的布局和大小，不会裁剪内部组件。</p>  <p> 当父容器是滚动容器时，expandSafeArea属性设置无效。</p>  <p> 设置expandSafeArea()时，不传参，走默认值处理；设置expandSafeArea([],[])时，相当于入参是空数组，此时expandSafeArea属性设置无效。</p>  <p> 组件设置expandSafeArea生效的条件为：</p> <p> 1.type为SafeAreaType.KEYBOARD时默认生效，表现为组件不避让键盘。</p> <p> 2.设置其他type，组件的边界与安全区域重合时组件能够延伸到安全区域下。例如：设备顶部状态栏高度100，那么组件在屏幕中的绝对位置需要为0 &lt;= y &lt;= 100。</p>  <p> 组件延伸到避让区时，在避让区的事件如点击事件等可能会被系统拦截，优先给状态栏等系统组件响应。</p>  <p> 滚动类容器内的组件不建议设置expandSafeArea属性，如果设置，需要按照组件嵌套关系，将当前节点到滚动类祖先容器间所有直接节点设置expandSafeArea属性，否则expandSafeArea属性在滚动后可能会失效，写法参考<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#示例7滚动类容器扩展安全区">示例7</a>。</p>  <p> expandSafeArea属性仅作用于当前组件，不会向父组件或子组件传递，因此使用过程中，所有相关组件均需配置。</p>  <p> 同时设置expandSafeArea和position属性时，position属性会优先生效，expandSafeArea属性会后生效。对于未设置position、offset等绘制属性的组件，如果其边界未与避让区重叠，设置expandSafeArea属性将不生效，如弹窗和半模态组件。</p>  <p> 对于expandSafeArea属性无法生效的场景，若要将组件部署在避让区，需要手动调整组件的坐标。</p>  </div></div></div> </div>  <div class="tiledSection"><h2 id="safeareatype" device-type="phone,2in1,tablet,wearable,tv">SafeAreaType<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="safeareatype" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扩展安全区域的枚举类型。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SYSTEM</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">系统默认非安全区域，包括状态栏、导航栏。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">CUTOUT</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">设备的非安全区域，例如刘海屏或挖孔屏区域。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">KEYBOARD</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">软键盘区域。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="safeareaedge" device-type="phone,2in1,tablet,wearable,tv">SafeAreaEdge<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="safeareaedge" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扩展安全区域的边缘。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">TOP</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">上方区域。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">BOTTOM</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">下方区域。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">START</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">前部区域。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">END</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">尾部区域。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="setkeyboardavoidmode11" device-type="phone,2in1,tablet,wearable,tv">setKeyboardAvoidMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setkeyboardavoidmode11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>setKeyboardAvoidMode(value: KeyboardAvoidMode): void</p> <p>控制虚拟键盘抬起时页面的避让模式。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-e#keyboardavoidmode11">KeyboardAvoidMode</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>配置虚拟键盘抬起时页面的避让模式。</p> <p>默认值：KeyboardAvoidMode.OFFSET，键盘抬起时默认避让模式为上抬。</p> <p>setKeyboardAvoidMode为异常值时，该属性设置不生效。</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> KeyboardAvoidMode.RESIZE模式会压缩页面大小，页面中设置百分比宽高的组件会跟随页面压缩，而直接设置宽高的组件会按设置的固定大小布局。设置KeyboardAvoidMode的RESIZE模式时，expandSafeArea([SafeAreaType.KEYBOARD],[SafeAreaEdge.BOTTOM])不生效。</p>  <p> KeyboardAvoidMode.NONE模式配置页面不避让键盘，页面会被抬起的键盘遮盖。</p>  <p> setKeyboardAvoidMode针对页面生效，对于弹窗类组件不生效，比如Dialog、Popup、Menu、BindSheet、BindContentCover、Toast、OverlayManager。弹窗类组件的避让模式可以参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-methods-custom-dialog-box#customdialogcontrolleroptions对象说明">CustomDialogControllerOptions对象说明</a>。</p>  </div></div></div> </div>  <div class="tiledSection"><h2 id="getkeyboardavoidmode11" device-type="phone,2in1,tablet,wearable,tv">getKeyboardAvoidMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getkeyboardavoidmode11" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getKeyboardAvoidMode(): KeyboardAvoidMode</p> <p>返回虚拟键盘抬起时页面的避让模式。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.1" width="50%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-e#keyboardavoidmode11">KeyboardAvoidMode</a></td> <td class="cellrowborder" width="50%">返回虚拟键盘抬起时的页面避让模式。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="ignorelayoutsafearea20" device-type="phone,2in1,tablet,wearable,tv">ignoreLayoutSafeArea<sup>20+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="ignorelayoutsafearea20" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>ignoreLayoutSafeArea(types?: Array&lt;LayoutSafeAreaType&gt;, edges?: Array&lt;LayoutSafeAreaEdge&gt;): T</p> <p>扩展组件布局时的安全区。</p> <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">types</td> <td class="cellrowborder" width="25%">Array &lt;<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#layoutsafeareatype12">LayoutSafeAreaType</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%"><p>扩展布局安全区域的类型。</p> <p>默认值：[LayoutSafeAreaType.SYSTEM]，扩展至所有安全区域，比如：状态栏，导航栏和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#safeareapadding14">组件级安全区（safeAreaPadding）</a>。</p> <p>非法值：按默认值处理。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">edges</td> <td class="cellrowborder" width="25%">Array &lt;<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#layoutsafeareaedge12">LayoutSafeAreaEdge</a>&gt;</td> <td class="cellrowborder" width="25%">否</td> <td class="cellrowborder" width="25%"><p>扩展布局安全区的边缘，并且支持镜像能力。</p> <p>默认值：[LayoutSafeAreaEdge.ALL]，扩展组件所有边缘。</p> <p>非法值：按默认值处理。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">T</td> <td class="cellrowborder" width="50%">返回当前组件。</td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>忽略布局安全区边缘的组件，如果其宽度或高度设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#layoutpolicy15">LayoutPolicy.matchParent</a>，其大小和位置都会改变，否则仅改变其位置。</p>  <p>依据safeAreaPadding累积功能，组件可扩展其安全区边缘到所有能感知的连续安全区域。</p>  <p>滚动类组件的子元素忽略布局安全区边缘时在滚动方向不考虑滚动组件自身及其父组件的安全区域，包括：List、ArcListItem、Grid、WaterFlow、Swiper和Tabs。</p>  <p>忽略布局安全区属性.ignoreLayoutSafeArea和忽略渲染安全区属性.expandSafeArea都设置时，.ignoreLayoutSafeArea先生效，.expandSafeArea在前者基础上再生效。</p>  </div></div></div> </div>  <div class="tiledSection"><h2 id="layoutsafeareatype12" device-type="phone,2in1,tablet,wearable,tv">LayoutSafeAreaType<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutsafeareatype12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扩展布局安全区域的枚举类型。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.9.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">SYSTEM</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">设置后，组件的布局范围可扩展至<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#safeareapadding14">组件级安全区（safeAreaPadding）</a>和页面级安全区（状态栏、导航栏、挖孔区）。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="layoutsafeareaedge12" device-type="phone,2in1,tablet,wearable,tv">LayoutSafeAreaEdge<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutsafeareaedge12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>扩展安全区域的边缘。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.4.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.10.4.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">TOP</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%"><p>上方区域。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">BOTTOM</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%"><p>下方区域。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">START<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%"><p>前部区域。LTR模式时表示左侧区域，RTL模式表示右侧区域。</p> <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">END<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%"><p>尾部区域。LTR模式时表示右侧区域，RTL模式表示左侧区域。</p> <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">VERTICAL<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">4</td> <td class="cellrowborder" width="33.33333333333333%"><p>垂直区域。</p> <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">HORIZONTAL<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">5</td> <td class="cellrowborder" width="33.33333333333333%"><p>水平区域。</p> <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">ALL<sup>20+</sup></td> <td class="cellrowborder" width="33.33333333333333%">6</td> <td class="cellrowborder" width="33.33333333333333%"><p>全部区域。</p> <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="示例1实现沉浸式效果" class="firsth2">示例1（实现沉浸式效果）<i class="anchor-icon anchor-icon-link" anchorid="示例1实现沉浸式效果" tips="复制节点链接"></i></h3><p>该示例通过设置expandSafeArea属性向顶部和底部扩展安全区实现沉浸式效果。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SafeAreaExample1</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">TextInputController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextInputController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>        <span class="hljs-comment">// $r('app.media.bg')需要替换为开发者所需的图像资源文件</span></li><li>        .<span class="hljs-title function_">backgroundImage</span>($r(<span class="hljs-string">'app.media.bg'</span>))</li><li>        .<span class="hljs-title function_">backgroundImageSize</span>(<span class="hljs-title class_">ImageSize</span>.<span class="hljs-property">Cover</span>)</li><li>        .<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">TOP</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>])</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="512" originwidth="288" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.52251104460388353755586942578100:50001231000000:2800:4AEAEA5C86437B4BD66E2CCB8EECC80D5D34EBC77322F5D553FBF2D8697F7679.png" class="notEnlarge" width="288" height="512"></span></p> </div>  <div class="tiledSection"><h3 id="示例2同时设置固定宽高和expandsafearea属性">示例2（同时设置固定宽高和expandSafeArea属性）<i class="anchor-icon anchor-icon-link" anchorid="示例2同时设置固定宽高和expandsafearea属性" tips="复制节点链接"></i></h3><p>该示例展示了同时设置固定宽高和expandSafeArea属性的效果。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SafeAreaExample2</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">TextInputController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextInputController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">text</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>, <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'input your word...'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">placeholderFont</span>({ <span class="hljs-attr">size</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">weight</span>: <span class="hljs-number">400</span> })</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">320</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>).<span class="hljs-title function_">offset</span>({<span class="hljs-attr">y</span>: <span class="hljs-number">120</span>})</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'780'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(179,217,235)'</span>)</li><li>    .<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">TOP</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>])</li><li>  }</li><li>}</li></ol></pre></div></div> <p>如下图：Column组件扩展至了顶部状态栏[SafeAreaEdge.TOP]，未扩展至底部导航条[SafeAreaEdge.BOTTOM]，扩展后的组件高度维持设置值不变。</p> <p><span><img originheight="514" originwidth="290" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.37198737675495220004896747440677:50001231000000:2800:080AC2B193E30AE2AB599F413E24AE3C488E48F4E6B7D85C9774EDFBAE6C3150.png" class="notEnlarge" width="290" height="514"></span></p> </div>  <div class="tiledSection"><h3 id="示例3键盘避让时固定背景图位置">示例3（键盘避让时固定背景图位置）<i class="anchor-icon anchor-icon-link" anchorid="示例3键盘避让时固定背景图位置" tips="复制节点链接"></i></h3><p>该示例通过为背景图组件设置expandSafeArea属性，来实现拉起键盘进行避让时，背景图保持不动的效果。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">SafeAreaExample3</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">TextInputController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextInputController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-title class_">Column</span>()</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>          <span class="hljs-comment">// $r('app.media.bg')需要替换为开发者所需的图像资源文件</span></li><li>          .<span class="hljs-title function_">backgroundImage</span>($r(<span class="hljs-string">'app.media.bg'</span>))</li><li>          .<span class="hljs-title function_">backgroundImageSize</span>(<span class="hljs-title class_">ImageSize</span>.<span class="hljs-property">Cover</span>)</li><li>          .<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">KEYBOARD</span>, <span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>])</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Set caretPosition 1'</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">caretPosition</span>(<span class="hljs-number">1</span>)</li><li>            })</li><li>          <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">text</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>, <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'input your word...'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>            .<span class="hljs-title function_">placeholderFont</span>({ <span class="hljs-attr">size</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">weight</span>: <span class="hljs-number">400</span> })</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">320</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>            .<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">y</span>: <span class="hljs-number">120</span> })</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>            .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>      }</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="584" originwidth="290" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.15695168240816508893980360633216:50001231000000:2800:0DC998310C055B70B9C2B1FDBCCCC9040D70A5DD7CBA44EDA93B1641559537B4.gif" class="notEnlarge" width="290" height="584"></span></p> </div>  <div class="tiledSection"><h3 id="示例4设置键盘避让模式为压缩">示例4（设置键盘避让模式为压缩）<i class="anchor-icon anchor-icon-link" anchorid="示例4设置键盘避让模式为压缩" tips="复制节点链接"></i></h3><p>该示例通过调用setKeyboardAvoidMode设置键盘避让模式为RESIZE模式，实现键盘抬起时page的压缩效果。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeyboardAvoidMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span>{</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-comment">// Main window is created, set main page for this ability</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>
</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> keyboardAvoidMode = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getKeyboardAvoidMode</span>();</li><li>      <span class="hljs-comment">// 设置虚拟键盘抬起时压缩页面大小为减去键盘的高度</span></li><li>    windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">setKeyboardAvoidMode</span>(<span class="hljs-title class_">KeyboardAvoidMode</span>.<span class="hljs-property">RESIZE</span>);</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) ?? <span class="hljs-string">''</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content. Data: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) ?? <span class="hljs-string">''</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">KeyboardAvoidExample1</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'30%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>      <span class="hljs-title class_">TextArea</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'I can see the bottom of the page'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(179,217,235)'</span>)</li><li>        .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="584" originwidth="290" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.77478703018192758202127610551712:50001231000000:2800:3C796503BD4AF93B764D9661890C35F6B1959EDB8B1B0DDF46674DB6BE09F16C.gif" class="notEnlarge" width="290" height="584"></span></p> </div>  <div class="tiledSection"><h3 id="示例5设置键盘避让模式为上抬">示例5（设置键盘避让模式为上抬）<i class="anchor-icon anchor-icon-link" anchorid="示例5设置键盘避让模式为上抬" tips="复制节点链接"></i></h3><p>该示例通过调用setKeyboardAvoidMode设置键盘避让模式为OFFSET模式，实现键盘抬起时page的上抬效果。但当输入光标距离屏幕底部的高度大于键盘高度时，page不会抬起，如本例中所示。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// EntryAbility.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeyboardAvoidMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">UIAbility</span>{</li><li>  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-params">windowStage: <span class="hljs-variable language_">window</span>.WindowStage</span>) {</li><li>    <span class="hljs-comment">// Main window is created, set main page for this ability</span></li><li>    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);</li><li>
</li><li>    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> keyboardAvoidMode = windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getKeyboardAvoidMode</span>();</li><li>      <span class="hljs-comment">// 设置虚拟键盘抬起时把页面上抬直到露出光标</span></li><li>    windowStage.<span class="hljs-title function_">getMainWindowSync</span>().<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">setKeyboardAvoidMode</span>(<span class="hljs-title class_">KeyboardAvoidMode</span>.<span class="hljs-property">OFFSET</span>);</li><li>      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {</li><li>        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) ?? <span class="hljs-string">''</span>);</li><li>        <span class="hljs-keyword">return</span>;</li><li>      }</li><li>      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content. Data: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) ?? <span class="hljs-string">''</span>);</li><li>    });</li><li>  }</li><li>}</li></ol></pre></div></div> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">KeyboardAvoidExample2</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">'30%'</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>      <span class="hljs-title class_">TextArea</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'I can see the bottom of the page'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(179,217,235)'</span>)</li><li>        .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="856" originwidth="427" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.13296184555938448140499915305347:50001231000000:2800:6CEE76DDA0491283D52D7C85FAFE21465A181A5895C06BE98A65B9F05A80BAF0.gif" width="427" height="856"></span></p> </div>  <div class="tiledSection"><h3 id="示例6切换避让模式">示例6（切换避让模式）<i class="anchor-icon anchor-icon-link" anchorid="示例6切换避让模式" tips="复制节点链接"></i></h3><p>该示例通过调用setKeyboardAvoidMode来实现OFFSET、RESIZE和NONE模式之间的切换，实现三种不同的键盘避让效果。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">KeyboardAvoidMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>
</li><li>struct <span class="hljs-title class_">KeyboardAvoidExample3</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>({<span class="hljs-attr">space</span>:<span class="hljs-number">15</span>}) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'OFFSET'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">setKeyboardAvoidMode</span>(<span class="hljs-title class_">KeyboardAvoidMode</span>.<span class="hljs-property">OFFSET</span>);</li><li>            hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'keyboardAvoidMode: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getKeyboardAvoidMode</span>()));</li><li>          })</li><li>          .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'RESIZE'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">setKeyboardAvoidMode</span>(<span class="hljs-title class_">KeyboardAvoidMode</span>.<span class="hljs-property">RESIZE</span>);</li><li>            hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'keyboardAvoidMode: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getKeyboardAvoidMode</span>()));</li><li>          })</li><li>          .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'NONE'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">setKeyboardAvoidMode</span>(<span class="hljs-title class_">KeyboardAvoidMode</span>.<span class="hljs-property">NONE</span>);</li><li>            hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'keyboardAvoidMode: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getKeyboardAvoidMode</span>()));</li><li>          })</li><li>          .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'30%'</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>
</li><li>      <span class="hljs-title class_">TextArea</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>      </li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'I can see the bottom of the page'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(179,217,235)'</span>)</li><li>        .<span class="hljs-title function_">layoutWeight</span>(<span class="hljs-number">1</span>)</li><li>      </li><li>      <span class="hljs-title class_">TextArea</span>()</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="584" originwidth="290" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.76610347142825933597213827594640:50001231000000:2800:7FA695D1D81E0A77DAAE230A1AD738AEC0E92702DB0F0E10F0C22C4DB4A92F00.gif" class="notEnlarge" width="290" height="584"></span></p> </div>  <div class="tiledSection"><h3 id="示例7滚动类容器扩展安全区">示例7（滚动类容器扩展安全区）<i class="anchor-icon anchor-icon-link" anchorid="示例7滚动类容器扩展安全区" tips="复制节点链接"></i></h3><p>该示例通过在滚动类容器内调用expandSafeArea属性实现沉浸式效果，Scroll内的Swiper可以延伸到状态栏上。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">SwiperDataSource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IDataSource</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">list</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Color</span>&gt; = []</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">list: <span class="hljs-built_in">Array</span>&lt;Color&gt;</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = list</li><li>  }</li><li>  <span class="hljs-title function_">totalCount</span>(): <span class="hljs-built_in">number</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span></li><li>  }</li><li>  <span class="hljs-title function_">getData</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Color</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[index]</li><li>  }</li><li>  <span class="hljs-title function_">registerDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>  }</li><li>  <span class="hljs-title function_">unregisterDataChangeListener</span>(<span class="hljs-attr">listener</span>: <span class="hljs-title class_">DataChangeListener</span>): <span class="hljs-built_in">void</span> {</li><li>  }</li><li>}</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ExpandSafeAreaTest</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">swiperController</span>: <span class="hljs-title class_">SwiperController</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SwiperController</span>()</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">swiperData</span>: <span class="hljs-title class_">SwiperDataSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SwiperDataSource</span>([])</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">list</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Color</span>&gt; = [</li><li>    <span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>,</li><li>    <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span>,</li><li>    <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span></li><li>  ]</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">swiperData</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SwiperDataSource</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>)</li><li>  }</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Scroll</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Swiper</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">swiperController</span>) {</li><li>          <span class="hljs-title class_">LazyForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">swiperData</span>, <span class="hljs-function">(<span class="hljs-params">item: Color, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>            <span class="hljs-title class_">Column</span>() {</li><li>              <span class="hljs-title class_">Text</span>(<span class="hljs-string">'banner'</span> + index).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>            }</li><li>            .<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">TOP</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>])</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">400</span>)</li><li>            .<span class="hljs-title function_">backgroundColor</span>(item)</li><li>          })</li><li>        }</li><li>        .<span class="hljs-title function_">loop</span>(<span class="hljs-literal">true</span>)</li><li>        .<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">TOP</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>])</li><li>        .<span class="hljs-title function_">clip</span>(<span class="hljs-literal">false</span>)</li><li>        <span class="hljs-title class_">Column</span>(){</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Tab页Content'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>        }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">1000</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Grey</span>)</li><li>      }.<span class="hljs-title function_">expandSafeArea</span>([<span class="hljs-title class_">SafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">TOP</span>, <span class="hljs-title class_">SafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>])</li><li>    }</li><li>    .<span class="hljs-title function_">clip</span>(<span class="hljs-literal">false</span>)</li><li>    .<span class="hljs-title function_">edgeEffect</span>(<span class="hljs-title class_">EdgeEffect</span>.<span class="hljs-property">None</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="512" originwidth="288" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.89411773955272889080623554170325:50001231000000:2800:A2232167CE5FB6152A13208108D61EDC08E186C3CF1739DA72468486FD8BE568.png" class="notEnlarge" width="288" height="512"></span></p> </div>  <div class="tiledSection"><h3 id="示例8ignorelayoutsafearea延伸组件布局范围">示例8（ignoreLayoutSafeArea延伸组件布局范围）<i class="anchor-icon anchor-icon-link" anchorid="示例8ignorelayoutsafearea延伸组件布局范围" tips="复制节点链接"></i></h3><p>该示例利用<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#ignorelayoutsafearea20">ignoreLayoutSafeArea</a>改变组件位置。相比未使用该属性，配置ignoreLayoutSafeArea后，Row组件基于Stack内容区、Stack组件级安全区、系统状态栏共同组成的范围，取其左上部分，作左上对齐。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">IgnoreLayoutSafeAreaTest1</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-title class_">Row</span>()</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(39, 135, 217)'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">75</span>)  <span class="hljs-comment">// 固定宽度</span></li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">75</span>) <span class="hljs-comment">// 固定高度</span></li><li>          .<span class="hljs-title function_">ignoreLayoutSafeArea</span>([<span class="hljs-title class_">LayoutSafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">LayoutSafeAreaEdge</span>.<span class="hljs-property">START</span>, <span class="hljs-title class_">LayoutSafeAreaEdge</span>.<span class="hljs-property">TOP</span>])  <span class="hljs-comment">// 设置布局区域延伸取左和上方向，至系统避让区SYSTEM</span></li><li>        </li><li>        <span class="hljs-title class_">Row</span>()</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(0, 74, 175)'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">75</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">75</span>)</li><li>
</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>      .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)  <span class="hljs-comment">// 子组件相对于Stack容器左上对齐</span></li><li>      .<span class="hljs-title function_">padding</span>({</li><li>        <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>  <span class="hljs-comment">// 设置左侧10vp普通内边距</span></li><li>      })</li><li>      .<span class="hljs-title function_">safeAreaPadding</span>(<span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">10</span>))  <span class="hljs-comment">// 设置10vp安全区内边距（即组件级安全区）</span></li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="191" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.66814630899709576386605599582471:50001231000000:2800:B820281298FA48A49F57DFCEC39B520FB0D34A03C3BD41BD9B6D1D9DEB39A458.jpg" width="360" height="191"></span></p> </div>  <div class="tiledSection"><h3 id="示例9ignorelayoutsafearea配合layoutpolicymatchparent延伸组件布局范围">示例9（ignoreLayoutSafeArea配合LayoutPolicy.matchParent延伸组件布局范围）<i class="anchor-icon anchor-icon-link" anchorid="示例9ignorelayoutsafearea配合layoutpolicymatchparent延伸组件布局范围" tips="复制节点链接"></i></h3><p>该示例利用<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-expand-safe-area#ignorelayoutsafearea20">ignoreLayoutSafeArea</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#layoutpolicy15">LayoutPolicy.matchParent</a>同时改变组件大小和位置。相比未使用该属性，配置ignoreLayoutSafeArea后，Row组件基于Stack内容区、Stack组件级安全区，取其右下部分并撑满可用空间。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">IgnoreLayoutSafeAreaTest2</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Stack</span>() {</li><li>        <span class="hljs-title class_">Row</span>()</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(39, 135, 217)'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-title class_">LayoutPolicy</span>.<span class="hljs-property">matchParent</span>)  <span class="hljs-comment">// 自适应宽度</span></li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-title class_">LayoutPolicy</span>.<span class="hljs-property">matchParent</span>) <span class="hljs-comment">// 自适应高度</span></li><li>          .<span class="hljs-title function_">ignoreLayoutSafeArea</span>([<span class="hljs-title class_">LayoutSafeAreaType</span>.<span class="hljs-property">SYSTEM</span>], [<span class="hljs-title class_">LayoutSafeAreaEdge</span>.<span class="hljs-property">END</span>, <span class="hljs-title class_">LayoutSafeAreaEdge</span>.<span class="hljs-property">BOTTOM</span>])  <span class="hljs-comment">// 设置布局区域延伸取右和下方向，至系统避让区SYSTEM</span></li><li>
</li><li>        <span class="hljs-title class_">Row</span>()</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(0, 74, 175)'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-title class_">LayoutPolicy</span>.<span class="hljs-property">matchParent</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-title class_">LayoutPolicy</span>.<span class="hljs-property">matchParent</span>)</li><li>
</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>      .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)  <span class="hljs-comment">// 子组件相对于Stack容器左上对齐</span></li><li>      .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>) <span class="hljs-comment">// 设置10vp普通内边距</span></li><li>      .<span class="hljs-title function_">safeAreaPadding</span>(<span class="hljs-title class_">LengthMetrics</span>.<span class="hljs-title function_">vp</span>(<span class="hljs-number">10</span>))  <span class="hljs-comment">// 设置10vp安全区内边距（即组件级安全区）</span></li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="160" originwidth="160" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.79240153459777306228175700161839:50001231000000:2800:102487CD791262D935DF4794D97792321C915F95B92C0488DA0DBB3164EAC210.jpg" class="notEnlarge" width="160" height="160"></span></p> </div>  <div class="tiledSection"><h3 id="示例10expandsafearea与ignorelayoutsafearea的区别">示例10（expandSafeArea与ignoreLayoutSafeArea的区别）<i class="anchor-icon anchor-icon-link" anchorid="示例10expandsafearea与ignorelayoutsafearea的区别" tips="复制节点链接"></i></h3><p>该示例展示了容器分别设置了expandSafeArea和ignoreLayoutSafeArea的布局效果和各自对子组件布局效果的影响。两种设置下，容器都可见地进行了延伸，但前者的子组件不受延伸影响，后者的子组件因父容器的延伸改变了位置。</p> <div _ngcontent-nbm-c106="" class="highlight-div"><div _ngcontent-nbm-c106="" class="highlight-div-header"><div _ngcontent-nbm-c106="" class="highlight-div-header-left"><div _ngcontent-nbm-c106="" class="handle-button expand-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nbm-c106="" class="highlight-div-header-right"><div _ngcontent-nbm-c106="" class="handle-button ai-button"></div><div _ngcontent-nbm-c106="" class="handle-button line-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nbm-c106="" class="handle-button theme-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nbm-c106="" class="handle-button copy-button"><div _ngcontent-nbm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nbm-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">LengthMetrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span></li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">IgnoreLayoutSafeAreaTest3</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>(){</li><li>      <span class="hljs-title class_">Column</span>(){</li><li>        <span class="hljs-title class_">Stack</span>(){</li><li>          <span class="hljs-title class_">Stack</span>(){</li><li>
</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(0, 74, 175)'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(39, 135, 217)'</span>)</li><li>        .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'基准效果'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Column</span>(){</li><li>        <span class="hljs-title class_">Stack</span>(){</li><li>          <span class="hljs-title class_">Stack</span>(){</li><li>
</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(0, 74, 175)'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(39, 135, 217)'</span>)</li><li>        .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>        .<span class="hljs-title function_">expandSafeArea</span>()  <span class="hljs-comment">// 设置绘制区域延伸，自身绘制区域上抬，子组件相对屏幕位置不变</span></li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'expandSafeArea'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>      }</li><li>
</li><li>      <span class="hljs-title class_">Column</span>(){</li><li>        <span class="hljs-title class_">Stack</span>(){</li><li>          <span class="hljs-title class_">Stack</span>(){</li><li>
</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(0, 74, 175)'</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'rgb(39, 135, 217)'</span>)</li><li>        .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">TopStart</span>)</li><li>        .<span class="hljs-title function_">ignoreLayoutSafeArea</span>()  <span class="hljs-comment">// 设置布局区域延伸，自身布局区域上抬，子组件相对容器位置不变</span></li><li>
</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'ignoreLayoutSafeArea'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>)</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>)</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">SpaceEvenly</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="131" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115829.71650055193194586475872064395410:50001231000000:2800:FFDB60E0E57447A556830B0F9BA4010BA34051D3816A89FEB207AADC531F66BF.jpg" width="360" height="131"></span></p> </div> </div> <div></div></div>