<h1 _ngcontent-nmk-c119="" class="doc-title ng-star-inserted" title="废弃的Interface (CaptureSession, deprecated)"> 废弃的Interface (CaptureSession, deprecated) </h1>

<div _ngcontent-nmk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted renderOptimization" style="position: relative;">   <div>    <p>拍照会话类，保存一次相机运行所需要的所有资源<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a>，并向相机设备申请完成相机功能(录像，拍照)。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-photosession">PhotoSession</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videosession">VideoSession</a>替代。</p>     </div></div></div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 247px;">     <h2 id="导入模块" device-type="phone,2in1,tablet,tv">导入模块<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="导入模块" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { camera } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CameraKit'</span>;</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 990px;">     <h2 id="beginconfigdeprecated" device-type="phone,2in1,tablet,tv">beginConfig<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="beginconfigdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>beginConfig(): void</p>     <p>开始配置会话。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#beginconfig11">Session.beginConfig</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400105</td>         <td class="cellrowborder" width="50%">Session config locked.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">beginConfig</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">beginConfig</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The beginConfig call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection scroll-inwindow" style="contain-intrinsic-size: auto 1268px;">     <h2 id="commitconfigdeprecated" device-type="phone,2in1,tablet,tv">commitConfig<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commitconfigdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>commitConfig(callback: AsyncCallback&lt;void&gt;): void</p>     <p>提交配置信息，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#commitconfig11">Session.commitConfig</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当提交配置信息成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a></td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">commitConfig</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">commitConfig</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The commitConfig call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the commit config success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1192px;">     <h2 id="commitconfigdeprecated-1" device-type="phone,2in1,tablet,tv">commitConfig<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="commitconfigdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>commitConfig(): Promise&lt;void&gt;</p>     <p>提交配置信息。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#commitconfig11-1">Session.commitConfig</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">commitConfig</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">commitConfig</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate the commit config success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The commitConfig call failed. error code: <span class="hljs-subst">${error.code}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1220px;">     <h2 id="addinputdeprecated" device-type="phone,2in1,tablet,tv">addInput<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addinputdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>addInput(cameraInput: CameraInput): void</p>     <p>把<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a>加入到会话。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#addinput11">Session.addInput</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cameraInput</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要添加的CameraInput实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addInput</span>(<span class="hljs-params">captureSession: camera.CaptureSession, cameraInput: camera.CameraInput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">addInput</span>(cameraInput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The addInput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1220px;">     <h2 id="removeinputdeprecated" device-type="phone,2in1,tablet,tv">removeInput<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeinputdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>removeInput(cameraInput: CameraInput): void</p>     <p>移除<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#removeinput11">Session.removeInput</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cameraInput</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-camerainput">CameraInput</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要移除的CameraInput实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">removeInput</span>(<span class="hljs-params">captureSession: camera.CaptureSession, cameraInput: camera.CameraInput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">removeInput</span>(cameraInput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The removeInput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1220px;">     <h2 id="addoutputdeprecated" device-type="phone,2in1,tablet,tv">addOutput<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="addoutputdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>addOutput(cameraOutput: CameraOutput): void</p>     <p>把<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a>加入到会话。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#addoutput11">Session.addOutput</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cameraOutput</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要添加的CameraOutput实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">addOutput</span>(<span class="hljs-params">captureSession: camera.CaptureSession, cameraOutput: camera.CameraOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">addOutput</span>(cameraOutput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The addOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1220px;">     <h2 id="removeoutputdeprecated" device-type="phone,2in1,tablet,tv">removeOutput<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="removeoutputdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>removeOutput(cameraOutput: CameraOutput): void</p>     <p>从会话中移除<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#removeoutput11">Session.removeOutput</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">cameraOutput</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-cameraoutput">CameraOutput</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要移除的CameraOutput实例。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400101</td>         <td class="cellrowborder" width="50%">Parameter missing or parameter type incorrect.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400102</td>         <td class="cellrowborder" width="50%">Operation not allowed.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">removeOutput</span>(<span class="hljs-params">captureSession: camera.CaptureSession, previewOutput: camera.PreviewOutput</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">removeOutput</span>(previewOutput);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The removeOutput call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1268px;">     <h2 id="startdeprecated" device-type="phone,2in1,tablet,tv">start<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>start(callback: AsyncCallback&lt;void&gt;): void</p>     <p>开始会话工作，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#start11">Session.start</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当开始会话工作成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">startCaptureSession</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">start</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start the session, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the session start success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1168px;">     <h2 id="startdeprecated-1" device-type="phone,2in1,tablet,tv">start<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="startdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>start(): Promise&lt;void&gt;</p>     <p>开始会话工作。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#start11-1">Session.start</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">startCaptureSession</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">start</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate the session start success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to start the session, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1213px;">     <h2 id="stopdeprecated" device-type="phone,2in1,tablet,tv">stop<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>stop(callback: AsyncCallback&lt;void&gt;): void</p>     <p>停止会话工作，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#stop11">Session.stop</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当停止会话工作成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">stopCaptureSession</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">stop</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop the session, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate the session stop success.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1113px;">     <h2 id="stopdeprecated-1" device-type="phone,2in1,tablet,tv">stop<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="stopdeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>stop(): Promise&lt;void&gt;</p>     <p>停止会话工作。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#stop11-1">Session.stop</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">stopCaptureSession</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">stop</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate the session stop success.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to stop the session, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1213px;">     <h2 id="releasedeprecated" device-type="phone,2in1,tablet,tv">release<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="releasedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>release(callback: AsyncCallback&lt;void&gt;): void</p>     <p>释放会话资源，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#release11">Session.release</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;void&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数。当释放会话资源成功，err为undefined，否则为错误对象。错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">releaseCaptureSession</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">release</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to release the CaptureSession instance, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Callback invoked to indicate that the CaptureSession instance is released successfully.'</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1113px;">     <h2 id="releasedeprecated-1" device-type="phone,2in1,tablet,tv">release<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="releasedeprecated-1" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>release(): Promise&lt;void&gt;</p>     <p>释放会话资源。使用Promise异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-session#release11-1">Session.release</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Promise&lt;void&gt;</td>         <td class="cellrowborder" width="50%">Promise对象，无返回结果。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400201</td>         <td class="cellrowborder" width="50%">Camera service fatal error.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">releaseCaptureSession</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">release</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Promise returned to indicate that the CaptureSession instance is released successfully.'</span>);</li><li>  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to release the CaptureSession instance, error code: <span class="hljs-subst">${err.code}</span>.`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="hasflashdeprecated" device-type="phone,2in1,tablet,tv">hasFlash<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hasflashdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>hasFlash(): boolean</p>     <p>检测是否有闪光灯。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-flashquery#hasflash11">Flash.hasFlash</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">设备支持闪光灯。true表示支持，false表示不支持。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">hasFlash</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">status</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    status = captureSession.<span class="hljs-title function_">hasFlash</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The hasFlash call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> status;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1408px;">     <h2 id="isflashmodesupporteddeprecated" device-type="phone,2in1,tablet,tv">isFlashModeSupported<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isflashmodesupporteddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isFlashModeSupported(flashMode: FlashMode): boolean</p>     <p>检测闪光灯模式是否支持。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-flashquery#isflashmodesupported11">Flash.isFlashModeSupported</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">flashMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#flashmode">FlashMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定闪光灯模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">检测闪光灯模式是否支持。true表示支持，false表示不支持。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isFlashModeSupported</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">status</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    status = captureSession.<span class="hljs-title function_">isFlashModeSupported</span>(camera.<span class="hljs-property">FlashMode</span>.<span class="hljs-property">FLASH_MODE_AUTO</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The isFlashModeSupported call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> status;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1269px;">     <h2 id="setflashmodedeprecated" device-type="phone,2in1,tablet,tv">setFlashMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setflashmodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setFlashMode(flashMode: FlashMode): void</p>     <p>设置闪光灯模式。</p>     <p>进行设置之前，需要先检查：</p>     <ol>      <li>设备是否支持闪光灯，可使用方法<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#hasflashdeprecated">hasFlash</a>。</li>      <li>设备是否支持指定的闪光灯模式，可使用方法<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#isflashmodesupporteddeprecated">isFlashModeSupported</a>。</li>     </ol>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-flash#setflashmode11">Flash.setFlashMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.9.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">flashMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#flashmode">FlashMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定闪光灯模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setFlashMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">setFlashMode</span>(camera.<span class="hljs-property">FlashMode</span>.<span class="hljs-property">FLASH_MODE_AUTO</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setFlashMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="getflashmodedeprecated" device-type="phone,2in1,tablet,tv">getFlashMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getflashmodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getFlashMode(): FlashMode</p>     <p>获取当前设备的闪光灯模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-flash#getflashmode11">Flash.getFlashMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#flashmode">FlashMode</a></td>         <td class="cellrowborder" width="50%">获取当前设备的闪光灯模式。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getFlashMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): camera.<span class="hljs-property">FlashMode</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">flashMode</span>: camera.<span class="hljs-property">FlashMode</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    flashMode = captureSession.<span class="hljs-title function_">getFlashMode</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getFlashMode call failed.error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> flashMode;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1408px;">     <h2 id="isexposuremodesupporteddeprecated" device-type="phone,2in1,tablet,tv">isExposureModeSupported<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isexposuremodesupporteddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isExposureModeSupported(aeMode: ExposureMode): boolean</p>     <p>查询曝光模式是否支持。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposurequery#isexposuremodesupported11">AutoExposure.isExposureModeSupported</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">aeMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#exposuremode">ExposureMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">曝光模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">获取是否支持曝光模式。true表示支持，false表示不支持。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isExposureModeSupported</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isSupported</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    isSupported = captureSession.<span class="hljs-title function_">isExposureModeSupported</span>(camera.<span class="hljs-property">ExposureMode</span>.<span class="hljs-property">EXPOSURE_MODE_LOCKED</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The isExposureModeSupported call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> isSupported;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="getexposuremodedeprecated" device-type="phone,2in1,tablet,tv">getExposureMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getexposuremodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getExposureMode(): ExposureMode</p>     <p>获取当前曝光模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposure#getexposuremode11">AutoExposure.getExposureMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#exposuremode">ExposureMode</a></td>         <td class="cellrowborder" width="50%">获取当前曝光模式。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getExposureMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): camera.<span class="hljs-property">ExposureMode</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">exposureMode</span>: camera.<span class="hljs-property">ExposureMode</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    exposureMode = captureSession.<span class="hljs-title function_">getExposureMode</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getExposureMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> exposureMode;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1141px;">     <h2 id="setexposuremodedeprecated" device-type="phone,2in1,tablet,tv">setExposureMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setexposuremodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setExposureMode(aeMode: ExposureMode): void</p>     <p>设置曝光模式。进行设置之前，需要先检查设备是否支持指定的曝光模式，可使用方法<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#isexposuremodesupporteddeprecated">isExposureModeSupported</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposure#setexposuremode11">AutoExposure.setExposureMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">aeMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#exposuremode">ExposureMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">曝光模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setExposureMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">setExposureMode</span>(camera.<span class="hljs-property">ExposureMode</span>.<span class="hljs-property">EXPOSURE_MODE_LOCKED</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setExposureMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="getmeteringpointdeprecated" device-type="phone,2in1,tablet,tv">getMeteringPoint<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmeteringpointdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getMeteringPoint(): Point</p>     <p>查询曝光区域中心点。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposure#getmeteringpoint11">AutoExposure.getMeteringPoint</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#point">Point</a></td>         <td class="cellrowborder" width="50%">获取当前曝光点。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getMeteringPoint</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): camera.<span class="hljs-property">Point</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">exposurePoint</span>: camera.<span class="hljs-property">Point</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    exposurePoint = captureSession.<span class="hljs-title function_">getMeteringPoint</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getMeteringPoint call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> exposurePoint;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;">     <h2 id="setmeteringpointdeprecated" device-type="phone,2in1,tablet,tv">setMeteringPoint<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setmeteringpointdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setMeteringPoint(point: Point): void</p>     <p>设置曝光区域中心点，曝光点应位于0-1坐标系内，该坐标系左上角为{0，0}，右下角为{1，1}。</p>     <p>此坐标系是以设备充电口在右侧时的横向设备方向为基准的，例如应用的预览界面布局以</p>     <p>设备充电口在下侧时的竖向方向为基准，布局宽高为{w，h}，且触碰点为{x，y}，</p>     <p>则转换后的坐标点为{y/h，1-x/w}。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposure#setmeteringpoint11">AutoExposure.setMeteringPoint</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">point</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#point">Point</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">曝光点，x,y设置范围应在[0,1]之内，超过范围，如果小于0设置0，大于1设置1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setMeteringPoint</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">point</span>: camera.<span class="hljs-property">Point</span> = {<span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>};</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">setMeteringPoint</span>(point);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setMeteringPoint call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="getexposurebiasrangedeprecated" device-type="phone,2in1,tablet,tv">getExposureBiasRange<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getexposurebiasrangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getExposureBiasRange(): Array&lt;number&gt;</p>     <p>查询曝光补偿范围。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposurequery#getexposurebiasrange11">AutoExposure.getExposureBiasRange</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="50%">获取补偿范围的数组。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getExposureBiasRange</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">biasRangeArray</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [];</li><li>  <span class="hljs-keyword">try</span> {</li><li>    biasRangeArray = captureSession.<span class="hljs-title function_">getExposureBiasRange</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getExposureBiasRange call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> biasRangeArray;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1525px;">     <h2 id="setexposurebiasdeprecated" device-type="phone,2in1,tablet,tv">setExposureBias<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setexposurebiasdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setExposureBias(exposureBias: number): void</p>     <p>设置曝光补偿，曝光补偿值（EV）。</p>     <p>进行设置之前，建议先通过方法<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#getexposurebiasrangedeprecated">getExposureBiasRange</a>查询支持的范围。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposure#setexposurebias11">AutoExposure.setExposureBias</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">exposureBias</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">曝光补偿，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposurequery#getexposurebiasrange11">getExposureBiasRange</a>查询支持的范围，如果设置超过支持范围的值，自动匹配到就近临界点。曝光补偿存在步长，如步长为0.5。则设置1.2时，获取到实际生效曝光补偿为1.0。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。传参为null或者undefined，作为0处理，曝光补偿设置0。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setExposureBias</span>(<span class="hljs-params">captureSession: camera.CaptureSession, biasRangeArray: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (biasRangeArray &amp;&amp; biasRangeArray.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">let</span> exposureBias = biasRangeArray[<span class="hljs-number">0</span>];</li><li>    <span class="hljs-keyword">try</span> {</li><li>      captureSession.<span class="hljs-title function_">setExposureBias</span>(exposureBias);</li><li>    } <span class="hljs-keyword">catch</span> (error) {</li><li>      <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>      <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setExposureBias call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1281px;">     <h2 id="getexposurevaluedeprecated" device-type="phone,2in1,tablet,tv">getExposureValue<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getexposurevaluedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getExposureValue(): number</p>     <p>查询当前的曝光值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-autoexposure#getexposurevalue11">AutoExposure.getExposureValue</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取曝光值。曝光补偿存在步长，如步长为0.5。则设置1.2时，获取到实际生效曝光补偿为1.0。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getExposureValue</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">invalidValue</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">exposureValue</span>: <span class="hljs-built_in">number</span> = invalidValue;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    exposureValue = captureSession.<span class="hljs-title function_">getExposureValue</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getExposureValue call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> exposureValue;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1408px;">     <h2 id="isfocusmodesupporteddeprecated" device-type="phone,2in1,tablet,tv">isFocusModeSupported<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isfocusmodesupporteddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isFocusModeSupported(afMode: FocusMode): boolean</p>     <p>查询对焦模式是否支持。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-focusquery#isfocusmodesupported11">Focus.isFocusModeSupported</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">afMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#focusmode">FocusMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的焦距模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">检测对焦模式是否支持。true表示支持，false表示不支持。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.29.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isFocusModeSupported</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">status</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    status = captureSession.<span class="hljs-title function_">isFocusModeSupported</span>(camera.<span class="hljs-property">FocusMode</span>.<span class="hljs-property">FOCUS_MODE_AUTO</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The isFocusModeSupported call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> status;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1189px;">     <h2 id="setfocusmodedeprecated" device-type="phone,2in1,tablet,tv">setFocusMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfocusmodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setFocusMode(afMode: FocusMode): void</p>     <p>设置对焦模式。</p>     <p>进行设置之前，需要先检查设备是否支持指定的焦距模式，可使用方法<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#isfocusmodesupporteddeprecated">isFocusModeSupported</a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-focus#setfocusmode11">Focus.setFocusMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">afMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#focusmode">FocusMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">指定的焦距模式。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.11.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setFocusMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">setFocusMode</span>(camera.<span class="hljs-property">FocusMode</span>.<span class="hljs-property">FOCUS_MODE_AUTO</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setFocusMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="getfocusmodedeprecated" device-type="phone,2in1,tablet,tv">getFocusMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfocusmodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getFocusMode(): FocusMode</p>     <p>获取当前的对焦模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-focus#getfocusmode11">Focus.getFocusMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#focusmode">FocusMode</a></td>         <td class="cellrowborder" width="50%">获取当前设备的焦距模式。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getFocusMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): camera.<span class="hljs-property">FocusMode</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">afMode</span>: camera.<span class="hljs-property">FocusMode</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    afMode = captureSession.<span class="hljs-title function_">getFocusMode</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getFocusMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> afMode;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1357px;">     <h2 id="setfocuspointdeprecated" device-type="phone,2in1,tablet,tv">setFocusPoint<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setfocuspointdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setFocusPoint(point: Point): void</p>     <p>设置焦点，焦点应在0-1坐标系内，该坐标系左上角为{0，0}，右下角为{1，1}。</p>     <p>此坐标系是以设备充电口在右侧时的横向设备方向为基准的，例如应用的预览界面布局以</p>     <p>设备充电口在下侧时的竖向方向为基准，布局宽高为{w，h}，且触碰点为{x，y}，</p>     <p>则转换后的坐标点为{y/h，1-x/w}。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-focus#setfocuspoint11">Focus.setFocusPoint</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">point</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#point">Point</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">焦点。x,y设置范围应在[0,1]之内，超过范围，如果小于0设置0，大于1设置1。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.32.13.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.13.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setFocusPoint</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">focusPoint</span>: camera.<span class="hljs-property">Point</span> = {<span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">1</span>};</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">setFocusPoint</span>(focusPoint);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setFocusPoint call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="getfocuspointdeprecated" device-type="phone,2in1,tablet,tv">getFocusPoint<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfocuspointdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getFocusPoint(): Point</p>     <p>查询焦点。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-focus#getfocuspoint11">Focus.getFocusPoint</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-i#point">Point</a></td>         <td class="cellrowborder" width="50%">用于获取当前焦点。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getFocusPoint</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): camera.<span class="hljs-property">Point</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">point</span>: camera.<span class="hljs-property">Point</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    point = captureSession.<span class="hljs-title function_">getFocusPoint</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getFocusPoint call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> point;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1257px;">     <h2 id="getfocallengthdeprecated" device-type="phone,2in1,tablet,tv">getFocalLength<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getfocallengthdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getFocalLength(): number</p>     <p>查询焦距值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-focus#getfocallength11">Focus.getFocalLength</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">用于获取当前焦距。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getFocalLength</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">invalidValue</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">focalLength</span>: <span class="hljs-built_in">number</span> = invalidValue;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    focalLength = captureSession.<span class="hljs-title function_">getFocalLength</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getFocalLength call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> focalLength;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1257px;">     <h2 id="getzoomratiorangedeprecated" device-type="phone,2in1,tablet,tv">getZoomRatioRange<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getzoomratiorangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getZoomRatioRange(): Array&lt;number&gt;</p>     <p>获取支持的变焦范围。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-zoomquery#getzoomratiorange11">Zoom.getZoomRatioRange</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Array&lt;number&gt;</td>         <td class="cellrowborder" width="50%">用于获取可变焦距比范围，返回的数组包括其最小值和最大值。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getZoomRatioRange</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">zoomRatioRange</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [];</li><li>  <span class="hljs-keyword">try</span> {</li><li>    zoomRatioRange = captureSession.<span class="hljs-title function_">getZoomRatioRange</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getZoomRatioRange call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> zoomRatioRange;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1381px;">     <h2 id="setzoomratiodeprecated" device-type="phone,2in1,tablet,tv">setZoomRatio<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setzoomratiodeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setZoomRatio(zoomRatio: number): void</p>     <p>设置变焦比，变焦精度最高为小数点后两位，如果设置超过支持的精度范围，则只保留精度范围内数值。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-zoom#setzoomratio11">Zoom.setZoomRatio</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">zoomRatio</td>         <td class="cellrowborder" width="25%">number</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">可变焦距比，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-zoomquery#getzoomratiorange11">getZoomRatioRange</a>获取支持的变焦范围，如果设置超过支持范围的值，则只保留精度范围内数值。传参为null或者undefined，作为0处理，变焦设置最小值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setZoomRatio</span>(<span class="hljs-params">captureSession: camera.CaptureSession, zoomRatioRange: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">if</span> (zoomRatioRange === <span class="hljs-literal">undefined</span> || zoomRatioRange.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>  <span class="hljs-keyword">let</span> zoomRatio = zoomRatioRange[<span class="hljs-number">0</span>];</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">setZoomRatio</span>(zoomRatio);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setZoomRatio call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1257px;">     <h2 id="getzoomratiodeprecated" device-type="phone,2in1,tablet,tv">getZoomRatio<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getzoomratiodeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getZoomRatio(): number</p>     <p>获取当前的变焦比。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-zoom#getzoomratio11">Zoom.getZoomRatio</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">number</td>         <td class="cellrowborder" width="50%">获取当前的变焦比结果。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getZoomRatio</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">number</span> {</li><li>  <span class="hljs-keyword">const</span> <span class="hljs-attr">invalidValue</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">zoomRatio</span>: <span class="hljs-built_in">number</span> = invalidValue;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    zoomRatio = captureSession.<span class="hljs-title function_">getZoomRatio</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getZoomRatio call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> zoomRatio;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1480px;">     <h2 id="isvideostabilizationmodesupporteddeprecated" device-type="phone,2in1,tablet,tv">isVideoStabilizationModeSupported<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="isvideostabilizationmodesupporteddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>isVideoStabilizationModeSupported(vsMode: VideoStabilizationMode): boolean</p>     <p>查询是否支持指定的视频防抖模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-stabilizationquery#isvideostabilizationmodesupported11">Stabilization.isVideoStabilizationModeSupported</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">vsMode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#videostabilizationmode">VideoStabilizationMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">视频防抖模式。传参为null或者undefined，作为0处理，超级防抖模式关闭。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">boolean</td>         <td class="cellrowborder" width="50%">返回视频防抖模式是否支持。true表示支持，false表示不支持。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.38.12.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.12.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">isVideoStabilizationModeSupported</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">boolean</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">isSupported</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    isSupported = captureSession.<span class="hljs-title function_">isVideoStabilizationModeSupported</span>(camera.<span class="hljs-property">VideoStabilizationMode</span>.<span class="hljs-property">OFF</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The isVideoStabilizationModeSupported call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> isSupported;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1233px;">     <h2 id="getactivevideostabilizationmodedeprecated" device-type="phone,2in1,tablet,tv">getActiveVideoStabilizationMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getactivevideostabilizationmodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>getActiveVideoStabilizationMode(): VideoStabilizationMode</p>     <p>查询当前正在使用的视频防抖模式。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-stabilization#getactivevideostabilizationmode11">Stabilization.getActiveVideoStabilizationMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#videostabilizationmode">VideoStabilizationMode</a></td>         <td class="cellrowborder" width="50%">视频防抖是否正在使用。接口调用失败会返回相应错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.39.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">getActiveVideoStabilizationMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): camera.<span class="hljs-property">VideoStabilizationMode</span> | <span class="hljs-literal">undefined</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">vsMode</span>: camera.<span class="hljs-property">VideoStabilizationMode</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-keyword">try</span> {</li><li>    vsMode = captureSession.<span class="hljs-title function_">getActiveVideoStabilizationMode</span>();</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The getActiveVideoStabilizationMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>  <span class="hljs-keyword">return</span> vsMode;</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1237px;">     <h2 id="setvideostabilizationmodedeprecated" device-type="phone,2in1,tablet,tv">setVideoStabilizationMode<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="setvideostabilizationmodedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>setVideoStabilizationMode(mode: VideoStabilizationMode): void</p>     <p>设置视频防抖模式。需要先检查设备是否支持对应的防抖模式，可以通过<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#isvideostabilizationmodesupporteddeprecated">isVideoStabilizationModeSupported</a>方法判断所设置的模式是否支持。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-stabilization#setvideostabilizationmode11">Stabilization.setVideoStabilizationMode</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">mode</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#videostabilizationmode">VideoStabilizationMode</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">需要设置的视频防抖模式。传参为null或者undefined，作为0处理，超级防抖模式关闭。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>错误码：</strong></p>     <p>以下错误码的详细介绍请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-camera">Camera错误码</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.1" width="50%">错误码ID</th>         <th align="left" class="cellrowborder" id="mcps1.3.40.10.1.3.1.2" width="50%">错误信息</th>        </tr><tr>         <td class="cellrowborder" width="50%">7400103</td>         <td class="cellrowborder" width="50%">Session not config.</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">setVideoStabilizationMode</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    captureSession.<span class="hljs-title function_">setVideoStabilizationMode</span>(camera.<span class="hljs-property">VideoStabilizationMode</span>.<span class="hljs-property">OFF</span>);</li><li>  } <span class="hljs-keyword">catch</span> (error) {</li><li>    <span class="hljs-comment">// 失败返回错误码error.code并处理。</span></li><li>    <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`The setVideoStabilizationMode call failed. error code: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1135px;">     <h2 id="onfocusstatechangedeprecated" device-type="phone,2in1,tablet,tv">on('focusStateChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onfocusstatechangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'focusStateChange', callback: AsyncCallback&lt;FocusState&gt;): void</p>     <p>监听相机聚焦的状态变化，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videosession#onfocusstatechange11">VideoSession.on('focusStateChange')</a>替代。</p>       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.41.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'focusStateChange'，session 创建成功可监听。仅当自动对焦模式时,且相机对焦状态发生改变时可触发该事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#focusstate">FocusState</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取当前对焦状态。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerFocusStateChange</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'focusStateChange'</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, focusState: camera.FocusState</span>) =&gt;</span> {</li><li>    <span class="hljs-keyword">if</span> (err !== <span class="hljs-literal">undefined</span> &amp;&amp; err.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Callback Error, errorCode: <span class="hljs-subst">${err.code}</span>`</span>);</li><li>      <span class="hljs-keyword">return</span>;</li><li>    }</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Focus state: <span class="hljs-subst">${focusState}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 895px;">     <h2 id="offfocusstatechangedeprecated" device-type="phone,2in1,tablet,tv">off('focusStateChange')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offfocusstatechangedeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'focusStateChange', callback?: AsyncCallback&lt;FocusState&gt;): void</p>     <p>注销监听相机聚焦的状态变化。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videosession#offfocusstatechange11">VideoSession.off('focusStateChange')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.42.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'focusStateChange'，session 创建成功可监听。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%">AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#focusstate">FocusState</a>&gt;</td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterFocusStateChange</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'focusStateChange'</span>);</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 1179px;">     <h2 id="onerrordeprecated" device-type="phone,2in1,tablet,tv">on('error')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onerrordeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>on(type: 'error', callback: ErrorCallback): void</p>     <p>监听拍照会话的错误事件，通过注册回调函数获取结果。使用callback异步回调。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>当前注册监听接口，不支持在on监听的回调方法里，调用off注销回调。</p>      </div></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videosession#onerror11">VideoSession.on('error')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.43.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'error'，session创建成功之后可监听该接口。session调用相关接口出现错误时会触发该事件，比如调用<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#beginconfigdeprecated">beginConfig</a>，<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#commitconfigdeprecated-1">commitConfig</a>，<a href="/consumer/cn/doc/harmonyos-references/arkts-apis-camera-capturesession#addinputdeprecated">addInput</a>等接口发生错误时返回错误信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#errorcallback">ErrorCallback</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">回调函数，用于获取错误信息。返回错误码，错误码类型<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-e#cameraerrorcode">CameraErrorCode</a>。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerCaptureSessionError</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Capture session error code: <span class="hljs-subst">${error.code}</span>`</span>);</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection" style="contain-intrinsic-size: auto 895px;">     <h2 id="offerrordeprecated" device-type="phone,2in1,tablet,tv">off('error')<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="offerrordeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span></div><p>off(type: 'error', callback?: ErrorCallback): void</p>     <p>注销监听拍照会话的错误事件，通过注册回调函数获取结果。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从 API version 10开始支持，从API version 11开始废弃。建议使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-camera-videosession#offerror11">VideoSession.off('error')</a>替代。</p>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.Multimedia.Camera.Core</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.44.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">type</td>         <td class="cellrowborder" width="25%">string</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">监听事件，固定为'error'，session创建成功之后可监听该接口。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">callback</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-base#errorcallback">ErrorCallback</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">回调函数，如果指定参数则取消对应callback（callback对象不可是匿名函数），否则取消所有callback。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <div _ngcontent-nmk-c106="" class="highlight-div"><div _ngcontent-nmk-c106="" class="highlight-div-header"><div _ngcontent-nmk-c106="" class="highlight-div-header-left"><div _ngcontent-nmk-c106="" class="handle-button expand-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nmk-c106="" class="highlight-div-header-right"><div _ngcontent-nmk-c106="" class="handle-button ai-button"></div><div _ngcontent-nmk-c106="" class="handle-button line-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nmk-c106="" class="handle-button theme-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nmk-c106="" class="handle-button copy-button"><div _ngcontent-nmk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nmk-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">unregisterCaptureSessionError</span>(<span class="hljs-params">captureSession: camera.CaptureSession</span>): <span class="hljs-built_in">void</span> {</li><li>  captureSession.<span class="hljs-title function_">off</span>(<span class="hljs-string">'error'</span>);</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>