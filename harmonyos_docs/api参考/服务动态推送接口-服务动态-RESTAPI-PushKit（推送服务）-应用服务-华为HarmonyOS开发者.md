<h1 _ngcontent-dtw-c119="" class="doc-title ng-star-inserted" title="服务动态推送接口"> 服务动态推送接口 </h1>

<div _ngcontent-dtw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">      <p>为了更安全的网络访问，华为服务动态仅支持TLS1.2及以上版本，应用使用TLS1.2以下协议或使用规定外的加密套件将无法正常发送消息。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="section4311140519">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section4311140519" tips="复制节点链接"></i></h2>          <p>元服务调用服务动态发送API，完成服务动态消息下发。</p>    </div>    <div class="tiledSection">     <h2 id="section475153917216">使用约束<i class="anchor-icon anchor-icon-link" anchorid="section475153917216" tips="复制节点链接"></i></h2>          <ul>      <li>服务动态能力支持Phone、Tablet设备。</li>      <li>消息体最大不能超过4096Bytes。</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section215111311776">请求体结构说明<i class="anchor-icon anchor-icon-link" anchorid="section215111311776" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section67521530163710" class="firsth2">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section67521530163710" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>               <tbody><tr>         <th class="firstcol" id="mcps1.3.5.2.1.3.1.1" width="15.18%">          <p>承载协议</p></th>         <td class="cellrowborder" width="84.82%">          <p>HTTPS POST</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.5.2.1.3.2.1" width="15.18%">          <p>接口方向</p></th>         <td class="cellrowborder" width="84.82%">          <p>开发者服务器 -&gt; 华为Push服务器</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.5.2.1.3.3.1" width="15.18%">          <p>接口URL</p></th>         <td class="cellrowborder" width="84.82%">          <p>https://push-api.cloud.huawei.com/v1/<strong>[projectId]</strong>/service_timeline/send</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p><strong>[projectId]</strong>：项目ID，登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站，选择“开发与服务”，在项目列表中选择对应的项目，左侧导航栏选择“项目设置”，在该页面获取。</p>           </div></div></div></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.5.2.1.3.4.1" width="15.18%">          <p>数据格式</p></th>         <td class="cellrowborder" width="84.82%">          <p>Content-Type: application/json</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section879517103914">Request Header<i class="anchor-icon anchor-icon-link" anchorid="section879517103914" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.1" width="16.33%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.2" width="51.019999999999996%">          <p>取值描述</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.3" width="32.65%">          <p>样例</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="16.33%">          <p>Authorization</p></td>         <td class="cellrowborder" width="51.019999999999996%">          <p>鉴权方式：</p>          <p><strong>JWT</strong><strong>方式</strong></p>          <p>详情参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token" target="_blank">基于服务账号生成鉴权令牌</a>。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <ul>             <li>调用服务动态API接口必须使用<strong>PS256</strong>算法。</li>             <li>建议JWT令牌过期时间设置为3600秒，有效期内可以复用。              <p>Bearer后面拼接空格，再拼接获取的鉴权信息。</p></li>            </ul>           </div></div></div></td>         <td class="cellrowborder" width="32.65%">          <p>Bearer eyJr*****OiIx---****.eyJh*****iJodHR--***.QRod*****4Gp---****</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section16714723163811">Request Body<i class="anchor-icon anchor-icon-link" anchorid="section16714723163811" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.1" width="13.981398139813983%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.2" width="11.441144114411443%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.3" width="17.671767176717672%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.4" width="56.90569056905691%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.981398139813983%">          <p><span style="color: rgb(59,65,81);">toOpenId</span></p></td>         <td class="cellrowborder" width="11.441144114411443%">          <p>是</p></td>         <td class="cellrowborder" width="17.671767176717672%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>接收者（用户）账号登录的openID。使用从端侧上报的openID，或请求华为账号服务器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-get-user-info" target="_blank">获取用户信息</a>。可参考元服务<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/accounts-0000001967444380" target="_blank">账号使用规范</a>进行华为账号登录的设计和接入。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.981398139813983%">          <p><span style="color: rgb(59,65,81);">appId</span></p></td>         <td class="cellrowborder" width="11.441144114411443%">          <p>是</p></td>         <td class="cellrowborder" width="17.671767176717672%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>元服务的APP ID。长度范围[1, 64]。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p><strong>[appId]</strong>：登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站，选择“APP与元服务”，在列表中选择对应的元服务，左侧导航栏选择“应用信息”，在应用信息页面下的基本信息中获取<strong>APP ID</strong>的值。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="13.981398139813983%">          <p>sceneId</p></td>         <td class="cellrowborder" width="11.441144114411443%">          <p>是</p></td>         <td class="cellrowborder" width="17.671767176717672%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>场景标识，详细参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section159496312255">服务动态发送场景说明</a>。长度范围[1, 32]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.981398139813983%">          <p>subSceneId</p></td>         <td class="cellrowborder" width="11.441144114411443%">          <p>是</p></td>         <td class="cellrowborder" width="17.671767176717672%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>子场景标识，详细参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section159496312255">服务动态发送场景说明</a>。长度范围[1, 32]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.981398139813983%">          <p>code</p></td>         <td class="cellrowborder" width="11.441144114411443%">          <p>是</p></td>         <td class="cellrowborder" width="17.671767176717672%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <ul>           <li>当用户在元服务内调用华为支付收银台进行支付时，开发者可获得华为支付订单号sysTransOrderNo，可直接作为code。</li>           <li>当用户通过前端场景化button获取code时，开发者可以使用<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/scenario-fusion-button-atomic-getservicecode" target="_blank">服务动态授权码Button</a>获取code。</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="13.981398139813983%">          <p>content</p></td>         <td class="cellrowborder" width="11.441144114411443%">          <p>是</p></td>         <td class="cellrowborder" width="17.671767176717672%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section1126513338180">TimelineStatusContent</a> Object</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>服务动态指定状态参数。</p>          <p>若您是外卖自取场景，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section9109111521810">外卖自取结构体说明</a>。</p>          <p>若您是外卖配送场景，请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section910252410213">外卖配送结构体说明</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section661981223619">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section661981223619" tips="复制节点链接"></i></h2>          <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">       <p>根据不同状态必传参数、选填参数发送请求。以外卖自取场景为例。</p>      </div></div></div>    </div>    <p></p>    <p><strong>请求示例：制作中</strong></p>    <div _ngcontent-dtw-c106="" class="highlight-div"><div _ngcontent-dtw-c106="" class="highlight-div-header"><div _ngcontent-dtw-c106="" class="highlight-div-header-left"><div _ngcontent-dtw-c106="" class="handle-button expand-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dtw-c106="" class="highlight-div-header-right"><div _ngcontent-dtw-c106="" class="handle-button ai-button"></div><div _ngcontent-dtw-c106="" class="handle-button line-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dtw-c106="" class="handle-button theme-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dtw-c106="" class="handle-button copy-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dtw-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Request URL</span></li><li>POST <span class="hljs-string">"https://push-api.cloud.huawei.com/v1/[projectId]/service_timeline/send"</span></li><li> </li><li><span class="hljs-comment">// Request Header</span></li><li>Authorization<span class="hljs-punctuation">:</span> Bearer eyJr*****OiIx---****.eyJh*****iJodHR--***.QRod*****<span class="hljs-number">4</span>Gp---****</li><li>
</li><li><span class="hljs-comment">// Request Body</span></li><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"appId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5**********7"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"toOpenId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A**********O"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"sceneId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"10001"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"subSceneId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"100010001"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3**********7"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"orderTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1716191520</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"amount"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"¥ 18.00"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"productCount"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"productName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"霸气芒果"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"productImg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image_test_1"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"merchantName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"威**********店"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"pickupNumber"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1668"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"pickupTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"16:08"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"remainOrders"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5单/共5杯"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"waitTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"10-20分钟"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"button"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"取餐码"</span><span class="hljs-punctuation">,</span></li><li><span class="">            <span class="hljs-attr">"data"</span></span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>                <span class=""><span class="hljs-attr">"testKey"</span></span><span class="hljs-punctuation">:</span> <span class=""><span class="hljs-string">"testValue"</span></span></li><li>            <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"clickAction"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></li><li><span class="">            <span class="hljs-attr">"data"</span></span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>                <span class=""><span class="hljs-attr">"testKey"</span></span><span class="hljs-punctuation">:</span> <span class=""><span class="hljs-string">"testValue"</span></span></li><li>            <span class="hljs-punctuation">}</span></li><li>            </li><li>        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"appendButtons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>            <span class="hljs-punctuation">{</span></li><li>                <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></li><li>                <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"取餐码"</span><span class="hljs-punctuation">,</span></li><li><span class="">                <span class="hljs-attr">"data"</span></span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>                    <span class=""><span class="hljs-attr">"testKey"</span></span><span class="hljs-punctuation">:</span> <span class=""><span class="hljs-string">"testValue"</span></span></li><li>                <span class="hljs-punctuation">}</span></li><li>            <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    <p></p>    <p><strong>请求示例：待支付</strong></p>    <div _ngcontent-dtw-c106="" class="highlight-div"><div _ngcontent-dtw-c106="" class="highlight-div-header"><div _ngcontent-dtw-c106="" class="highlight-div-header-left"><div _ngcontent-dtw-c106="" class="handle-button expand-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dtw-c106="" class="highlight-div-header-right"><div _ngcontent-dtw-c106="" class="handle-button ai-button"></div><div _ngcontent-dtw-c106="" class="handle-button line-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dtw-c106="" class="handle-button theme-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dtw-c106="" class="handle-button copy-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dtw-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Request URL</span></li><li>POST <span class="hljs-string">"https://push-api.cloud.huawei.com/v1/[projectId]/service_timeline/send"</span></li><li> </li><li><span class="hljs-comment">// Request Header</span></li><li>Authorization<span class="hljs-punctuation">:</span> Bearer eyJr*****OiIx---****.eyJh*****iJodHR--***.QRod*****<span class="hljs-number">4</span>Gp---****</li><li>
</li><li><span class="hljs-comment">// Request Body</span></li><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"appId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"6**********3"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"toOpenId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A**********F"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"sceneId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"10001"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"subSceneId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"100010001"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1**********6"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"orderTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1715236319</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"amount"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"¥ 5.00"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"productCount"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"productName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"霸气芒果"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"productImg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image_test_1"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"paymentEndTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5分钟内支付"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"merchantName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**********园店"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"button"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"立即支付"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://***"</span></li><li>        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"clickAction"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://***"</span></li><li>        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"appendButtons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>            <span class="hljs-punctuation">{</span></li><li>                <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></li><li>                <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"立即支付"</span><span class="hljs-punctuation">,</span></li><li>                <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://***"</span></li><li>            <span class="hljs-punctuation">}</span></li><li>        <span class="hljs-punctuation">]</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section1017534720211">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section1017534720211" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section96831810227" class="firsth2">Response Body<i class="anchor-icon anchor-icon-link" anchorid="section96831810227" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.2.1.4.1.1" width="15%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.2.1.4.1.2" width="15%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.16.2.1.4.1.3" width="70%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="15%">          <p>code</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>响应码。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="15%">          <p>msg</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>响应码描述。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="15%">          <p>requestId</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>请求标识。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section311273893713">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section311273893713" tips="复制节点链接"></i></h2>         </div>    <p><strong>响应成功示例：</strong></p>    <div _ngcontent-dtw-c106="" class="highlight-div"><div _ngcontent-dtw-c106="" class="highlight-div-header"><div _ngcontent-dtw-c106="" class="highlight-div-header-left"><div _ngcontent-dtw-c106="" class="handle-button expand-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dtw-c106="" class="highlight-div-header-right"><div _ngcontent-dtw-c106="" class="handle-button ai-button"></div><div _ngcontent-dtw-c106="" class="handle-button line-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dtw-c106="" class="handle-button theme-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dtw-c106="" class="handle-button copy-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dtw-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"80000000"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Success"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"157*******006"</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    <p><strong>响应失败示例：</strong></p>    <div _ngcontent-dtw-c106="" class="highlight-div"><div _ngcontent-dtw-c106="" class="highlight-div-header"><div _ngcontent-dtw-c106="" class="highlight-div-header-left"><div _ngcontent-dtw-c106="" class="handle-button expand-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-dtw-c106="" class="highlight-div-header-right"><div _ngcontent-dtw-c106="" class="handle-button ai-button"></div><div _ngcontent-dtw-c106="" class="handle-button line-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-dtw-c106="" class="handle-button theme-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-dtw-c106="" class="handle-button copy-button"><div _ngcontent-dtw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-dtw-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span>  </li><li>  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"82600010"</span><span class="hljs-punctuation">,</span>  </li><li>  <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"status content missing required field"</span><span class="hljs-punctuation">,</span> </li><li>  <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"157*******006"</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section181221452133712">HTTP响应码<i class="anchor-icon anchor-icon-link" anchorid="section181221452133712" tips="复制节点链接"></i></h2>         </div>    <div class="tablenoborder">     <div class="tbBox"><table>      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.23.1.4.1.1" width="14.29%">         <p>HTTP响应码</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.23.1.4.1.2" width="24.490000000000002%">         <p>描述</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.23.1.4.1.3" width="61.22%">         <p>解决方法</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" width="14.29%">         <p>200</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>成功。</p></td>        <td class="cellrowborder" width="61.22%">         <p>-</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>400</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>参数错误。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请检查业务响应码并根据业务响应码进一步排查问题。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>401</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>鉴权失败。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请检查HTTP头中Authorization参数。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>404</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>找不到服务。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请检查请求URI是否正确。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>500</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>服务内部错误。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>502</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>请求连接异常，常见于网络状况不稳定。</p></td>        <td class="cellrowborder" width="61.22%">         <p>建议稍后重试，或通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>503</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>流量控制。</p></td>        <td class="cellrowborder" width="61.22%">         <ul>          <li>平均分配发送速度。</li>          <li>平均分布推送时间段，不要集中发送。</li>         </ul></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>504</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>网关超时。</p></td>        <td class="cellrowborder" width="61.22%">         <p>建议稍后重试，或通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h2 id="section167716192114">业务响应码<i class="anchor-icon anchor-icon-link" anchorid="section167716192114" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section634892841213" class="firsth2">80000000 成功<i class="anchor-icon anchor-icon-link" anchorid="section634892841213" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Success.</p>     <p><strong>错误描述</strong></p>     <p>发送成功。</p>     <p><strong>可能原因</strong></p>     <p>发送成功。</p>     <p><strong>处理步骤</strong></p>     <p>不涉及。</p>    </div>    <div class="tiledSection">     <h3 id="section10836154421216">82600001 系统内部错误<i class="anchor-icon anchor-icon-link" anchorid="section10836154421216" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>system error.</p>     <p><strong>错误描述</strong></p>     <p>系统内部错误。</p>     <p><strong>可能原因</strong></p>     <p>其他未知错误。</p>     <p><strong>处理步骤</strong></p>     <p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p>    </div>    <div class="tiledSection">     <h3 id="section1335552147">82600002 参数错误<i class="anchor-icon anchor-icon-link" anchorid="section1335552147" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>invalid parameter {errorTips}.</p>     <p><strong>错误描述</strong></p>     <p>参数错误。</p>     <p><strong>可能原因</strong></p>     <p>携带的参数不合法。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，检查并修改请求参数。</p>    </div>    <div class="tiledSection">     <h3 id="section47846186154">82600003 拒绝服务<i class="anchor-icon anchor-icon-link" anchorid="section47846186154" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>access deny.</p>     <p><strong>错误描述</strong></p>     <p>拒绝服务。</p>     <p><strong>可能原因</strong></p>     <p>未开通服务动态消息发送权益。</p>     <p><strong>处理步骤</strong></p>     <p>请开通<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-timeline#section20387153745216" target="_blank">服务动态消息发送权益</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section1426615253178">82600004 风控异常<i class="anchor-icon anchor-icon-link" anchorid="section1426615253178" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>status content blocked.</p>     <p><strong>错误描述</strong></p>     <p>风控异常。</p>     <p><strong>可能原因</strong></p>     <p>场景参数中存在违禁参数。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，检查场景参数是否携带违禁参数。</p>    </div>    <div class="tiledSection">     <h3 id="section1212212492323">82600005 服务动态下发异常<i class="anchor-icon anchor-icon-link" anchorid="section1212212492323" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>send message failed{errorTips}.</p>     <p><strong>错误描述</strong></p>     <p>服务动态下发异常。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>接收端没有在线设备。</li>      <li>请求消息体超过默认大小（4096Bytes）。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>按照响应消息中的提示，检查消息下发异常情况：</p>     <ol>      <li>检查接收端是否有在线设备。</li>      <li>检查请求消息体是否超过默认大小（4096Bytes），并减小请求体后重新推送。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section619213399333">82600006 openID校验异常<i class="anchor-icon anchor-icon-link" anchorid="section619213399333" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>invalid openId.</p>     <p><strong>错误描述</strong></p>     <p>openID校验异常。</p>     <p><strong>可能原因</strong></p>     <p>携带不正确接收者openID。</p>     <p><strong>处理步骤</strong></p>     <p>请使用从端侧上报的openID，或请求华为账号服务器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-get-user-info" target="_blank">获取用户信息</a>中的openID。</p>    </div>    <div class="tiledSection">     <h3 id="section9420201123515">82600007 场景及子场景标识错误<i class="anchor-icon anchor-icon-link" anchorid="section9420201123515" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>invalid sceneId or subSceneId.</p>     <p><strong>错误描述</strong></p>     <p>场景及子场景标识错误。</p>     <p><strong>可能原因</strong></p>     <p>场景及子场景未开通权益。</p>     <p><strong>处理步骤</strong></p>     <p>请按照已开通权益的场景及子场景标识发送。</p>    </div>    <div class="tiledSection">     <h3 id="section8260125863515">82600008 授权码错误<i class="anchor-icon anchor-icon-link" anchorid="section8260125863515" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>invalid code.</p>     <p><strong>错误描述</strong></p>     <p>授权码错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>交易订单号非法。</li>      <li>交易订单号超期未激活（有效期1小时）。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>请检查交易订单号：</p>     <ol>      <li>确保交易订单号合法。</li>      <li>请重新生成code进行推送。</li>     </ol>     <p>使用华为支付订单号sysTransOrderNo作为授权码，重新推送消息。</p>    </div>    <div class="tiledSection">     <h3 id="section689014023711">82600009 场景状态错误<i class="anchor-icon anchor-icon-link" anchorid="section689014023711" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>invalid scene status.</p>     <p><strong>错误描述</strong></p>     <p>场景状态错误。</p>     <p><strong>可能原因</strong></p>     <p>请求体参数错误。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，请按照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section159496312255">服务动态发送场景说明</a>检查并修改请求体参数。</p>    </div>    <div class="tiledSection">     <h3 id="section1938811453814">82600010 状态必填参数缺失<i class="anchor-icon anchor-icon-link" anchorid="section1938811453814" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>status content missing required field {errorTips}.</p>     <p><strong>错误描述</strong></p>     <p>状态必填参数缺失。</p>     <p><strong>可能原因</strong></p>     <p>状态必填参数缺失。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，请按照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section159496312255">服务动态发送场景说明</a>检查并修改请求体参数。</p>    </div>    <div class="tiledSection">     <h3 id="section551718592387">82600011 状态参数格式不合法<i class="anchor-icon anchor-icon-link" anchorid="section551718592387" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>status content has invalid field {errorTips}.</p>     <p><strong>错误描述</strong></p>     <p>状态参数格式不合法。</p>     <p><strong>可能原因</strong></p>     <p>状态参数格式不合法。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，检查并修改<a href="/consumer/cn/doc/harmonyos-references/push-api-service-timeline-send#section16714723163811">请求体参数</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section1433718538394">82600012 状态跳转非法<i class="anchor-icon anchor-icon-link" anchorid="section1433718538394" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>invalid status transition.</p>     <p><strong>错误描述</strong></p>     <p>状态跳转非法。</p>     <p><strong>可能原因</strong></p>     <p>状态跳转非法。</p>     <p><strong>处理步骤</strong></p>     <ul>      <li>若您是外卖自取场景，请按照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section323244401911">自取场景服务动态参数要求</a>检查并修改请求体参数。</li>      <li>若您是外卖配送场景，请按照<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-api-service-timeline-param#section14839531235">配送场景服务动态参数要求</a>检查并修改请求体参数。</li>     </ul>    </div>    <div class="tiledSection">     <h3 id="section4948131412">82600013 用户关闭服务动态推送<i class="anchor-icon anchor-icon-link" anchorid="section4948131412" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>user close service.</p>     <p><strong>错误描述</strong></p>     <p>用户关闭服务动态推送。</p>     <p><strong>可能原因</strong></p>     <p>用户关闭该场景服务动态推送。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，在<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站上开通服务动态推送权益，请参考<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-timeline#section20387153745216" target="_blank">申请权益</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section13735153664215">82600014 非法的图片资源ID<i class="anchor-icon anchor-icon-link" anchorid="section13735153664215" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>invalid image id.</p>     <p><strong>错误描述</strong></p>     <p>非法的图片资源ID。</p>     <p><strong>可能原因</strong></p>     <p>资源ID对应的图片资源不存在。</p>     <p><strong>处理步骤</strong></p>     <p>请检查资源ID对应的图片资源是否存在， 不存在则需要通过<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-timeline#section19921168203013" target="_blank">申请图片资源托管</a>提供图片重新获取资源ID。</p>    </div>    <div class="tiledSection">     <h3 id="section1066029104311">82600015 状态刷新次数超过限制<i class="anchor-icon anchor-icon-link" anchorid="section1066029104311" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>status refresh frequency reached upper limit.</p>     <p><strong>错误描述</strong></p>     <p>状态刷新次数超过限制。</p>     <p><strong>可能原因</strong></p>     <p>状态刷新次数超过限制。</p>     <p><strong>处理步骤</strong></p>     <p>状态刷新次数超过限制，请减少无效状态刷新。</p>    </div>    <div class="tiledSection">     <h3 id="section14104192417446">82600016 服务动态超期<i class="anchor-icon anchor-icon-link" anchorid="section14104192417446" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>event expired.</p>     <p><strong>错误描述</strong></p>     <p>服务动态超期。</p>     <p><strong>可能原因</strong></p>     <p>服务动态超期， 超过expireTime后将禁止刷新该服务动态消息。</p>     <p><strong>处理步骤</strong></p>     <p>合理设置expireTime并重新推送消息。</p>    </div>    <div class="tiledSection">     <h3 id="section13512926204514">82600017 用户无授权设备<i class="anchor-icon anchor-icon-link" anchorid="section13512926204514" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>no authorization device.</p>     <p><strong>错误描述</strong></p>     <p>用户无授权设备。</p>     <p><strong>可能原因</strong></p>     <p>用户该场景无授权设备。</p>     <p><strong>处理步骤</strong></p>     <p>用户该场景无授权设备，请添加授权设备再重新推送消息。</p>    </div>    <div class="tiledSection">     <h3 id="section192822016164610">82600018 服务动态事件已结束<i class="anchor-icon anchor-icon-link" anchorid="section192822016164610" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>event already closed.</p>     <p><strong>错误描述</strong></p>     <p>服务动态事件已结束。</p>     <p><strong>可能原因</strong></p>     <p>该事件已关闭，不允许继续发送。</p>     <p><strong>处理步骤</strong></p>     <p>该事件已关闭，不允许继续发送，请重新创建服务动态事件下发消息。</p>    </div>    <div class="tiledSection">     <h3 id="section18799814154713">82600019 激活授权码超出阈值<i class="anchor-icon anchor-icon-link" anchorid="section18799814154713" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>code reached upper limit.</p>     <p><strong>错误描述</strong></p>     <p>激活授权码超出阈值。</p>     <p><strong>可能原因</strong></p>     <p>向同一用户推送的授权码超过20个。</p>     <p><strong>处理步骤</strong></p>     <p>默认向同一用户推送的授权码不能超过20个，请减少授权码个数。</p>    </div>   </div>   <div></div></div>