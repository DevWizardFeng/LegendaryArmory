<h1 _ngcontent-ohr-c119="" class="doc-title ng-star-inserted" title="服务通知"> 服务通知 </h1>

<div _ngcontent-ohr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">      <p>为了更安全的网络访问，华为服务通知仅支持TLS1.2及以上版本，应用使用TLS1.2以下协议或使用规定外的加密套件将无法正常发送消息。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="section4311140519">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section4311140519" tips="复制节点链接"></i></h2>          <p>元服务调用服务通知REST API，完成订阅消息下发功能。</p>    </div>    <div class="tiledSection">     <h2 id="section842412232016">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section842412232016" tips="复制节点链接"></i></h2>          <ul>      <li>服务通知能力支持Phone、Tablet设备。</li>     </ul>    </div>    <ul>     <li>消息发送量，按订阅次数下发：      <ul>       <li>一次性订阅：指用户订阅一次，元服务可不限时间地下发一条对应的订阅消息。</li>       <li>长期订阅：指用户订阅一次，元服务可在模板限制的订阅周期及频次内多次下发通知。（HarmonyOS 6.0正式支持）</li>      </ul></li>     <li>服务通知API接口当前不支持消息回执功能。</li>    </ul>    <div class="tiledSection">     <h2 id="section215111311776">请求体结构说明<i class="anchor-icon anchor-icon-link" anchorid="section215111311776" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section59751643876" class="firsth2">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section59751643876" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>               <tbody><tr>         <th class="firstcol" id="mcps1.3.6.2.1.3.1.1" width="15.18%">          <p>承载协议</p></th>         <td class="cellrowborder" width="84.82%">          <p>HTTPS POST</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.6.2.1.3.2.1" width="15.18%">          <p>接口方向</p></th>         <td class="cellrowborder" width="84.82%">          <p>开发者服务器 -&gt; 华为Push服务器</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.6.2.1.3.3.1" width="15.18%">          <p>接口URL</p></th>         <td class="cellrowborder" width="84.82%">          <p>https://push-api.cloud.huawei.com/v1/<strong>[projectId]</strong>/service_notification/send</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p><strong>[projectId]</strong>：项目ID，登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站，选择“开发与服务”，在项目列表中选择对应的项目，左侧导航栏选择“项目设置”，在该页面获取。</p>           </div></div></div></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.6.2.1.3.4.1" width="15.18%">          <p>数据格式</p></th>         <td class="cellrowborder" width="84.82%">          <p>Content-Type: application/json</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section879517103914">Request Header<i class="anchor-icon anchor-icon-link" anchorid="section879517103914" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.4.1.1" width="16.33%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.4.1.2" width="51.019999999999996%">          <p>取值描述</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.4.1.3" width="32.65%">          <p>样例</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="16.33%">          <p>Authorization</p></td>         <td class="cellrowborder" width="51.019999999999996%">          <p>鉴权方式：</p>          <p><strong>JWT</strong><strong>方式</strong></p>          <p>详情参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token" target="_blank">基于服务账号生成鉴权令牌</a>。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <ul>             <li>调用服务通知API接口必须使用<strong>PS256</strong>算法。</li>             <li>建议JWT令牌过期时间设置为3600秒，有效期内可以复用。              <p>Bearer后面拼接空格，再拼接获取的鉴权信息。</p></li>            </ul>           </div></div></div></td>         <td class="cellrowborder" width="32.65%">          <p>Bearer eyJr*****OiIx---****.eyJh*****iJodHR--***.QRod*****4Gp---****</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section53501738161116">Request Body<i class="anchor-icon anchor-icon-link" anchorid="section53501738161116" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.2.1.5.1.1" width="16.281628162816283%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.2.1.5.1.2" width="11.561156115611562%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.2.1.5.1.3" width="15.251525152515253%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.8.2.1.5.1.4" width="56.90569056905691%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="16.281628162816283%">          <p>msgId</p></td>         <td class="cellrowborder" width="11.561156115611562%">          <p>是</p></td>         <td class="cellrowborder" width="15.251525152515253%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>消息id，唯一确定一条消息。长度范围[1, 64]。由元服务自行生成，生成时请确保消息id唯一，方便用于定位问题。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="16.281628162816283%">          <p><span style="color: rgb(59,65,81);">toOpenId</span></p></td>         <td class="cellrowborder" width="11.561156115611562%">          <p>是</p></td>         <td class="cellrowborder" width="15.251525152515253%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>接收者（用户）账号登录的openID。使用从端侧上报的openID，或请求华为账号服务器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-get-user-info" target="_blank">获取用户信息</a>。可参考元服务<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/accounts-0000001967444380" target="_blank">账号使用规范</a>进行华为账号登录的设计和接入。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="16.281628162816283%">          <p><span style="color: rgb(59,65,81);">appId</span></p></td>         <td class="cellrowborder" width="11.561156115611562%">          <p>是</p></td>         <td class="cellrowborder" width="15.251525152515253%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>元服务的APP ID。长度范围[1, 64]。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p><strong>[appId]</strong>：登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站，选择“APP与元服务”，在列表中选择对应的元服务，左侧导航栏选择“应用信息”，在应用信息页面下的基本信息中获取<strong>APP ID</strong>的值。</p>           </div></div></div></td>        </tr>        <tr>         <td class="cellrowborder" width="16.281628162816283%">          <p><span style="color: rgb(59,65,81);">templateId</span></p></td>         <td class="cellrowborder" width="11.561156115611562%">          <p>是</p></td>         <td class="cellrowborder" width="15.251525152515253%">          <p>String</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>所需下发的订阅模板ID。长度范围[1, 128]。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="16.281628162816283%">          <p><span style="color: rgb(59,65,81);">templateParams</span></p></td>         <td class="cellrowborder" width="11.561156115611562%">          <p>是</p></td>         <td class="cellrowborder" width="15.251525152515253%">          <p><a href="/consumer/cn/doc/harmonyos-references/push-api-service-noti#section18768181215219">TemplateParams</a> Object</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>模板参数，形如{"key_0": "value","key_1": "value","key_2": "value"}的对象。单个参数的长度限制见TemplateParams，模板副标题的总长度不超过1024个字节。参数值不可为空。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="16.281628162816283%">          <p>clickAction</p></td>         <td class="cellrowborder" width="11.561156115611562%">          <p>否</p></td>         <td class="cellrowborder" width="15.251525152515253%">          <p><a href="/consumer/cn/doc/harmonyos-references/push-api-service-noti#section2684194715522">ClickAction</a> Object</p></td>         <td class="cellrowborder" width="56.90569056905691%">          <p>点击事件。不传时默认跳转首页。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section18768181215219"><strong>TemplateParams</strong><i class="anchor-icon anchor-icon-link" anchorid="section18768181215219" tips="复制节点链接"></i></h3>          <p>模板参数与您在服务通知领用模板时勾选的参数有关，请通过服务通知页面确认您的模板中有哪些参数。详情见<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-service-noti#section880418143379" target="_blank">选用订阅模板</a>。</p>    </div>    <div class="tablenoborder">     <div class="tbBox"><table>      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.10.1.4.1.1" width="20.080000000000002%">         <p>参数</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.10.1.4.1.2" width="14.49%">         <p>参数类型</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.10.1.4.1.3" width="65.42999999999999%">         <p>描述</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>thing</p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>可汉字、数字、字母或符号组合，128位以内。值不可为空。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>number<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>32位以内数字。值不可为空。此字段已经废弃。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>letter<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>32位以内字母。值不可为空。此字段已经废弃。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>symbol<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>5位以内符号。值不可为空。此字段已经废弃。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>character<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>32位以内数字、字母或符号。值不可为空。此字段已经废弃。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>time</p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>代表时间。年月日格式，如：2023年1月1日，24小时制时间格式（支持+年月日），支持填时间段，两个时间点之间用“~”符号连接。值不可为空。</p>         <p>日期或时间范围，取值样例：</p>         <ul>          <li>2023年1月1日 22:22</li>          <li>2023年1月1日 22:22:00</li>          <li>2023年1月1日 00:00~2023年1月2日 23:59</li>          <li>2023年1月1日 00:00:00~2023年1月2日 23:59:59</li>          <li>2023年1月1日 00:00~12:30</li>          <li>2023年1月1日 00:00:00~12:30:00</li>          <li>2023年1月1日</li>          <li>2023年1月1日~2023年1月2日</li>         </ul></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>date<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>代表日期。年月日格式（支持+24小时制时间），支持填时间段，两个时间点之间用“~”符号连接。值不可为空。此字段已经废弃。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>amount<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>代表金额。1个币种符号+10位以内纯数字，可带小数，结尾可带“元”。值不可为空。此字段已经废弃。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>phone_number</p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>代表电话号码。数字，符号，电话号码，如：+86-025-85697456。值不可为空。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>car_number</p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>代表车牌号。8位以内，第一位与最后一位可为汉字，其余为字母或数字，例如车牌号码：粤A8Z888挂。值不可为空。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>name<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>代表姓名。10个以内纯汉字或20个以内纯字母或空格。值不可为空。此字段已经废弃。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="20.080000000000002%">         <p>phrase<sup>deprecated</sup></p></td>        <td class="cellrowborder" width="14.49%">         <p>String</p></td>        <td class="cellrowborder" width="65.42999999999999%">         <p>5个以内纯汉字，例如：配送中。值不可为空。此字段已经废弃。</p></td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h3 id="section2684194715522"><strong>ClickAction</strong><i class="anchor-icon anchor-icon-link" anchorid="section2684194715522" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.1" width="16.3%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.2" width="12.57%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.3" width="14.649999999999999%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.4" width="56.48%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="16.3%">          <p>actionType</p></td>         <td class="cellrowborder" width="12.57%">          <p>是</p></td>         <td class="cellrowborder" width="14.649999999999999%">          <p>Integer</p></td>         <td class="cellrowborder" width="56.48%">          <p>消息点击后的行为。</p>          <ul>           <li>0：打开元服务首页</li>           <li>1：打开元服务指定页面</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="16.3%">          <p>action</p></td>         <td class="cellrowborder" width="12.57%">          <p>否</p></td>         <td class="cellrowborder" width="14.649999999999999%">          <p>String</p></td>         <td class="cellrowborder" width="56.48%">          <p>应用内置页面ability对应的action。当actionType为1时，字段action和uri至少填写一个，若都填写优先寻找与action匹配的应用页面。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="16.3%">          <p>uri</p></td>         <td class="cellrowborder" width="12.57%">          <p>否</p></td>         <td class="cellrowborder" width="14.649999999999999%">          <p>String</p></td>         <td class="cellrowborder" width="56.48%">          <p>应用内置页面ability对应的uri。当actionType为1时，字段action和uri至少填写一个，若都填写优先寻找与action匹配的应用页面。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="16.3%">          <p>data</p></td>         <td class="cellrowborder" width="12.57%">          <p>否</p></td>         <td class="cellrowborder" width="14.649999999999999%">          <p>Object</p></td>         <td class="cellrowborder" width="56.48%">          <p>当actionType为0或1时，该字段用于在点击按钮后将数据传递给元服务。格式必须为key-value形式，最大长度1024字节。示例：</p>          <p>{"key1": "value1", "key2": "value2"}</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section1756110123262">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section1756110123262" tips="复制节点链接"></i></h2>          <div _ngcontent-ohr-c106="" class="highlight-div"><div _ngcontent-ohr-c106="" class="highlight-div-header"><div _ngcontent-ohr-c106="" class="highlight-div-header-left"><div _ngcontent-ohr-c106="" class="handle-button expand-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohr-c106="" class="highlight-div-header-right"><div _ngcontent-ohr-c106="" class="handle-button ai-button"></div><div _ngcontent-ohr-c106="" class="handle-button line-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohr-c106="" class="handle-button theme-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohr-c106="" class="handle-button copy-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Request URL</span></li><li>POST <span class="hljs-string">"https://push-api.cloud.huawei.com/v1/[projectId]/service_notification/send"</span></li><li> </li><li><span class="hljs-comment">// Request Header</span></li><li>Authorization<span class="hljs-punctuation">:</span> Bearer eyJr*****OiIx---****.eyJh*****iJodHR--***.QRod*****<span class="hljs-number">4</span>Gp---**** </li><li>
</li><li><span class="hljs-comment">// Request Body</span></li><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"msgId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2**********80"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"appId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"6**********972"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"toOpenId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A**********O"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"templateId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1**********2"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"templateParams"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"thing_0"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"N0001"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"time_1"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024年4月27日 22:22"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-attr">"thing_2"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"软件大道101号"</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section1017534720211">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section1017534720211" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section96831810227" class="firsth2">Response Body<i class="anchor-icon anchor-icon-link" anchorid="section96831810227" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.4.1.1" width="15%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.4.1.2" width="15%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.4.1.3" width="70%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="15%">          <p>code</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>响应码。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="15%">          <p>msg</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>响应码描述。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="15%">          <p>requestId</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>请求标识。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section7112152023618">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section7112152023618" tips="复制节点链接"></i></h2>         </div>    <p><strong>响应成功示例：</strong></p>    <div _ngcontent-ohr-c106="" class="highlight-div"><div _ngcontent-ohr-c106="" class="highlight-div-header"><div _ngcontent-ohr-c106="" class="highlight-div-header-left"><div _ngcontent-ohr-c106="" class="handle-button expand-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohr-c106="" class="highlight-div-header-right"><div _ngcontent-ohr-c106="" class="handle-button ai-button"></div><div _ngcontent-ohr-c106="" class="handle-button line-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohr-c106="" class="handle-button theme-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohr-c106="" class="handle-button copy-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"80000000"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Success"</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"157*******006"</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    <p><strong>响应失败示例：</strong></p>    <div _ngcontent-ohr-c106="" class="highlight-div"><div _ngcontent-ohr-c106="" class="highlight-div-header"><div _ngcontent-ohr-c106="" class="highlight-div-header-left"><div _ngcontent-ohr-c106="" class="handle-button expand-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ohr-c106="" class="highlight-div-header-right"><div _ngcontent-ohr-c106="" class="handle-button ai-button"></div><div _ngcontent-ohr-c106="" class="handle-button line-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ohr-c106="" class="handle-button theme-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ohr-c106="" class="handle-button copy-button"><div _ngcontent-ohr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ohr-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span>  </li><li>  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"82500003"</span><span class="hljs-punctuation">,</span>  </li><li>  <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Template subscribe msg appId error"</span><span class="hljs-punctuation">,</span> </li><li>  <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"157*******006"</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section12950183933610">HTTP响应码<i class="anchor-icon anchor-icon-link" anchorid="section12950183933610" tips="复制节点链接"></i></h2>         </div>    <div class="tablenoborder">     <div class="tbBox"><table>      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.21.1.4.1.1" width="14.29%">         <p>HTTP响应码</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.21.1.4.1.2" width="24.490000000000002%">         <p>描述</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.21.1.4.1.3" width="61.22%">         <p>解决方法</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" width="14.29%">         <p>200</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>成功。</p></td>        <td class="cellrowborder" width="61.22%">         <p>-</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>400</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>参数错误。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请检查业务响应码并根据业务响应码进一步排查问题。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>401</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>鉴权失败。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请检查HTTP头中Authorization参数。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>404</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>找不到服务。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请检查请求URI是否正确。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>500</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>服务内部错误。</p></td>        <td class="cellrowborder" width="61.22%">         <p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>502</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>请求连接异常，常见于网络状况不稳定。</p></td>        <td class="cellrowborder" width="61.22%">         <p>建议稍后重试，或通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>503</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>流量控制。</p></td>        <td class="cellrowborder" width="61.22%">         <ul>          <li>平均分配发送速度。</li>          <li>平均分布推送时间段，不要集中发送。</li>         </ul>         <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">           <p>单日单项目最多10万次，流控100tps。</p>          </div></div></div></td>       </tr>       <tr>        <td class="cellrowborder" width="14.29%">         <p>504</p></td>        <td class="cellrowborder" width="24.490000000000002%">         <p>网关超时。</p></td>        <td class="cellrowborder" width="61.22%">         <p>建议稍后重试，或通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h2 id="section166432213518">业务响应码<i class="anchor-icon anchor-icon-link" anchorid="section166432213518" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section2045313355327" class="firsth2">80000000 成功<i class="anchor-icon anchor-icon-link" anchorid="section2045313355327" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Success.</p>     <p><strong>错误描述</strong></p>     <p>发送成功。</p>     <p><strong>可能原因</strong></p>     <p>发送成功。</p>     <p><strong>处理步骤</strong></p>     <p>不涉及。</p>    </div>    <div class="tiledSection">     <h3 id="section108652498364">80100001 请求参数部分检查错误<i class="anchor-icon anchor-icon-link" anchorid="section108652498364" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check Parameter Error.</p>     <p><strong>错误描述</strong></p>     <p>请求参数部分检查错误。</p>     <p><strong>可能原因</strong></p>     <p>请求参数部分检查错误。</p>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，检查并修改请求<a href="/consumer/cn/doc/harmonyos-references/push-api-service-noti#section215111311776">参数内容</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section114974194016">81000001 系统内部错误<i class="anchor-icon anchor-icon-link" anchorid="section114974194016" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Inner Error.</p>     <p><strong>错误描述</strong></p>     <p>系统内部错误。</p>     <p><strong>可能原因</strong></p>     <p>其他未知错误。</p>     <p><strong>处理步骤</strong></p>     <p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p>    </div>    <div class="tiledSection">     <h3 id="section1335019817430">82500001 模板参数校验异常<i class="anchor-icon anchor-icon-link" anchorid="section1335019817430" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send template param check error.</p>     <p><strong>错误描述</strong></p>     <p>模板参数校验异常。</p>     <p><strong>可能原因</strong></p>     <p>携带的模板参数不合法。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，检查并修改携带的<a href="/consumer/cn/doc/harmonyos-references/push-api-service-noti#section53501738161116">模板参数</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section1492232811132">82500002 模板获取失败<i class="anchor-icon anchor-icon-link" anchorid="section1492232811132" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send template get error.</p>     <p><strong>错误描述</strong></p>     <p>模板获取失败。</p>     <p><strong>可能原因</strong></p>     <p>请求携带的模板ID不正确，查询不到对应模板信息。</p>     <p><strong>处理步骤</strong></p>     <p>请求携带的模板ID不正确，查询不到对应模板信息，请参考<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-service-noti#section880418143379" target="_blank">选用订阅模板</a>查看模板详情，并修改模板ID。</p>    </div>    <div class="tiledSection">     <h3 id="section8248103512018">82500003 项目信息异常<i class="anchor-icon anchor-icon-link" anchorid="section8248103512018" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send project info error.</p>     <p><strong>错误描述</strong></p>     <p>项目信息异常。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>请求url中项目ID查询不到项目信息。</li>      <li>appId在黑名单中。</li>      <li>元服务未开通服务通知消息功能。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>请登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站，按照响应消息中的提示，检查请求参数内容。</p>     <ol>      <li>请检查url中的项目ID是否正确。</li>      <li>检查appId是否在黑名单中。</li>      <li>请开通对应元服务的<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-service-noti#section798882510516" target="_blank">服务通知</a>。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section1998914504519">82500004 风控异常<i class="anchor-icon anchor-icon-link" anchorid="section1998914504519" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send risk check error.</p>     <p><strong>错误描述</strong></p>     <p>风控异常。</p>     <p><strong>可能原因</strong></p>     <p>模板参数携带违禁参数。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，检查并修改模板参数中的违禁参数。</p>    </div>    <div class="tiledSection">     <h3 id="section138732565011">82500005 消息下发异常<i class="anchor-icon anchor-icon-link" anchorid="section138732565011" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send push error.</p>     <p><strong>错误描述</strong></p>     <p>消息下发异常。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>下发超过订阅次数。</li>      <li>请求消息体超过默认大小。</li>      <li>用户未订阅消息。</li>      <li>元服务未开通推送服务。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>按照响应消息中的提示，检查消息下发异常的情况：</p>     <ol>      <li>下发超过订阅次数，请<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-request-sub" target="_blank">发起基于账号的订阅请求</a>增加订阅次数。</li>      <li>请求消息体超过默认大小，请减小请求体大小并重新下发消息。</li>      <li>用户未订阅消息，请<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-request-sub" target="_blank">发起基于账号的订阅请求</a>。</li>      <li>元服务未开通推送服务，请登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-prepare#section73941874447" target="_blank">开通推送服务</a>。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section1050874651">82500006 openID校验异常<i class="anchor-icon anchor-icon-link" anchorid="section1050874651" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send openId check error.</p>     <p><strong>错误描述</strong></p>     <p>openID校验异常。</p>     <p><strong>可能原因</strong></p>     <p>接收者的openID错误。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示, 使用从端侧上报的openID，或请求华为账号服务器<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-get-user-info" target="_blank">获取用户信息</a>中的openID，重新下发消息。</p>    </div>    <div class="tiledSection">     <h3 id="section52281911718">82500007 副文本构建异常<i class="anchor-icon anchor-icon-link" anchorid="section52281911718" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send subtitle build error.</p>     <p><strong>错误描述</strong></p>     <p>副文本构建异常。</p>     <p><strong>可能原因</strong></p>     <p>携带的参数和模板参数不对应。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示，检查并修改<a href="/consumer/cn/doc/harmonyos-references/push-api-service-noti#section53501738161116">模板参数</a>，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-service-noti#section880418143379" target="_blank">选用订阅模板</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section161679532819">82500008 模板消息构建异常<i class="anchor-icon anchor-icon-link" anchorid="section161679532819" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Service notification msg send msgBody build error.</p>     <p><strong>错误描述</strong></p>     <p>模板消息构建异常。</p>     <p><strong>可能原因</strong></p>     <p>携带的参数和模板参数不对应。</p>     <p><strong>处理步骤</strong></p>     <p>请按照响应消息中的提示, 检查并修改<a href="/consumer/cn/doc/harmonyos-references/push-api-service-noti#section53501738161116">模板参数</a>，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/atomic-guides/push-as-service-noti#section880418143379" target="_blank">选用订阅模板</a>。</p>    </div>   </div>   <div></div></div>