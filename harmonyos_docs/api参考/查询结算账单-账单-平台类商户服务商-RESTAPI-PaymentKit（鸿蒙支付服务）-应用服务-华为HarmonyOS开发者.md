<h1 _ngcontent-cpw-c119="" class="doc-title ng-star-inserted" title="查询结算账单"> 查询结算账单 </h1>

<div _ngcontent-cpw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section14244533142816">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section14244533142816" tips="复制节点链接"></i></h2><p>开发者可以通过该接口完成结算账单离线表单文件的下载。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol><li>获取结算账单API接口能力需要管理员先在“<a href="https://petalpay-merchant.cloud.huawei.com/" target="_blank">华为支付商户平台</a>”的“功能设置”中开启“结算单接口获取开关”，开启后<strong>次日开始生成</strong>前一日的账单。<p><span><img height="349.5105555555555" originheight="546" originwidth="1447" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115307.93678938216565976308836117538682:50001231000000:2800:9019653F91E13DBAC65B15A6F038BBD3FCF241B3A0242D3B3377A0B6355D0828.png" title="点击放大" width="920"></span></p> </li><li>无论是否产生交易，每日自动生成账单。如果查询日期超限或未生成，则不返回文件下载信息。其他情况会返回。</li><li>账单下载后，建议遍历附件目录以获取csv后缀的文件进行解析。</li><li>解析表单内容时，需考虑表单更新，如新增列等场景。</li></ol> </div></div></div> </div> <div class="tiledSection"><h2 id="section71491642105012">使用场景<i class="anchor-icon anchor-icon-link" anchorid="section71491642105012" tips="复制节点链接"></i></h2><p>为方便开发者快速完成资金对账，可通过该接口获取华为支付商户结算账单离线文件下载链接。</p> </div> <div class="tiledSection"><h2 id="section0108144213416">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section0108144213416" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table><tbody><tr><th class="firstcol" id="mcps1.3.3.2.1.3.1.1" width="18.18%"><p>承载协议</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>HTTPS GET</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.2.1" width="18.18%"><p>接口方向</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>开发者服务器 -&gt; 华为支付服务器</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.3.1" width="18.18%"><p>接口URL</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>https://petalpay-developer.cloud.huawei.com.cn/api/v1/partner/bill/settle-bill/downloadInfo?billDate=xxxxxx[&amp;subMercNo=xxxxxx]</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.4.1" width="18.18%"><p>数据格式</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>请求消息：Content-Type: application/json</p> <p>响应消息：Content-Type: application/json</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section375413411591">请求参数<i class="anchor-icon anchor-icon-link" anchorid="section375413411591" tips="复制节点链接"></i></h2><div class="p"><strong>Request Header</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.1" width="16.068393160683932%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.2" width="10.32896710328967%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.3" width="8.249175082491751%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.4" width="65.35346465353464%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.068393160683932%"><p>Content-Type</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>是</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>取值为：application/json; charset=UTF-8</p> </td> </tr> <tr><td class="cellrowborder" width="16.068393160683932%"><p>PayMercAuth</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>是</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>取值为：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/payment-model#section11744172016145">PayMercAuth</a>的JSON字符串</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="p"><strong>Request Query</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.1" width="16.068393160683932%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.2" width="10.32896710328967%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.3" width="8.249175082491751%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.4" width="65.35346465353464%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.068393160683932%"><p>billDate</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>是</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>账单日期。只能查询九十日内的，需精确到某一天，格式：yyyyMMdd（如20210101）。</p> <p>不支持下载当日账单，只能下载前一日24点前的账单数据，当日数据一般于次日 15 点后生成，特殊情况（如系统异常等）可能延迟。</p> </td> </tr> <tr><td class="cellrowborder" width="16.068393160683932%"><p>subMercNo</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>否</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>子商户号：传入时返回的账单数据将只包含对应子商户的记录信息，不传默认查询商户下所有记录信息。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div class="tiledSection"><h2 id="section1119516475554">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section1119516475554" tips="复制节点链接"></i></h2><div _ngcontent-cpw-c106="" class="highlight-div"><div _ngcontent-cpw-c106="" class="highlight-div-header"><div _ngcontent-cpw-c106="" class="highlight-div-header-left"><div _ngcontent-cpw-c106="" class="handle-button expand-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpw-c106="" class="highlight-div-header-right"><div _ngcontent-cpw-c106="" class="handle-button ai-button"></div><div _ngcontent-cpw-c106="" class="handle-button line-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpw-c106="" class="handle-button theme-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpw-c106="" class="handle-button copy-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">GET</span> /<span class="hljs-variable">api</span>/<span class="hljs-variable">v1</span>/<span class="hljs-variable">partner</span>/<span class="hljs-variable">bill</span>/<span class="hljs-variable">settle</span>-<span class="hljs-variable">bill</span>/<span class="hljs-variable">downloadInfo</span>?<span class="hljs-variable">billDate</span>=<span class="hljs-number">20221010</span> <span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.1</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>;<span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li><span class="hljs-variable">PayMercAuth</span>: {<span class="hljs-string">"callerId"</span>:<span class="hljs-string">"10132120***"</span>,<span class="hljs-string">"traceId"</span>:<span class="hljs-string">"202305151518027020519"</span>,<span class="hljs-string">"time"</span>:<span class="hljs-number">1684135082153</span>,<span class="hljs-string">"authId"</span>:<span class="hljs-string">"120291744647139***"</span>,<span class="hljs-string">"headerSign"</span>:<span class="hljs-string">"KJfXV9wiYjV9dpVBVD9zhWJ8Bg766GcKooIFPlPKXqlKW8KEbkWNbtbSot********************6KvtmF5BCt0SbOeFiawSVGXW+81rvobQngEKq02sOB0RbrxZIk2Hll20OSMNPBsO8PIWk3168="</span>,<span class="hljs-string">"bodySign"</span>:<span class="hljs-string">"mL8Kf2jy9c7A7Yh9az3NlETYdzgOfNzLBJ2l/feRfoMeYV********************ujN2w7qB/pbTViW2ypPM="</span>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section10709152124515">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section10709152124515" tips="复制节点链接"></i></h2><div class="p"><strong>Response Header</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.1" width="16.068393160683932%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.2" width="10.32896710328967%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.3" width="8.249175082491751%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.4" width="65.35346465353464%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.068393160683932%"><p>Content-Type</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>是</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>取值为：application/json; charset=UTF-8</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div class="p"><strong>Response Body</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.1" width="23.47%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.2" width="22.42%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.3" width="25.540000000000003%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.4" width="28.57%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.47%"><p>resultCode</p> </td> <td class="cellrowborder" width="22.42%"><p>是</p> </td> <td class="cellrowborder" width="25.540000000000003%"><p>String</p> </td> <td class="cellrowborder" width="28.57%"><p>结果码，“000000”表示成功，其他表示失败。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>resultDesc</p> </td> <td class="cellrowborder" width="22.42%"><p>是</p> </td> <td class="cellrowborder" width="25.540000000000003%"><p>String</p> </td> <td class="cellrowborder" width="28.57%"><p>结果描述。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>subCode</p> </td> <td class="cellrowborder" width="22.42%"><p>否</p> </td> <td class="cellrowborder" width="25.540000000000003%"><p>String</p> </td> <td class="cellrowborder" width="28.57%"><p>业务错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>subDesc</p> </td> <td class="cellrowborder" width="22.42%"><p>否</p> </td> <td class="cellrowborder" width="25.540000000000003%"><p>String</p> </td> <td class="cellrowborder" width="28.57%"><p>业务错误描述信息。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>sign</p> </td> <td class="cellrowborder" width="22.42%"><p>是</p> </td> <td class="cellrowborder" width="25.540000000000003%"><p>String</p> </td> <td class="cellrowborder" width="28.57%"><p>签名值。用于开发者对响应报文进行防篡改验证。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>billDownloadParam</p> </td> <td class="cellrowborder" width="22.42%"><p>否</p> </td> <td class="cellrowborder" width="25.540000000000003%"><p style="color: rgb(0,176,240);"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/payment-model#section580851813465">BillDownloadParam</a></p> </td> <td class="cellrowborder" width="28.57%"><p>账单下载请求信息。有生成账单数据时返回。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section452643714567">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section452643714567" tips="复制节点链接"></i></h2><div _ngcontent-cpw-c106="" class="highlight-div"><div _ngcontent-cpw-c106="" class="highlight-div-header"><div _ngcontent-cpw-c106="" class="highlight-div-header-left"><div _ngcontent-cpw-c106="" class="handle-button expand-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpw-c106="" class="highlight-div-header-right"><div _ngcontent-cpw-c106="" class="handle-button ai-button"></div><div _ngcontent-cpw-c106="" class="handle-button line-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpw-c106="" class="handle-button theme-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpw-c106="" class="handle-button copy-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> <span class="hljs-variable">OK</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>; <span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li>{</li><li>  <span class="hljs-string">"sign"</span>: <span class="hljs-string">"MEUCIGnmUY8Yg34Ma5NBwqYzLBdNGTg3jCV********************PoKn+cRVu/W3HH+8WGGJsV3TA="</span>,</li><li>  <span class="hljs-string">"resultCode"</span>: <span class="hljs-string">"000000"</span>,</li><li>  <span class="hljs-string">"resultDesc"</span>: <span class="hljs-string">"Success"</span>,</li><li>  <span class="hljs-string">"billDownloadParam"</span>: {</li><li>    <span class="hljs-string">"headers"</span>: {</li><li>      <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">"AWS4-HMAC-SHA256 Credential=BJIIJMUMOQKXDCODXVCG/2022110********************z-date, Signature=e7275216278aebc548f413f899eb2f4d82011ed479087f0055c702fa6addc8e5"</span>,</li><li>      <span class="hljs-string">"x-amz-content-sha256"</span>: <span class="hljs-string">"UNSIGNED-PAYLOAD"</span>,</li><li>      <span class="hljs-string">"x-amz-client-request-id"</span>: <span class="hljs-string">"20210863286224479792"</span>,</li><li>      <span class="hljs-string">"x-amz-date"</span>: <span class="hljs-string">"20221103T005326Z"</span>,</li><li>      <span class="hljs-string">"connection"</span>: <span class="hljs-string">"close"</span>,</li><li>      <span class="hljs-string">"Host"</span>: <span class="hljs-string">"petalpay-merchant-test-001.obs.cn-north-4.myhuaweicloud.cn"</span>,</li><li>      <span class="hljs-string">"user-agent"</span>: <span class="hljs-string">"Apache-HttpAsyncClient/4.1.2 (Java/1.8.0_272)"</span>,</li><li>      <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/octet-stream"</span></li><li>    },</li><li>    <span class="hljs-string">"method"</span>: <span class="hljs-string">"GET"</span>,</li><li>    <span class="hljs-string">"downloadUrl"</span>: <span class="hljs-string">"https://petalpay-merchant-test-001.obs.cn-north-4.myhuaweicloud.cn/xxxxxx.zip"</span></li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section19791123014304">错误码<i class="anchor-icon anchor-icon-link" anchorid="section19791123014304" tips="复制节点链接"></i></h2><p><strong>result_code</strong>非400000的错误码请查看<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/payment-error-code-rest#section1187515498410">公共错误码说明</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.3.1.5.1.1" width="20.987901209879013%"><p>返回码</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.3.1.5.1.2" width="23.697630236976302%"><p><strong>错误码</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.3.1.5.1.3" width="27.90720927907209%"><p><strong>错误描述</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.3.1.5.1.4" width="27.407259274072594%"><p><strong>解决方案</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20.987901209879013%"><p>400000</p> </td> <td class="cellrowborder" width="23.697630236976302%"><p>NOT_SETTLEMENT_DATE</p> </td> <td class="cellrowborder" width="27.90720927907209%"><p>非结算日，账单未生成。</p> </td> <td class="cellrowborder" width="27.407259274072594%"><p>请修改入参日期重试。</p> </td> </tr> <tr><td class="cellrowborder" width="20.987901209879013%"><p>400000</p> </td> <td class="cellrowborder" width="23.697630236976302%"><p>INVALID_ARGUMENTS</p> </td> <td class="cellrowborder" width="27.90720927907209%"><p>参数不合法。</p> </td> <td class="cellrowborder" width="27.407259274072594%"><p>请检查请求参数。</p> </td> </tr> <tr><td class="cellrowborder" width="20.987901209879013%"><p>400000</p> </td> <td class="cellrowborder" width="23.697630236976302%"><p>BILL_SWITCH_NOT_TURN_ON</p> </td> <td class="cellrowborder" width="27.90720927907209%"><p>账单开关没有打开。</p> </td> <td class="cellrowborder" width="27.407259274072594%"><p>请检查并<a href="/consumer/cn/doc/harmonyos-references/payment-partner-agent-query-settle-bill#section14244533142816">打开账单开关</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="20.987901209879013%"><p>400000</p> </td> <td class="cellrowborder" width="23.697630236976302%"><p>INVALID_SUB_MERCNO</p> </td> <td class="cellrowborder" width="27.90720927907209%"><p>权限异常，请求传递的子商户号不是验签商户的子商户。</p> </td> <td class="cellrowborder" width="27.407259274072594%"><p>请检查子商户号是否和验签商户正确关联。</p> </td> </tr> <tr><td class="cellrowborder" width="20.987901209879013%"><p>400000</p> </td> <td class="cellrowborder" width="23.697630236976302%"><p>UNKNOWN_ERROR</p> </td> <td class="cellrowborder" width="27.90720927907209%"><p>服务暂不可用，请稍后重试</p> </td> <td class="cellrowborder" width="27.407259274072594%"><p>稍后重试。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section425554216533">下载文件示例<i class="anchor-icon anchor-icon-link" anchorid="section425554216533" tips="复制节点链接"></i></h2><div _ngcontent-cpw-c106="" class="highlight-div"><div _ngcontent-cpw-c106="" class="highlight-div-header"><div _ngcontent-cpw-c106="" class="highlight-div-header-left"><div _ngcontent-cpw-c106="" class="handle-button expand-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-cpw-c106="" class="highlight-div-header-right"><div _ngcontent-cpw-c106="" class="handle-button ai-button"></div><div _ngcontent-cpw-c106="" class="handle-button line-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-cpw-c106="" class="handle-button theme-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-cpw-c106="" class="handle-button copy-button"><div _ngcontent-cpw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-cpw-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">RestTemplate</span> <span class="hljs-variable">restTemplate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestTemplate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpComponentsClientHttpRequestFactory</span>(HttpClients.createSystem()));</li><li><span class="hljs-type">HttpHeaders</span> <span class="hljs-variable">headers</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpHeaders</span>();</li><li><span class="hljs-comment">// billResponse为请求账单接口响应的对象</span></li><li>billResponse.getBillDownloadParam().getHeaders().forEach(headers::add);</li><li>HttpEntity&lt;?&gt; httpEntity = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpEntity</span>&lt;&gt;(headers);</li><li>ResponseEntity&lt;<span class="hljs-type">byte</span>[]&gt; responseEntity = restTemplate.exchange(billResponse.getBillDownloadParam().getDownloadUrl(), HttpMethod.GET, httpEntity, <span class="hljs-type">byte</span>[].class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[<span class="hljs-number">0</span>]);</li><li><span class="hljs-keyword">if</span> (responseEntity.getStatusCode() == HttpStatus.OK) {</li><li>    <span class="hljs-comment">// ./结算账单2022xxxx.zip 路径可自定义</span></li><li>    Files.write(Paths.get(<span class="hljs-string">"./结算账单2022xxxx.zip"</span>), responseEntity.getBody());</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section10921124716523">结算账单文件说明<i class="anchor-icon anchor-icon-link" anchorid="section10921124716523" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.1" width="19.759999999999998%"><p><strong>字段名</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.2" width="11.12%"><p>是否必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.3" width="36.870000000000005%"><p><strong>描述</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.4" width="32.25%"><p><strong>示例值</strong></p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="19.759999999999998%"><p>结算单号</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指商户号结算时，华为支付为该次结算分配的订单号。</p> </td> <td class="cellrowborder" width="32.25%"><p>71306c214b2d486199e3c19a6******X</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>结算日</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>依据该商户号结算周期，华为支付将交易款结算给该商户号结算账户的日期，格式为yyyyMMdd。</p> </td> <td class="cellrowborder" width="32.25%"><p>20220826</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>商户名称</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>发起该笔交易下单的华为支付商户主体名称。</p> </td> <td class="cellrowborder" width="32.25%"><p>测试******商户</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>商户号</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>发起该笔交易下单的华为支付商户号。</p> </td> <td class="cellrowborder" width="32.25%"><p>1015******89</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>交易创建时间</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔交易的创建时间，格式为yyyyMMdd。</p> </td> <td class="cellrowborder" width="32.25%"><p>20220825</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>交易完成时间</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔交易的支付成功时间，格式为yyyy-MM-dd HH:mm:ss。</p> </td> <td class="cellrowborder" width="32.25%"><p>2022-08-25 10:29:19</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>系统交易订单号</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>华为支付为该笔订单分配的订单号。</p> </td> <td class="cellrowborder" width="32.25%"><p>1220825102620000******857556</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>商户订单号</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>商户传入的该笔订单的商户订单号，对应下单接口里的mercOrderNo字段。</p> </td> <td class="cellrowborder" width="32.25%"><p>Imagazine_1661394******</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>交易类型</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>该笔订单类型，包括但不限于（后续可能新增）：</p> <ul><li>收单：通过华为支付收款的订单</li><li>退款：给用户退款的订单</li><li>分账：收款资金分账给合作方的订单</li><li>分账回收入金：分账后从合作方分账回收的订单</li><li>分账回收出金：分账后被合作方分账回收的订单</li><li>协议分账：将收款资金根据分账规则分给合作方的订单</li><li>冻结：争议交易冻结结算款的订单</li><li>解冻：争议交易解冻结算款的订单</li><li>商户收单：通过华为支付收款的订单</li><li>B2C转账：转账给用户支付账户的订单</li></ul> </td> <td class="cellrowborder" width="32.25%"><p>收单</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>产品实例编号</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔订单使用的交易产品编号。</p> </td> <td class="cellrowborder" width="32.25%"><p>87178478298******0</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>产品名称</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔订单使用的交易产品名称。</p> </td> <td class="cellrowborder" width="32.25%"><p>借记卡快捷支付</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>银行名称</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔订单发生交易的银行。</p> </td> <td class="cellrowborder" width="32.25%"><p>工商银行</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>卡类型</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔订单发生交易的银行卡类型：</p> <ul><li>借记卡</li><li>贷记卡</li></ul> </td> <td class="cellrowborder" width="32.25%"><p>借记卡</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>交易币种</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔订单的交易币种。</p> <ul><li>CNY（人民币，默认值）</li></ul> </td> <td class="cellrowborder" width="32.25%"><p>CNY</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>结算金额(元)</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔订单的实际应结算金额，最多保留小数点后2位。</p> </td> <td class="cellrowborder" width="32.25%"><p>5.01</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>订单金额(元)</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>该笔订单的总金额，包括用户支付金额、优惠金额，最多保留到小数点后2位。</p> </td> <td class="cellrowborder" width="32.25%"><p>5.01</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>优惠金额(元)</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指该笔订单在用户支付时的减免金额，最多保留到小数点后2位。</p> </td> <td class="cellrowborder" width="32.25%"><p>0</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>手续费金额(元)</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>该笔订单产生的交易手续费，最多保留小数点后2位。</p> </td> <td class="cellrowborder" width="32.25%"><p>0.03</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>手续费收取方式</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指华为支付对当笔订单的手续费收取方式，一般以商户号维度配置，支持：</p> <ul><li>手续费轧差收取</li><li>手续费后收</li><li>手续费账户收取</li></ul> </td> <td class="cellrowborder" width="32.25%"><p>手续费轧差收取</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>分账类型</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指分账订单的分账方式：</p> <ul><li>不分账</li><li>分账</li><li>分账回收</li><li>协议分账</li></ul> </td> <td class="cellrowborder" width="32.25%"><p>不分账</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>合作方商户名称</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指分账订单的发起方商户主体名称。</p> </td> <td class="cellrowborder" width="32.25%"><p>xyz</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>合作方商户号</p> </td> <td class="cellrowborder" width="11.12%"><p>是</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>指分账订单的发起方商户号。</p> </td> <td class="cellrowborder" width="32.25%"><p>1015******89</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>原系统交易订单号</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>退款或者分账原华为支付交易订单号。</p> </td> <td class="cellrowborder" width="32.25%"><p>124042317******0740873494880</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>原商户订单号</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>退款或者分账原商户订单号。</p> </td> <td class="cellrowborder" width="32.25%"><p>czl00120******554112</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>商户预留信息</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>预下单时的商户预留信息。</p> </td> <td class="cellrowborder" width="32.25%"><p>payload test</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>AppID</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>应用ID。</p> <p>如果商户交易未配置AppID校验，则该字段信息为空。</p> </td> <td class="cellrowborder" width="32.25%"><p>5765880******8652727</p> </td> </tr> <tr><td class="cellrowborder" width="19.759999999999998%"><p>用户标识</p> </td> <td class="cellrowborder" width="11.12%"><p>否</p> </td> <td class="cellrowborder" width="36.870000000000005%"><p>商户AppID生成的对应的openid。</p> <p>如果商户交易未配置AppID校验，则该字段信息为空。</p> </td> <td class="cellrowborder" width="32.25%"><p>2248554******3012454</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>