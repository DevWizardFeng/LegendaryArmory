<h1 _ngcontent-gls-c119="" class="doc-title ng-star-inserted" title="栅格设置"> 栅格设置 </h1>

<div _ngcontent-gls-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>栅格设置可以为布局提供规律性的结构，解决多尺寸多设备的动态布局问题，保证不同设备上各个模块的布局一致性。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ul><li><p>从API version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  </li><li><p>从API version 9开始，该模块不再维护，推荐使用新组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcol">GridCol</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridrow">GridRow</a>替代。</p>  </li><li><p>栅格布局的列宽、列间距由距离最近的GridContainer父组件决定。使用栅格属性的组件树上至少需要有1个GridContainer容器组件。</p>  </li><li><p>gridSpan、gridOffset属性调用时其父组件或祖先组件必须是GridContainer。</p>  </li></ul>  </div></div></div>  <div class="tiledSection"><h2 id="属性" device-type="phone,2in1,tablet,wearable,tv">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.3.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.4.1.2" width="33.33333333333333%">参数类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">useSizeType<sup>(deprecated) </sup></td> <td class="cellrowborder" width="33.33333333333333%"><p>{</p> <p>xs?: number | { span: number, offset: number },</p> <p>sm?: number | { span: number, offset: number },</p> <p>md?: number | { span: number, offset: number },</p> <p>lg?: number | { span: number, offset: number }</p> <p>}</p> </td> <td class="cellrowborder" width="33.33333333333333%"><p>设置在特定设备宽度类型下的占用列数和偏移列数，span：占用列数；offset：偏移列数。</p> <p>当值为number类型时，仅设置列数，当格式如{"span": 1, "offset": 0}时，指同时设置占用列数与偏移列数。</p> <p>- xs：指设备宽度类型为SizeType.XS时的占用列数和偏移列数。</p> <p>- sm：指设备宽度类型为SizeType.SM时的占用列数和偏移列数。</p> <p>- md：指设备宽度类型为SizeType.MD时的占用列数和偏移列数。</p> <p>- lg：指设备宽度类型为SizeType.LG时的占用列数和偏移列数。</p> <p>该属性从API version 9开始废弃，推荐使用新组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcol">GridCol</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridrow">GridRow</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">gridSpan<sup>(deprecated) </sup></td> <td class="cellrowborder" width="33.33333333333333%">number</td> <td class="cellrowborder" width="33.33333333333333%"><p>默认占用列数，指useSizeType属性没有设置对应尺寸的列数(span)时，占用的栅格列数。</p> <p><strong>说明：</strong></p> <p>设置了栅格span属性，组件的宽度由栅格布局决定。</p> <p>默认值：1</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p>该属性从API version 14开始废弃，推荐使用新组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcol">GridCol</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridrow">GridRow</a>。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">gridOffset<sup>(deprecated) </sup></td> <td class="cellrowborder" width="33.33333333333333%">number</td> <td class="cellrowborder" width="33.33333333333333%"><p>默认偏移列数，指useSizeType属性没有设置对应尺寸的偏移(offset)时，当前组件沿着父组件Start方向，偏移的列数，也就是当前组件位于第n列。</p> <p><strong>说明：</strong></p> <p>- 配置该属性后，当前组件在父组件水平方向的布局不再跟随父组件原有的布局方式，而是沿着父组件的Start方向偏移一定位移。</p> <p>- 偏移位移 = （列宽 + 间距）* 列数。</p> <p>- 设置了偏移(gridOffset)的组件之后的兄弟组件会根据该组件进行相对布局，类似相对布局。</p> <p>默认值：0</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p>该属性从API version 14开始废弃，推荐使用新组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridcol">GridCol</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-gridrow">GridRow</a>。</p> </td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置不同设备类型的宽度，以及单独设置组件的span和offset，在sm尺寸大小的设备上使用useSizeType中sm的数据实现一样的效果。</p> <div _ngcontent-gls-c106="" class="highlight-div"><div _ngcontent-gls-c106="" class="highlight-div-header"><div _ngcontent-gls-c106="" class="highlight-div-header-left"><div _ngcontent-gls-c106="" class="handle-button expand-button"><div _ngcontent-gls-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-gls-c106="" class="highlight-div-header-right"><div _ngcontent-gls-c106="" class="handle-button ai-button"></div><div _ngcontent-gls-c106="" class="handle-button line-button"><div _ngcontent-gls-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-gls-c106="" class="handle-button theme-button"><div _ngcontent-gls-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-gls-c106="" class="handle-button copy-button"><div _ngcontent-gls-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-gls-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">GridContainerExample1</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'useSizeType'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">15</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-title class_">GridContainer</span>() {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Left'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">useSizeType</span>({</li><li>            <span class="hljs-attr">xs</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span> }, <span class="hljs-attr">sm</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span> },</li><li>            <span class="hljs-attr">md</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span> }, <span class="hljs-attr">lg</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span> }</li><li>          })</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x66bbb2cb</span>)</li><li>
</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Center'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">useSizeType</span>({</li><li>            <span class="hljs-attr">xs</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span> }, <span class="hljs-attr">sm</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span> },</li><li>            <span class="hljs-attr">md</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span> }, <span class="hljs-attr">lg</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">7</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">2</span> }</li><li>          })</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x66b6c5d1</span>)</li><li>
</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Right'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">useSizeType</span>({</li><li>            <span class="hljs-attr">xs</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span> }, <span class="hljs-attr">sm</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">3</span> },</li><li>            <span class="hljs-attr">md</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">6</span> }, <span class="hljs-attr">lg</span>: { <span class="hljs-attr">span</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">9</span> }</li><li>          })</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x66bbb2cb</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>
</li><li>      }</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0xf1f3f5</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })</li><li>
</li><li>      <span class="hljs-comment">// 单独设置组件的span和offset,在sm尺寸大小的设备上使用useSizeType中sm的数据实现一样的效果</span></li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'gridSpan,gridOffset'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">15</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-number">0xCCCCCC</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)</li><li>      <span class="hljs-title class_">GridContainer</span>() {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Left'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">gridSpan</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x66bbb2cb</span>)</li><li>
</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Center'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">gridSpan</span>(<span class="hljs-number">2</span>)</li><li>          .<span class="hljs-title function_">gridOffset</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x66b6c5d1</span>)</li><li>
</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Right'</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">25</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">gridSpan</span>(<span class="hljs-number">1</span>)</li><li>          .<span class="hljs-title function_">gridOffset</span>(<span class="hljs-number">3</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"100%"</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-number">0x66bbb2cb</span>)</li><li>        }.<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>      }</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>图1</strong> 设备宽度为SM</p> <p><span><img originheight="270" originwidth="454" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115557.99731578102361365865770854625632:50001231000000:2800:83F1211D1BF1E6AD3C22EBC78E8DC12954BE89C3F06961957B9D7FEB22356747.png" width="454" height="270"></span></p> <p><strong>图2</strong> 设备宽度为MD</p> <p><span><img originheight="246" originwidth="904" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115557.93933292680635803766920362550354:50001231000000:2800:4D8481C1585A4AEB9D7F8BA5963F36C148D105A2EFECB8E9E25E451E6FBB9910.png" width="904" height="246"></span></p> <p><strong>图3</strong> 设备宽度为LG</p> <p><span><img originheight="186" originwidth="843" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115557.23557664189727211817033619817865:50001231000000:2800:62238F5F2F8E34AD783E26DBF48E22908407F7B3B823615CFE7520015E8DA933.png" width="843" height="186"></span></p> <p><strong>图4</strong> 单独设置gridSpan和gridOffset在特定屏幕大小下的效果与useSizeType效果一致</p> <p><span><img originheight="397" originwidth="264" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115557.46276253277323658098615873803544:50001231000000:2800:BB6FBCB9143C8B0AEAB6B4F405707109BEFC4B0DC883F4E6CE7F7AC252EBF5FE.png" class="notEnlarge" width="264" height="397"></span></p> </div> </div> <div></div></div>