<h1 _ngcontent-oac-c119="" class="doc-title ng-star-inserted" title="消息撤回"> 消息撤回 </h1>

<div _ngcontent-oac-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">      <p id="ZH-CN_TOPIC_0000002368546112__zh-cn_topic_0000002368705820_p3965173117620">为了更安全的网络访问，华为推送服务于2022年11月30日关闭Push相关域名的TLS1.0、TLS1.1协议及规定之外的加密套件，关闭后，应用使用TLS1.2以下协议或使用规定外的加密套件将无法正常推送消息。</p>      <p id="ZH-CN_TOPIC_0000002368546112__zh-cn_topic_0000002368705820_p1296512311065">若您的应用访问Push相关域名使用协议是TLS1.0或TLS1.1，可能无法正常发送消息，请您务必升级到TLS1.2及以上版本。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="section138665163577">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section138665163577" tips="复制节点链接"></i></h2>          <p>您调用本API完成消息撤回的功能。<strong>撤回功能当前仅支持通知消息与通知扩展消息</strong>。为免疑义，以下说明中“消息”均为通知消息与通知扩展消息。</p>    </div>    <div class="tiledSection">     <h2 id="section897223915719">使用约束<i class="anchor-icon anchor-icon-link" anchorid="section897223915719" tips="复制节点链接"></i></h2>          <p>消息体最大不能超过4096Bytes（不包括Push Token），单次最多携带的Push Token数不能超过1000（系统当前配置值）。</p>    </div>    <div class="tiledSection">     <h2 id="section1739014135813">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section1739014135813" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table>               <tbody><tr>         <th class="firstcol" id="mcps1.3.4.2.1.3.1.1" width="20%">          <p>承载协议</p></th>         <td class="cellrowborder" width="80%">          <p>HTTPS POST</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.4.2.1.3.2.1" width="20%">          <p>接口方向</p></th>         <td class="cellrowborder" width="80%">          <p>开发者服务器 -&gt; 华为Push服务器</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.4.2.1.3.3.1" width="20%">          <p>接口URL</p></th>         <td class="cellrowborder" width="80%">          <p>https://push-api.cloud.huawei.com/v1/<strong>[clientId]</strong>/messages:revoke</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p><strong>[clientId]</strong>：请替换为您应用的Client ID（参考<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-view-app-info-0000002282674569" target="_blank">指导</a>获取）</p>           </div></div></div></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.4.2.1.3.4.1" width="20%">          <p>数据格式</p></th>         <td class="cellrowborder" width="80%">          <p>请求消息：Content-Type: application/json</p>          <p>响应消息：Content-Type: application/json</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section6305192417583">请求参数<i class="anchor-icon anchor-icon-link" anchorid="section6305192417583" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section7551144075816" class="firsth2">Request Header<i class="anchor-icon anchor-icon-link" anchorid="section7551144075816" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.1" width="16.16%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.2" width="33.33%">          <p>取值描述</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.3" width="50.51%">          <p>样例</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="16.16%">          <p>Authorization</p></td>         <td class="cellrowborder" width="33.33%">          <p>鉴权方式：</p>          <p><strong>JWT方式</strong></p>          <p>请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token" target="_blank">基于服务账号生成鉴权令牌</a>。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>建议JWT令牌过期时间设置为3600秒，有效期内可以复用。</p>            <p>Bearer后面拼接空格，再拼接获取的鉴权信息。</p>           </div></div></div></td>         <td class="cellrowborder" width="50.51%">          <p>Bearer eyJraWQiOiIx---xxx.eyJhdWQiOiJodHR---xxx.QRodgXa2xeXSt4Gp---xxx</p></td>        </tr>        <tr>         <td class="cellrowborder" width="16.16%">          <p>push-type</p></td>         <td class="cellrowborder" width="33.33%">          <p>待撤回的消息类型，取值如下：</p>          <p>0：通知消息</p>          <p>2：通知扩展消息</p></td>         <td class="cellrowborder" width="50.51%">          <p>0</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section166472121113">Request Body<i class="anchor-icon anchor-icon-link" anchorid="section166472121113" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.1" width="13.270000000000001%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.2" width="8.16%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.3" width="19.39%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.4" width="59.18%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="13.270000000000001%">          <p>notifyId</p></td>         <td class="cellrowborder" width="8.16%">          <p>是</p></td>         <td class="cellrowborder" width="19.39%">          <p>Integer</p></td>         <td class="cellrowborder" width="59.18%">          <p>消息下发时携带的notifyId，详情请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param#section17371529101117">notifyId</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="13.270000000000001%">          <p>token</p></td>         <td class="cellrowborder" width="8.16%">          <p>是</p></td>         <td class="cellrowborder" width="19.39%">          <p>Array [String]</p></td>         <td class="cellrowborder" width="59.18%">          <p>撤回消息时目标用户的Push Token。</p>          <p>样例："token": ["************"]</p>          <div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content">            <p>单次最多携带1000个Token。</p>           </div></div></div></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section31685362217">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section31685362217" tips="复制节点链接"></i></h2>          <div _ngcontent-oac-c106="" class="highlight-div"><div _ngcontent-oac-c106="" class="highlight-div-header"><div _ngcontent-oac-c106="" class="highlight-div-header-left"><div _ngcontent-oac-c106="" class="handle-button expand-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oac-c106="" class="highlight-div-header-right"><div _ngcontent-oac-c106="" class="handle-button ai-button"></div><div _ngcontent-oac-c106="" class="handle-button line-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oac-c106="" class="handle-button theme-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oac-c106="" class="handle-button copy-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oac-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><strong class="json"><span class="hljs-comment">// 按照notifyId</span></strong><strong><span class="hljs-comment">和token</span></strong><strong><span class="hljs-comment">撤回</span></strong></li><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"notifyId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3114932</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"token"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>        <span class="hljs-string">"pushToken1"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-string">"pushToken2"</span><span class="hljs-punctuation">,</span></li><li>        <span class="hljs-string">"pushToken3"</span></li><li>    <span class="hljs-punctuation">]</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section23551031967">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section23551031967" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section1531861077" class="firsth2">Response Body<i class="anchor-icon anchor-icon-link" anchorid="section1531861077" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.4.1.1" width="15%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.4.1.2" width="15%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.4.1.3" width="70%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="15%">          <p>code</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>响应码。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="15%">          <p>msg</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>响应码描述。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="15%">          <p>requestId</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="70%">          <p>请求标识。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section1937443114716">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section1937443114716" tips="复制节点链接"></i></h2>          <p><strong>响应成功示例：</strong></p>     <div _ngcontent-oac-c106="" class="highlight-div"><div _ngcontent-oac-c106="" class="highlight-div-header"><div _ngcontent-oac-c106="" class="highlight-div-header-left"><div _ngcontent-oac-c106="" class="handle-button expand-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oac-c106="" class="highlight-div-header-right"><div _ngcontent-oac-c106="" class="handle-button ai-button"></div><div _ngcontent-oac-c106="" class="handle-button line-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oac-c106="" class="handle-button theme-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oac-c106="" class="handle-button copy-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oac-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span> </li><li>    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"80000000"</span><span class="hljs-punctuation">,</span> </li><li>    <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Success"</span><span class="hljs-punctuation">,</span> </li><li>    <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"157*******006"</span> </li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    </div>    <p><strong>响应失败示例：</strong></p>    <div _ngcontent-oac-c106="" class="highlight-div"><div _ngcontent-oac-c106="" class="highlight-div-header"><div _ngcontent-oac-c106="" class="highlight-div-header-left"><div _ngcontent-oac-c106="" class="handle-button expand-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-oac-c106="" class="highlight-div-header-right"><div _ngcontent-oac-c106="" class="handle-button ai-button"></div><div _ngcontent-oac-c106="" class="handle-button line-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-oac-c106="" class="handle-button theme-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-oac-c106="" class="handle-button copy-button"><div _ngcontent-oac-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-oac-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span> </li><li>    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"80100003"</span><span class="hljs-punctuation">,</span> </li><li>    <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Illegal payload, The header does not contain valid push-type"</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1690*******1701"</span> </li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section153651481276">HTTP响应码<i class="anchor-icon anchor-icon-link" anchorid="section153651481276" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.4.1.1" width="11.110000000000001%">          <p>HTTP响应码</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.4.1.2" width="28.28%">          <p>描述</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.14.2.1.4.1.3" width="60.61%">          <p>解决方法</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="11.110000000000001%">          <p>200</p></td>         <td class="cellrowborder" width="28.28%">          <p>成功。</p></td>         <td class="cellrowborder" width="60.61%">          <p>-</p></td>        </tr>        <tr>         <td class="cellrowborder" width="11.110000000000001%">          <p>400</p></td>         <td class="cellrowborder" width="28.28%">          <p>参数错误。</p></td>         <td class="cellrowborder" width="60.61%">          <p>请检查业务响应码并根据业务响应码进一步排查问题。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="11.110000000000001%">          <p>401</p></td>         <td class="cellrowborder" width="28.28%">          <p>鉴权失败。</p></td>         <td class="cellrowborder" width="60.61%">          <p>请检查HTTP头中Authorization参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="11.110000000000001%">          <p>404</p></td>         <td class="cellrowborder" width="28.28%">          <p>找不到服务。</p></td>         <td class="cellrowborder" width="60.61%">          <p>请检查请求URI是否正确。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="11.110000000000001%">          <p>500</p></td>         <td class="cellrowborder" width="28.28%">          <p>服务内部错误。</p></td>         <td class="cellrowborder" width="60.61%">          <p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="11.110000000000001%">          <p>502</p></td>         <td class="cellrowborder" width="28.28%">          <p>请求连接异常，常见于网络状况不稳定。</p></td>         <td class="cellrowborder" width="60.61%">          <p>建议稍后重试，或通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="11.110000000000001%">          <p>503</p></td>         <td class="cellrowborder" width="28.28%">          <p>流量控制。</p></td>         <td class="cellrowborder" width="60.61%">          <ul>           <li>平均分配发送速度。</li>           <li>平均分配推送时间段，不要集中发送。</li>          </ul></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section1385318320599">业务响应码<i class="anchor-icon anchor-icon-link" anchorid="section1385318320599" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section723014118431" class="firsth2">80000000 成功<i class="anchor-icon anchor-icon-link" anchorid="section723014118431" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Success.</p>     <p><strong>错误描述</strong></p>     <p>发送成功。</p>     <p><strong>可能原因</strong></p>     <p>发送成功。</p>     <p><strong>处理步骤</strong></p>     <p>不涉及</p>    </div>    <div class="tiledSection">     <h3 id="section3459181718431">80100001 请求参数部分错误<i class="anchor-icon anchor-icon-link" anchorid="section3459181718431" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check Parameter Error.</p>     <p><strong>错误描述</strong></p>     <p>请求参数部分错误。</p>     <p><strong>可能原因</strong></p>     <p>请求参数部分错误。</p>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，检查并修改请求<a href="/consumer/cn/doc/harmonyos-references/push-msg-revoke#section6305192417583">参数内容</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section54251829204318">80100003 消息结构体错误<i class="anchor-icon anchor-icon-link" anchorid="section54251829204318" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Illegal payload, {errorTips}.</p>     <p><strong>错误描述</strong></p>     <p>消息结构体错误。</p>     <p><strong>可能原因</strong></p>     <p>消息结构体错误。</p>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，检查并修改<a href="/consumer/cn/doc/harmonyos-references/push-msg-revoke#section6305192417583">请求体结构</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section12420135104312">80100020 消息结构体部分错误<i class="anchor-icon anchor-icon-link" anchorid="section12420135104312" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Check Parameter Partial Success.</p>     <p><strong>错误描述</strong></p>     <p>消息结构体部分错误。</p>     <p><strong>可能原因</strong></p>     <p>消息结构体部分错误。</p>     <p><strong>处理步骤</strong></p>     <p>按照响应消息中的提示，请检查并修改消息结构体的参数。</p>    </div>    <div class="tiledSection">     <h3 id="section9576206457">80200001 认证错误<i class="anchor-icon anchor-icon-link" anchorid="section9576206457" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Authentication Error.</p>     <p><strong>错误描述</strong></p>     <p>Oauth认证错误。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>发送消息时未添加Authorization参数或Authorization的值为空。</li>      <li>用于申请JWT Token的Project Id和推送消息的Project Id不一致。</li>      <li>Authorization参数中的JWT Token与实际应用不匹配。</li>      <li>未使用v3版本接口发送REST API请求。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，排查请求头中Authorization参数鉴权失败是否存在以下情况：</p>     <ol>      <li>请检查发送消息时是否添加Authorization参数或Authorization的值为空。</li>      <li>请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token#section16173145352" target="_blank">鉴权令牌生成步骤</a>中的步骤二，检查推送请求URL（https://push-api.cloud.huawei.com/<strong>v3</strong>/[projectId]/messages:send）中的projectId，确保与您当前应用所属的项目保持一致。</li>      <li>请检查Authorization参数中的JWT Token与实际应用是否匹配，详情参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token" target="_blank">基于服务账号生成鉴权令牌</a>。</li>      <li>请使用v3版本的请求URL（https://push-api.cloud.huawei.com/<strong>v3</strong>/[projectId]/messages:send）发送REST API请求。</li>     </ol>     <p>重新生成JWT Token后再推送消息。</p>    </div>    <div class="tiledSection">     <h3 id="section137461649194512">80200003 Oauth Token过期<i class="anchor-icon anchor-icon-link" anchorid="section137461649194512" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Access token expired.</p>     <p><strong>错误描述</strong></p>     <p>Oauth Token过期。</p>     <p><strong>可能原因</strong></p>     <p>Access token过期。</p>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，重新生成JWT Token后再推送消息，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token" target="_blank">基于服务账号生成鉴权令牌</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section1444711183468">80200005 JWT Token过期<i class="anchor-icon anchor-icon-link" anchorid="section1444711183468" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Jwt token expired.</p>     <p><strong>错误描述</strong></p>     <p>JWT Token过期。</p>     <p><strong>可能原因</strong></p>     <p>JWT Token过期。</p>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，重新生成JWT Token后再推送消息，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-jwt-token" target="_blank">基于服务账号生成鉴权令牌</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section58620424465">80300002 当前应用无权限下发推送消息<i class="anchor-icon anchor-icon-link" anchorid="section58620424465" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>No permission to send message to these tmIDs.</p>     <p><strong>错误描述</strong></p>     <p>当前应用无权限下发推送消息。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>Push服务状态未开通。</li>      <li>ClientId不是应用级的ClientId。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>请登录<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站，查看Push服务状态是否已开通，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-config-setting" target="_blank">开通推送服务</a>。</li>      <li>请参考<a href="https://developer.huawei.com/consumer/cn/doc/app/agc-help-view-app-info-0000002282674569" target="_blank">指导</a>检查是否是应用级ClientId。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section1060614454818">80300007 所有Token都是无效的<i class="anchor-icon anchor-icon-link" anchorid="section1060614454818" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>All the tokens are invalid.</p>     <p><strong>错误描述</strong></p>     <p>所有Token都是无效的。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>同一个设备，不同应用的Token原则上是不一样，但实际操作时可能误传递同样的值。</li>      <li>客户端应用配置的应用包名、应用ID与<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站上申请的不一致。</li>      <li>终端设备从HarmonyOS 4及以下（简称HarmonyOS）升级到HarmonyOS 5及以上版本（简称HarmonyOS NEXT）后，Push Token需要重新获取。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示， 排查失败的Token是否存在以下情况</p>     <ol>      <li>请确保未传递其他应用的Push Token。</li>      <li>请确保客户端应用配置的应用包名、应用ID与<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站上申请是一致的。</li>      <li>请确保终端设备升级至HarmonyOS NEXT版本后，重新生成对应的Push Token，并使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param">HarmonyOS NEXT版本的请求体参数</a>进行消息请求。       <p>请确保使用v3版本的请求URL（https://push-api.cloud.huawei.com/<strong>v3</strong>/[projectId]/messages:send）发送REST API请求。</p>       <p>建议您在应用启动时调用getToken()接口，若设备的Push Token发生变化，及时上报到您的应用服务器更新Push Token。</p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section9937638104819">80300010 消息体中的Token数量为0或超过系统设置的默认值<i class="anchor-icon anchor-icon-link" anchorid="section9937638104819" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>token count should within {0} and {1}.</p>     <p><strong>错误描述</strong></p>     <p>消息体中的Token数量为0或超过系统设置的默认值。</p>     <p><strong>可能原因</strong></p>     <p>消息体中的Token数量为0或超过系统设置的默认值（系统当前配置值为1000）。</p>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，检查Token数量，若Token数量超过单次限制，请分批次发送。</p>    </div>    <div class="tiledSection">     <h3 id="section51941919124912">80300017 Token列表中token属于多个APP<i class="anchor-icon anchor-icon-link" anchorid="section51941919124912" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Token app count should not exceed 1.</p>     <p><strong>错误描述</strong></p>     <p>Token列表中token属于多个APP。</p>     <p><strong>可能原因</strong></p>     <p>Token列表中token由多个APP生成，无法处理。</p>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示，检查Token列表中的多个token是否由不同应用生成的， 并使用同个APP生成的token。</p>    </div>    <div class="tiledSection">     <h3 id="section187521758134916">80300028 Token与ClientId对应的应用不一致<i class="anchor-icon anchor-icon-link" anchorid="section187521758134916" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>Token app mismatch with specify app.</p>     <p><strong>错误描述</strong></p>     <p>Token与ClientId对应的应用不一致。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>同一个设备，不同应用的Token原则上是不一样，但实际操作时可能误传递同样的值。</li>      <li>客户端应用配置的应用包名、应用ID与<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站上申请的不一致。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>请根据响应消息中的提示， 排查是否存在以下情况：</p>     <ol>      <li>请确保未传递其他应用的Push Token。</li>      <li>请确保客户端应用配置的应用包名、应用ID与<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站上申请是一致的。</li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section14832104712508">80300032 没有消息撤回权限<i class="anchor-icon anchor-icon-link" anchorid="section14832104712508" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>No permission to revoke messages.</p>     <p><strong>错误描述</strong></p>     <p>没有消息撤回权限。</p>     <p><strong>可能原因</strong></p>     <p>没有消息撤回权限。</p>     <p><strong>处理步骤</strong></p>     <p>请同时使用token与notifyId进行消息撤回。</p>    </div>    <div class="tiledSection">     <h3 id="section19521824155118">80000001 系统内部错误<i class="anchor-icon anchor-icon-link" anchorid="section19521824155118" tips="复制节点链接"></i></h3>          <p><strong>错误信息</strong></p>     <p>CommonService Error.</p>     <p><strong>错误描述</strong></p>     <p>系统内部错误。</p>     <p><strong>可能原因</strong></p>     <p>其他未知错误。</p>     <p><strong>处理步骤</strong></p>     <p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p>     <p></p>    </div>   </div>   <div></div></div>