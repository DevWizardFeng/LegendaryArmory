<h1 _ngcontent-rsx-c119="" class="doc-title ng-star-inserted" title="生成服务端请求的token"> 生成服务端请求的token </h1>

<div _ngcontent-rsx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>服务端API请求的Authorization标头中必须包含JWT格式的token用于鉴权。JSON Web Token（JWT）是一个开放标准（RFC 7519），定义了一种安全传输信息的方法，具体请参见<a href="https://jwt.io/" target="_blank">jwt.io</a>。可以使用从<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>下载的私钥签名生成JWT。密钥的生成和下载请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-set-necessary-parameters#section12796923310" target="_blank">配置密钥</a>。创建JWT格式的token需要以下几步:</p>    <ol>     <li>创建JWT Header</li>     <li>创建JWT Payload</li>     <li>创建JWT格式的token</li>    </ol>    <div class="tiledSection">     <h2 id="section19716287255">创建JWT Header<i class="anchor-icon anchor-icon-link" anchorid="section19716287255" tips="复制节点链接"></i></h2>          <p>Header参数如下：</p>    </div>    <div class="tablenoborder">     <div class="tbBox"><table>      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.5.1.1" width="17.169999999999998%">         <p>参数</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.5.1.2" width="17.669999999999998%">         <p>是否必选</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.5.1.3" width="17.169999999999998%">         <p>参数类型</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.5.1.4" width="47.99%">         <p>描述</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" width="17.169999999999998%">         <p>alg</p></td>        <td class="cellrowborder" width="17.669999999999998%">         <p>是</p></td>        <td class="cellrowborder" width="17.169999999999998%">         <p>String</p></td>        <td class="cellrowborder" width="47.99%">         <p>算法类型，固定为ES256。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="17.169999999999998%">         <p>typ</p></td>        <td class="cellrowborder" width="17.669999999999998%">         <p>是</p></td>        <td class="cellrowborder" width="17.169999999999998%">         <p>String</p></td>        <td class="cellrowborder" width="47.99%">         <p>Token类型，固定为JWT。</p></td>       </tr>       <tr>        <td class="cellrowborder" width="17.169999999999998%">         <p>kid</p></td>        <td class="cellrowborder" width="17.669999999999998%">         <p>是</p></td>        <td class="cellrowborder" width="17.169999999999998%">         <p>String</p></td>        <td class="cellrowborder" width="47.99%">         <p>密钥ID，获取方式请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-set-necessary-parameters#section12796923310" target="_blank">配置密钥</a>。如果有多个密钥，请使用对JWT进行签名的同一私钥的密钥ID。</p></td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h2 id="section202141451152815">创建JWT Payload<i class="anchor-icon anchor-icon-link" anchorid="section202141451152815" tips="复制节点链接"></i></h2>          <p>JWT负载包含访问服务端API的一些关键信息，例如密钥颁发者ID、JWT签发时间和JWT到期时间等。JWT负载参数如下：</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.1" width="17.169999999999998%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.2" width="17.669999999999998%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.3" width="17.169999999999998%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.4" width="47.99%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="17.169999999999998%">          <p>iss</p></td>         <td class="cellrowborder" width="17.669999999999998%">          <p>是</p></td>         <td class="cellrowborder" width="17.169999999999998%">          <p>String</p></td>         <td class="cellrowborder" width="47.99%">          <p>标识密钥颁发者ID（Issuer ID），获取方式请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-set-necessary-parameters#section12796923310" target="_blank">配置密钥</a>的说明。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.169999999999998%">          <p>aud</p></td>         <td class="cellrowborder" width="17.669999999999998%">          <p>是</p></td>         <td class="cellrowborder" width="17.169999999999998%">          <p>String</p></td>         <td class="cellrowborder" width="47.99%">          <p>JWT的预期接收者，固定为iap-v1。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.169999999999998%">          <p>iat</p></td>         <td class="cellrowborder" width="17.669999999999998%">          <p>是</p></td>         <td class="cellrowborder" width="17.169999999999998%">          <p>Long</p></td>         <td class="cellrowborder" width="47.99%">          <p>JWT签发时间，UTC时间戳，以秒为单位。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.169999999999998%">          <p>exp</p></td>         <td class="cellrowborder" width="17.669999999999998%">          <p>是</p></td>         <td class="cellrowborder" width="17.169999999999998%">          <p>Long</p></td>         <td class="cellrowborder" width="47.99%">          <p>JWT到期时间，UTC时间戳，以秒为单位。</p>          <p>（exp-iat）即为JWT的有效期，有效期不能超过1小时。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.169999999999998%">          <p>aid</p></td>         <td class="cellrowborder" width="17.669999999999998%">          <p>是</p></td>         <td class="cellrowborder" width="17.169999999999998%">          <p>String</p></td>         <td class="cellrowborder" width="47.99%">          <p>APP ID，获取方式参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-config-app-identity-info" target="_blank">配置应用身份信息</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="17.169999999999998%">          <p>digest</p></td>         <td class="cellrowborder" width="17.669999999999998%">          <p>是</p></td>         <td class="cellrowborder" width="17.169999999999998%">          <p>String</p></td>         <td class="cellrowborder" width="47.99%">          <p>Request Body（json字符串）的hash值，用于验证Request Body的完整性，算法为sha256。</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>如果Request Body为空，则传空字符串""的hash值。</p>           </div></div></div></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section1867421172915">创建JWT格式的token<i class="anchor-icon anchor-icon-link" anchorid="section1867421172915" tips="复制节点链接"></i></h2>          <p>使用Header中指定的算法(ES256)以及密钥ID关联的私钥进行签名生成JWT，可以使用各种开源库来创建JWT格式的token，具体请参见<a href="https://jwt.io/" target="_blank">jwt.io</a>。</p>    </div>    <div class="tiledSection">     <h3 id="section1435074914419" class="firsth2">代码示例<i class="anchor-icon anchor-icon-link" anchorid="section1435074914419" tips="复制节点链接"></i></h3>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>以下示例代码仅以Java语言为例，Python、PHP、JS、Golang语言示例代码可通过在<strong><a href="https://gitcode.com/HarmonyOS_Samples/iapkit-sample-serverdemo" target="_blank">IAP Kit-Sample-ServerDemo</a></strong>中切换代码分支查看。</p>      </div></div></div>     <div class="switchPre"><div class="preTab preTab-cn"><div class="activePre" switchpre-data="0">Java</div></div><div class="switchPreBox"><div class="prebox"><div _ngcontent-rsx-c106="" class="highlight-div"><div _ngcontent-rsx-c106="" class="highlight-div-header"><div _ngcontent-rsx-c106="" class="highlight-div-header-left"><div _ngcontent-rsx-c106="" class="handle-button expand-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rsx-c106="" class="highlight-div-header-right"><div _ngcontent-rsx-c106="" class="handle-button ai-button"></div><div _ngcontent-rsx-c106="" class="handle-button line-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rsx-c106="" class="handle-button theme-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rsx-c106="" class="handle-button copy-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rsx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li> </li><li><span class=""><span class="hljs-keyword">import</span> </span>com.auth0.jwt.JWT;</li><li><span class=""><span class="hljs-keyword">import</span> </span>com.auth0.jwt.algorithms.Algorithm;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.nio.charset.StandardCharsets;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.nio.file.Files;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.nio.file.Path;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.nio.file.Paths;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.security.KeyFactory;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.security.interfaces.ECPrivateKey;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.security.spec.PKCS8EncodedKeySpec;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.time.Duration;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.util.Base64;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.util.HashMap;</li><li><span class=""><span class="hljs-keyword">import</span> </span>java.util.Map;</li><li><span class=""><span class="hljs-keyword">import</span> </span>org.apache.commons.codec.digest.DigestUtils;</li><li>
</li><li><span class=""><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> </span><span class="hljs-title class_">JWTGenerator</span> {</li><li>    <span class=""><span class="hljs-comment">/**</span></span><span class="hljs-comment"></span></li><li><span class="hljs-comment"></span><span class=""><span class="hljs-comment">     * Private key file path.</span></span><span class="hljs-comment"></span></li><li><span class="hljs-comment"></span><span class=""><span class="hljs-comment">     * For key generation and download, please refer to </span></span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-set-necessary-parameters#section12796923310" target="_blank"><span class="hljs-comment">Configuring Keys</span></a><span class=""><span class="hljs-comment">.</span></span><span class="hljs-comment"></span></li><li><span class="hljs-comment">  </span><span class=""><span class="hljs-comment">   */</span></span></li><li>    <span class=""><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> </span><span class="hljs-type">String</span> <span class=""><span class="hljs-variable">JWT_PRI_KEY_PATH</span> </span><span class="hljs-operator">=</span> <span class=""><span class="hljs-string">"/path/to/key/priKey.p8"</span></span>; <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment"><span class="hljs-doctag">TODO:</span> Need to replace it with the actual value.</span></span></li><li>
</li><li>    <span class=""><span class="hljs-comment">/**</span></span><span class="hljs-comment"></span></li><li><span class="hljs-comment"></span><span class=""><span class="hljs-comment">     * JWT validity period, which is a UTC timestamp in seconds. The validity period cannot exceed 1 hour.</span></span><span class="hljs-comment"></span></li><li><span class="hljs-comment"></span><span class=""><span class="hljs-comment">     */</span></span></li><li>    <span class=""><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> </span><span class=""><span class="hljs-variable">ACTIVE_TIME_SECOND</span> </span><span class="hljs-operator">=</span> <span class=""><span class="hljs-number">3600</span></span>;  <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment"><span class="hljs-doctag">TODO:</span> Need to replace it with the actual value.</span></span></li><li>
</li><li>    <span class=""><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> </span>Map&lt;String, Object&gt; <span class="">JWT_HEADER </span>= <span class=""><span class="hljs-keyword">new</span> </span><span class="hljs-title class_">HashMap</span>&lt;&gt;();</li><li>
</li><li>    <span class=""><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> </span>Map&lt;String, Object&gt; <span class="">JWT_PAYLOAD </span>= <span class=""><span class="hljs-keyword">new</span> </span><span class="hljs-title class_">HashMap</span>&lt;&gt;();</li><li>
</li><li>    <span class=""><span class="hljs-keyword">static</span> </span>{</li><li>        <span class=""><span class="hljs-comment">// Algorithm type. The value is always ES256.</span></span></li><li>        <span class="">JWT_HEADER</span>.put(<span class=""><span class="hljs-string">"alg"</span></span>, <span class=""><span class="hljs-string">"ES256"</span></span>);</li><li>        <span class=""><span class="hljs-comment">// Token type. The value is always JWT.</span></span></li><li>        <span class="">JWT_HEADER</span>.put(<span class=""><span class="hljs-string">"typ"</span></span>, <span class=""><span class="hljs-string">"JWT"</span></span>);</li><li>        <span class=""><span class="hljs-comment">// Key ID.</span></span></li><li>        <span class="">JWT_HEADER</span>.put(<span class=""><span class="hljs-string">"kid"</span></span>, <span class=""><span class="hljs-string">"Key ID"</span></span>);  <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment"><span class="hljs-doctag">TODO:</span> Need to replace it with the actual value.</span></span></li><li>
</li><li>        <span class=""><span class="hljs-comment">// Key issuer ID.</span></span></li><li>        <span class="">JWT_PAYLOAD</span>.put(<span class=""><span class="hljs-string">"iss"</span></span>, <span class=""><span class="hljs-string">"Issuer ID"</span></span>);  <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment"><span class="hljs-doctag">TODO:</span> Need to replace it with the actual value.</span></span></li><li>        <span class=""><span class="hljs-comment">// Expected receiver of the JWT. The value is fixed at iap-v1.</span></span></li><li>        <span class="">JWT_PAYLOAD</span>.put(<span class=""><span class="hljs-string">"aud"</span></span>, <span class=""><span class="hljs-string">"iap-v1"</span></span>);</li><li>        <span class=""><span class="hljs-comment">// Time when the JWT is issued. The value is a UTC timestamp, in seconds.</span></span></li><li><span class="">        <span class="hljs-comment">// Re-put the value in the genJwt method.</span></span></li><li>        <span class="">JWT_PAYLOAD</span>.put(<span class=""><span class="hljs-string">"iat"</span></span>, <span class=""><span class="hljs-number">0</span></span>);</li><li>        <span class=""><span class="hljs-comment">// Time when the JWT expires. The value is a UTC timestamp, in seconds. exp-iat indicates the validity period of the JWT, which cannot exceed one hour.</span></span></li><li><span class="">        <span class="hljs-comment">// Re-put the value in the genJwt method.</span></span></li><li>        <span class="">JWT_PAYLOAD</span>.put(<span class=""><span class="hljs-string">"exp"</span></span>, <span class=""><span class="hljs-number">0</span></span>);</li><li>        <span class=""><span class="hljs-comment">// App ID.</span></span></li><li>        <span class="">JWT_PAYLOAD</span>.put(<span class=""><span class="hljs-string">"aid"</span></span>, <span class=""><span class="hljs-string">"App ID"</span></span>);  <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment"><span class="hljs-doctag">TODO:</span> Need to replace it with the actual value.</span></span></li><li>        <span class=""><span class="hljs-comment">// Hash value of the request body (JSON character string), which is used to verify the integrity of the body. The algorithm is SHA-256.</span></span></li><li>        <span class="">JWT_PAYLOAD</span>.put(<span class=""><span class="hljs-string">"digest"</span></span>, <span class=""><span class="hljs-string">""</span></span>);</li><li>    }</li><li>
</li><li>    <span class=""><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> </span>String <span class=""><span class="hljs-title function_">genJwt</span></span><span class="hljs-params">(String bodyStr)</span> <span class=""><span class="hljs-keyword">throws</span> </span>Exception {</li><li>        <span class=""><span class="hljs-keyword">try</span> </span>{</li><li>            <span class=""><span class="hljs-comment">// Fetch the Private Key Content in PEM format.</span></span></li><li>            <span class="hljs-type">Path</span> <span class="hljs-variable">filePath</span> <span class="hljs-operator">=</span> Paths.get(<span class="">JWT_PRI_KEY_PATH</span>);</li><li>            <span class="hljs-type">String</span> <span class="hljs-variable">fileString</span> <span class="hljs-operator">=</span> <span class=""><span class="hljs-keyword">new</span> </span><span class="hljs-title class_">String</span>(Files.readAllBytes(filePath), StandardCharsets.UTF_8);</li><li>            <span class="hljs-type">String</span> <span class="hljs-variable">privateKey</span> <span class="hljs-operator">=</span> fileString.replace(<span class=""><span class="hljs-string">"-----BEGIN PRIVATE KEY-----"</span></span>, <span class=""><span class="hljs-string">""</span></span>)</li><li>                .replaceAll(<span class=""><span class="hljs-string">"</span></span><span class=""><span class="hljs-string">\\</span></span><span class=""><span class="hljs-string">R+"</span></span>, <span class=""><span class="hljs-string">""</span></span>)</li><li>                .replace(<span class=""><span class="hljs-string">"-----END PRIVATE KEY-----"</span></span>, <span class=""><span class="hljs-string">""</span></span>);</li><li>            <span class="hljs-type">KeyFactory</span> <span class="hljs-variable">keyFactory</span> <span class="hljs-operator">=</span> KeyFactory.getInstance(<span class=""><span class="hljs-string">"EC"</span></span>);</li><li>            <span class=""><span class="hljs-type">byte</span></span>[] privateKeyBytes = Base64.getDecoder().decode(privateKey);</li><li>            <span class="hljs-type">PKCS8EncodedKeySpec</span> <span class="hljs-variable">keySpec</span> <span class="hljs-operator">=</span> <span class=""><span class="hljs-keyword">new</span> </span><span class="hljs-title class_">PKCS8EncodedKeySpec</span>(privateKeyBytes);</li><li>            <span class="hljs-type">ECPrivateKey</span> <span class="hljs-variable">ecPrivateKey</span> <span class="hljs-operator">=</span> (ECPrivateKey) keyFactory.generatePrivate(keySpec);</li><li>            Map&lt;String, Object&gt; jwtPayload = <span class=""><span class="hljs-keyword">new</span> </span><span class="hljs-title class_">HashMap</span>&lt;&gt;(<span class="">JWT_PAYLOAD</span>);</li><li>            <span class=""><span class="hljs-type">long</span> </span><span class="hljs-variable">signTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() / Duration.ofSeconds(<span class=""><span class="hljs-number">1</span></span>).toMillis();</li><li>            <span class="hljs-type">String</span> <span class="hljs-variable">digest</span> <span class="hljs-operator">=</span> DigestUtils.sha256Hex(bodyStr);</li><li>            jwtPayload.put(<span class=""><span class="hljs-string">"iat"</span></span>, signTime);</li><li>            jwtPayload.put(<span class=""><span class="hljs-string">"exp"</span></span>, signTime + <span class="">ACTIVE_TIME_SECOND</span>);</li><li>            jwtPayload.put(<span class=""><span class="hljs-string">"digest"</span></span>, digest);</li><li>            <span class=""><span class="hljs-keyword">return</span> </span>JWT.create().withHeader(<span class="">JWT_HEADER</span>).withPayload(jwtPayload).sign(Algorithm.ECDSA256(ecPrivateKey));</li><li>        } <span class=""><span class="hljs-keyword">catch</span> </span>(Exception e) {</li><li>            <span class=""><span class="hljs-comment">// </span></span><span class=""><span class="hljs-comment"><span class="hljs-doctag">TODO:</span> Need to replace it with the actual business logic.</span></span></li><li>            <span class=""><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> </span><span class="hljs-title class_">Exception</span>(e);</li><li>        }</li><li>    }</li><li>}</li></ol></pre></div></div></div></div></div>    </div>    <p>pom文件</p>    <div _ngcontent-rsx-c106="" class="highlight-div"><div _ngcontent-rsx-c106="" class="highlight-div-header"><div _ngcontent-rsx-c106="" class="highlight-div-header-left"><div _ngcontent-rsx-c106="" class="handle-button expand-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rsx-c106="" class="highlight-div-header-right"><div _ngcontent-rsx-c106="" class="handle-button ai-button"></div><div _ngcontent-rsx-c106="" class="handle-button line-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rsx-c106="" class="handle-button theme-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rsx-c106="" class="handle-button copy-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rsx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php-template" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span><span class="language-xml"></span></li><li><span class="language-xml">    </span><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span><span class="language-xml">com.auth0</span><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">/<span class="hljs-name">groupId</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span><span class="language-xml"></span></li><li><span class="language-xml">    </span><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span><span class="language-xml">java-jwt</span><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">/<span class="hljs-name">artifactId</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span><span class="language-xml"></span></li><li><span class="language-xml">    </span><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag"><span class="hljs-name">version</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span><span class="language-xml">4.4.0</span><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">/<span class="hljs-name">version</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span><span class="language-xml"></span></li><li><span class="language-xml"></span><span class=""><span class="language-xml"><span class="hljs-tag">&lt;</span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">/<span class="hljs-name">dependency</span></span></span></span><span class=""><span class="language-xml"><span class="hljs-tag">&gt;</span></span></span></li></ol></pre></div></div>    <div class="tiledSection">     <h2 id="section11166125713715">Authorization说明<i class="anchor-icon anchor-icon-link" anchorid="section11166125713715" tips="复制节点链接"></i></h2>          <p>调用服务端API请求时，请求Header使用 Authorization: Bearer &lt;JWT格式的token&gt;传递鉴权信息，样例如下：</p>     <div _ngcontent-rsx-c106="" class="highlight-div"><div _ngcontent-rsx-c106="" class="highlight-div-header"><div _ngcontent-rsx-c106="" class="highlight-div-header-left"><div _ngcontent-rsx-c106="" class="handle-button expand-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rsx-c106="" class="highlight-div-header-right"><div _ngcontent-rsx-c106="" class="handle-button ai-button"></div><div _ngcontent-rsx-c106="" class="handle-button line-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rsx-c106="" class="handle-button theme-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rsx-c106="" class="handle-button copy-button"><div _ngcontent-rsx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rsx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">Authorization</span>: <span class="hljs-title class_">Bearer</span> <span class="hljs-title class_">eyJhbGciOi</span>---<span class="hljs-title class_">xxx</span>.<span class="hljs-title class_">eyJpc3MiOm</span>---<span class="hljs-title class_">xxx</span>.<span class="hljs-title class_">WFquGEx5gf</span>---<span class="hljs-title class_">xxx</span></li></ol></pre></div></div>    </div>   </div>   <div></div></div>