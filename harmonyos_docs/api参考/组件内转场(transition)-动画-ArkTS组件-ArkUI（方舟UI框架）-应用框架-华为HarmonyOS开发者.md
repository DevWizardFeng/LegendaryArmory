<h1 _ngcontent-arg-c119="" class="doc-title ng-star-inserted" title="组件内转场 (transition)"> 组件内转场 (transition) </h1>

<div _ngcontent-arg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>组件内转场主要通过transition属性配置转场参数，在组件插入和删除时显示过渡动效，主要用于容器组件中的子组件插入和删除时，提升用户体验。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> 从API version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  <p> 当前有两种方式触发组件的transition：</p>  <ol><li>当组件插入或删除时（如if条件改变、ForEach新增删除组件），会递归的触发所有新插入/删除的组件的transition效果。</li><li>当组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-visibility">Visibility</a>属性在可见和不可见之间改变时，只触发该组件的transition效果。</li></ol>  </div></div></div>  <div class="tiledSection"><h2 id="transition" device-type="phone,2in1,tablet,wearable,tv">transition<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transition" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transition(value: TransitionOptions | TransitionEffect): T</p> <p>组件插入显示和删除隐藏的过渡效果。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitionoptionsdeprecated">TransitionOptions</a><sup>(deprecated)</sup> | <a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>设置组件插入显示和删除隐藏的过渡效果。</p> <p><strong>说明：</strong> </p> <p>详细描述见<a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitionoptionsdeprecated">TransitionOptions</a>和<a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>对象说明。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">T</td> <td class="cellrowborder" width="50%">返回当前组件。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="transition12" device-type="phone,2in1,tablet,wearable,tv">transition<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transition12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>transition(effect: TransitionEffect, onFinish: Optional&lt;TransitionFinishCallback&gt;): T</p> <p>组件插入显示和删除隐藏的过渡效果。同<a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transition">transition</a>相比，增加了转场动画结束的回调。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API version 20开始，该接口支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>  </div></div></div> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 12开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.4.9.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">effect</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设置组件插入显示和删除隐藏的过渡效果。</td> </tr> <tr><td class="cellrowborder" width="25%">onFinish</td> <td class="cellrowborder" width="25%">Optional&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitionfinishcallback12">TransitionFinishCallback</a>&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">转场动画结束回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.11.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">T</td> <td class="cellrowborder" width="50%">返回当前组件。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="transitionedge10" device-type="phone,2in1,tablet,wearable,tv">TransitionEdge<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transitionedge10" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.1" width="33.33333333333333%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.2" width="33.33333333333333%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">TOP</td> <td class="cellrowborder" width="33.33333333333333%">0</td> <td class="cellrowborder" width="33.33333333333333%">窗口的上边缘。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">BOTTOM</td> <td class="cellrowborder" width="33.33333333333333%">1</td> <td class="cellrowborder" width="33.33333333333333%">窗口的下边缘。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">START</td> <td class="cellrowborder" width="33.33333333333333%">2</td> <td class="cellrowborder" width="33.33333333333333%">窗口的起始边缘，LTR时为左边缘，RTL时为右边缘。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">END</td> <td class="cellrowborder" width="33.33333333333333%">3</td> <td class="cellrowborder" width="33.33333333333333%">窗口的终止边缘，LTR时为右边缘，RTL时为左边缘。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="transitioneffect10对象说明" device-type="phone,2in1,tablet,wearable,tv">TransitionEffect<sup>10+</sup>对象说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transitioneffect10对象说明" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TransitionEffect以函数的形式指定转场效果。提供了以下接口：</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> </div>  <div class="tiledSection"><h3 id="属性" class="firsth2">属性<i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">IDENTITY</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"identity"&gt;</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">禁用转场效果。</td> </tr> <tr><td class="cellrowborder" width="20%">OPACITY</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"opacity"&gt;</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">为组件添加透明度转场效果，出现时透明度从0到1、消失时透明度从1到0，相当于TransitionEffect.opacity(0)。</td> </tr> <tr><td class="cellrowborder" width="20%">SLIDE</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"asymmetric", { appear: <a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"move", <a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitionedge10">TransitionEdge</a>&gt;; disappear: <a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"move", <a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitionedge10">TransitionEdge</a>&gt;; }&gt;</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">相当于TransitionEffect.asymmetric(TransitionEffect.move(TransitionEdge.START), TransitionEffect.move(TransitionEdge.END))。从START边滑入，END边滑出。即在LTR模式下，从左侧滑入，右侧滑出；在RTL模式下，从右侧滑入，左侧滑出。</td> </tr> <tr><td class="cellrowborder" width="20%">SLIDE_SWITCH</td> <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"slideSwitch"&gt;</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">指定出现时从右侧先缩小再放大滑入、消失时从左侧先缩小再放大滑出的转场效果。自带动画参数，也可覆盖动画参数，自带的动画参数时长600ms，指定动画曲线cubicBezierCurve(0.24, 0.0, 0.50, 1.0)，最小缩放比例为0.8。</td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ol><li>TransitionEffect可通过combine函数实现多个转场效果的组合，可以为每个效果分别指定animation参数，且前一效果的animation的参数也可适用于后一效果。例如，TransitionEffect.OPACITY.animation({duration: 1000}).combine(TransitionEffect.translate({x: 100}))，则时长为1000ms的动画参数对OPACITY和translate均生效。</li><li>动画参数的生效顺序为：本TransitionEffect指定的animation参数 &gt; 前面的TransitionEffect指定的animation参数 &gt; 触发该组件出现消失的animateTo中的动画参数。</li><li>如果未使用animateTo触发转场动画且TransitionEffect中也无animation参数，则该组件直接出现或者消失。</li><li>TransitionEffect中指定的属性值如与默认值相同，则该属性不会产生转场动画。如TransitionEffect.opacity(1).animation({duration:1000})，由于opacity默认值也为1，未产生透明度动画，该组件直接出现或者消失。</li><li>更详细的关于scale、rotate效果的介绍可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation">图形变换</a>。</li><li>如果在动画范围(<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#animateto">animateTo</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-animatorproperty">animation</a>)内触发组件的上下树或可见性(<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-visibility">Visibility</a>)改变，而根组件没有配置transition，会给该组件加上默认透明度转场，即TransitionEffect.OPACITY，动画参数跟随所处动画环境的参数。如不需要可通过主动配置TransitionEffect.IDENTITY来禁用，使该组件直接出现或消失。</li><li>当通过删除整棵子树的方式触发消失转场，如需看到完整的消失转场过程，需要保证被删除子树的根组件的有充足的消失转场时间，见示例3。</li></ol>  </div></div></div> </div>  <div class="tiledSection"><h3 id="translate10" device-type="phone,2in1,tablet,wearable,tv">translate<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="translate10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>translate(options: TranslateOptions): TransitionEffect&lt;"translate"&gt;</p> <p>设置组件转场时的平移效果。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.8.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#translateoptions对象说明">TranslateOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>组件转场时的平移效果，为插入时起点和删除时终点的值。</p> <p>-x：横向的平移距离。</p> <p>-y：纵向的平移距离。</p> <p>-z：竖向的平移距离。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"translate"&gt;</td> <td class="cellrowborder" width="50%">当前动画平移效果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="rotate10" device-type="phone,2in1,tablet,wearable,tv">rotate<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="rotate10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>rotate(options: RotateOptions): TransitionEffect&lt;"rotate"&gt;</p> <p>设置组件转场时的旋转效果。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#rotateoptions对象说明">RotateOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>组件转场时的旋转效果，为插入时起点和删除时终点的值。</p> <p>-x：横向的旋转向量分量。</p> <p>-y：纵向的旋转向量分量。</p> <p>-z：竖向的旋转向量分量。</p> <p>- centerX、centerY指旋转中心点，centerX和centerY默认值是"50%"，即默认以组件的中心点为旋转中心点。</p> <p>- 中心点为(0, 0)代表组件的左上角。</p> <p>-centerZ指z轴锚点，即3D旋转中心点的z轴分量，centerZ默认值是0。</p> <p>-perspective指视距，不支持perspective属性做转场动画。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"rotate"&gt;</td> <td class="cellrowborder" width="50%">当前动画旋转效果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="scale10" device-type="phone,2in1,tablet,wearable,tv">scale<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="scale10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>scale(options: ScaleOptions): TransitionEffect&lt;"scale"&gt;</p> <p>设置组件转场时的缩放效果。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.10.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#scaleoptions对象说明">ScaleOptions</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>组件转场时的缩放效果，为插入时起点和删除时终点的值。设置的缩放值在组件当前的scale属性上进行叠加，如组件当前scale值为0.8，当转场缩放值设置为0.5时，组件入场动画的缩放值将从0.4开始执行。</p> <p>-x：横向放大倍数（或缩小比例）。</p> <p>-y：纵向放大倍数（或缩小比例）。</p> <p>-z：当前为二维显示，该参数无效。</p> <p>- centerX、centerY指缩放中心点，centerX和centerY默认值是"50%"，即默认以组件的中心点为缩放中心点。</p> <p>- 中心点为(0, 0)代表组件的左上角。</p> <p><strong>说明：</strong> </p> <p>设置centerX、centerY为非法字符串时（例如，"illegalString"），默认值为"0"。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"scale"&gt;</td> <td class="cellrowborder" width="50%">当前动画缩放效果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="opacity10" device-type="phone,2in1,tablet,wearable,tv">opacity<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="opacity10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>opacity(alpha: number): TransitionEffect&lt;"opacity"&gt;</p> <p>设置组件转场时的透明度效果。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.11.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">alpha</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>组件转场时的透明度效果，为插入时起点和删除时终点的值。</p> <p>取值范围：[0, 1]</p> <p><strong>说明：</strong> </p> <p>设置小于0的非法值按0处理，大于1的非法值按1处理。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"opacity"&gt;</td> <td class="cellrowborder" width="50%">当前动画透明度效果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="move10" device-type="phone,2in1,tablet,wearable,tv">move<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="move10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>move(edge: TransitionEdge): TransitionEffect&lt;"move"&gt;</p> <p>设置组件转场时从屏幕边缘滑入和滑出的效果。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.12.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">edge</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitionedge10">TransitionEdge</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">组件转场时从屏幕边缘滑入和滑出的效果，本质为平移效果，为插入时起点和删除时终点的值。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"move"&gt;</td> <td class="cellrowborder" width="50%">当前动画从屏幕边缘滑入和滑出的效果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="asymmetric10" device-type="phone,2in1,tablet,wearable,tv">asymmetric<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="asymmetric10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>asymmetric(appear: TransitionEffect, disappear: TransitionEffect): TransitionEffect&lt;"asymmetric"&gt;</p> <p>设置非对称的转场效果。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.13.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">appear</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>指定出现的转场效果。</p> <p>如不通过asymmetric函数构造TransitionEffect，则表明该效果在组件出现和消失时均生效。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">disappear</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>指定消失的转场效果。</p> <p>如不通过asymmetric函数构造TransitionEffect，则表明该效果在组件出现和消失时均生效。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>&lt;"asymmetric"&gt;</td> <td class="cellrowborder" width="50%">当前动画非对称的转场效果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="constructor10" device-type="phone,2in1,tablet,wearable,tv">constructor<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="constructor10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>constructor(type: Type, effect: Effect)</p> <p>构造TransitionEffect对象。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.14.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">type</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#transitiontype">Type</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">转场类型。</td> </tr> <tr><td class="cellrowborder" width="25%">effect</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">Effect</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">转场参数。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="combine10" device-type="phone,2in1,tablet,wearable,tv">combine<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="combine10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>combine(transitionEffect: TransitionEffect): TransitionEffect</p> <p>对TransitionEffect进行链式组合，以形成包含多种转场效果的TransitionEffect。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.15.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">transitionEffect</td> <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">被组合的过渡效果。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.15.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td> <td class="cellrowborder" width="50%">组合过渡效应。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h3 id="animation10" device-type="phone,2in1,tablet,wearable,tv">animation<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="animation10" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>animation(value: AnimateParam): TransitionEffect</p> <p>指定该TransitionEffect的动画参数。</p> <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p> <p><strong>卡片能力：</strong> 从API version 10开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.16.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">value</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-explicit-animation#animateparam对象说明">AnimateParam</a></td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>动画参数。</p> <p>该参数只用来指定动画参数，其入参AnimateParam的onFinish回调不生效。</p> <p>如果通过combine进行TransitionEffect的组合，前一TransitionEffect的动画参数也可用于后一TransitionEffect。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.16.10.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td> <td class="cellrowborder" width="50%">当前动画效果。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="transitionfinishcallback12" device-type="phone,2in1,tablet,wearable,tv">TransitionFinishCallback<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transitionfinishcallback12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type TransitionFinishCallback = (transitionIn: boolean) =&gt; void</p> <p>组件转场动画的结束回调类型。</p> <p><strong>卡片能力：</strong> 从API version 12开始，该接口支持在ArkTS卡片中使用。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.17.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">transitionIn</td> <td class="cellrowborder" width="25%">boolean</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>该入参表示转场动画的结束回调类型。</p> <p>该参数为true表示该转场回调是出现动画的结束回调，该参数为false表示该转场回调是消失动画的结束回调。</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ol><li>当通过触发一棵子树的上下树，进而递归的触发出现消失转场时，只能保证根组件的消失动画结束回调能被调用。如果子组件的消失动画结束回调时间晚于根组件的消失动画结束回调，由于整棵子树已被销毁，子组件的结束回调不会被调用。</li><li>当同一组件的最后一个同类型（即出现或者消失）的动画结束后，才会调用结束回调。即如果反复触发出现消失动画（例如通过Visibility触发），只有最后一次的出现消失的结束回调才会被调用。</li></ol>  </div></div></div> </div>  <div class="tiledSection"><h2 id="transitionoptionsdeprecated" device-type="phone,2in1,tablet,wearable,tv">TransitionOptions<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="transitionoptionsdeprecated" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>TransitionOptions通过指定结构体内的参数来指定转场效果。</p> <p>从API version 10开始不再维护，建议使用<a href="/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>代替。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.18.5.1.6.1.1" width="20%">名称</th> <th align="left" class="cellrowborder" id="mcps1.3.18.5.1.6.1.2" width="20%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.18.5.1.6.1.3" width="20%">只读</th> <th align="left" class="cellrowborder" id="mcps1.3.18.5.1.6.1.4" width="20%">可选</th> <th align="left" class="cellrowborder" id="mcps1.3.18.5.1.6.1.5" width="20%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%">type</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#transitiontype">TransitionType</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>指定该转场样式生效的场景。</p> <p>默认值：TransitionType.All</p> <p><strong>说明：</strong></p> <p>不指定type时默认为TransitionType.All，即插入删除都生效。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">opacity</td> <td class="cellrowborder" width="20%">number</td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>设置组件转场时的透明度效果，为插入时起点和删除时终点的值。</p> <p>取值范围： [0, 1]</p> <p><strong>说明：</strong> </p> <p>设置小于0的非法值时，按0处理；设置大于1的非法值时，按1处理。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">translate</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#translateoptions对象说明">TranslateOptions</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>设置组件转场时的平移效果，为插入时起点和删除时终点的值。</p> <p>-x：横向的平移距离。</p> <p>-y：纵向的平移距离。</p> <p>-z：竖向的平移距离。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">scale</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#scaleoptions对象说明">ScaleOptions</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>设置组件转场时的缩放效果，为插入时起点和删除时终点的值。</p> <p>-x：横向放大倍数（或缩小比例）。</p> <p>-y：纵向放大倍数（或缩小比例）。</p> <p>-z：当前为二维显示，该参数无效 。</p> <p>- centerX、centerY指缩放中心点，centerX和centerY默认值是"50%"，即默认以组件的中心点为缩放中心点。</p> <p>- 中心点为(0, 0)代表组件的左上角。</p> <p><strong>说明：</strong> </p> <p>设置centerX、centerY为非法字符串时（例如，"illegalString"），默认值为"0"。</p> </td> </tr> <tr><td class="cellrowborder" width="20%">rotate</td> <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-transformation#rotateoptions对象说明">RotateOptions</a></td> <td class="cellrowborder" width="20%">否</td> <td class="cellrowborder" width="20%">是</td> <td class="cellrowborder" width="20%"><p>设置组件转场时的旋转效果，为插入时起点和删除时终点的值。</p> <p>-x：横向的旋转向量分量。</p> <p>-y：纵向的旋转向量分量。</p> <p>-z：竖向的旋转向量分量。</p> <p>- centerX、centerY指旋转中心点，centerX和centerY默认值是"50%"，即默认以组件的中心点为旋转中心点。</p> <p>- 中心点为(0, 0)代表组件的左上角。</p> </td> </tr>  </tbody></table></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ol><li>当使用TransitionOptions类型的入参指定转场效果时，<strong>必须</strong>配合<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext#animateto">animateTo</a>使用才有动画效果，动效时长、曲线、延时跟随animateTo中的配置。</li><li>当使用TransitionOptions作为入参，且不指定除type外的任何参数时，此时相当于指定了透明度的转场效果。例如，指定{type: TransitionType.Insert}相当于指定了{type: TransitionType.Insert, opacity: 0}的转场效果。而指定了具体效果时，则不会添加默认的透明度转场效果。</li></ol>  </div></div></div> </div>  <div class="tiledSection"><h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>  <div class="tiledSection"><h3 id="示例1使用同一接口实现图片出现消失" class="firsth2">示例1（使用同一接口实现图片出现消失）<i class="anchor-icon anchor-icon-link" anchorid="示例1使用同一接口实现图片出现消失" tips="复制节点链接"></i></h3><p>该示例主要演示如何通过同一TransitionEffect来实现图片的出现与消失，出现和消失互为逆过程。</p> <div _ngcontent-arg-c106="" class="highlight-div"><div _ngcontent-arg-c106="" class="highlight-div-header"><div _ngcontent-arg-c106="" class="highlight-div-header-left"><div _ngcontent-arg-c106="" class="handle-button expand-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-arg-c106="" class="highlight-div-header-right"><div _ngcontent-arg-c106="" class="handle-button ai-button"></div><div _ngcontent-arg-c106="" class="handle-button line-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-arg-c106="" class="handle-button theme-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-arg-c106="" class="handle-button copy-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-arg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TransitionEffectExample1</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">flag</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">show</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'show'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">80</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 点击Button控制Image的显示和消失</span></li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span> = <span class="hljs-string">'hide'</span>;</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span> = <span class="hljs-string">'show'</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>;</li><li>        })</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>        <span class="hljs-comment">// Image的显示和消失配置为相同的过渡效果（出现和消失互为逆过程）</span></li><li>        <span class="hljs-comment">// 出现时从指定的透明度为0、绕z轴旋转180°的状态，变为默认的透明度为1、旋转角为0的状态，透明度与旋转动画时长都为2000ms</span></li><li>        <span class="hljs-comment">// 消失时从默认的透明度为1、旋转角为0的状态，变为指定的透明度为0、绕z轴旋转180°的状态，透明度与旋转动画时长都为2000ms</span></li><li>        <span class="hljs-comment">// $r('app.media.testImg')需要替换为开发者所需的图像资源文件。</span></li><li>        <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.testImg'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>          .<span class="hljs-title function_">transition</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span>, <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Ease</span> }).<span class="hljs-title function_">combine</span>(</li><li>            <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-number">180</span> })</li><li>          ))</li><li>      }</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p>示意图：</p> <p><span><img originheight="358" originwidth="333" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115539.14891671241179373469463893059465:50001231000000:2800:06FC36EAE08EF2F20AA34FC12AD1D3B336BE30CC50C613127312F52126759018.gif" width="333" height="358"></span></p> </div>  <div class="tiledSection"><h3 id="示例2使用不同接口实现图片出现消失">示例2（使用不同接口实现图片出现消失）<i class="anchor-icon anchor-icon-link" anchorid="示例2使用不同接口实现图片出现消失" tips="复制节点链接"></i></h3><p>该示例主要演示使用不同TransitionEffect来实现图片的出现和消失。</p> <div _ngcontent-arg-c106="" class="highlight-div"><div _ngcontent-arg-c106="" class="highlight-div-header"><div _ngcontent-arg-c106="" class="highlight-div-header-left"><div _ngcontent-arg-c106="" class="handle-button expand-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-arg-c106="" class="highlight-div-header-right"><div _ngcontent-arg-c106="" class="handle-button ai-button"></div><div _ngcontent-arg-c106="" class="handle-button line-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-arg-c106="" class="handle-button theme-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-arg-c106="" class="handle-button copy-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-arg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TransitionEffectExample2</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">flag</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">show</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'show'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">80</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 点击Button控制Image的显示和消失</span></li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span> = <span class="hljs-string">'hide'</span>;</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span> = <span class="hljs-string">'show'</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">animateTo</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span> }, <span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 第一张图的TransitionEffect包含了animation，transition的动画参数由TransitionEffect指定</span></li><li>            <span class="hljs-comment">// 第二张图的TransitionEffect不包含animation，transition的动画参数由animateTo指定</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>;</li><li>          });</li><li>        })</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>        <span class="hljs-comment">// Image的显示和消失配置为不同的过渡效果</span></li><li>        <span class="hljs-comment">// 出现时做从指定的透明度为0变为默认的透明度1的动画，该动画时长为1000ms，以及做从指定的绕z轴旋转180°变为默认的旋转角为0的动画，该动画1000ms后播放，时长为1000ms</span></li><li>        <span class="hljs-comment">// 消失时做从默认的透明度为1变为指定的透明度0的动画，该动画1000ms后播放，时长为1000ms，以及做从默认的旋转角0变为指定的绕z轴旋转180°的动画，该动画时长为1000ms</span></li><li>        <span class="hljs-comment">// $r('app.media.testImg')需要替换为开发者所需的图像资源文件。</span></li><li>        <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.testImg'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>          .<span class="hljs-title function_">transition</span>(</li><li>            <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">asymmetric</span>(</li><li>              <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }).<span class="hljs-title function_">combine</span>(</li><li>              <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-number">180</span> }).<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">delay</span>: <span class="hljs-number">1000</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }))</li><li>              ,</li><li>              <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">delay</span>: <span class="hljs-number">1000</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }).<span class="hljs-title function_">combine</span>(</li><li>              <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-number">180</span> }).<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }))</li><li>            )</li><li>          )</li><li>        <span class="hljs-comment">// 出现时做从x方向和y方向scale都为0变为默认的x方向和y方向scale都为1的动画，该动画时长为animateTo中指定的2000ms</span></li><li>        <span class="hljs-comment">// 消失时无转场效果</span></li><li>        <span class="hljs-comment">// $r('app.media.testImg')需要替换为开发者所需的图像资源文件。</span></li><li>        <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.testImg'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">100</span> })</li><li>          .<span class="hljs-title function_">transition</span>(</li><li>            <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">asymmetric</span>(</li><li>              <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> }),</li><li>              <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">IDENTITY</span></li><li>            )</li><li>          )</li><li>      }</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p>示意图：</p> <p><span><img originheight="884" originwidth="476" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115539.37475670521272099809864273264039:50001231000000:2800:E4B4823025C08948BEEA7DCE4CCD570653EB1DAD9E6B8B5BDB1E1369B7CBDCFC.gif" width="476" height="884"></span></p> </div>  <div class="tiledSection"><h3 id="示例3设置父子组件为transition">示例3（设置父子组件为transition）<i class="anchor-icon anchor-icon-link" anchorid="示例3设置父子组件为transition" tips="复制节点链接"></i></h3><p>该示例主要演示通过父子组件都配置transition来实现图片的出现和消失。</p> <div _ngcontent-arg-c106="" class="highlight-div"><div _ngcontent-arg-c106="" class="highlight-div-header"><div _ngcontent-arg-c106="" class="highlight-div-header-left"><div _ngcontent-arg-c106="" class="handle-button expand-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-arg-c106="" class="highlight-div-header-right"><div _ngcontent-arg-c106="" class="handle-button ai-button"></div><div _ngcontent-arg-c106="" class="handle-button line-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-arg-c106="" class="handle-button theme-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-arg-c106="" class="handle-button copy-button"><div _ngcontent-arg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-arg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">TransitionEffectExample3</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">flag</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">show</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'show'</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span>).<span class="hljs-title function_">width</span>(<span class="hljs-number">80</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 点击Button控制Image的显示和消失</span></li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span> = <span class="hljs-string">'hide'</span>;</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">show</span> = <span class="hljs-string">'show'</span>;</li><li>          }</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>;</li><li>        })</li><li>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>) {</li><li>        <span class="hljs-comment">// 改flag条件时，会触发id为"column1"、"image1"、"image2"的transition动画。</span></li><li>        <span class="hljs-comment">// id为"column1"的组件是这棵新出现/消失的子树的根节点。</span></li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-comment">// $r('app.media.testImg')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.testImg'</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>).<span class="hljs-title function_">id</span>(<span class="hljs-string">"image1"</span>)</li><li>              .<span class="hljs-title function_">transition</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }))</li><li>          }</li><li>
</li><li>          <span class="hljs-comment">// $r('app.media.testImg')需要替换为开发者所需的图像资源文件。</span></li><li>          <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.testImg'</span>))</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">150</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>            .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">50</span> })</li><li>            .<span class="hljs-title function_">id</span>(<span class="hljs-string">"image2"</span>)</li><li>            .<span class="hljs-title function_">transition</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">scale</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> }).<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }))</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"view"</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">50</span> })</li><li>        }</li><li>        .<span class="hljs-title function_">id</span>(<span class="hljs-string">"column1"</span>)</li><li>        .<span class="hljs-title function_">transition</span>(<span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0.99</span>).<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span> }),</li><li>          <span class="hljs-comment">// 结束回调设置在消失的第一层节点上，确保能有消失的结束回调</span></li><li>          <span class="hljs-function">(<span class="hljs-params">transitionIn: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"transition finish, transitionIn:"</span> + transitionIn);</li><li>          }</li><li>        )</li><li>      }</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <p>示意图：</p> <p><span><img originheight="714" originwidth="328" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115539.43110791093063110367815930673323:50001231000000:2800:636709B53DDD1E6ABAA8A311E8DC785AB3AA3E87D310FE67861BEA4472DFC91D.gif" width="328" height="714"></span></p> </div> </div> <div></div></div>