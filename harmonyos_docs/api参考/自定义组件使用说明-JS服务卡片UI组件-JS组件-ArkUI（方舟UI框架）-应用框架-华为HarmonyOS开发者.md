<h1 _ngcontent-fbo-c119="" class="doc-title ng-star-inserted" title="自定义组件使用说明"> 自定义组件使用说明 </h1>

<div _ngcontent-fbo-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>从API Version 8 开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  </div></div></div> <p>自定义组件是用户根据业务需求，将已有的组件组合，封装成的新组件，可以在工程中多次调用，提高代码的可读性。自定义组件通过element引入到宿主页面，使用方法：</p> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-tag">&lt;<span class="hljs-name">element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'comp'</span> <span class="hljs-attr">src</span>=<span class="hljs-string">'../../common/component/comp.hml'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">element</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">comp</span> <span class="hljs-attr">prop1</span>=<span class="hljs-string">'xxxx'</span> @<span class="hljs-attr">child1</span>=<span class="hljs-string">"bindParentVmMethod"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <ul><li><p>name属性指自定义组件名称(非必填)，组件名称对大小写不敏感，默认使用小写。src属性指自定义组件hml文件路径(必填)，若没有设置name属性，则默认使用hml文件名作为组件名。</p>  </li><li><p>事件绑定：自定义组件中绑定子组件事件使用(on|@)child1语法，子组件中通过{action:"proxy", method: "eventName"}触发事件并进行传值，父组件执行bindParentVmMethod方法并接收子组件传递的参数。</p>  </li></ul>  <div class="tiledSection"><h2 id="自定义组件配置文件标签" device-type="phone,2in1,tablet,wearable,tv">自定义组件配置文件标签<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="自定义组件配置文件标签" tips="复制节点链接"></i></h2> <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.1" width="33.33333333333333%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">data</td> <td class="cellrowborder" width="33.33333333333333%">Object</td> <td class="cellrowborder" width="33.33333333333333%">页面的数据模型，类型是对象。属性名不能以$或_开头，不要使用保留字for, if, show, tid。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">props</td> <td class="cellrowborder" width="33.33333333333333%">Array/Object</td> <td class="cellrowborder" width="33.33333333333333%">props用于组件之间的通信，可以通过&lt;tag xxxx='value'&gt;方式传递给组件；props名称必须用小写，不能以$或_开头，不要使用保留字for, if, show, tid。目前props的数据类型不支持Function。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="添加自定义事件" device-type="phone,2in1,tablet,wearable,tv">添加自定义事件<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="添加自定义事件" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>自定义组件内支持自定义事件，该事件的标识需要action类型指定为proxy，事件名则通过method指定。使用该自定义组件的卡片页面可以通过该事件名注册相应的事件回调，当自定义组件内该自定义事件触发时，会触发卡片页面上注册的回调事件。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> 事件名不支持大写字母。</p>  </div></div></div> <p><strong>自定义子组件示例：</strong></p> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- comp.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row-3"</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"true"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"buttonClicked"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"click"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* comp.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>    <span class="hljs-attribute">flex-direction</span>:column;</li><li>    <span class="hljs-attribute">background-color</span>: green;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>}</li><li>
</li><li><span class="hljs-selector-class">.row-3</span> {</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</li><li>    <span class="hljs-attribute">background-color</span>: orange;</li><li>    <span class="hljs-attribute">font-size</span>:<span class="hljs-number">15px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"buttonClicked"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>            <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"proxy"</span><span class="hljs-punctuation">,</span></li><li>            <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"event_1"</span></li><li>        <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> <p><strong>父组件示例：</strong></p> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span> </li><li><span class="hljs-tag">&lt;<span class="hljs-name">element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'comp'</span> <span class="hljs-attr">src</span>=<span class="hljs-string">'../../common/customComponent/customComponent.hml'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">element</span>&gt;</span></li><li>
</li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">comp</span> @<span class="hljs-attr">event_1</span>=<span class="hljs-string">"click"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"parentClick"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"buttonClick"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">background-color</span>: red;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"click"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"message"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"click event"</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"buttonClick"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"message"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>        <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"click event 2"</span></li><li>      <span class="hljs-punctuation">}</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="props" device-type="phone,2in1,tablet,wearable,tv">props<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="props" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>自定义组件可以通过props声明自定义属性，父组件通过设置属性向子组件传递参数。</p> </div>  <div class="tiledSection"><h3 id="添加默认值" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">添加默认值<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="添加默认值" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子组件可以通过固定值default设置默认值，当父组件没有设置该属性时，将使用其默认值。此情况下props属性必须为对象形式，不能用数组形式，示例如下：</p> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- comp.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row-1"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box-1"</span>&gt;</span></li><li>            <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>xiaoziti<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box-2"</span>&gt;</span></li><li>            <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{text}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box-3"</span>&gt;</span></li><li>            <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{textdata[0]}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row-2"</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"true"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{progress}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row-3"</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"true"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"buttonClicked"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"click"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-punctuation">{</span></li><li>  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"progress"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"80"</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"textdata"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"a"</span><span class="hljs-punctuation">,</span><span class="hljs-string">"b"</span><span class="hljs-punctuation">]</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"progress"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">60</span></li><li>    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>    <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ha"</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></li><li>  <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>    <span class="hljs-attr">"buttonClicked"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span></li><li>      <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"proxy"</span><span class="hljs-punctuation">,</span></li><li>      <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"event_1"</span></li><li>    <span class="hljs-punctuation">}</span></li><li>  <span class="hljs-punctuation">}</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> <p>引用子组件comp的父组件示例如下：</p> <div _ngcontent-fbo-c106="" class="highlight-div"><div _ngcontent-fbo-c106="" class="highlight-div-header"><div _ngcontent-fbo-c106="" class="highlight-div-header-left"><div _ngcontent-fbo-c106="" class="handle-button expand-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fbo-c106="" class="highlight-div-header-right"><div _ngcontent-fbo-c106="" class="handle-button ai-button"></div><div _ngcontent-fbo-c106="" class="handle-button line-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fbo-c106="" class="handle-button theme-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fbo-c106="" class="handle-button copy-button"><div _ngcontent-fbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'comp'</span> <span class="hljs-attr">src</span>=<span class="hljs-string">'../../common/customComponent/customComponent.hml'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">element</span>&gt;</span></li><li>
</li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">comp</span> <span class="hljs-attr">progress</span>=<span class="hljs-string">"{{clicknow}}"</span> <span class="hljs-attr">textdata</span>=<span class="hljs-string">"{{texts}}"</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"false"</span> @<span class="hljs-attr">event_1</span>=<span class="hljs-string">"click"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="数据单向性" device-type="phone,2in1,tablet,wearable,tv">数据单向性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="数据单向性" tips="复制节点链接"></i></h3><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>父子组件之间数据的传递是单向的，只能从父组件传递给子组件，子组件不能直接修改父组件传递下来的值，可以将props传入的值用data接收后作为默认值，再对data的值进行修改。</p> <p>更多说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-custom-props">props</a>文档。</p> </div> </div> <div></div></div>