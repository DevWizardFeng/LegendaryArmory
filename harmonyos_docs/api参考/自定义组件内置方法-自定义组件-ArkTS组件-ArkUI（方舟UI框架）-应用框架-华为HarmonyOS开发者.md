<h1 _ngcontent-kyw-c119="" class="doc-title ng-star-inserted" title="自定义组件内置方法"> 自定义组件内置方法 </h1>

<div _ngcontent-kyw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>自定义组件内置方法是由ArkUI开发框架提供给应用开发者的，定义在自定义组件基类上的API。应用开发者可以在自定义组件的实例上调用对应的API以获取当前自定义组件实例相关的信息。例如，查询当前自定义组件上下文的UIContext信息。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>本模块首批接口从API version 11开始支持，后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>  </div></div></div>  <div class="tiledSection"><h2 id="getuicontext" device-type="phone,2in1,tablet,wearable,tv">getUIContext<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuicontext" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUIContext(): UIContext</p> <p>获取UIContext对象。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-api#uicontext">UIContext</a></td> <td class="cellrowborder" width="50%">返回UIContext实例对象。在异步调用的回调方法中使用该接口，或者该接口的起始调用不在当前页面时，可能导致接口调用发生在自定义组件销毁之后，返回 undefined。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="uicontext" device-type="phone,2in1,tablet,wearable,tv">UIContext<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="uicontext" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type UIContext = UIContext</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.5.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-uicontext-uicontext">UIContext</a></td> <td class="cellrowborder" width="50%">返回UIContext实例对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">UIContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="getuniqueid12" device-type="phone,2in1,tablet,wearable,tv">getUniqueId<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getuniqueid12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getUniqueId(): number</p> <p>获取当前组件的UniqueId。UniqueId为系统为每个组件分配的Id，可保证当前应用中的唯一性。若在组件对应的节点未创建或已销毁时获取，返回无效UniqueId：-1。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">number</td> <td class="cellrowborder" width="50%">返回当前Component的UniqueId。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">uniqueId</span>: <span class="hljs-built_in">number</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUniqueId</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="querynavdestinationinfo" device-type="phone,2in1,tablet,wearable,tv">queryNavDestinationInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querynavdestinationinfo" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryNavDestinationInfo(): NavDestinationInfo | undefined;</p> <p>查询自定义组件所属的NavDestination信息，仅当自定义组件在NavDestination的内部时才生效。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.6.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-api#navdestinationinfo">NavDestinationInfo</a> | undefined</td> <td class="cellrowborder" width="50%">返回NavDestinationInfo实例对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">NavDestinationExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">MyComponent</span>()</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-attr">navDesInfo</span>: uiObserver.<span class="hljs-property">NavDestinationInfo</span> | <span class="hljs-literal">undefined</span></li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// this指代MyComponent自定义节点，并从该节点向上查找其最近的一个类型为NavDestination的父亲节点</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryNavDestinationInfo</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get navDestinationInfo: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span>));</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="querynavdestinationinfo18" device-type="phone,2in1,tablet,wearable,tv">queryNavDestinationInfo<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querynavdestinationinfo18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryNavDestinationInfo(isInner: Optional&lt;boolean&gt;): NavDestinationInfo | undefined</p> <p>查询当前自定义组件距离最近的NavDestination（NavPathStack栈中）信息，isInner为true表示向内查找，false表示向外查找。</p> <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.7.7.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">isInner</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-custom-property#optionalt12">Optional</a>&lt;boolean&gt;</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%"><p>true：向内查询最近的，且在栈内的NavDestinationInfo的详细信息。</p> <p>false：向外查询最近的，且在栈内的NavDestinationInfo的详细信息。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.7.9.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-api#navdestinationinfo">NavDestinationInfo</a> | undefined</td> <td class="cellrowborder" width="50%">返回NavDestinationInfo实例对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Index.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">NavigationExample</span> {</li><li>  <span class="hljs-attr">pageInfo</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pageInfo</span>) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'pageOne'</span>, { <span class="hljs-attr">stateEffect</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Capsule</span> })</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageInfo</span>.<span class="hljs-title function_">pushPath</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'pageOne'</span> }); <span class="hljs-comment">// 将name指定的NavDestination页面信息入栈。</span></li><li>          })</li><li>      }</li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">'NavIndex'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// PageOne.ets</span></li><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">PageOneBuilder</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">PageOneComponent</span>()</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">PageOneComponent</span> {</li><li>  <span class="hljs-attr">navDesInfo</span>: uiObserver.<span class="hljs-property">NavDestinationInfo</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'点击向内查找'</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-comment">// 向内查询PageOne的NavDestination信息</span></li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryNavDestinationInfo</span>(<span class="hljs-literal">true</span>);</li><li>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span>?.<span class="hljs-property">name</span>).<span class="hljs-title function_">toString</span>();</li><li>          })</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'向内查找的NavDestination是:'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">margin</span>(<span class="hljs-number">50</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        <span class="hljs-title class_">MyComponent</span>()</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">title</span>(<span class="hljs-string">'pageOne'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-attr">navDesInfo</span>: uiObserver.<span class="hljs-property">NavDestinationInfo</span> | <span class="hljs-literal">undefined</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'点击向外查找'</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-comment">// 向外查询PageOne的NavDestination信息</span></li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryNavDestinationInfo</span>(<span class="hljs-literal">false</span>);</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">navDesInfo</span>?.<span class="hljs-property">name</span>).<span class="hljs-title function_">toString</span>();</li><li>        })</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'向外查找的NavDestination是:'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">//route_map.json</span></li><li>{</li><li>  <span class="hljs-string">"routerMap"</span>: [</li><li>    {</li><li>      <span class="hljs-string">"name"</span>: <span class="hljs-string">"pageOne"</span>,</li><li>      <span class="hljs-string">"pageSourceFile"</span>: <span class="hljs-string">"src/main/ets/pages/PageOne.ets"</span>,</li><li>      <span class="hljs-string">"buildFunction"</span>: <span class="hljs-string">"PageOneBuilder"</span>,</li><li>      <span class="hljs-string">"data"</span>: {</li><li>        <span class="hljs-string">"description"</span>: <span class="hljs-string">"this is pageOne"</span></li><li>      }</li><li>    }</li><li>  ]</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="navdestinationinfo" device-type="phone,2in1,tablet,wearable,tv">NavDestinationInfo<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="navdestinationinfo" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type NavDestinationInfo = NavDestinationInfo</p> <p>NavDestinationInfo实例对象。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.8.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navdestinationinfo">NavDestinationInfo</a></td> <td class="cellrowborder" width="50%">返回NavDestinationInfo实例对象。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="querynavigationinfo12" device-type="phone,2in1,tablet,wearable,tv">queryNavigationInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="querynavigationinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryNavigationInfo(): NavigationInfo | undefined</p> <p>查询自定义组件所属的Navigation信息。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-api#navigationinfo12">NavigationInfo</a> | undefined</td> <td class="cellrowborder" width="50%">返回NavigationInfo实例对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.ets</span></li><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MainPage</span> {</li><li>  <span class="hljs-attr">pathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Navigation</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pathStack</span>) {</li><li>      <span class="hljs-comment">// ...</span></li><li>    }.<span class="hljs-title function_">id</span>(<span class="hljs-string">"NavigationId"</span>)</li><li>  }</li><li>}</li><li>
</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li><span class="hljs-keyword">export</span> struct <span class="hljs-title class_">PageOne</span> {</li><li>  <span class="hljs-attr">pathStack</span>: <span class="hljs-title class_">NavPathStack</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavPathStack</span>();</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// this指代PageOne自定义节点，并从该节点向上查找其最近的一个类型为Navigation的父亲节点</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">navigationInfo</span>: uiObserver.<span class="hljs-property">NavigationInfo</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryNavigationInfo</span>();</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'get navigationInfo: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(navigationInfo));</li><li>    <span class="hljs-keyword">if</span> (navigationInfo !== <span class="hljs-literal">undefined</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pathStack</span> = navigationInfo.<span class="hljs-property">pathStack</span>;</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">NavDestination</span>() {</li><li>      <span class="hljs-comment">// ...</span></li><li>    }.<span class="hljs-title function_">title</span>(<span class="hljs-string">'PageOne'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="navigationinfo12" device-type="phone,2in1,tablet,wearable,tv">NavigationInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="navigationinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type NavigationInfo = NavigationInfo</p> <p>NavigationInfo实例对象。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.10.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#navigationinfo12">NavigationInfo</a></td> <td class="cellrowborder" width="50%">返回NavigationInfo实例对象。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="queryrouterpageinfo12" device-type="phone,2in1,tablet,wearable,tv">queryRouterPageInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="queryrouterpageinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>queryRouterPageInfo(): RouterPageInfo | undefined;</p> <p>获取RouterPageInfo实例对象。</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-api#routerpageinfo12">RouterPageInfo</a> | undefined</td> <td class="cellrowborder" width="50%">返回RouterPageInfo实例对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { uiObserver } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">info</span>: uiObserver.<span class="hljs-property">RouterPageInfo</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">queryRouterPageInfo</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="routerpageinfo12" device-type="phone,2in1,tablet,wearable,tv">RouterPageInfo<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="routerpageinfo12" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type RouterPageInfo = RouterPageInfo</p> <p>RouterPageInfo实例对象。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-observer#routerpageinfo">RouterPageInfo</a></td> <td class="cellrowborder" width="50%">返回RouterPageInfo实例对象。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="getdialogcontroller18" device-type="phone,2in1,tablet,wearable,tv">getDialogController<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getdialogcontroller18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getDialogController(): PromptActionDialogController | undefined</p> <p>获取PromptActionDialogController实例对象。</p> <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p> <p><strong>返回值：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.13.7.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-api#promptactiondialogcontroller18">PromptActionDialogController</a> | undefined</td> <td class="cellrowborder" width="50%">返回PromptActionDialogController实例对象。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-kyw-c106="" class="highlight-div"><div _ngcontent-kyw-c106="" class="highlight-div-header"><div _ngcontent-kyw-c106="" class="highlight-div-header-left"><div _ngcontent-kyw-c106="" class="handle-button expand-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-kyw-c106="" class="highlight-div-header-right"><div _ngcontent-kyw-c106="" class="handle-button ai-button"></div><div _ngcontent-kyw-c106="" class="handle-button line-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-kyw-c106="" class="handle-button theme-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-kyw-c106="" class="handle-button copy-button"><div _ngcontent-kyw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-kyw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ComponentContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">Params</span> {</li><li>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = text;</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@ComponentV2</span></li><li>struct <span class="hljs-title class_">MyComponent</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'Close Dialog'</span>)</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-keyword">let</span> <span class="hljs-attr">ctrl</span>: <span class="hljs-title class_">PromptActionDialogController</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getDialogController</span>();</li><li>          <span class="hljs-keyword">if</span> (ctrl != <span class="hljs-literal">undefined</span>) {</li><li>            ctrl.<span class="hljs-title function_">close</span>();</li><li>          }</li><li>        })</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildText</span>(<span class="hljs-params">params: Params</span>) {</li><li>  <span class="hljs-title class_">Column</span>() {</li><li>    <span class="hljs-title class_">Text</span>(params.<span class="hljs-property">text</span>)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">50</span>)</li><li>      .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-title class_">FontWeight</span>.<span class="hljs-property">Bold</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">bottom</span>: <span class="hljs-number">36</span> })</li><li>    <span class="hljs-title class_">MyComponent</span>()</li><li>  }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#FFF0F0F0'</span>)</li><li>}</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@ComponentV2</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@Local</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hello"</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'click me'</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>();</li><li>            <span class="hljs-keyword">let</span> promptAction = ctx.<span class="hljs-title function_">getPromptAction</span>();</li><li>            promptAction.<span class="hljs-title function_">openCustomDialog</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentContent</span>(ctx, <span class="hljs-title function_">wrapBuilder</span>(buildText), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Params</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>)))</li><li>              .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"openCustomDialog error: "</span> + err.<span class="hljs-property">code</span> + <span class="hljs-string">" "</span> + err.<span class="hljs-property">message</span>);</li><li>              })</li><li>          })</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="promptactiondialogcontroller18" device-type="phone,2in1,tablet,wearable,tv">PromptActionDialogController<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="promptactiondialogcontroller18" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type PromptActionDialogController = promptAction.DialogController</p> <p>自定义弹窗控制器，可以控制当前自定义弹窗，具体控制能力包括关闭弹窗等，详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#dialogcontroller18">promptAction.DialogController</a>。</p> <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p> <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-promptaction#dialogcontroller18">promptAction.DialogController</a></td> <td class="cellrowborder" width="50%">表示对象类型为promptAction.DialogController实例对象。</td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>