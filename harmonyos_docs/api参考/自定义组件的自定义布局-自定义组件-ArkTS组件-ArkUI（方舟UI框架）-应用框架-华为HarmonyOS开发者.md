<h1 _ngcontent-hij-c119="" class="doc-title ng-star-inserted" title="自定义组件的自定义布局"> 自定义组件的自定义布局 </h1>

<div _ngcontent-hij-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>自定义组件的自定义布局通过数据计算的方式布局自定义组件内的子组件。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>本模块首批接口从API version 9开始支持，后续版本的新增接口，采用上角标单独标记接口的起始版本。</p>      <p>在自定义组件内实现onMeasureSize, onPlaceChildren任一方法即视为实现自定义布局，推荐同时实现两种方法，具体参数说明可见对应接口参数说明。</p>      <p>从API version 20开始，在自定义布局的自定义组件中，子组件若设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#layoutpolicy15">LayoutPolicy</a>对象的fixAtIdealSize属性，表示尺寸将不受父组件约束，完全按照开发者自定义的尺寸范围布局。</p>      <p>自定义布局内不支持使用懒加载(包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-rendering-control-repeat" target="_blank">Repeat</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-rendering-control-lazyforeach" target="_blank">LazyForEach</a>)。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="onmeasuresize10" device-type="phone,2in1,tablet,wearable,tv">onMeasureSize<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onmeasuresize10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onMeasureSize?(selfLayoutInfo: GeometryInfo, children: Array&lt;Measurable&gt;, constraint: ConstraintSizeOptions): SizeResult</p>     <p>ArkUI框架会在自定义组件确定尺寸时，将该自定义组件的节点信息和尺寸范围通过onMeasureSize传递给该开发者。不允许在onMeasureSize函数中改变状态变量。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">selfLayoutInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#geometryinfo10">GeometryInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>计算自定义组件大小后的自身布局信息。</p>          <p><strong>说明：</strong></p>          <p>第一次布局时以自身设置的属性为准。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">children</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#measurable10">Measurable</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>计算子组件大小后的子组件布局信息。</p>          <p><strong>说明：</strong></p>          <p>如果没有设置子组件的布局信息，子组件会维持上一次的布局信息，当子组件从来没有设置过尺寸时，尺寸默认为0。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义组件的布局约束信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.3.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#sizeresult10">SizeResult</a></td>         <td class="cellrowborder" width="50%">组件尺寸信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="onplacechildren10" device-type="phone,2in1,tablet,wearable,tv">onPlaceChildren<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onplacechildren10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onPlaceChildren?(selfLayoutInfo: GeometryInfo, children: Array&lt;Layoutable&gt;, constraint: ConstraintSizeOptions): void</p>     <p>ArkUI框架会在自定义组件确定位置时，将该自定义组件的子节点自身的尺寸范围通过onPlaceChildren传递给该自定义组件。不允许在onPlaceChildren函数中改变状态变量。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">selfLayoutInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#geometryinfo10">GeometryInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">计算自定义组件大小后的自身布局信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">children</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#layoutable10">Layoutable</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">计算子组件大小后的子组件布局信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义组件的布局约束信息。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>示例：</strong></p>     <p>示例请参考<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#示例">自定义布局代码示例</a>。</p>    </div>    <div class="tiledSection">     <h2 id="geometryinfo10" device-type="phone,2in1,tablet,wearable,tv">GeometryInfo<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="geometryinfo10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>父组件（自定义组件）布局信息，继承自<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#sizeresult10">SizeResult</a>。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">borderWidth</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#edgewidths9">EdgeWidth</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>父组件（自定义组件）边框宽度。</p>          <p>单位：vp。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">margin</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#margin">Margin</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>父组件（自定义组件）margin信息。</p>          <p>单位：vp。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">padding</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#padding">Padding</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>父组件（自定义组件）padding信息。</p>          <p>单位：vp。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="layoutable10" device-type="phone,2in1,tablet,wearable,tv">Layoutable<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutable10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子组件布局信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection">     <h3 id="属性" class="firsth2">属性<i class="anchor-icon anchor-icon-link" anchorid="属性" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">measureResult</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#measureresult10">MeasureResult</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>子组件测量后的尺寸信息。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>          <p>单位：vp</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">uniqueId<sup>18+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>系统为子组件分配的唯一标识UniqueID。</p>          <p>取值范围[0,+∞)。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="layout" device-type="phone,2in1,tablet,wearable,tv">layout<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layout" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>layout(position: Position): void</p>     <p>调用此方法对子组件的位置信息进行限制。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">position</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#position">Position</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">绝对位置。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="getmargin12" device-type="phone,2in1,tablet,wearable,tv">getMargin<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmargin12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMargin(): DirectionalEdgesT&lt;number&gt;</p>     <p>调用此方法获取子组件的margin信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#directionaledgestt12">DirectionalEdgesT&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">子组件的margin信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="getpadding12" device-type="phone,2in1,tablet,wearable,tv">getPadding<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpadding12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPadding(): DirectionalEdgesT&lt;number&gt;</p>     <p>调用此方法获取子组件的padding信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#directionaledgestt12">DirectionalEdgesT&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">子组件的padding信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="getborderwidth12" device-type="phone,2in1,tablet,wearable,tv">getBorderWidth<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getborderwidth12" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBorderWidth(): DirectionalEdgesT&lt;number&gt;</p>     <p>调用此方法获取子组件的borderWidth信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#directionaledgestt12">DirectionalEdgesT&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">子组件的borderWidth信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="measurable10" device-type="phone,2in1,tablet,wearable,tv">Measurable<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="measurable10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子组件位置信息。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection">     <h3 id="属性-1" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">uniqueId<sup>18+</sup></td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">系统为子组件分配的唯一标识UniqueID。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="measure" device-type="phone,2in1,tablet,wearable,tv">measure<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="measure" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>measure(constraint: ConstraintSizeOptions) : MeasureResult</p>     <p>调用此方法限制子组件的尺寸范围。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.7.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">约束尺寸。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.9.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#measureresult10">MeasureResult</a></td>         <td class="cellrowborder" width="50%">测量后的组件布局信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="getmargin12-1" device-type="phone,2in1,tablet,wearable,tv">getMargin<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getmargin12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getMargin(): DirectionalEdgesT&lt;number&gt;</p>     <p>获取子组件的margin信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#directionaledgestt12">DirectionalEdgesT&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">子组件的margin信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="getpadding12-1" device-type="phone,2in1,tablet,wearable,tv">getPadding<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getpadding12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getPadding(): DirectionalEdgesT&lt;number&gt;</p>     <p>获取子组件的padding信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#directionaledgestt12">DirectionalEdgesT&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">子组件的padding信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="getborderwidth12-1" device-type="phone,2in1,tablet,wearable,tv">getBorderWidth<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getborderwidth12-1" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBorderWidth(): DirectionalEdgesT&lt;number&gt;</p>     <p>获取子组件的borderWidth信息。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.7.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#directionaledgestt12">DirectionalEdgesT&lt;number&gt;</a></td>         <td class="cellrowborder" width="50%">子组件的borderWidth信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="measureresult10" device-type="phone,2in1,tablet,wearable,tv">MeasureResult<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="measureresult10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>测量后的组件布局信息。继承自<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#sizeresult10">SizeResult</a>。</p>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>    </div>    <div class="tiledSection">     <h2 id="sizeresult10" device-type="phone,2in1,tablet,wearable,tv">SizeResult<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sizeresult10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>组件尺寸信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>自定义布局暂不支持LazyForEach写法。</li>        <li>使用builder形式的自定义布局创建，自定义组件的build()方法内只允许存在this.builder()，即示例的推荐用法。</li>        <li>父容器（自定义组件）上设置的尺寸信息，除aspectRatio之外，优先级小于onMeasureSize设置的尺寸信息。</li>        <li>子组件设置的位置信息，offset、position、markAnchor优先级大于onPlaceChildren设置的位置信息，其他位置设置属性不生效。</li>        <li>使用自定义布局方法时，需要同时调用onMeasureSize和onPlaceChildren方法，否则可能出现布局异常。</li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">width</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>测量后的宽。</p>          <p>单位：vp。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">height</td>         <td class="cellrowborder" width="20%">number</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>测量后的高。</p>          <p>单位：vp。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="onlayoutdeprecated" device-type="phone,2in1,tablet,wearable,tv">onLayout<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onlayoutdeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onLayout?(children: Array&lt;LayoutChild&gt;, constraint: ConstraintSizeOptions): void</p>     <p>ArkUI框架会在自定义组件布局时，将该自定义组件的子节点信息和自身的尺寸范围通过onLayout传递给该自定义组件。不允许在onLayout函数中改变状态变量。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 10开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#onplacechildren10">onPlaceChildren</a>替代。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">children</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#layoutchilddeprecated">LayoutChild</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子组件布局信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">父组件constraint信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="onmeasuredeprecated" device-type="phone,2in1,tablet,wearable,tv">onMeasure<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="onmeasuredeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>onMeasure?(children: Array&lt;LayoutChild&gt;, constraint: ConstraintSizeOptions): void</p>     <p>ArkUI框架会在自定义组件确定尺寸时，将该自定义组件的子节点信息和自身的尺寸范围通过onMeasure传递给该自定义组件。不允许在onMeasure函数中改变状态变量。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 10开始废弃，推荐使用<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#onmeasuresize10">onMeasureSize</a>替代。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">children</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#layoutchilddeprecated">LayoutChild</a>&gt;</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子组件布局信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">constraint</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">父组件constraint信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="layoutchilddeprecated" device-type="phone,2in1,tablet,wearable,tv">LayoutChild<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutchilddeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子组件布局信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 10开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#measurable10">Measurable</a>或者<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#layoutable10">Layoutable</a>替代。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h3 id="属性-2" device-type="phone,2in1,tablet,wearable,tv" class="firsth2">属性<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="属性-2" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">name</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子组件名称。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">id</td>         <td class="cellrowborder" width="20%">string</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子组件id。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">constraint</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子组件约束尺寸。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">borderInfo</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#layoutborderinfodeprecated">LayoutBorderInfo</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子组件border信息。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">position</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#position">Position</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子组件位置坐标。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="measuredeprecated" device-type="phone,2in1,tablet,wearable,tv">measure<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="measuredeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>measure(childConstraint: ConstraintSizeOptions)</p>     <p>调用此方法对子组件的尺寸范围进行限制。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 10开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#measure">measure</a>替代。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">childConstraint</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子组件的尺寸范围的约束信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="layoutdeprecated" device-type="phone,2in1,tablet,wearable,tv">layout<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutdeprecated" tips="复制节点链接"></i></h3>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>layout(childLayoutInfo: LayoutInfo)</p>     <p>调用此方法对子组件的位置信息进行限制。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 10开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#layout">layout</a>替代。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">childLayoutInfo</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#layoutinfodeprecated">LayoutInfo</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">子组件layout信息。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="layoutborderinfodeprecated" device-type="phone,2in1,tablet,wearable,tv">LayoutBorderInfo<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutborderinfodeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子组件border信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 10开始废弃。建议使用<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#getborderwidth12">getBorderWidth</a>，<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#getmargin12">getMargin</a>和<a href="/consumer/cn/doc/harmonyos-references/ts-custom-component-layout#getpadding12">getPadding</a>替代。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">borderWidth</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#edgewidths9">EdgeWidths</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">边框宽度类型，用于描述组件边框不同方向的宽度。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">margin</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#margin">Margin</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">外边距类型，用于描述组件不同方向的外边距。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">padding</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#padding">Padding</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">内边距类型，用于描述组件不同方向的内边距。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="layoutinfodeprecated" device-type="phone,2in1,tablet,wearable,tv">LayoutInfo<sup>(deprecated)</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="layoutinfodeprecated" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子组件layout信息。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 9开始支持，从API version 10开始废弃。</p>      </div></div></div>     <p><strong>卡片能力：</strong> 从API version 9开始，该接口支持在ArkTS卡片中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.6.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">position</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#position">Position</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子组件位置坐标。</td>        </tr>        <tr>         <td class="cellrowborder" width="20%">constraint</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#constraintsizeoptions">ConstraintSizeOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">子组件约束尺寸。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="示例1自定义布局代码示例" class="firsth2">示例1（自定义布局代码示例）<i class="anchor-icon anchor-icon-link" anchorid="示例1自定义布局代码示例" tips="复制节点链接"></i></h3>          <p>自定义布局代码示例。</p>     <div _ngcontent-hij-c106="" class="highlight-div"><div _ngcontent-hij-c106="" class="highlight-div-header"><div _ngcontent-hij-c106="" class="highlight-div-header-left"><div _ngcontent-hij-c106="" class="handle-button expand-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hij-c106="" class="highlight-div-header-right"><div _ngcontent-hij-c106="" class="handle-button ai-button"></div><div _ngcontent-hij-c106="" class="handle-button line-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hij-c106="" class="handle-button theme-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hij-c106="" class="handle-button copy-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hij-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">CustomLayout</span>({ <span class="hljs-attr">builder</span>: <span class="hljs-title class_">ColumnChildren</span> })</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">ColumnChildren</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">ForEach</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> { <span class="hljs-comment">// 目前不支持使用lazyForEach语法。</span></li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'S'</span> + index)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>      .<span class="hljs-title function_">offset</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">20</span> })</li><li>  })</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CustomLayout</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">doNothingBuilder</span>(<span class="hljs-params"></span>) {</li><li>  };</li><li>
</li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">doNothingBuilder</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">startSize</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>;</li><li>  <span class="hljs-attr">result</span>: <span class="hljs-title class_">SizeResult</span> = {</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">0</span></li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">onPlaceChildren</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Layoutable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> startPos = <span class="hljs-number">300</span>;</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> pos = startPos - child.<span class="hljs-property">measureResult</span>.<span class="hljs-property">height</span>;</li><li>      child.<span class="hljs-title function_">layout</span>({ <span class="hljs-attr">x</span>: pos, <span class="hljs-attr">y</span>: pos })</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onMeasureSize</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Measurable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> size = <span class="hljs-number">100</span>;</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">MeasureResult</span> = child.<span class="hljs-title function_">measure</span>({</li><li>        <span class="hljs-attr">minHeight</span>: size,</li><li>        <span class="hljs-attr">minWidth</span>: size,</li><li>        <span class="hljs-attr">maxWidth</span>: size,</li><li>        <span class="hljs-attr">maxHeight</span>: size</li><li>      })</li><li>      size += result.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>;</li><li>    })</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">width</span> = <span class="hljs-number">100</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">height</span> = <span class="hljs-number">400</span>;</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">builder</span>()</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="496" originwidth="587" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115443.08366674193611817918209033207254:50001231000000:2800:302CA44DFF9225AA462AF467CEAF7396BB659B11CA8C1C254D222DB1404EB4E5.png" width="587" height="496"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例2判断是否参与布局计算">示例2（判断是否参与布局计算）<i class="anchor-icon anchor-icon-link" anchorid="示例2判断是否参与布局计算" tips="复制节点链接"></i></h3>          <p>通过组件的位置灵活判断是否参与布局计算。</p>     <div _ngcontent-hij-c106="" class="highlight-div"><div _ngcontent-hij-c106="" class="highlight-div-header"><div _ngcontent-hij-c106="" class="highlight-div-header-left"><div _ngcontent-hij-c106="" class="handle-button expand-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hij-c106="" class="highlight-div-header-right"><div _ngcontent-hij-c106="" class="handle-button ai-button"></div><div _ngcontent-hij-c106="" class="handle-button line-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hij-c106="" class="handle-button theme-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hij-c106="" class="handle-button copy-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hij-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">CustomLayout</span>({ <span class="hljs-attr">builder</span>: <span class="hljs-title class_">ColumnChildren</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Builder</span></li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">ColumnChildren</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-title class_">ForEach</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">number</span>, index: <span class="hljs-built_in">number</span></span>) =&gt;</span> { <span class="hljs-comment">// 目前不支持使用lazyForEach语法。</span></li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'S'</span> + item)</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">60</span> + <span class="hljs-number">10</span> * index)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>:<span class="hljs-number">10</span> })</li><li>      .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)</li><li>  })</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CustomLayout</span> {</li><li>  <span class="hljs-comment">// 只布局一行，如果布局空间不够的子组件不显示的demo。</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">doNothingBuilder</span>(<span class="hljs-params"></span>) {</li><li>  };</li><li>
</li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">doNothingBuilder</span>;</li><li>  <span class="hljs-attr">result</span>: <span class="hljs-title class_">SizeResult</span> = {</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">0</span></li><li>  };</li><li>  <span class="hljs-attr">overFlowIndex</span>: <span class="hljs-built_in">number</span> = -<span class="hljs-number">1</span>;</li><li>
</li><li>  <span class="hljs-title function_">onPlaceChildren</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Layoutable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> currentX = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">let</span> infinity = <span class="hljs-number">100000</span>;</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">overFlowIndex</span> == -<span class="hljs-number">1</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">overFlowIndex</span> = children.<span class="hljs-property">length</span>;</li><li>    }</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; children.<span class="hljs-property">length</span>; ++index) {</li><li>      <span class="hljs-keyword">let</span> child = children[index];</li><li>      <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">overFlowIndex</span>) {</li><li>        <span class="hljs-comment">// 如果子组件超出父组件范围，将它布局到较偏的位置，达到不显示的目的。</span></li><li>        child.<span class="hljs-title function_">layout</span>({<span class="hljs-attr">x</span>: infinity, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>});</li><li>        <span class="hljs-keyword">continue</span>;</li><li>      }</li><li>      child.<span class="hljs-title function_">layout</span>({ <span class="hljs-attr">x</span>: currentX, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })</li><li>      <span class="hljs-keyword">let</span> margin = child.<span class="hljs-title function_">getMargin</span>();</li><li>      currentX += child.<span class="hljs-property">measureResult</span>.<span class="hljs-property">width</span> + margin.<span class="hljs-property">start</span> + margin.<span class="hljs-property">end</span>;</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onMeasureSize</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Measurable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> width = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-keyword">let</span> height = <span class="hljs-number">0</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">overFlowIndex</span> = -<span class="hljs-number">1</span>;</li><li>    <span class="hljs-comment">// 假定该组件的宽度不能超过200vp，也不能超过最大约束。</span></li><li>    <span class="hljs-keyword">let</span> maxWidth = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">200</span>, constraint.<span class="hljs-property">maxWidth</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>);</li><li>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; children.<span class="hljs-property">length</span>; ++index) {</li><li>      <span class="hljs-keyword">let</span> child = children[index];</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">childResult</span>: <span class="hljs-title class_">MeasureResult</span> = child.<span class="hljs-title function_">measure</span>({</li><li>          <span class="hljs-attr">minHeight</span>: constraint.<span class="hljs-property">minHeight</span>,</li><li>          <span class="hljs-attr">minWidth</span>: constraint.<span class="hljs-property">minWidth</span>,</li><li>          <span class="hljs-attr">maxWidth</span>: constraint.<span class="hljs-property">maxWidth</span>,</li><li>          <span class="hljs-attr">maxHeight</span>: constraint.<span class="hljs-property">maxHeight</span></li><li>      })</li><li>      <span class="hljs-keyword">let</span> margin = child.<span class="hljs-title function_">getMargin</span>();</li><li>      <span class="hljs-keyword">let</span> newWidth = width + childResult.<span class="hljs-property">width</span> + margin.<span class="hljs-property">start</span> + margin.<span class="hljs-property">end</span>;</li><li>      <span class="hljs-keyword">if</span> (newWidth &gt; maxWidth) {</li><li>        <span class="hljs-comment">// 记录不该布局的组件的下标。</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">overFlowIndex</span> = index;</li><li>        <span class="hljs-keyword">break</span>;</li><li>      }</li><li>      <span class="hljs-comment">// 累积父组件的宽度和高度。</span></li><li>      width = newWidth;</li><li>      height = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(height, childResult.<span class="hljs-property">height</span> + margin.<span class="hljs-property">top</span> + margin.<span class="hljs-property">bottom</span>);</li><li>    }</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">width</span> = width;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">height</span> = height;</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">builder</span>()</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="206" originwidth="292" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115443.52113783511581293700118334030637:50001231000000:2800:C9D535D276609C116832326AA07AFB7C135FCFF3DE02CCFDB6F13DABB4DF7F21.png" class="notEnlarge" width="292" height="206"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例3获取子组件framenode并设置相关属性">示例3（获取子组件FrameNode并设置相关属性）<i class="anchor-icon anchor-icon-link" anchorid="示例3获取子组件framenode并设置相关属性" tips="复制节点链接"></i></h3>          <p>通过uniqueId获取子组件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode">FrameNode</a>，并调用FrameNode的API接口修改尺寸、背景颜色。</p>     <div _ngcontent-hij-c106="" class="highlight-div"><div _ngcontent-hij-c106="" class="highlight-div-header"><div _ngcontent-hij-c106="" class="highlight-div-header-left"><div _ngcontent-hij-c106="" class="handle-button expand-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hij-c106="" class="highlight-div-header-right"><div _ngcontent-hij-c106="" class="handle-button ai-button"></div><div _ngcontent-hij-c106="" class="handle-button line-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hij-c106="" class="handle-button theme-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hij-c106="" class="handle-button copy-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hij-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FrameNode</span>, <span class="hljs-title class_">NodeController</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">CustomLayout</span>()</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNodeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">NodeController</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">rootNode</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-title function_">makeNode</span>(<span class="hljs-attr">uiContext</span>: <span class="hljs-title class_">UIContext</span>): <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FrameNode</span>(uiContext)</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">rootNode</span></li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CustomLayout</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">childrenBuilder</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">ForEach</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> { <span class="hljs-comment">// 目前不支持使用lazyForEach语法。</span></li><li>      <span class="hljs-title class_">NodeContainer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyNodeController</span>())</li><li>    })</li><li>  };</li><li>
</li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">childrenBuilder</span>;</li><li>  <span class="hljs-attr">result</span>: <span class="hljs-title class_">SizeResult</span> = {</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">0</span></li><li>  };</li><li>
</li><li>  <span class="hljs-title function_">onPlaceChildren</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Layoutable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> prev = <span class="hljs-number">0</span>;</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> pos = prev + <span class="hljs-number">10</span>;</li><li>      prev = pos + child.<span class="hljs-property">measureResult</span>.<span class="hljs-property">width</span></li><li>      child.<span class="hljs-title function_">layout</span>({ <span class="hljs-attr">x</span>: pos, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onMeasureSize</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Measurable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> size = <span class="hljs-number">100</span>;</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'child uniqueId: '</span>, child.<span class="hljs-property">uniqueId</span>)</li><li>      <span class="hljs-keyword">const</span> uiContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>()</li><li>      <span class="hljs-keyword">if</span> (uiContext) {</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">node</span>: <span class="hljs-title class_">FrameNode</span> | <span class="hljs-literal">null</span> = uiContext.<span class="hljs-title function_">getFrameNodeByUniqueId</span>(child.<span class="hljs-property">uniqueId</span>) <span class="hljs-comment">// 获取NodeContainer组件的FrameNode。</span></li><li>        <span class="hljs-keyword">if</span> (node) {</li><li>          node.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>)!.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>          node.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>)!.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>          node.<span class="hljs-title function_">getChild</span>(<span class="hljs-number">0</span>)!.<span class="hljs-property">commonAttribute</span>.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>) <span class="hljs-comment">// 修改FrameNode的尺寸与背景颜色。</span></li><li>        }</li><li>      }</li><li>      child.<span class="hljs-title function_">measure</span>({ <span class="hljs-attr">minHeight</span>: size, <span class="hljs-attr">minWidth</span>: size, <span class="hljs-attr">maxWidth</span>: size, <span class="hljs-attr">maxHeight</span>: size })</li><li>    })</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">width</span> = <span class="hljs-number">320</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">height</span> = <span class="hljs-number">100</span>;</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">builder</span>()</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="134" originwidth="400" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115443.01446924404507123786507425974757:50001231000000:2800:7C8B0C14EE7C5D5B377A6B8FE88A0BD00A8C3A33C4696BB3DD4CFFFCFC9F905A.jpg" width="400" height="134"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例4子组件超过父组件大小约束">示例4（子组件超过父组件大小约束）<i class="anchor-icon anchor-icon-link" anchorid="示例4子组件超过父组件大小约束" tips="复制节点链接"></i></h3>          <p>在自定义布局的自定义组件中，为子组件设置了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-size#layoutpolicy15">LayoutPolicy</a>对象的fixAtIdealSize属性。</p>     <div _ngcontent-hij-c106="" class="highlight-div"><div _ngcontent-hij-c106="" class="highlight-div-header"><div _ngcontent-hij-c106="" class="highlight-div-header-left"><div _ngcontent-hij-c106="" class="handle-button expand-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hij-c106="" class="highlight-div-header-right"><div _ngcontent-hij-c106="" class="handle-button ai-button"></div><div _ngcontent-hij-c106="" class="handle-button line-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hij-c106="" class="handle-button theme-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hij-c106="" class="handle-button copy-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hij-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">ColumnChildrenText</span>() {</li><li>    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'=====Text=====Text=====Text=====Text=====Text=====Text=====Text=====Text'</span> )</li><li>      .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>      .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#fff8dc'</span>)</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-title class_">LayoutPolicy</span>.<span class="hljs-property">fixAtIdealSize</span>) <span class="hljs-comment">// 设置子组件宽度不受到父组件限制。</span></li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-title class_">LayoutPolicy</span>.<span class="hljs-property">fixAtIdealSize</span>)  <span class="hljs-comment">// 设置子组件高度不受到父组件限制。</span></li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">CustomLayoutText</span>({ <span class="hljs-attr">builder</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">ColumnChildrenText</span> })</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#f0ffff'</span>).<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-number">150</span>)</li><li>      .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Pink</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">350</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-number">680</span>)</li><li>    .<span class="hljs-title function_">margin</span>(<span class="hljs-number">20</span>)</li><li>    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CustomLayoutText</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">doSomethingBuilder</span>(<span class="hljs-params"></span>) {</li><li>  };</li><li>
</li><li>  <span class="hljs-meta">@BuilderParam</span></li><li>  <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">doSomethingBuilder</span>;</li><li>  <span class="hljs-attr">result</span>: <span class="hljs-title class_">SizeResult</span> = {</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">0</span></li><li>  };</li><li>  <span class="hljs-comment">// 自定义组件进行自定义布局。</span></li><li>  <span class="hljs-title function_">onPlaceChildren</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Layoutable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> posY = <span class="hljs-number">20</span>;</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> posX = (selfLayoutInfo.<span class="hljs-property">width</span> - child.<span class="hljs-property">measureResult</span>.<span class="hljs-property">width</span>) / <span class="hljs-number">2</span>;</li><li>      child.<span class="hljs-title function_">layout</span>({ <span class="hljs-attr">x</span>: posX, <span class="hljs-attr">y</span>: posY })</li><li>      posY += child.<span class="hljs-property">measureResult</span>.<span class="hljs-property">height</span> + <span class="hljs-number">30</span>;</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onMeasureSize</span>(<span class="hljs-params">selfLayoutInfo: GeometryInfo, children: <span class="hljs-built_in">Array</span>&lt;Measurable&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">MeasureResult</span> = child.<span class="hljs-title function_">measure</span>({ <span class="hljs-attr">maxWidth</span>: <span class="hljs-number">335</span>, <span class="hljs-attr">maxHeight</span>: <span class="hljs-number">50</span> }) <span class="hljs-comment">// 设置自定义组件子组件大小的限制。</span></li><li>    })</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">width</span> = <span class="hljs-number">200</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>.<span class="hljs-property">height</span> = <span class="hljs-number">130</span>;</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">builder</span>()</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="316" originwidth="617" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115443.97938678589501757537472979587790:50001231000000:2800:07CA736C4F80A03E0107F8FA78B3519E71A7C8BF070FF02D6E82AEA217C74B50.jpg" width="617" height="316"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例5通过layout修改布局">示例5（通过layout修改布局）<i class="anchor-icon anchor-icon-link" anchorid="示例5通过layout修改布局" tips="复制节点链接"></i></h3>          <p>通过layout修改布局。</p>     <div _ngcontent-hij-c106="" class="highlight-div"><div _ngcontent-hij-c106="" class="highlight-div-header"><div _ngcontent-hij-c106="" class="highlight-div-header-left"><div _ngcontent-hij-c106="" class="handle-button expand-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hij-c106="" class="highlight-div-header-right"><div _ngcontent-hij-c106="" class="handle-button ai-button"></div><div _ngcontent-hij-c106="" class="handle-button line-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hij-c106="" class="handle-button theme-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hij-c106="" class="handle-button copy-button"><div _ngcontent-hij-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hij-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">CustomLayout</span>() {</li><li>        <span class="hljs-title class_">ForEach</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Sub'</span> + index)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>            .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">2</span>)</li><li>        })</li><li>      }</li><li>    }</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">CustomLayout</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title function_">doNothingBuilder</span>(<span class="hljs-params"></span>) {</li><li>  };</li><li>
</li><li>  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">builder</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">doNothingBuilder</span>;</li><li>
</li><li>  <span class="hljs-title function_">onLayout</span>(<span class="hljs-params">children: <span class="hljs-built_in">Array</span>&lt;LayoutChild&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> pos = <span class="hljs-number">0</span>;</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      child.<span class="hljs-title function_">layout</span>({ <span class="hljs-attr">position</span>: { <span class="hljs-attr">x</span>: pos, <span class="hljs-attr">y</span>: pos }, <span class="hljs-attr">constraint</span>: constraint })</li><li>      pos += <span class="hljs-number">70</span>;</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">onMeasure</span>(<span class="hljs-params">children: <span class="hljs-built_in">Array</span>&lt;LayoutChild&gt;, constraint: ConstraintSizeOptions</span>) {</li><li>    <span class="hljs-keyword">let</span> size = <span class="hljs-number">100</span>;</li><li>    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {</li><li>      child.<span class="hljs-title function_">measure</span>({ <span class="hljs-attr">minHeight</span>: size, <span class="hljs-attr">minWidth</span>: size, <span class="hljs-attr">maxWidth</span>: size, <span class="hljs-attr">maxHeight</span>: size })</li><li>      size += <span class="hljs-number">50</span>;</li><li>    })</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">builder</span>()</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="204" originwidth="208" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115443.02139748376059444796046915759453:50001231000000:2800:860ACACAA97FB07AA99F9ADFEB19EDD0820F8EFF6525B3230317C4B03F32C9E2.png" class="notEnlarge" width="208" height="204"></span></p>    </div>   </div>   <div></div></div>