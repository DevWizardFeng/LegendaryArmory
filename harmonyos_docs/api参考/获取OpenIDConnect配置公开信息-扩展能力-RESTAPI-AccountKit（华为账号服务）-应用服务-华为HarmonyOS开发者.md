<h1 _ngcontent-okk-c119="" class="doc-title ng-star-inserted" title="获取OpenID Connect配置公开信息"> 获取OpenID Connect配置公开信息 </h1>

<div _ngcontent-okk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>为了更安全的网络访问，请务必升级到TLS1.2版本。若使用协议是TLS1.0、TLS1.1或规定外的加密套件，可能无法正常访问华为账号服务。</p> <p>关于TLS1.2协议及加密套件的信息，可以点击这里进行详细了解：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-common#section1329115361128">TLS协议及加密套件</a>。</p> </div></div></div> <div class="tiledSection"><h2 id="section134551848165811">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section134551848165811" tips="复制节点链接"></i></h2><p>获取OpenID Connect配置公开信息。</p> </div> <div class="tiledSection"><h2 id="section16561102914214">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section16561102914214" tips="复制节点链接"></i></h2><p>应用通过该API获取OAuth2服务的一些公开配置信息，如授权、获取Token、取消授权、JWT公钥信息等接入地址信息。</p> </div> <div class="tiledSection"><h2 id="section2854115605519">使用约束<i class="anchor-icon anchor-icon-link" anchorid="section2854115605519" tips="复制节点链接"></i></h2><p>需确保调用端网络正常。</p> </div> <div class="tiledSection"><h2 id="section1261215224105">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section1261215224105" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table><tbody><tr><th class="firstcol" id="mcps1.3.5.2.1.3.1.1" width="18.740000000000002%"><p><strong>承载协议</strong></p> </th> <td class="cellrowborder" width="81.26%"><p>HTTPS POST/GET</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.2.1.3.2.1" width="18.740000000000002%"><p><strong>接口方向</strong></p> </th> <td class="cellrowborder" width="81.26%"><p><span style="color: rgb(36,39,40);">开发者服务器-</span><span style="color: rgb(36,39,40);">&gt;</span><span style="color: rgb(36,39,40);">华为账号服务器</span></p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.2.1.3.3.1" width="18.740000000000002%"><p><strong>接口URL</strong></p> </th> <td class="cellrowborder" width="81.26%"><p>https://oauth-login.cloud.huawei.com/.well-known/openid-configuration</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.5.2.1.3.4.1" width="18.740000000000002%"><p><strong>数据格式</strong></p> </th> <td class="cellrowborder" width="81.26%"><p>响应消息：Content-Type: application/json</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section155941030171016">请求参数<i class="anchor-icon anchor-icon-link" anchorid="section155941030171016" tips="复制节点链接"></i></h2><p>无</p> </div> <div class="tiledSection"><h2 id="section188510106157">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section188510106157" tips="复制节点链接"></i></h2><p>请通过POST方式调用，示例如下：</p> <div _ngcontent-okk-c106="" class="highlight-div"><div _ngcontent-okk-c106="" class="highlight-div-header"><div _ngcontent-okk-c106="" class="highlight-div-header-left"><div _ngcontent-okk-c106="" class="handle-button expand-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-okk-c106="" class="highlight-div-header-right"><div _ngcontent-okk-c106="" class="handle-button ai-button"></div><div _ngcontent-okk-c106="" class="handle-button line-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-okk-c106="" class="handle-button theme-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-okk-c106="" class="handle-button copy-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-okk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">POST</span> /.<span class="hljs-variable">well</span>-<span class="hljs-variable">known</span>/<span class="hljs-variable">openid</span>-<span class="hljs-variable">configuration</span> <span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.1</span></li><li><span class="hljs-variable">Host</span>: <span class="hljs-title class_">oauth</span>-<span class="hljs-title class_">login</span>.<span class="hljs-title class_">cloud</span>.<span class="hljs-title class_">huawei</span>.<span class="hljs-title class_">com</span></li></ol></pre></div></div> </div> <p>请通过GET方式调用，示例如下：</p> <div _ngcontent-okk-c106="" class="highlight-div"><div _ngcontent-okk-c106="" class="highlight-div-header"><div _ngcontent-okk-c106="" class="highlight-div-header-left"><div _ngcontent-okk-c106="" class="handle-button expand-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-okk-c106="" class="highlight-div-header-right"><div _ngcontent-okk-c106="" class="handle-button ai-button"></div><div _ngcontent-okk-c106="" class="handle-button line-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-okk-c106="" class="handle-button theme-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-okk-c106="" class="handle-button copy-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-okk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">GET</span> /.<span class="hljs-variable">well</span>-<span class="hljs-variable">known</span>/<span class="hljs-variable">openid</span>-<span class="hljs-variable">configuration</span> <span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.1</span></li><li><span class="hljs-variable">Host</span>: <span class="hljs-title class_">oauth</span>-<span class="hljs-title class_">login</span>.<span class="hljs-title class_">cloud</span>.<span class="hljs-title class_">huawei</span>.<span class="hljs-title class_">com</span></li></ol></pre></div></div> <div class="tiledSection"><h2 id="section1277911155155">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section1277911155155" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section119937153013" class="firsth2">Response Header<i class="anchor-icon anchor-icon-link" anchorid="section119937153013" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.1" width="20.562056205620564%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.2" width="19.781978197819782%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.3" width="22.492249224922492%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.4" width="37.163716371637165%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20.562056205620564%"><p>Content-Type</p> </td> <td class="cellrowborder" width="19.781978197819782%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>取值为：application/json。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section116220343011">Response Body<i class="anchor-icon anchor-icon-link" anchorid="section116220343011" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.1" width="23.67236723672367%"><p><strong>参数</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.2" width="16.67166716671667%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.3" width="22.492249224922492%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.4" width="37.163716371637165%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.67236723672367%"><p>issuer</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>发行方。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>authorization_endpoint</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>授权接入地址。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>token_endpoint</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>获取Token接入地址。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>revocation_endpoint</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>取消授权接入地址。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>jwks_uri</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>获取JWT公钥信息接入地址。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>response_modes_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>获取身份验证的响应模式。</p> <p>固定返回["form_post"]，表示使用HTTP GET/POST表单提交方式返回授权码。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>response_types_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>支持的授权类型。固定返回["code"]，表示支持授权码模式。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>subject_types_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>支持的主题类型。</p> <p>固定返回["pairwise"]，表示OP（OpenID Provider）会为每个RP（Relying Party）提供不同的sub值，从而在不同的RP（Relying Party）之间保护用户的唯一性。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>id_token_signing_alg_values_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>ID Token签名支持的算法。</p> <ul><li>RS256</li><li>PS256</li></ul> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>scopes_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>支持的授权范围，当前支持的scope如下：</p> <ul><li>openid</li><li>email</li><li>profile</li></ul> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>token_endpoint_auth_methods_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>获取token接入地址支持的客户端身份验证方法列表。</p> <p>固定返回["client_secret_post"]，表示使用HTTP POST方法将Client ID和Client Secret作为表单参数传递给授权服务器。</p> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>claims_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>支持的声明类型。</p> <ul><li>aud：Client ID</li><li>email：用户邮箱</li><li>email_verified：是否已邮箱验证</li><li>exp：ID Token的过期时间</li><li>family_name：用户姓氏</li><li>given_name：用户名字（不包括姓氏）</li><li>iat：ID Token的签发时间</li><li>iss：ID Token的签发者</li><li>locale：用户的首选语言和地区</li><li>name：用户完整姓名</li><li>picture：用户头像URL</li><li>sub：用户的唯一标识（UnionID）</li><li>display_name：用户昵称</li></ul> </td> </tr> <tr><td class="cellrowborder" width="23.67236723672367%"><p>code_challenge_methods_supported</p> </td> <td class="cellrowborder" width="16.67166716671667%"><p>是</p> </td> <td class="cellrowborder" width="22.492249224922492%"><p>String[]</p> </td> <td class="cellrowborder" width="37.163716371637165%"><p>PKCE模式授权时，支持对code_verifier进行编码的方法。固定["S256"]，表示使用SHA-256算法对码值进行加密。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section2409115094716">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section2409115094716" tips="复制节点链接"></i></h2><div _ngcontent-okk-c106="" class="highlight-div"><div _ngcontent-okk-c106="" class="highlight-div-header"><div _ngcontent-okk-c106="" class="highlight-div-header-left"><div _ngcontent-okk-c106="" class="handle-button expand-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-okk-c106="" class="highlight-div-header-right"><div _ngcontent-okk-c106="" class="handle-button ai-button"></div><div _ngcontent-okk-c106="" class="handle-button line-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-okk-c106="" class="handle-button theme-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-okk-c106="" class="handle-button copy-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-okk-c106="" class="highlight-scroll-div"><pre class="json prettyprint linenums hljs language-json" data-highlighted="yes"><ol class="linenums"><li>HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK</li><li>Content-Type<span class="hljs-punctuation">:</span> application/json</li><li>
</li><li><span class="hljs-punctuation">{</span> </li><li>   <span class="hljs-attr">"issuer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://accounts.huawei.com"</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"authorization_endpoint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://oauth-login.cloud.huawei.com/oauth2/v3/authorize"</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"token_endpoint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://oauth-login.cloud.huawei.com/oauth2/v3/token"</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"revocation_endpoint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://oauth-login.cloud.huawei.com/oauth2/v3/revoke"</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"jwks_uri"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://oauth-login.cloud.huawei.com/oauth2/v3/certs"</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"response_modes_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> </li><li>      <span class="hljs-string">"form_post"</span> </li><li>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"response_types_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> </li><li>      <span class="hljs-string">"code"</span> </li><li>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"subject_types_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> </li><li>      <span class="hljs-string">"pairwise"</span> </li><li>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"id_token_signing_alg_values_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> </li><li>      <span class="hljs-string">"RS256"</span><span class="hljs-punctuation">,</span> </li><li>      <span class="hljs-string">"PS256"</span> </li><li>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"scopes_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> </li><li>      <span class="hljs-string">"openid"</span><span class="hljs-punctuation">,</span> </li><li>      <span class="hljs-string">"email"</span><span class="hljs-punctuation">,</span> </li><li>      <span class="hljs-string">"profile"</span> </li><li>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"token_endpoint_auth_methods_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></li><li>      <span class="hljs-string">"client_secret_post"</span> </li><li>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> </li><li>   <span class="hljs-attr">"claims_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> </li><li>       <span class="hljs-string">"aud"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"email"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"email_verified"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"exp"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"family_name"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"given_name"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"iat"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"iss"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"locale"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"picture"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"sub"</span><span class="hljs-punctuation">,</span> </li><li>       <span class="hljs-string">"display_name"</span></li><li>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> </li><li>    <span class="hljs-attr">"code_challenge_methods_supported"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> </li><li>        <span class="hljs-string">"S256"</span> </li><li>    <span class="hljs-punctuation">]</span></li><li><span class="hljs-punctuation">}</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section314672541917">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section314672541917" tips="复制节点链接"></i></h2><p>Java示例代码如下，运行前需要进行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/account-api-common#section444143185314">示例代码环境配置</a>：</p> <div _ngcontent-okk-c106="" class="highlight-div"><div _ngcontent-okk-c106="" class="highlight-div-header"><div _ngcontent-okk-c106="" class="highlight-div-header-left"><div _ngcontent-okk-c106="" class="handle-button expand-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-okk-c106="" class="highlight-div-header-right"><div _ngcontent-okk-c106="" class="handle-button ai-button"></div><div _ngcontent-okk-c106="" class="handle-button line-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-okk-c106="" class="handle-button theme-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-okk-c106="" class="handle-button copy-button"><div _ngcontent-okk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-okk-c106="" class="highlight-scroll-div"><pre class="java prettyprint linenums hljs language-java" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONArray;</li><li><span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONObject;</li><li><span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;</li><li><span class="hljs-keyword">import</span> org.apache.http.client.methods.HttpGet;</li><li><span class="hljs-keyword">import</span> org.huawei.uniaccount.util.CallUtils;</li><li><span class="hljs-keyword">import</span> java.io.IOException;</li><li>
</li><li><span class="hljs-comment">/**</span></li><li><span class="hljs-comment"> * 获取OpenID Connect配置公开信息</span></li><li><span class="hljs-comment"> */</span></li><li><span class="hljs-meta">@Slf4j</span></li><li><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetOpenIdConnect</span> {</li><li>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {</li><li>        <span class="hljs-comment">// 获取OpenID Connect配置公开信息的接口URL</span></li><li>        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">"https://oauth-login.cloud.huawei.com/.well-known/openid-configuration"</span>;</li><li>        <span class="hljs-type">HttpGet</span> <span class="hljs-variable">httpGet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpGet</span>(url);</li><li>        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> CallUtils.toJsonObject(CallUtils.remoteCallOAuth(httpGet));</li><li>        <span class="hljs-comment">// 解析获取issuer</span></li><li>        <span class="hljs-type">String</span> <span class="hljs-variable">issuer</span> <span class="hljs-operator">=</span> result.getString(<span class="hljs-string">"issuer"</span>);</li><li>        <span class="hljs-comment">// 解析获取authorization_endpoint</span></li><li>        <span class="hljs-type">String</span> <span class="hljs-variable">authorizationEndpoint</span> <span class="hljs-operator">=</span> result.getString(<span class="hljs-string">"authorization_endpoint"</span>);</li><li>        <span class="hljs-comment">// 解析获取token_endpoint</span></li><li>        <span class="hljs-type">String</span> <span class="hljs-variable">tokenEndpoint</span> <span class="hljs-operator">=</span> result.getString(<span class="hljs-string">"token_endpoint"</span>);</li><li>        <span class="hljs-comment">// 解析获取revocation_endpoint</span></li><li>        <span class="hljs-type">String</span> <span class="hljs-variable">revocationEndpoint</span> <span class="hljs-operator">=</span> result.getString(<span class="hljs-string">"revocation_endpoint"</span>);</li><li>        <span class="hljs-comment">// 解析获取jwks_uri</span></li><li>        <span class="hljs-type">String</span> <span class="hljs-variable">jwksUri</span> <span class="hljs-operator">=</span> result.getString(<span class="hljs-string">"jwks_uri"</span>);</li><li>        <span class="hljs-comment">// 解析获取response_modes_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">responseModesSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"response_modes_supported"</span>);</li><li>        <span class="hljs-comment">// 解析获取response_types_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">responseTypesSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"response_types_supported"</span>);</li><li>        <span class="hljs-comment">// 解析获取subject_types_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">subjectTypesSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"subject_types_supported"</span>);</li><li>        <span class="hljs-comment">// 解析获取id_token_signing_alg_values_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">idTokenSigningAlgValuesSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"id_token_signing_alg_values_supported"</span>);</li><li>        <span class="hljs-comment">// 解析获取scopes_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">scopesSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"scopes_supported"</span>);</li><li>        <span class="hljs-comment">// 解析获取token_endpoint_auth_methods_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">tokenEndpointAuthMethodsSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"token_endpoint_auth_methods_supported"</span>);</li><li>        <span class="hljs-comment">// 解析获取claims_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">claimsSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"claims_supported"</span>);</li><li>        <span class="hljs-comment">// 解析获取code_challenge_methods_supported</span></li><li>        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">codeChallengeMethodsSupported</span> <span class="hljs-operator">=</span> result.getJSONArray(<span class="hljs-string">"code_challenge_methods_supported"</span>);</li><li>    }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1737691991515">错误码<i class="anchor-icon anchor-icon-link" anchorid="section1737691991515" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.15.2.1.4.1.1" width="29.349999999999998%"><p>HTTP响应码</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.2.1.4.1.2" width="32.04%"><p>描述</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.15.2.1.4.1.3" width="38.61%"><p>解决方法</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="29.349999999999998%"><p>200</p> </td> <td class="cellrowborder" width="32.04%"><p>成功。</p> </td> <td class="cellrowborder" width="38.61%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>403</p> </td> <td class="cellrowborder" width="32.04%"><p>无权限访问。</p> </td> <td class="cellrowborder" width="38.61%"><p>请检查调用环境及配置。</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>404</p> </td> <td class="cellrowborder" width="32.04%"><p>找不到服务。</p> </td> <td class="cellrowborder" width="38.61%"><p>请检查请求URI是否正确。</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>405</p> </td> <td class="cellrowborder" width="32.04%"><p>不支持的http请求method。</p> </td> <td class="cellrowborder" width="38.61%"><p>请检查http请求method是否与接口说明一致。</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>500</p> </td> <td class="cellrowborder" width="32.04%"><p>服务内部错误。</p> </td> <td class="cellrowborder" width="38.61%"><p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>502</p> </td> <td class="cellrowborder" width="32.04%"><p>请求连接异常，常见于网络状况不稳定。</p> </td> <td class="cellrowborder" width="38.61%"><p>建议稍后重试，若仍无法解决，请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>503</p> </td> <td class="cellrowborder" width="32.04%"><p>系统流控。</p> </td> <td class="cellrowborder" width="38.61%"><p>触发系统流控，请稍后重试。</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>504</p> </td> <td class="cellrowborder" width="32.04%"><p>请求连接超时，常见于网络状况不稳定。</p> </td> <td class="cellrowborder" width="38.61%"><p>建议稍后重试，若仍无法解决，请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p> </td> </tr> <tr><td class="cellrowborder" width="29.349999999999998%"><p>590</p> </td> <td class="cellrowborder" width="32.04%"><p>服务内部错误。</p> </td> <td class="cellrowborder" width="38.61%"><p>请通过<a href="https://developer.huawei.com/consumer/cn/support/feedback/#/" target="_blank">在线提单</a>提交问题。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>