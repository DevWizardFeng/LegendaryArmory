<h1 _ngcontent-owi-c119="" class="doc-title ng-star-inserted" title="获取应用级凭证"> 获取应用级凭证 </h1>

<div _ngcontent-owi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>此接口用于获取访问token，该token相当于一个访问许可，部分接口请求时华为支付服务器会对其进行校验。</p> <div class="tiledSection"><h2 id="section4194165535516">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section4194165535516" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table><tbody><tr><th class="firstcol" id="mcps1.3.2.2.1.3.1.1" width="20%"><p>承载协议</p> </th> <td class="cellrowborder" width="80%"><p>HTTPS POST</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.2.2.1.3.2.1" width="20%"><p>接口方向</p> </th> <td class="cellrowborder" width="80%"><p>开发者服务器 -&gt; 华为云服务器</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.2.2.1.3.3.1" width="20%"><p>接口URL</p> </th> <td class="cellrowborder" width="80%"><p>https://oauth-login.cloud.huawei.com/oauth2/v3/token</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.2.2.1.3.4.1" width="20%"><p>数据格式</p> </th> <td class="cellrowborder" width="80%"><p>请求消息：Content-Type: application/x-www-form-urlencoded</p> <p>响应消息：Content-Type: application/json;charset=UTF-8</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section5998122575613">请求参数<i class="anchor-icon anchor-icon-link" anchorid="section5998122575613" tips="复制节点链接"></i></h2><p><strong>Request Header</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.3.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.5.1.3" width="15%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.3.1.5.1.4" width="50%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>Content-Type</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>取值为：application/x-www-form-urlencoded</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Request Body</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.5.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.5.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.5.1.5.1.3" width="15%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.5.1.5.1.4" width="50%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>grant_type</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>填写为“client_credentials”，表示为客户端模式。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>client_id</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>应用的OAuth 2.0客户端ID（在<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站点击“我的项目”，在项目列表中找到项目，在“项目设置 &gt; 常规”页面的“应用”区域获取“OAuth 2.0客户端ID（凭据）：Client ID”的值）</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>client_secret</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>应用的OAuth 2.0客户端ID分配的密钥（在<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html" target="_blank">AppGallery Connect</a>网站点击“我的项目”，在项目列表中找到项目，在“项目设置 &gt; 常规”页面的“应用”区域获取“OAuth 2.0客户端ID（凭据）：Client Secret”的值）</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section516353825716">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section516353825716" tips="复制节点链接"></i></h2><div _ngcontent-owi-c106="" class="highlight-div"><div _ngcontent-owi-c106="" class="highlight-div-header"><div _ngcontent-owi-c106="" class="highlight-div-header-left"><div _ngcontent-owi-c106="" class="handle-button expand-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-owi-c106="" class="highlight-div-header-right"><div _ngcontent-owi-c106="" class="handle-button ai-button"></div><div _ngcontent-owi-c106="" class="handle-button line-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-owi-c106="" class="handle-button theme-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-owi-c106="" class="handle-button copy-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-owi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li>POST /oauth2/v3/token?grant_type=client_credentials&amp;client_id=&lt;客户端ID&gt;&amp;client_secret=&lt;客户端密钥&gt; HTTP/1.1</li><li>Content-Type: application/x-www-form-urlencoded</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section077315013571">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section077315013571" tips="复制节点链接"></i></h2><p><strong>Response Header</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.3" width="15%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.5.1.4" width="50%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>Content-Type</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>取值为：application/json;charset=UTF-8</p> </td> </tr>  </tbody></table></div> </div> <p><strong>Response Body</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.1" width="17%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.2" width="13%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.3" width="13%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.4" width="56.99999999999999%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="17%"><p>token_type</p> </td> <td class="cellrowborder" width="13%"><p>是</p> </td> <td class="cellrowborder" width="13%"><p>String</p> </td> <td class="cellrowborder" width="56.99999999999999%"><p>固定字符串“Bearer”。</p> </td> </tr> <tr><td class="cellrowborder" width="17%"><p>access_token</p> </td> <td class="cellrowborder" width="13%"><p>是</p> </td> <td class="cellrowborder" width="13%"><p>String</p> </td> <td class="cellrowborder" width="56.99999999999999%"><p>Access Token。应用凭据。</p> </td> </tr> <tr><td class="cellrowborder" width="17%"><p>expires_in</p> </td> <td class="cellrowborder" width="13%"><p>否</p> </td> <td class="cellrowborder" width="13%"><p>Long</p> </td> <td class="cellrowborder" width="56.99999999999999%"><p>Access Token的过期时间，以秒为单位。默认60分钟过期。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section780913497013">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section780913497013" tips="复制节点链接"></i></h2><div _ngcontent-owi-c106="" class="highlight-div"><div _ngcontent-owi-c106="" class="highlight-div-header"><div _ngcontent-owi-c106="" class="highlight-div-header-left"><div _ngcontent-owi-c106="" class="handle-button expand-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-owi-c106="" class="highlight-div-header-right"><div _ngcontent-owi-c106="" class="handle-button ai-button"></div><div _ngcontent-owi-c106="" class="handle-button line-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-owi-c106="" class="handle-button theme-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-owi-c106="" class="handle-button copy-button"><div _ngcontent-owi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-owi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> <span class="hljs-variable">OK</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>; <span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li>{</li><li>  <span class="hljs-string">"access_token"</span>: <span class="hljs-string">"&lt;返回的Access Token&gt;"</span>,</li><li>  <span class="hljs-string">"expires_in"</span>: <span class="hljs-number">3600</span>,</li><li>  <span class="hljs-string">"token_type"</span>: <span class="hljs-string">"Bearer"</span></li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>