<h1 _ngcontent-xuw-c119="" class="doc-title ng-star-inserted" title="菜单控制"> 菜单控制 </h1>

<div _ngcontent-xuw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>为组件绑定弹出式菜单，支持长按、点击或鼠标右键来触发菜单的弹出，菜单项以垂直列表形式显示。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <ul>       <li>        <p>从API version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p></li>       <li>        <p>不支持在CustomBuilder中使用bindMenu和bindContextMenu弹出多级菜单。对此，可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-menu">Menu组件</a>来实现多级菜单。</p></li>       <li>        <p>弹出菜单的文本内容不支持长按选中。</p></li>       <li>        <p>当窗口大小发生变化以及点击菜单内容区时，菜单自动隐藏。</p></li>       <li>        <p>如果绑定菜单的组件是可拖动节点且未指定bindContextMenu的preview，菜单弹出时会显示拖拽预览图，且菜单选项和预览图不会相互避让。开发者可根据使用场景设置preview或将目标节点设置为不可拖动。</p></li>       <li>        <p>从API version 12开始，菜单支持长按500ms弹出子菜单，支持按压态跟随手指移动。</p>        <ol>         <li>          <p>仅支持使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-menu">Menu组件</a>且子组件包含<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-menuitem">MenuItem</a>或<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-menuitemgroup">MenuItemGroup</a>的场景。</p></li>         <li>          <p>仅支持<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menupreviewmode11">MenuPreviewMode</a>设置为NONE的菜单。</p></li>        </ol></li>       <li>        <p>菜单最大宽度受设备所占栅格限制，即使设置宽度100%，也不会占满屏幕。</p></li>       <li>        <p>菜单绑定的组件对象销毁时，菜单消失。</p></li>       <li>        <p><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu8">bindContextMenu</a>仅支持在子窗中显示，<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindmenu">bindMenu</a>可以通过配置<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuoptions10">MenuOptions</a>中的showInSubWindow属性设置是否在子窗中显示。</p></li>      </ul>     </div></div></div>    <div class="tiledSection">     <h2 id="bindmenu" device-type="phone,2in1,tablet,wearable,tv">bindMenu<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindmenu" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindMenu(content: Array&lt;MenuElement&gt; | CustomBuilder, options?: MenuOptions): T</p>     <p>给组件绑定菜单，点击后弹出菜单。弹出的菜单项支持图标+文本排列以及自定义组件两种功能。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 20开始，该接口仅当content的入参类型为Array&lt;MenuElement&gt;时支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuelement">MenuElement</a>&gt; | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置菜单项图标和文本的数组，或者自定义组件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuoptions10">MenuOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">配置弹出菜单的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">T</td>         <td class="cellrowborder" width="50%">返回当前组件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="bindmenu11" device-type="phone,2in1,tablet,wearable,tv">bindMenu<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindmenu11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindMenu(isShow: boolean, content: Array&lt;MenuElement&gt; | CustomBuilder, options?: MenuOptions): T</p>     <p>给组件绑定菜单，菜单的显隐通过控制绑定的isShow触发。弹出的菜单项支持图标+文本排列以及自定义组件两种功能。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>从API version 20开始，该接口仅当content的入参类型为Array&lt;MenuElement&gt;时支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isShow</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>支持开发者通过状态变量控制显隐。菜单必须等待页面全部构建才能展示，因此不能在页面构建中设置为true，否则会导致显示位置及形状错误，该参数从API version 18开始支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-binding#系统组件参数双向绑定" target="_blank">!!语法</a>双向绑定变量。</p>          <p>true：弹出菜单；false：关闭菜单。</p>          <p>默认值：false</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%">Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuelement">MenuElement</a>&gt; | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">配置菜单项图标和文本的数组，或者自定义组件。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuoptions10">MenuOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">配置弹出菜单的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.4.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">T</td>         <td class="cellrowborder" width="50%">返回当前组件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="bindcontextmenu8" device-type="phone,2in1,tablet,wearable,tv">bindContextMenu<sup>8+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontextmenu8" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindContextMenu(content: CustomBuilder, responseType: ResponseType, options?: ContextMenuOptions): T</p>     <p>给组件绑定菜单，控制菜单显隐的触发方式为长按或右键点击，弹出的菜单项需自定义。若需通过代码逻辑控制菜单显隐，请使用<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu12">bindContextMenu<sup>12+</sup></a>。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>不支持在输入法类型窗口中使用bindContextMenu(默认子窗实现)，详情见输入法框架的约束与限制说明<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#createpanel10-1">createPanel</a>。</p></li>        <li>         <p>该接口不支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p></li>       </ul>      </div></div></div>     <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.8.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义菜单内容构造器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">responseType</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#responsetype8">ResponseType</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">菜单弹出条件，长按或者右键点击。不支持鼠标长按。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#contextmenuoptions10">ContextMenuOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">配置弹出菜单的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">T</td>         <td class="cellrowborder" width="50%">返回当前组件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="bindcontextmenu12" device-type="phone,2in1,tablet,wearable,tv">bindContextMenu<sup>12+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="bindcontextmenu12" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>bindContextMenu(isShown: boolean, content: CustomBuilder, options?: ContextMenuOptions): T</p>     <p>给组件绑定菜单，菜单的显隐通过控制绑定的isShown触发。</p>     <p>当isShown为true时，弹出菜单；为false时，隐藏菜单。菜单项支持自定义。</p>     <p>菜单弹出位置仅由placement设置决定，与点击位置无关。</p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>不支持在输入法类型窗口中使用bindContextMenu(默认子窗实现)，详情见输入法框架的约束与限制说明<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inputmethodengine#createpanel10-1">createPanel</a>。</p></li>        <li>         <p>该接口不支持在<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-attribute-modifier#attributemodifier">attributeModifier</a>中调用。</p></li>       </ul>      </div></div></div>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>参数：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.1" width="25%">参数名</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.2" width="25%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.3" width="25%">必填</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.10.1.5.1.4" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="25%">isShown</td>         <td class="cellrowborder" width="25%">boolean</td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">          <p>支持开发者通过状态变量控制显隐。菜单必须等待页面全部构建完成后才能展示，如果在页面构建前或构建中设置为true，可能导致显示位置及形状错误、无法正常弹出显示等问题。不支持长按触发拖拽。该参数从API version 18开始支持<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-new-binding#系统组件参数双向绑定" target="_blank">!!语法</a>双向绑定变量。</p>          <p>true：弹出菜单；false：关闭菜单。</p>          <p>默认值：false</p></td>        </tr>        <tr>         <td class="cellrowborder" width="25%">content</td>         <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="25%">是</td>         <td class="cellrowborder" width="25%">自定义菜单内容构造器。</td>        </tr>        <tr>         <td class="cellrowborder" width="25%">options</td>         <td class="cellrowborder" width="25%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#contextmenuoptions10">ContextMenuOptions</a></td>         <td class="cellrowborder" width="25%">否</td>         <td class="cellrowborder" width="25%">配置弹出菜单的参数。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>返回值：</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.6.12.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.6.12.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">T</td>         <td class="cellrowborder" width="50%">返回当前组件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="menuelement" device-type="phone,2in1,tablet,wearable,tv">MenuElement<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="menuelement" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>菜单项的图标、文本和交互信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.7.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">value</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>菜单项文本。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">icon<sup>10+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单项图标。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">enabled<sup>11+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单条目是否可进行交互。</p>          <p>true：菜单条目可以进行交互；false：菜单条目不可以进行交互。</p>          <p>默认值：true</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">action</td>         <td class="cellrowborder" width="20%">() =&gt; void</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">          <p>点击菜单项的事件回调。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">symbolIcon<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-text-style#symbolglyphmodifier12">SymbolGlyphModifier</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单项图标。通过Modifier配置菜单项图标，若同时配置symbolIcon和icon的情况下，icon图标不显示。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="menuoptions10" device-type="phone,2in1,tablet,wearable,tv">MenuOptions<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="menuoptions10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>继承自<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#contextmenuoptions10">ContextMenuOptions</a>。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.8.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">title</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcestr">ResourceStr</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单标题。</p>          <p><strong>说明：</strong></p>          <p>仅在content设置为Array&lt;<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menuelement">MenuElement</a>&gt; 时生效。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">showInSubWindow<sup>11+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>是否在子窗口显示菜单。</p>          <p>true：在子窗口显示菜单；false：不在子窗显示菜单。</p>          <p>默认值：2in1设备上为true，其他设备为false。</p>          <p><strong>说明：</strong></p>          <p>仅对2in1设备生效。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="contextmenuoptions10" device-type="phone,2in1,tablet,wearable,tv">ContextMenuOptions<sup>10+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextmenuoptions10" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>菜单项的信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">offset</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#position">Position</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单弹出位置的偏移量，不会导致菜单显示超出屏幕范围。</p>          <p>默认值：{ x: 0, y: 0 }，不支持设置百分比。</p>          <p><strong>说明：</strong></p>          <p>菜单类型为相对父组件区域弹出时，自动根据菜单位置属性 (placement)将区域的宽或高计入偏移量中。</p>          <p>offset最终取值与placement设置值的关系参见表1：同时设置offset与placement时菜单的偏移位置。</p>          <p>未设置、异常值或者undefined时按默认{ x: 0, y: 0 }处理。若传入偏移量超出屏幕范围外，则会就近约束到屏幕范围内。</p>          <p>如果菜单调整了显示位置（与placement初始值主方向不一致），则偏移值 (offset) 失效。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">placement</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#placement8">Placement</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单组件优先显示的位置，当前位置显示不下时，会自动调整位置。</p>          <p><strong>说明：</strong></p>          <p>placement值设置为undefined、null或没有设置此选项时，按未设置placement处理，当使用<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindmenu11">bindMenu</a>，按默认值：Placement.BottomLeft设置，当使用<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu8">bindContextMenu<sup>8+</sup></a>，菜单跟随点击位置弹出；当使用<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu12">bindContextMenu<sup>12+</sup></a>，按默认值：Placement.BottomLeft设置。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">enableArrow</td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>是否显示箭头。如果菜单的大小和位置不足以放置箭头时，不会显示箭头。</p>          <p>默认值：false，不显示箭头。</p>          <p><strong>说明：</strong></p>          <p>enableArrow为true时，placement未设置或者值为非法值，默认在目标物上方显示（此时菜单默认位置与接口的关系参见表3：enableArrow为true且placement未设置或者值为非法值的菜单默认位置），否则按照placement的位置优先显示。当前位置显示不下时，会自动调整位置，enableArrow为undefined时，不显示箭头。bindContextMenu从API version 10开始支持该属性；bindMenu从API version 12开始支持该属性。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">enableHoverMode<sup>18+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单组件是否响应悬停态（半折叠状态）变化，即在悬停态下是否触发避让折痕区域。</p>          <p>默认值：false，2in1设备默认为true。未设置或者值为非法值时，生效默认值。</p>          <p><strong>说明：</strong></p>          <p>1. 如果菜单的弹出位置在悬停态折痕区域，菜单组件不会响应悬停态。</p>          <p>2. 2in1设备从API version 20开始生效。</p>          <p>3. 2in1设备仅在窗口瀑布模式下生效。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">arrowOffset</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>箭头在菜单处的偏移。偏移量必须合法且转换为具体数值时大于0才会生效，另外该值生效时不会导致箭头超出菜单四周的安全距离。</p>          <p>默认值：0</p>          <p>单位：vp</p>          <p><strong>说明：</strong></p>          <p>箭头距菜单四周的安全距离为菜单圆角大小与箭头宽度的一半之和。</p>          <p>根据配置的placement来计算是在水平还是垂直方向上偏移。</p>          <p>箭头在菜单水平方向时，偏移量为箭头至最左侧箭头安全距离处的距离。箭头在菜单垂直方向时，偏移量为箭头至最上侧箭头安全距离处的距离。</p>          <p>根据配置的placement的不同，箭头展示的默认位置不同：</p>          <p>在菜单不发生避让的情况下，箭头最终位置与placement设置值的关系参见表2：同时设置arrowOffset与placement时菜单箭头的默认位置。</p>          <p>bindContextMenu从API version 10开始支持该属性；bindMenu从API version 12开始支持该属性。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">preview<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menupreviewmode11">MenuPreviewMode</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#custombuilder8">CustomBuilder</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>长按悬浮菜单或使用<a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu12">bindContextMenu<sup>12+</sup></a>显示菜单的预览内容样式，可以为目标组件的截图，也可以为用户自定义的内容。</p>          <p>默认值：MenuPreviewMode.NONE，无预览内容。</p>          <p><strong>说明：</strong></p>          <p>- 不支持responseType为ResponseType.RightClick时触发，如果responseType为ResponseType.RightClick，则不会显示预览内容。</p>          <p>- 当未设置preview参数或preview参数设置为MenuPreviewMode.NONE时，enableArrow参数生效。</p>          <p>- 当preview参数设置为MenuPreviewMode.IMAGE或CustomBuilder时，enableArrow为true时也不显示箭头。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">previewAnimationOptions<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#contextmenuanimationoptions11">ContextMenuAnimationOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>控制长按预览的显示效果。</p>          <p>默认值：{ scale: [0.95, 1.1], transition: undefined, hoverScale: undefined }。</p>          <p><strong>说明：</strong></p>          <p>倍率设置参数小于等于0时，不生效。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onAppear</td>         <td class="cellrowborder" width="20%">() =&gt; void</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单弹出后的事件回调。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onDisappear</td>         <td class="cellrowborder" width="20%">() =&gt; void</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单消失后的事件回调。</p>          <p><strong>元服务API：</strong> 从API version 11开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">aboutToAppear<sup>11+</sup></td>         <td class="cellrowborder" width="20%">() =&gt; void</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单显示动效前的事件回调。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">aboutToDisappear<sup>11+</sup></td>         <td class="cellrowborder" width="20%">() =&gt; void</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单退出动效前的事件回调。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">backgroundColor<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单背板颜色。</p>          <p>默认值：Color.Transparent。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">backgroundBlurStyle<sup>11+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background#blurstyle9">BlurStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单背板模糊材质。</p>          <p>默认值：BlurStyle.COMPONENT_ULTRA_THICK。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">transition<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单显示和退出的过渡效果。</p>          <p><strong>说明：</strong></p>          <p>菜单退出动效过程中，进行横竖屏切换，菜单会避让。二级菜单不继承自定义动效。弹出过程可以点击二级菜单，退出动效执行过程不允许点击二级菜单。</p>          <p>详细描述见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>对象说明。</p>          <p>动效曲线使用弹簧曲线，在动效退出时，由于弹簧曲线的回弹震荡，菜单消失后有较长的拖尾，使得其他事件无法响应。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">borderRadius<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#borderradiuses9">BorderRadiuses</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#localizedborderradiuses12">LocalizedBorderRadiuses</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单的边框圆角半径。</p>          <p>默认值：2in1设备上默认值8vp，其他设备上默认值20vp。</p>          <p><strong>说明：</strong></p>          <p>支持百分比。</p>          <p>当水平方向两个圆角半径之和的最大值超出菜单宽度或垂直方向两个圆角半径之和的最大值超出菜单高度时，采用菜单默认圆角半径值。</p>          <p>当设置Length类型且传参为异常值时，菜单圆角取默认值。</p>          <p>当设置BorderRadiuses或LocalizedBorderRadiuses类型且传参为异常值时，菜单默认没有圆角。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">previewBorderRadius<sup>19+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#borderradiustype19">BorderRadiusType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置预览图边框圆角半径。</p>          <p>默认值：16vp</p>          <p><strong>说明：</strong></p>          <p>当水平方向上两个圆角半径之和的最大值超过预览图的宽度，或者垂直方向上两个圆角半径之和的最大值超过预览图的高度时，应采用预览图所能允许的最大圆角半径值。</p>          <p>圆角设置越大，圆角动画变化越快。</p>          <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">layoutRegionMargin<sup>13+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#margin">Margin</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置预览图与菜单布局时距上下左右边界的最小边距。</p>          <p><strong>说明：</strong></p>          <p>仅支持vp、px、fp、lpx、百分比。</p>          <p>当margin设置异常值或负值时，按默认值处理。</p>          <p>若preview为CustomBuilder，设置margin.left或margin.right时，预览图取消最大栅格的宽度限制。</p>          <p>注意应避免设置过大的margin导致布局区域变小，使得预览图和菜单无法正常布局。</p>          <p>当水平方向上margin之和超过布局最大宽度时，margin.left和margin.right均不生效，按默认值处理。</p>          <p>当垂直方向上margin之和超过布局最大高度时，margin.top和margin.bottom均不生效，按默认值处理。</p>          <p>边距默认值为左右边距16vp，上边距16vp, 下边距为4vp。</p>          <p><strong>元服务API：</strong> 从API version 13开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">backgroundBlurStyleOptions<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background#backgroundblurstyleoptions10对象说明">BackgroundBlurStyleOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>背景模糊效果。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">backgroundEffect<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background#backgroundeffectoptions11">BackgroundEffectOptions</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>背景效果参数。</p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hapticFeedbackMode<sup>18+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#hapticfeedbackmode18">HapticFeedbackMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单弹出时振动效果。</p>          <p>默认值：HapticFeedbackMode.DISABLED，菜单弹出时不振动。</p>          <p><strong>说明：</strong></p>          <p>只有一级菜单可配置弹出时振动效果。</p>          <p>仅当用户启用系统触感反馈且在工程的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file" target="_blank">module.json5</a>中配置requestPermissions字段开启ohos.permission.VIBRATE振动权限时，方可生效。配置如下：</p>          <p><span><img originheight="129" originwidth="379" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.60392342842513837206640317893233:50001231000000:2800:85A4DB721A6970FBAFBDEEDCC5B210644243FF88B61AF88C0E8EFD765EB45382.png" width="160" height="54.459102902374674"></span></p>          <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">outlineWidth<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#dimension10">Dimension</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#edgeoutlinewidths11对象说明">EdgeOutlineWidths</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单边框外描边宽度。</p>          <p>默认值：0vp</p>          <p><strong>说明：</strong></p>          <p>不支持百分比，若需要外描边效果outlineWidth为必填项。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">outlineColor<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#edgecolors9">EdgeColors</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单边框外描边颜色。</p>          <p><strong>说明：</strong></p>          <p>默认值：'#19ffffff'</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">mask<sup>20+</sup></td>         <td class="cellrowborder" width="20%">boolean | <a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#menumasktype20类型说明">MenuMaskType</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单是否有蒙层及蒙层样式。</p>          <p>true：有蒙层；false：没有蒙层；MenuMaskType：自定义蒙层的样式。</p>          <p>默认值：菜单有预览图时默认显示蒙层，否则不显示。</p>          <p><strong>说明：</strong></p>          <p>当设备配置不显示菜单蒙层时，该接口不生效。如当前在2in1设备上该接口不生效。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">modalMode<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#modalmode20枚举说明">ModalMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单的模态模式。</p>          <p><strong>说明：</strong></p>          <p>默认值：ModalMode.AUTO</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">anchorPosition<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#position">Position</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>通过设定水平与垂直偏移量，控制菜单相对于绑定组件左上角的弹出位置，与单独使用offset接口不同的是可以覆盖显示在绑定组件上。</p>          <p>默认值：{ x: 0, y: 0 }，不支持设置百分比。</p>          <p><strong>说明：</strong></p>          <p>1. 当菜单处于预览状态时，设定的定位偏移量将无法生效。</p>          <p>2. 预设的placement对齐参数将不再生效。</p>          <p>3. 叠加offset参数的偏移量，最终确定菜单的精确显示位置。</p>          <p>4.当水平与垂直偏移量均设为负值时，菜单以绑定组件左下角为基准点进行显示。</p>          <p>5.当水平或垂直偏移量存在负值时，组件将以绑定组件的左上角为定位基准点，通过叠加偏移量参数实现反向偏移。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onWillAppear<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#callback12">Callback&lt;void&gt;</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单显示动效前的事件回调。</p>          <p><strong>说明：</strong></p>          <p>1. 正常时序依次为：aboutToAppear&gt;&gt;onWillAppear&gt;&gt;onAppear&gt;&gt;onDidAppear&gt;&gt;aboutToDisappear&gt;&gt;onWillDisappear&gt;&gt;onDisappear&gt;&gt;onDidDisappear。</p>          <p>2. aboutToAppear是初始化时触发调用，onWillAppear是在动画执行前触发调用，onWillAppear在aboutToAppear之后执行。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onDidAppear<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#callback12">Callback&lt;void&gt;</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单弹出后的事件回调。</p>          <p><strong>说明：</strong></p>          <p>1. 正常时序依次为：aboutToAppear&gt;&gt;onWillAppear&gt;&gt;onAppear&gt;&gt;onDidAppear&gt;&gt;aboutToDisappear&gt;&gt;onWillDisappear&gt;&gt;onDisappear&gt;&gt;onDidDisappear。</p>          <p>2. 快速点击弹出，消失菜单时，存在onWillDisappear在onDidAppear前生效。</p>          <p>3. 当菜单入场动效未完成时关闭菜单，该回调不会触发。</p>          <p>4.onAppear和onDidAppear触发时机相同，onDidAppear在onAppear后生效。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onWillDisappear<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#callback12">Callback&lt;void&gt;</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单退出动效前的事件回调。</p>          <p><strong>说明：</strong></p>          <p>1. 正常时序依次为：aboutToAppear&gt;&gt;onWillAppear&gt;&gt;onAppear&gt;&gt;onDidAppear&gt;&gt;aboutToDisappear&gt;&gt;onWillDisappear&gt;&gt;onDisappear&gt;&gt;onDidDisappear。</p>          <p>2. 快速点击弹出，消失菜单时，存在onWillDisappear在onDidAppear前生效。</p>          <p>3. aboutToDisappear和onWillDisappear触发时机相同，onWillDisappear在aboutToDisappear后生效。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">onDidDisappear<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#callback12">Callback&lt;void&gt;</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>菜单消失后的事件回调。</p>          <p><strong>说明：</strong></p>          <p>1. 正常时序依次为：aboutToAppear&gt;&gt;onWillAppear&gt;&gt;onAppear&gt;&gt;onDidAppear&gt;&gt;aboutToDisappear&gt;&gt;onWillDisappear&gt;&gt;onDisappear&gt;&gt;onDidDisappear。</p>          <p>2. onDisappear和onDidDisappear触发时机相同，onDidDisappear在onDisappear后生效。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">previewScaleMode<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#previewscalemode20枚举说明">PreviewScaleMode</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>预览图缩放方式。</p>          <p>默认值：PreviewScaleMode.AUTO</p>          <p><strong>说明：</strong></p>          <p>布局空间不足时，控制预览图的缩放方式。未设置或设置undefined按照PreviewScaleMode.AUTO处理。当设置成PreviewScaleMode.CONSTANT时，如果预览图过大，剩余的空间不足以放置菜单时，菜单将重叠显示在预览图之下。</p>          <p>预览图的最大宽高不会超过预览图最大可布局区域（窗口大小减去上下左右的安全边距）。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">availableLayoutArea<sup>20+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#availablelayoutarea20枚举说明">AvailableLayoutArea</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置预览图宽高的可布局区域，预览图的百分比依据此设置计算，最终可能因安全区限制而被压缩或裁剪。</p>          <p><strong>说明：</strong></p>          <p>未设置或设置为undefined时，百分比依据窗口大小计算。若设置为AvailableLayoutArea.SAFE_AREA，预览图的可布局区域为窗口大小减去上下左右的安全边距。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>     <p><strong>表1：同时设置offset与placement时菜单的偏移位置</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.1" width="50%">placement设置的值</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.6.1.3.1.2" width="50%">菜单的偏移量说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Placement.TopLeft、Placement.Top、Placement.TopRight</td>         <td class="cellrowborder" width="50%">offset的x为正数，菜单相对组件向右进行偏移，offset的y为正数，菜单相对组件向上进行偏移。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Placement.BottomLeft、Placement.Bottom、Placement.BottomRight</td>         <td class="cellrowborder" width="50%">offset的x为正数，菜单相对组件向左进行偏移，offset的y为正数，菜单相对组件向下进行偏移。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Placement.RightTop、Placement.Right、Placement.RightBottom</td>         <td class="cellrowborder" width="50%">offset的x为正数，菜单相对组件向右进行偏移，offset的y为正数，菜单相对组件向下进行偏移。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>表2：同时设置arrowOffset与placement时菜单箭头的默认位置</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.1" width="50%">placement设置的值</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.8.1.3.1.2" width="50%">菜单箭头的位置说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">Placement.Top、Placement.Bottom</td>         <td class="cellrowborder" width="50%">箭头显示在水平方向且默认居中，且距离菜单左侧边缘距离为箭头安全距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Placement.Left、Placement.Right</td>         <td class="cellrowborder" width="50%">箭头显示在垂直方向且默认居中，且距离菜单上侧距离为箭头安全距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Placement.TopLeft、Placement.BottomLeft</td>         <td class="cellrowborder" width="50%">箭头默认显示在水平方向，且距离菜单左侧边缘距离为箭头安全距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Placement.TopRight、Placement.BottomRight</td>         <td class="cellrowborder" width="50%">箭头默认显示在水平方向，且距离菜单右侧距离为箭头安全距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Placement.LeftTop、Placement.RightTop</td>         <td class="cellrowborder" width="50%">箭头默认显示在垂直方向，且距离菜单上侧距离为箭头安全距离。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%">Placement.LeftBottom、Placement.RightBottom</td>         <td class="cellrowborder" width="50%">箭头默认显示在垂直方向，且距离菜单下侧距离为箭头安全距离。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>表3：enableArrow为true且placement未设置或者值为非法值的菜单默认位置</strong></p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.1" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.9.10.1.3.1.2" width="50%">菜单默认位置</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindmenu">bindMenu</a></td>         <td class="cellrowborder" width="50%">Placement.BottomLeft</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindmenu11">bindMenu<sup>11+</sup></a></td>         <td class="cellrowborder" width="50%">Placement.BottomLeft</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu8">bindContextMenu<sup>8+</sup></a></td>         <td class="cellrowborder" width="50%">Placement.Top</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu12">bindContextMenu<sup>12+</sup></a></td>         <td class="cellrowborder" width="50%">Placement.BottomLeft</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="menupreviewmode11" device-type="phone,2in1,tablet,wearable,tv">MenuPreviewMode<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="menupreviewmode11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>菜单的预览样式。</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.10.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">不显示预览内容。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">IMAGE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">预览内容为触发长按悬浮菜单组件的截图。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="contextmenuanimationoptions11" device-type="phone,2in1,tablet,wearable,tv">ContextMenuAnimationOptions<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="contextmenuanimationoptions11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>长按预览时显示的样式信息。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">scale</td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#animationrange11">AnimationRange</a>&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>动画开始和结束时相对预览原图缩放比例。</p>          <p>默认值：[0.95, 1.1]</p>          <p><strong>说明：</strong></p>          <p>缩放比例需要根据实际开发场景设置，建议设置值为小于预览图宽度或布局的最大限制。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">transition<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置菜单显示和退出的过渡效果。</p>          <p><strong>说明：</strong></p>          <p>在菜单退出动效过程中，横竖屏切换时，菜单会避让。二级菜单不继承自定义动效。弹出过程中可以点击二级菜单，但在退出动效执行过程中不允许点击二级菜单。</p>          <p>详细描述见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-transition-animation-component#transitioneffect10对象说明">TransitionEffect</a>对象说明。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hoverScale<sup>12+</sup></td>         <td class="cellrowborder" width="20%"><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#animationrange11">AnimationRange</a>&lt;number&gt;</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>在自定义预览图（preview为CustomBuilder类型）以及长按弹出（responseType指定为LongPress）菜单的场景下，hoverScale用于为绑定组件的截图浮起动画设置两个参数：相对于预览原图的起始与结束缩放比例。hoverScale设置后，浮起动画和预览图之间会有切换过渡动效。</p>          <p><strong>说明：</strong></p>          <p>倍率设置参数小于等于0时，不生效。</p>          <p><a href="/consumer/cn/doc/harmonyos-references/ts-universal-attributes-menu#bindcontextmenu12">bindContextMenu<sup>12+</sup></a>场景下，不生效。</p>          <p>设置transition接口时，不生效。</p>          <p>使用此接口且同时使用scale接口时，scale接口起始值不生效。</p>          <p>为保障最佳体验，最终预览图尺寸不建议小于原组件截图尺寸。当前预览动效宽高会受组件截图和自定义预览大小影响，请根据实际使用情况自行保障展示效果。</p>          <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">hoverScaleInterruption<sup>20+</sup></td>         <td class="cellrowborder" width="20%">boolean</td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>在自定义预览图（preview为CustomBuilder类型）以及长按弹出（responseType指定为LongPress）菜单的场景下，且hoverScaleInterruption为true时，在触发拖拽效果前抬起手是否允许取消预览菜单弹出。true表示允许取消预览菜单弹出，false表示不允许取消预览菜单弹出。</p>          <p>默认值：false</p>          <p><strong>说明：</strong></p>          <p>未设置hoverScale接口或设置了transition接口时，该参数不生效。长按时长不足以触发拖拽效果时抬起手，预览菜单hoverScale效果回退，预览菜单不弹出，并可触发原组件上绑定的click等手势事件。长按时长足以触发拖拽效果后抬起手，预览菜单正常弹出，并不再触发原组件上绑定的click等手势事件。</p>          <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="animationrange11" device-type="phone,2in1,tablet,wearable,tv">AnimationRange<sup>11+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="animationrange11" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type AnimationRange&lt;T&gt;=[from: T, to: T]</p>     <p>动画开始和结束时相对预览原图缩放比例。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <p><strong>元服务API：</strong> 从API version 12开始，该接口支持在元服务中使用。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%">[from: T, to: T]</td>         <td class="cellrowborder" width="50%">from表示动画开始时相对预览原图缩放比例，to表示动画结束时相对预览原图缩放比例。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="hapticfeedbackmode18" device-type="phone,2in1,tablet,wearable,tv">HapticFeedbackMode<sup>18+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="hapticfeedbackmode18" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>菜单弹出时振动效果。</p>     <p><strong>元服务API：</strong> 从API version 18开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">DISABLED</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">菜单弹出时不振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">ENABLED</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">菜单弹出时振动。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">AUTO</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">菜单振动效果跟随系统，当前为菜单有蒙层时振动。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="borderradiustype19" device-type="phone,2in1,tablet,wearable,tv">BorderRadiusType<sup>19+</sup><i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="borderradiustype19" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>type BorderRadiusType = <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#borderradiuses9">BorderRadiuses</a> | <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#localizedborderradiuses12">LocalizedBorderRadiuses</a></p>     <p>圆角类型。</p>     <p><strong>元服务API：</strong> 从API version 19开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table class="tableClass2_t">                      <tbody><tr class="firstRow">         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.1" width="50%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.14.6.1.3.1.2" width="50%">说明</th>        </tr><tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#length">Length</a></td>         <td class="cellrowborder" width="50%">长度类型，用于描述尺寸单位。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#borderradiuses9">BorderRadiuses</a></td>         <td class="cellrowborder" width="50%">圆角类型，用于描述组件边框圆角半径。</td>        </tr>        <tr>         <td class="cellrowborder" width="50%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#localizedborderradiuses12">LocalizedBorderRadiuses</a></td>         <td class="cellrowborder" width="50%">圆角类型，用于描述组件边框圆角半径。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="menumasktype20类型说明" device-type="phone,2in1,tablet,wearable,tv">MenuMaskType<sup>20+</sup>类型说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="menumasktype20类型说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>设置蒙层样式。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.1" width="20%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.2" width="20%">类型</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.3" width="20%">只读</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.4" width="20%">可选</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.5.1.6.1.5" width="20%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">color</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-types#resourcecolor">ResourceColor</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置蒙层颜色。</p>          <p>默认值：$r('sys.color.ohos_id_color_mask_thin')</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">backgroundBlurStyle</td>         <td class="cellrowborder" width="20%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-background#blurstyle9">BlurStyle</a></td>         <td class="cellrowborder" width="20%">否</td>         <td class="cellrowborder" width="20%">是</td>         <td class="cellrowborder" width="20%">          <p>设置蒙层模糊材质。</p>          <p>默认值：BlurStyle.BACKGROUND_THIN</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="modalmode20枚举说明" device-type="phone,2in1,tablet,wearable,tv">ModalMode<sup>20+</sup>枚举说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="modalmode20枚举说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>子窗菜单的模态模式。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">AUTO</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">自动模式，菜单组件在当前设备的默认行为。当前版本在所有设备上的效果等同于ModalMode.NONE。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">NONE</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">除菜单自身区域外，其他区域均可传递事件，下层控件可响应事件。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">TARGET_WINDOW</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">菜单所在应用的窗口与菜单区域不可传递事件，其他区域可传递事件。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="previewscalemode20枚举说明" device-type="phone,2in1,tablet,wearable,tv">PreviewScaleMode<sup>20+</sup>枚举说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="previewscalemode20枚举说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>预览图的缩放方式。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">AUTO</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">预览图根据<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-appendix-enums#placement8">Placement</a>自动调整预览图宽高及缩放。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">CONSTANT</td>         <td class="cellrowborder" width="33.33333333333333%">1</td>         <td class="cellrowborder" width="33.33333333333333%">预览图不缩放，大小保持不变。最终仍会受到安全区的限制而出现压缩、裁剪。</td>        </tr>        <tr>         <td class="cellrowborder" width="33.33333333333333%">MAINTAIN</td>         <td class="cellrowborder" width="33.33333333333333%">2</td>         <td class="cellrowborder" width="33.33333333333333%">预览图缩放时保持宽高比。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="availablelayoutarea20枚举说明" device-type="phone,2in1,tablet,wearable,tv">AvailableLayoutArea<sup>20+</sup>枚举说明<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="availablelayoutarea20枚举说明" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>预览图宽高设置为百分比时的参考可布局区域大小。</p>     <p><strong>元服务API：</strong> 从API version 20开始，该接口支持在元服务中使用。</p>     <p><strong>系统能力：</strong> SystemCapability.ArkUI.ArkUI.Full</p>     <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.5.1.4.1.1" width="33.33333333333333%">名称</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.5.1.4.1.2" width="33.33333333333333%">值</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.5.1.4.1.3" width="33.33333333333333%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="33.33333333333333%">SAFE_AREA</td>         <td class="cellrowborder" width="33.33333333333333%">0</td>         <td class="cellrowborder" width="33.33333333333333%">参考可布局区域大小为窗口大小减去上下左右安全边距。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="示例" device-type="phone,2in1,tablet,wearable,tv">示例<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="示例" tips="复制节点链接"></i></h2>         <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div></div>    <div class="tiledSection">     <h3 id="示例1弹出普通菜单" class="firsth2">示例1（弹出普通菜单）<i class="anchor-icon anchor-icon-link" anchorid="示例1弹出普通菜单" tips="复制节点链接"></i></h3>          <p>从API version 7开始，该示例为bindMenu通过配置MenuElement弹出普通菜单。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MenuExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'click for Menu'</span>)</li><li>        .<span class="hljs-title function_">bindMenu</span>([</li><li>          {</li><li>            <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu1'</span>,</li><li>            <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu1 select'</span>);</li><li>            }</li><li>          },</li><li>          {</li><li>            <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu2'</span>,</li><li>            <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu2 select'</span>);</li><li>            }</li><li>          },</li><li>        ])</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="231" originwidth="397" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.37279900326935554918163474110961:50001231000000:2800:98DCDD8AB1737550CFFB81859A1256C1A5DC49BBEBACA9A1D81245C3A3093E63.gif" width="397" height="231"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例2弹出自定义菜单">示例2（弹出自定义菜单）<i class="anchor-icon anchor-icon-link" anchorid="示例2弹出自定义菜单" tips="复制节点链接"></i></h3>          <p>该示例为bindMenu通过配置CustomBuilder弹出自定义菜单。同时，通过配置hapticFeedbackMode（从API version 18开始）实现弹出时的振动效果。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MenuExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">listData</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];</li><li>
</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title class_">MenuBuilder</span>() {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">ForEach</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">listData</span>, <span class="hljs-function">(<span class="hljs-params">item:<span class="hljs-built_in">number</span>, index</span>) =&gt;</span> {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Row</span>() {</li><li>            <span class="hljs-comment">// $r('app.media.icon')需要替换为开发者所需的图像资源文件。</span></li><li>            <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">"app.media.icon"</span>)).<span class="hljs-title function_">width</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">20</span>).<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">5</span> })</li><li>            <span class="hljs-title class_">Text</span>(<span class="hljs-string">`Menu<span class="hljs-subst">${index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> + <span class="hljs-number">1</span>}</span>`</span>).<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          }</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>          .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">align</span>(<span class="hljs-title class_">Alignment</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Menu<span class="hljs-subst">${index <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span> + <span class="hljs-number">1</span>}</span> Clicked!`</span>);</li><li>          })</li><li>
</li><li>          <span class="hljs-keyword">if</span> (index != <span class="hljs-variable language_">this</span>.<span class="hljs-property">listData</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {</li><li>            <span class="hljs-title class_">Divider</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>).<span class="hljs-title function_">color</span>(<span class="hljs-string">'#ccc'</span>)</li><li>          }</li><li>        }.<span class="hljs-title function_">padding</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">height</span>(<span class="hljs-number">40</span>)</li><li>      })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'click for menu'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })</li><li>        .<span class="hljs-title function_">bindMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MenuBuilder</span>, { <span class="hljs-attr">hapticFeedbackMode</span>: <span class="hljs-title class_">HapticFeedbackMode</span>.<span class="hljs-property">ENABLED</span> })</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#f0f0f0'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="291" originwidth="397" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.28939245017594687271007121978706:50001231000000:2800:D7581801FA5C6D4C193DFF442F3341FCD7D7174870A5CA71308C469184C0EE21.gif" width="397" height="291"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例3长按弹出菜单">示例3（长按弹出菜单）<i class="anchor-icon anchor-icon-link" anchorid="示例3长按弹出菜单" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置responseType.LongPress弹出菜单。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">ContextMenuExample</span> {</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title class_">MenuBuilder</span>() {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Test menu item 1'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>      <span class="hljs-title class_">Divider</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Test menu item 2'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'LongPress for menu'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>    .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MenuBuilder</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="285" originwidth="388" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.71239924980105842979112598553741:50001231000000:2800:27AE28DAAAFFA109991F93A80F716D0A2CFD70EBB75E75B354320081CF2F45E5.gif" width="388" height="285"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例4右键弹出指向型菜单">示例4（右键弹出指向型菜单）<i class="anchor-icon anchor-icon-link" anchorid="示例4右键弹出指向型菜单" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置responseType.RightClick、enableArrow弹出指向型菜单。同时，从API version 18开始通过配置hapticFeedbackMode属性实现弹出时的振动效果。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">DirectiveMenuExample</span> {</li><li>  <span class="hljs-meta">@Builder</span> <span class="hljs-title class_">MenuBuilder</span>() {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Options'</span>)</li><li>      <span class="hljs-title class_">Divider</span>().<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">color</span>(<span class="hljs-string">'#F0F0F0'</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Hide'</span>)</li><li>      <span class="hljs-title class_">Divider</span>().<span class="hljs-title function_">strokeWidth</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">margin</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">color</span>(<span class="hljs-string">'#F0F0F0'</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Exit'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">"DirectiveMenuExample"</span>)</li><li>          .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>          .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>          .<span class="hljs-title function_">height</span>(<span class="hljs-string">"25%"</span>)</li><li>          .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F0F0F0'</span>)</li><li>          .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>          .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MenuBuilder</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">RightClick</span>, {</li><li>            <span class="hljs-attr">enableArrow</span>: <span class="hljs-literal">true</span>,</li><li>            <span class="hljs-attr">placement</span>: <span class="hljs-title class_">Placement</span>.<span class="hljs-property">Bottom</span>,</li><li>            <span class="hljs-attr">hapticFeedbackMode</span>: <span class="hljs-title class_">HapticFeedbackMode</span>.<span class="hljs-property">ENABLED</span></li><li>          })</li><li>      }</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="710" originwidth="719" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.83954752920074732967611410708966:50001231000000:2800:BF83B5052DECBD6B4B5CDC51FC878D782BE3C5B07605D0F6B0632D76289184D7.png" width="719" height="710"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例5长按弹出菜单的截图预览样式">示例5（长按弹出菜单的截图预览样式）<i class="anchor-icon anchor-icon-link" anchorid="示例5长按弹出菜单的截图预览样式" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置responseType.LongPress、preview的MenuPreviewMode类型弹出菜单预览样式。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.icon')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.icon"</span>);</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'preview-image'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>            .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>,</li><li>              { <span class="hljs-attr">preview</span>: <span class="hljs-title class_">MenuPreviewMode</span>.<span class="hljs-property">IMAGE</span>,</li><li>                <span class="hljs-attr">previewAnimationOptions</span>: {<span class="hljs-attr">scale</span>: [<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>]},</li><li>              })</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#ff3df2f5"</span>)</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="489" originwidth="555" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.82732216470529393425792718200387:50001231000000:2800:DB49759B0FAD68868C46C4D1A32B9E35C8F087478D285471A78CE385DBFB6948.png" width="555" height="489"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例6长按弹出菜单的自定义预览样式">示例6（长按弹出菜单的自定义预览样式）<i class="anchor-icon anchor-icon-link" anchorid="示例6长按弹出菜单的自定义预览样式" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置responseType.LongPress、preview的CustomBuilder类型弹出菜单自定义预览样式。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.icon')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.icon"</span>);</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyPreview</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.icon'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'preview-builder'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>            .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>,</li><li>              {</li><li>                <span class="hljs-attr">preview</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyPreview</span></li><li>              })</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="313" originwidth="326" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.19005519453513737959441978658604:50001231000000:2800:91F82EF8E0195D4F07CC87433939AC5AD8A602F140CCECCF7A549909C123FB65.png" width="326" height="313"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例7设置状态变量弹出菜单">示例7（设置状态变量弹出菜单）<i class="anchor-icon anchor-icon-link" anchorid="示例7设置状态变量弹出菜单" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置isShown弹出菜单预览样式。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.icon')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.icon"</span>);</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isShown</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyPreview</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.icon'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'preview-builder'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>            .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShown</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>,</li><li>              {</li><li>                <span class="hljs-attr">preview</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyPreview</span>,</li><li>                <span class="hljs-attr">aboutToDisappear</span>: <span class="hljs-function">()=&gt;</span>{</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShown</span> = <span class="hljs-literal">false</span>;</li><li>                }</li><li>              })</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'click'</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">()=&gt;</span>{</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShown</span> = <span class="hljs-literal">true</span>;</li><li>            })</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="313" originwidth="326" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.69957528955108237485011417070369:50001231000000:2800:4D667319065D32A317487155B41371B87DA92124D1F53460CAC58B177C387F1C.png" width="326" height="313"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例8设置菜单和预览的动效">示例8（设置菜单和预览的动效）<i class="anchor-icon anchor-icon-link" anchorid="示例8设置菜单和预览的动效" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置transition，实现自定义菜单以及菜单预览时的显示和退出动效。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MenuExample</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MenuBuilder</span>() {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Menu item 1'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>      <span class="hljs-title class_">Divider</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>)</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Menu item 2'</span>)</li><li>        .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">12</span>)</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">30</span>)</li><li>        .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyPreview</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">50</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isShow</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.startIcon"</span>);</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'LongPress bindContextMenu'</span>)</li><li>        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">15</span> })</li><li>        .<span class="hljs-title function_">bindContextMenu</span>(</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">MenuBuilder</span>,</li><li>          <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>, {</li><li>          <span class="hljs-attr">transition</span>: <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">4000</span>, <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Ease</span> }).<span class="hljs-title function_">combine</span>(</li><li>            <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-number">180</span> })),</li><li>          <span class="hljs-attr">preview</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyPreview</span>,</li><li>          <span class="hljs-attr">previewAnimationOptions</span>: {</li><li>            <span class="hljs-attr">scale</span>: [<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>],</li><li>            <span class="hljs-attr">transition</span>: <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-property">OPACITY</span>.<span class="hljs-title function_">animation</span>({ <span class="hljs-attr">duration</span>: <span class="hljs-number">4000</span>, <span class="hljs-attr">curve</span>: <span class="hljs-title class_">Curve</span>.<span class="hljs-property">Ease</span> }).<span class="hljs-title function_">combine</span>(</li><li>              <span class="hljs-title class_">TransitionEffect</span>.<span class="hljs-title function_">rotate</span>({ <span class="hljs-attr">z</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">angle</span>: <span class="hljs-number">180</span> }))</li><li>          }</li><li>        })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="554" originwidth="457" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.54657521965359698767795578145710:50001231000000:2800:C4B6A11BFAE99149F4C6488B2BD343845ECB116A86500800A8DE253A41A0E33C.gif" width="457" height="554"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例9设置symbol类型图标">示例9（设置symbol类型图标）<i class="anchor-icon anchor-icon-link" anchorid="示例9设置symbol类型图标" tips="复制节点链接"></i></h3>          <p>该示例为bindMenu通过配置MenuElement的symbolIcon弹出菜单。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SymbolGlyphModifier</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MenuExample</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">symbolIconModifier1</span>: <span class="hljs-title class_">SymbolGlyphModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SymbolGlyphModifier</span>($r(<span class="hljs-string">'sys.symbol.ohos_photo'</span>)).<span class="hljs-title function_">fontSize</span>(<span class="hljs-string">'24vp'</span>);</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">symbolIconModifier2</span>: <span class="hljs-title class_">SymbolGlyphModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SymbolGlyphModifier</span>($r(<span class="hljs-string">'sys.symbol.ohos_photo'</span>)).<span class="hljs-title function_">fontSize</span>(<span class="hljs-string">'24vp'</span>);</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'click for Menu'</span>)</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>    .<span class="hljs-title function_">bindMenu</span>([</li><li>      {</li><li>        <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu1'</span>,</li><li>        <span class="hljs-attr">symbolIcon</span>:<span class="hljs-variable language_">this</span>.<span class="hljs-property">symbolIconModifier1</span>,</li><li>        <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu1 select'</span>);</li><li>        }</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu2'</span>,</li><li>        <span class="hljs-attr">symbolIcon</span>:<span class="hljs-variable language_">this</span>.<span class="hljs-property">symbolIconModifier2</span>,</li><li>        <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu2 select'</span>);</li><li>        }</li><li>      },</li><li>    ])</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="229" originwidth="496" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.10670267993290606673447291588976:50001231000000:2800:2612F3B446A1FE137640938C04ED1D05F05E8D5C6FB571EAE51D04AA8B6D5734.png" width="496" height="229"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例10设置一镜到底动效">示例10（设置一镜到底动效）<i class="anchor-icon anchor-icon-link" anchorid="示例10设置一镜到底动效" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置preview中hoverScale，实现组件截图到自定义预览图的一镜到底过渡动效。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.xxx')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.app_icon"</span>);</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyPreview</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.example'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.example'</span>))</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>,</li><li>              {</li><li>                <span class="hljs-attr">preview</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyPreview</span>,</li><li>                <span class="hljs-attr">previewAnimationOptions</span>: {</li><li>                  <span class="hljs-attr">hoverScale</span>: [<span class="hljs-number">1.0</span>, <span class="hljs-number">0.95</span>]</li><li>                }</li><li>              })</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="713" originwidth="383" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.58687738922956100088245753551651:50001231000000:2800:79080D7869CA2368ADFD8A42C342CE60C028B18B36E1B38773F6FC68DF97B31F.gif" width="383" height="713"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例11自定义背景模糊效果参数">示例11（自定义背景模糊效果参数）<i class="anchor-icon anchor-icon-link" anchorid="示例11自定义背景模糊效果参数" tips="复制节点链接"></i></h3>          <p>从API version 18开始，该示例为bindMenu通过配置backgroundBlurStyleOptions，实现自定义菜单背景模糊效果。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MenuExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Stack</span>() {</li><li>      <span class="hljs-comment">// $r('app.media.bg')需要替换为开发者所需的图像资源文件。</span></li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.bg'</span>))</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'click for Menu'</span>)</li><li>          .<span class="hljs-title function_">bindMenu</span>([</li><li>            {</li><li>              <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu1'</span>,</li><li>              <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu1 select'</span>)</li><li>              }</li><li>            },</li><li>            {</li><li>              <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu2'</span>,</li><li>              <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu2 select'</span>)</li><li>              }</li><li>            },</li><li>          ],</li><li>            {</li><li>              <span class="hljs-attr">backgroundBlurStyle</span>: <span class="hljs-title class_">BlurStyle</span>.<span class="hljs-property">BACKGROUND_THIN</span>,</li><li>              <span class="hljs-attr">backgroundBlurStyleOptions</span>: {</li><li>                <span class="hljs-attr">colorMode</span>:<span class="hljs-title class_">ThemeColorMode</span>.<span class="hljs-property">LIGHT</span>,</li><li>                <span class="hljs-attr">blurOptions</span>:{<span class="hljs-attr">grayscale</span>:[<span class="hljs-number">20</span>,<span class="hljs-number">20</span>]},</li><li>                <span class="hljs-attr">policy</span>: <span class="hljs-title class_">BlurStyleActivePolicy</span>.<span class="hljs-property">ALWAYS_ACTIVE</span>,</li><li>                <span class="hljs-attr">adaptiveColor</span>: <span class="hljs-title class_">AdaptiveColor</span>.<span class="hljs-property">AVERAGE</span>,</li><li>                <span class="hljs-attr">scale</span>: <span class="hljs-number">1</span></li><li>              },</li><li>            }</li><li>          )</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="360" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.91851127131420496483736714712705:50001231000000:2800:073D6B0D1877BE381350EA3BB360635CAC437D780E249863FAE51F24878140B2.png" width="360" height="360"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例12自定义背景效果参数">示例12（自定义背景效果参数）<i class="anchor-icon anchor-icon-link" anchorid="示例12自定义背景效果参数" tips="复制节点链接"></i></h3>          <p>从API version 18开始，该示例为bindMenu通过配置backgroundEffect，实现自定义菜单背景效果。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">MenuExample</span> {</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Stack</span>() {</li><li>      <span class="hljs-comment">// $r('app.media.bg')需要替换为开发者所需的图像资源文件。</span></li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.bg'</span>))</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Text</span>(<span class="hljs-string">'click for Menu'</span>)</li><li>          .<span class="hljs-title function_">bindMenu</span>([</li><li>            {</li><li>              <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu1'</span>,</li><li>              <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu1 select'</span>);</li><li>              }</li><li>            },</li><li>            {</li><li>              <span class="hljs-attr">value</span>: <span class="hljs-string">'Menu2'</span>,</li><li>              <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle Menu2 select'</span>);</li><li>              }</li><li>            },</li><li>          ],</li><li>            {</li><li>              <span class="hljs-attr">backgroundBlurStyle</span>: <span class="hljs-title class_">BlurStyle</span>.<span class="hljs-property">BACKGROUND_THIN</span>,</li><li>              <span class="hljs-attr">backgroundEffect</span>: {</li><li>                <span class="hljs-attr">radius</span>: <span class="hljs-number">60</span>,</li><li>                <span class="hljs-attr">saturation</span>: <span class="hljs-number">10</span>,</li><li>                <span class="hljs-attr">brightness</span>: <span class="hljs-number">1</span>,</li><li>                <span class="hljs-attr">color</span>: <span class="hljs-string">'#661A1A1A'</span>,</li><li>                <span class="hljs-attr">adaptiveColor</span>: <span class="hljs-title class_">AdaptiveColor</span>.<span class="hljs-property">AVERAGE</span>,</li><li>                <span class="hljs-attr">blurOptions</span>:{<span class="hljs-attr">grayscale</span>:[<span class="hljs-number">20</span>,<span class="hljs-number">20</span>]}</li><li>              }</li><li>            }</li><li>          )</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="360" originwidth="360" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.97691491018645439007450137435979:50001231000000:2800:9E039EFB9F78718A671D4E6272A4509FC8D911C8865A04398B26A3AC6B321A28.png" width="360" height="360"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例13设置一镜到底动效支持抬手打断">示例13（设置一镜到底动效支持抬手打断）<i class="anchor-icon anchor-icon-link" anchorid="示例13设置一镜到底动效支持抬手打断" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置preview中hoverScale实现一镜到底过渡动效的基础上, 再配置hoverScaleInterruption（从API version 20开始）控制是否允许长按抬手取消菜单弹出。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li> <span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.xxx')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.app_icon"</span>);</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyPreview</span>() {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.example'</span>))</li><li>        .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.example'</span>))</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>,</li><li>              {</li><li>                <span class="hljs-attr">preview</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyPreview</span>,</li><li>                <span class="hljs-attr">previewAnimationOptions</span>: {</li><li>                  <span class="hljs-attr">hoverScale</span>: [<span class="hljs-number">1.0</span>, <span class="hljs-number">0.8</span>],</li><li>                  <span class="hljs-attr">hoverScaleInterruption</span>: <span class="hljs-literal">true</span></li><li>                }</li><li>              })</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'trigger onClick'</span>)</li><li>            })</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="499" originwidth="387" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.42340991979124945745394888110460:50001231000000:2800:F284E2FFA2A68614255D5DF342303E12FF2370569BF71BCFD828DACE92ED4347.gif" width="387" height="499"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例14设置预览图边框圆角半径">示例14（设置预览图边框圆角半径）<i class="anchor-icon anchor-icon-link" anchorid="示例14设置预览图边框圆角半径" tips="复制节点链接"></i></h3>          <p>该示例为bindContextMenu通过配置responseType.LongPress、preview的MenuPreviewMode类型弹出菜单预览样式、previewBorderRadius（从API version 19开始）设置预览图边框圆角半径。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.startIcon"</span>);</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'preview-image'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>            .<span class="hljs-title function_">bindContextMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>, <span class="hljs-title class_">ResponseType</span>.<span class="hljs-property">LongPress</span>,</li><li>              {</li><li>                <span class="hljs-attr">preview</span>: <span class="hljs-title class_">MenuPreviewMode</span>.<span class="hljs-property">IMAGE</span>,</li><li>                <span class="hljs-attr">previewBorderRadius</span>: <span class="hljs-number">50</span></li><li>              })</li><li>            .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">"#ff7fcdff"</span>)</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="392" originwidth="423" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.34977495990778514358519720048198:50001231000000:2800:EDEBFCCEEABA54B00EA37A5A74C53E54B7B54DE5A50B925693EAF676C6172C37.jpg" width="423" height="392"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例15bindmenu配置生命周期回调">示例15（bindMenu配置生命周期回调）<i class="anchor-icon anchor-icon-link" anchorid="示例15bindmenu配置生命周期回调" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例为bindMenu配置生命周期回调。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-comment">// $r('app.media.startIcon')需要替换为开发者所需的图像资源文件。</span></li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">iconStr</span>: <span class="hljs-title class_">ResourceStr</span> = $r(<span class="hljs-string">"app.media.startIcon"</span>)</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isShown</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">textColor</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">blueColor</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span></li><li>
</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">onWillAppear</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">onDidAppear</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">onWillDisappear</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">onDidDisappear</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">startIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">iconStr</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">30</span> }) {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'onWillAppear'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">onWillAppear</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">blueColor</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">textColor</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'onDidAppear'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">onDidAppear</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">blueColor</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">textColor</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'onWillDisappear'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">onWillDisappear</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">blueColor</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">textColor</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'onDidDisappear'</span>).<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">onDidDisappear</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">blueColor</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">textColor</span>)</li><li>          <span class="hljs-title class_">Button</span>(<span class="hljs-string">'click'</span>)</li><li>            .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShown</span> = <span class="hljs-literal">true</span>;</li><li>            })</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>)</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'callback'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>)</li><li>            .<span class="hljs-title function_">fontColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">textColor</span>)</li><li>            .<span class="hljs-title function_">bindMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShown</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>,</li><li>            {</li><li>              <span class="hljs-attr">onWillAppear</span>:<span class="hljs-function">() =&gt;</span> {</li><li>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"menu cycle life onWillAppear"</span>);</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onWillAppear</span> = <span class="hljs-literal">true</span>;</li><li>                },</li><li>                <span class="hljs-attr">onDidAppear</span>:<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"menu cycle life onDidAppear"</span>);</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onDidAppear</span> = <span class="hljs-literal">true</span>;</li><li>                },</li><li>                <span class="hljs-attr">onWillDisappear</span>:<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShown</span> = <span class="hljs-literal">false</span>;</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"menu cycle life onWillDisappear"</span>);</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onWillDisappear</span> = <span class="hljs-literal">true</span>;</li><li>                },</li><li>                <span class="hljs-attr">onDidDisappear</span>:<span class="hljs-function">() =&gt;</span> {</li><li>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"menu cycle life onDidDisappear"</span>);</li><li>                  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onDidDisappear</span> = <span class="hljs-literal">true</span>;</li><li>                }</li><li>            })</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="604" originwidth="511" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115809.85870786978360970637270527312521:50001231000000:2800:8E9C67BC96E2518D1FF268B0D6A5CC1907FB410C070AB11AF901F523220C7DC1.gif" width="511" height="604"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例16设置菜单蒙层">示例16（设置菜单蒙层）<i class="anchor-icon anchor-icon-link" anchorid="示例16设置菜单蒙层" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例为bindMenu通过配置mask属性设置菜单蒙层。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SymbolGlyphModifier</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">startIconModifier</span>: <span class="hljs-title class_">SymbolGlyphModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SymbolGlyphModifier</span>($r(<span class="hljs-string">'sys.symbol.ohos_star'</span>))</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">isShow</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({</li><li>        <span class="hljs-attr">symbolStartIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIconModifier</span>,</li><li>        <span class="hljs-attr">content</span>: <span class="hljs-string">"新建文件夹"</span>,</li><li>      })</li><li>      <span class="hljs-title class_">MenuItem</span>({</li><li>        <span class="hljs-attr">symbolStartIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIconModifier</span>,</li><li>        <span class="hljs-attr">content</span>: <span class="hljs-string">"排序方式"</span>,</li><li>      })</li><li>      <span class="hljs-title class_">MenuItem</span>({</li><li>        <span class="hljs-attr">symbolStartIcon</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIconModifier</span>,</li><li>        <span class="hljs-attr">content</span>: <span class="hljs-string">"查看方式"</span>,</li><li>      })</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'bindMenu'</span>)</li><li>      .<span class="hljs-title function_">position</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">80</span> })</li><li>      .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShow</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShow</span>;</li><li>      })</li><li>      .<span class="hljs-title function_">bindMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShow</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>, {</li><li>        <span class="hljs-attr">mask</span>: { <span class="hljs-attr">color</span>: <span class="hljs-string">'rgba(23,169,141,0.5)'</span>, <span class="hljs-attr">backgroundBlurStyle</span>: <span class="hljs-title class_">BlurStyle</span>.<span class="hljs-property">Thin</span> }</li><li>      })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="746" originwidth="527" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115810.17728827140712726610161669003420:50001231000000:2800:749CFA8A6125940846FE2B3F3F2D1D71B06CC2D17E07C520A84136A2AA1A2942.jpg" width="527" height="746"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例17bindmenu设置下拉菜单外描边样式">示例17（bindMenu设置下拉菜单外描边样式）<i class="anchor-icon anchor-icon-link" anchorid="示例17bindmenu设置下拉菜单外描边样式" tips="复制节点链接"></i></h3>          <p>从API version 20开始，该示例为bindMenu通过配置outlineWidth和outlineColor属性设置下拉菜单外描边样式。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MyMenu</span>() {</li><li>    <span class="hljs-title class_">Menu</span>() {</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>      <span class="hljs-title class_">MenuItem</span>({ <span class="hljs-attr">content</span>: <span class="hljs-string">"菜单选项"</span> })</li><li>    }.<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">50</span> }) {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-title class_">Column</span>() {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">'click for Menu'</span>)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>            .<span class="hljs-title function_">margin</span>(<span class="hljs-number">100</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">30</span>)</li><li>            .<span class="hljs-title function_">bindMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">MyMenu</span>,</li><li>              {</li><li>                <span class="hljs-attr">outlineWidth</span>: <span class="hljs-string">'5vp'</span>,</li><li>                <span class="hljs-attr">outlineColor</span>: <span class="hljs-title class_">Color</span>.<span class="hljs-property">Blue</span></li><li>              })</li><li>        }</li><li>      }</li><li>      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F0F2F5'</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="250" originwidth="270" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115810.35384968101607423172999808970503:50001231000000:2800:503AE0E790C3631DACAB459FC25029913E61DEBEA6B19D6CA0DD616759B5D06E.png" class="notEnlarge" width="270" height="250"></span></p>    </div>    <div class="tiledSection">     <h3 id="示例18-bindmenu传入带参数的custombuilder">示例18 （bindMenu传入带参数的CustomBuilder）<i class="anchor-icon anchor-icon-link" anchorid="示例18-bindmenu传入带参数的custombuilder" tips="复制节点链接"></i></h3>          <p>该示例通过在bindMenu中传入带参数的CustomBuilder来配置菜单的具体属性。</p>     <div _ngcontent-xuw-c106="" class="highlight-div"><div _ngcontent-xuw-c106="" class="highlight-div-header"><div _ngcontent-xuw-c106="" class="highlight-div-header-left"><div _ngcontent-xuw-c106="" class="handle-button expand-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-xuw-c106="" class="highlight-div-header-right"><div _ngcontent-xuw-c106="" class="handle-button ai-button"></div><div _ngcontent-xuw-c106="" class="handle-button line-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-xuw-c106="" class="handle-button theme-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-xuw-c106="" class="handle-button copy-button"><div _ngcontent-xuw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-xuw-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Index</span> {</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">menuItermList</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'新建'</span>, <span class="hljs-string">'历史'</span>, <span class="hljs-string">'书签'</span>, <span class="hljs-string">'设置'</span>]</li><li>
</li><li>  <span class="hljs-meta">@Builder</span></li><li>  <span class="hljs-title class_">MenuBuilder</span>(<span class="hljs-attr">itemList</span>: <span class="hljs-built_in">string</span>[]) {</li><li>    <span class="hljs-title class_">Flex</span>({ <span class="hljs-attr">direction</span>: <span class="hljs-title class_">FlexDirection</span>.<span class="hljs-property">Column</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-title class_">ItemAlign</span>.<span class="hljs-property">Center</span> }) {</li><li>      <span class="hljs-title class_">ForEach</span>(itemList, <span class="hljs-function">(<span class="hljs-params">item: <span class="hljs-built_in">string</span>, index</span>) =&gt;</span> {</li><li>        <span class="hljs-title class_">Row</span>() {</li><li>          <span class="hljs-title class_">Text</span>(item)</li><li>            .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>            .<span class="hljs-title function_">height</span>(<span class="hljs-number">32</span>)</li><li>            .<span class="hljs-title function_">fontWeight</span>(<span class="hljs-number">400</span>)</li><li>            .<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">14</span>)</li><li>            .<span class="hljs-title function_">fontColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Black</span>)</li><li>            .<span class="hljs-title function_">textAlign</span>(<span class="hljs-title class_">TextAlign</span>.<span class="hljs-property">Center</span>)</li><li>        }</li><li>        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'handle'</span> + item + <span class="hljs-string">'Clicked!'</span>)</li><li>        })</li><li>        <span class="hljs-keyword">if</span> (index != itemList.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {</li><li>          <span class="hljs-title class_">Divider</span>().<span class="hljs-title function_">height</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'80%'</span>).<span class="hljs-title function_">color</span>(<span class="hljs-string">'#ccc'</span>)</li><li>        }</li><li>      })</li><li>    }</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-number">100</span>)</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'click for Menu'</span>)</li><li>        .<span class="hljs-title function_">bindMenu</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title class_">MenuBuilder</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">menuItermList</span>))</li><li>    }</li><li>    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    .<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#f0f0f0'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="245" originwidth="244" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115810.07696965053299908525463220507633:50001231000000:2800:3429BE5B6FD3A97116192CC433E7621CD389719461F6FD71BB9AE52DC5824C6F.gif" class="notEnlarge" width="244" height="245"></span></p>    </div>   </div>   <div></div></div>