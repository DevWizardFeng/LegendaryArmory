<h1 _ngcontent-ied-c119="" class="doc-title ng-star-inserted" title="订阅状态查询"> 订阅状态查询 </h1>

<div _ngcontent-ied-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section1950214943118">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section1950214943118" tips="复制节点链接"></i></h2>          <p>此接口用于查询自动续期订阅商品的最新状态。</p>    </div>    <div class="tiledSection">     <h2 id="section1503119153112">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section1503119153112" tips="复制节点链接"></i></h2>          <p class="msonormalindent">开发者服务器收到IAP服务端关键事件通知后，调用该接口获取订阅最新状态。</p>    </div>    <div class="tiledSection">     <h2 id="section127414615399">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section127414615399" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table>               <tbody><tr>         <th class="firstcol" id="mcps1.3.3.2.1.3.1.1" width="20%">          <p>承载协议</p></th>         <td class="cellrowborder" width="80%">          <p>HTTPS POST</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.3.2.1.3.2.1" width="20%">          <p>接口方向</p></th>         <td class="cellrowborder" width="80%">          <p>开发者服务器 -&gt; IAP服务器</p></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.3.2.1.3.3.1" width="20%">          <p>接口URL</p></th>         <td class="cellrowborder" width="80%">          <p>{rootUrl}/subscription/harmony/v1/application/subscription/status/query</p>          <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">            <p>rootUrl：具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-rest-common-statement#section11387155610549">站点信息</a>。</p>           </div></div></div></td>        </tr>        <tr>         <th class="firstcol" id="mcps1.3.3.2.1.3.4.1" width="20%">          <p>数据格式</p></th>         <td class="cellrowborder" width="80%">          <p>请求消息：Content-Type: application/json;charset=UTF-8</p>          <p>响应消息：Content-Type: application/json;charset=UTF-8</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section361874473911">请求参数<i class="anchor-icon anchor-icon-link" anchorid="section361874473911" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section2012181220153" class="firsth2">Request Header<i class="anchor-icon anchor-icon-link" anchorid="section2012181220153" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.1" width="20%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.2" width="15%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.3" width="15%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.4" width="50%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>Content-Type</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>取值为：application/json;charset=UTF-8</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>Authorization</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>认证信息，使用JWT进行鉴权，具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-jwt-description#section11166125713715">Authorization说明</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section10651203061517">Request Body<i class="anchor-icon anchor-icon-link" anchorid="section10651203061517" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.1" width="20%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.2" width="15%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.3" width="15%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.4" width="50%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>purchaseOrderId</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>具体一笔订单中对应的购买订单号ID。最大长度256。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>purchaseToken</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>商品的购买Token，发起购买和查询订单信息均会返回。最大长度256。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section21371281570">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section21371281570" tips="复制节点链接"></i></h2>          <p>更多语言及详细的代码示例，请参考<strong><a href="https://gitcode.com/HarmonyOS_Samples/iapkit-sample-serverdemo" target="_blank">IAP Kit-Sample-ServerDemo</a></strong>。</p>     <div _ngcontent-ied-c106="" class="highlight-div"><div _ngcontent-ied-c106="" class="highlight-div-header"><div _ngcontent-ied-c106="" class="highlight-div-header-left"><div _ngcontent-ied-c106="" class="handle-button expand-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ied-c106="" class="highlight-div-header-right"><div _ngcontent-ied-c106="" class="handle-button ai-button"></div><div _ngcontent-ied-c106="" class="handle-button line-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ied-c106="" class="handle-button theme-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ied-c106="" class="handle-button copy-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ied-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">POST</span> /<span class="hljs-variable">subscription</span>/<span class="hljs-variable">harmony</span>/<span class="hljs-variable">v1</span>/<span class="hljs-variable">application</span>/<span class="hljs-variable">subscription</span>/<span class="hljs-variable">status</span>/<span class="hljs-variable">query</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>;<span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li><span class="hljs-variable">Authorization</span>：<span class="hljs-variable">Bearer</span> ***.***.***</li><li><span class="hljs-variable">Accept</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span></li><li>{</li><li>  <span class="hljs-string">"purchaseToken"</span>: <span class="hljs-string">"***.*.***"</span>,</li><li>  <span class="hljs-string">"purchaseOrderId"</span>: <span class="hljs-string">"***.***"</span></li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="section514779154018">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section514779154018" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section026862131916" class="firsth2">Response Header<i class="anchor-icon anchor-icon-link" anchorid="section026862131916" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.5.1.1" width="20%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.5.1.2" width="15%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.5.1.3" width="15%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.9.2.1.5.1.4" width="50%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>Content-Type</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>取值为：application/json;charset=UTF-8</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section96323317194">Response Body<i class="anchor-icon anchor-icon-link" anchorid="section96323317194" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.1" width="20%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.2" width="15%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.3" width="15%">          <p>参数类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.10.2.1.5.1.4" width="50%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>responseCode</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>返回码。</p>          <ul>           <li>0：成功。</li>           <li>其他：失败，具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-server-error-code">错误码</a>。</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>responseMessage</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>响应描述。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>jwsSubGroupStatus</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>包含已购订阅相关状态信息的JWS格式数据。可参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-verifying-signature">对返回结果验签</a>解码验签获取相关订阅状态信息的JSON字符串，其包含的参数请参见<a href="/consumer/cn/doc/harmonyos-references/iap-query-subscription-status#section149821246171719">SubGroupStatusPayload</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section149821246171719">SubGroupStatusPayload<i class="anchor-icon anchor-icon-link" anchorid="section149821246171719" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.1" width="20%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.2" width="15%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.3" width="15%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.4" width="50%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>environment</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>环境类型。</p>          <ul>           <li>NORMAL：生产环境</li>           <li>SANDBOX：沙盒环境</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>applicationId</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>应用ID。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>packageName</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>应用包名。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>subGroupId</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>订阅组ID。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>lastSubscriptionStatus</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>Object</p></td>         <td class="cellrowborder" width="50%">          <p>订阅组中最后生效的订阅状态<a href="/consumer/cn/doc/harmonyos-references/iap-query-subscription-status#section9100101211811">SubscriptionStatus</a>，比如A切换B，B切换C，此处是C的订阅状态。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>historySubscriptionStatusList</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>List&lt;Object&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>订阅组最近生效的历史订阅状态<a href="/consumer/cn/doc/harmonyos-references/iap-query-subscription-status#section9100101211811">SubscriptionStatus</a>的列表，按订阅切换时间升序 ，最多包含10条有效订阅状态信息的记录 。</p>          <p>比如A切换B，B切换C，这里包含A，B，C三个订阅状态信息。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section9100101211811">SubscriptionStatus<i class="anchor-icon anchor-icon-link" anchorid="section9100101211811" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.1" width="20%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.2" width="15%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.3" width="15%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.4" width="50%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>subGroupGenerationId</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p id="ZH-CN_TOPIC_0000002413013976__zh-cn_topic_0000002446613081_p10186123284210">订阅组的代ID。</p>          <ul id="ZH-CN_TOPIC_0000002413013976__zh-cn_topic_0000002446613081_ul1718611324420">           <li id="zh-cn_topic_0000002446613081_li818673214213">用户切换订阅商品时，此ID不会改变。</li>           <li id="zh-cn_topic_0000002446613081_li141861032164214">订阅失效且超出<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-subscription-functions#section1656191811315" target="_blank">保留期</a>后，用户重新购买商品时，此ID会改变。</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>subscriptionId</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p id="ZH-CN_TOPIC_0000002413013976__zh-cn_topic_0000002446613081_p1263810572423">商品的订阅ID。以下场景，此ID会发生改变：</p>          <ul id="ZH-CN_TOPIC_0000002413013976__zh-cn_topic_0000002446613081_ul1639115714211">           <li id="zh-cn_topic_0000002446613081_li463995712426">用户切换订阅商品时。</li>           <li id="zh-cn_topic_0000002446613081_li663917572424">订阅失效且超出<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-subscription-functions#section1656191811315" target="_blank">保留期</a>后，用户重新购买商品时。</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>purchaseToken</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>购买token，在购买消耗型/非消耗型/非续期订阅商品场景中与具体购买订单一一对应，在订阅型商品场景中与订阅ID一一对应。最大长度256。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>status</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>订阅状态。</p>          <ul>           <li>1：生效状态</li>           <li>2：已到期</li>           <li>3：尝试扣费</li>           <li>5：撤销</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>expiresTime</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>Long</p></td>         <td class="cellrowborder" width="50%">          <p>自动续期订阅商品的过期时间，UTC时间戳，以毫秒为单位。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>lastPurchaseOrder</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>Object</p></td>         <td class="cellrowborder" width="50%">          <p>当前订阅最新的一笔购买订单。包含的参数请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-server-data-model#section1950214943118">PurchaseOrderPayload</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>recentPurchaseOrderList</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>List&lt;Object&gt;</p></td>         <td class="cellrowborder" width="50%">          <p>当前订阅最新的购买订单列表，包含续期、折算、延期等产生的购买订单。购买订单包含的参数请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-server-data-model#section1950214943118">PurchaseOrderPayload</a>。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>renewalInfo</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>Object</p></td>         <td class="cellrowborder" width="50%">          <p>当前订阅最新的未来扣费计划，包含的参数请参见<a href="/consumer/cn/doc/harmonyos-references/iap-query-subscription-status#section6346140171811">SubRenewalInfo</a>。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="section6346140171811">SubRenewalInfo<i class="anchor-icon anchor-icon-link" anchorid="section6346140171811" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table>       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.1" width="20%">          <p>参数</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.2" width="15%">          <p>是否必选</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.3" width="15%">          <p>类型</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.13.2.1.5.1.4" width="50%">          <p>说明</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" width="20%">          <p>environment</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>环境类型。</p>          <ul>           <li>NORMAL：生产环境</li>           <li>SANDBOX：沙盒环境</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>subGroupGenerationId</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p id="ZH-CN_TOPIC_0000002413013976__zh-cn_topic_0000002446613081_p10186123284210_1">订阅组的代ID。</p>          <ul id="ZH-CN_TOPIC_0000002413013976__zh-cn_topic_0000002446613081_ul1718611324420_1">           <li id="zh-cn_topic_0000002446613081_li818673214213_1">用户切换订阅商品时，此ID不会改变。</li>           <li id="zh-cn_topic_0000002446613081_li141861032164214_1">订阅失效且超出<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/iap-subscription-functions#section1656191811315" target="_blank">保留期</a>后，用户重新购买商品时，此ID会改变。</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>nextRenewPeriodProductId</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>下一个计费周期续订的商品ID。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>productId</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>当前生效的商品ID。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>autoRenewStatusCode</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>自动续期状态。</p>          <ul>           <li>0：关闭</li>           <li>1：打开</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>hasInBillingRetryPeriod</p></td>         <td class="cellrowborder" width="15%">          <p>是</p></td>         <td class="cellrowborder" width="15%">          <p>Boolean</p></td>         <td class="cellrowborder" width="50%">          <p>系统是否还在尝试扣费。</p>          <ul>           <li>true：是</li>           <li>false：否</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>priceIncreaseStatusCode</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>目前涨价状态码。</p>          <ul>           <li>1：用户暂未同意涨价</li>           <li>2：用户已同意涨价</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>offerTypeCode</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>优惠类型。</p>          <ul>           <li>1：推介促销</li>           <li>2：优惠促销</li>           <li>4：挽留促销</li>          </ul></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>offerId</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>优惠ID。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>renewalPrice</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>Long</p></td>         <td class="cellrowborder" width="50%">          <p>下期续费价格，单位：分，取消订阅场景下不返回。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>currency</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>币种，请参见<a href="https://www.iso.org/iso-4217-currency-codes.html" target="_blank">ISO 4217</a>标准。例如CNY、USD、MYR。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>renewalTime</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>Long</p></td>         <td class="cellrowborder" width="50%">          <p>续期时间，UTC时间戳，以毫秒为单位。</p></td>        </tr>        <tr>         <td class="cellrowborder" width="20%">          <p>expirationIntent</p></td>         <td class="cellrowborder" width="15%">          <p>否</p></td>         <td class="cellrowborder" width="15%">          <p>String</p></td>         <td class="cellrowborder" width="50%">          <p>订阅续期失败的原因。</p>          <ul>           <li>1：用户取消</li>           <li>2：商品无效</li>           <li>3：签约无效</li>           <li>4：扣费异常</li>           <li>5：用户不同意涨价</li>           <li>6：未知</li>           <li>7：存在未发货的订阅</li>          </ul></td>        </tr>             </tbody></table></div>     </div>     <p>响应示例</p>     <div _ngcontent-ied-c106="" class="highlight-div"><div _ngcontent-ied-c106="" class="highlight-div-header"><div _ngcontent-ied-c106="" class="highlight-div-header-left"><div _ngcontent-ied-c106="" class="handle-button expand-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ied-c106="" class="highlight-div-header-right"><div _ngcontent-ied-c106="" class="handle-button ai-button"></div><div _ngcontent-ied-c106="" class="handle-button line-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ied-c106="" class="handle-button theme-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ied-c106="" class="handle-button copy-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ied-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.2</span> <span class="hljs-number">200</span> <span class="hljs-variable">OK</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>;<span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li>{</li><li>  <span class="hljs-string">"responseCode"</span>: <span class="hljs-string">"0"</span>,</li><li>  <span class="hljs-string">"jwsSubGroupStatus"</span>: <span class="hljs-string">"***"</span></li><li>}</li></ol></pre></div></div>     <p><a href="/consumer/cn/doc/harmonyos-references/iap-query-subscription-status#section149821246171719">SubGroupStatusPayload</a>结构体示例：</p>     <div _ngcontent-ied-c106="" class="highlight-div"><div _ngcontent-ied-c106="" class="highlight-div-header"><div _ngcontent-ied-c106="" class="highlight-div-header-left"><div _ngcontent-ied-c106="" class="handle-button expand-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ied-c106="" class="highlight-div-header-right"><div _ngcontent-ied-c106="" class="handle-button ai-button"></div><div _ngcontent-ied-c106="" class="handle-button line-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ied-c106="" class="handle-button theme-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ied-c106="" class="handle-button copy-button"><div _ngcontent-ied-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ied-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>{</li><li>    <span class="hljs-string">"environment"</span>: <span class="hljs-string">"NORMAL"</span>,</li><li>    <span class="hljs-string">"applicationId"</span>: <span class="hljs-string">"10***58"</span>,</li><li>    <span class="hljs-string">"packageName"</span>: <span class="hljs-string">"demoApp"</span>,</li><li>    <span class="hljs-string">"subGroupId"</span>: <span class="hljs-string">"demoSubGroup"</span>,</li><li>    <span class="hljs-string">"lastSubscriptionStatus"</span>: {</li><li>        <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>        <span class="hljs-string">"subscriptionId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>        <span class="hljs-string">"purchaseToken"</span>: <span class="hljs-string">"***.*.***"</span>,</li><li>        <span class="hljs-string">"status"</span>: <span class="hljs-string">"5"</span>,</li><li>        <span class="hljs-string">"expiresTime"</span>: <span class="hljs-number">1721716039363</span>,</li><li>        <span class="hljs-string">"lastPurchaseOrder"</span>: {</li><li>            <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>            <span class="hljs-string">"purchaseOrderId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>            <span class="hljs-string">"subscriptionId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>            <span class="hljs-string">"purchaseToken"</span>: <span class="hljs-string">"***.*.***"</span>,</li><li>            <span class="hljs-string">"applicationId"</span>: <span class="hljs-string">"10***58"</span>,</li><li>            <span class="hljs-string">"productId"</span>: <span class="hljs-string">"demoProduct"</span>,</li><li>            <span class="hljs-string">"subGroupId"</span>: <span class="hljs-string">"demoSubGroup"</span>,</li><li>            <span class="hljs-string">"purchaseTime"</span>: <span class="hljs-number">1721082441000</span>,</li><li>            <span class="hljs-string">"duration"</span>: <span class="hljs-string">"P1W"</span>,</li><li>            <span class="hljs-string">"durationTypeCode"</span>: <span class="hljs-string">"0"</span>,</li><li>            <span class="hljs-string">"productType"</span>: <span class="hljs-string">"2"</span>,</li><li>            <span class="hljs-string">"developerPayload"</span>: <span class="hljs-string">"demoPayload"</span>,</li><li>            <span class="hljs-string">"signedTime"</span>: <span class="hljs-number">1721111398533</span>,</li><li>            <span class="hljs-string">"purchaseOrderRevocationReasonCode"</span>: <span class="hljs-string">"1"</span>,</li><li>            <span class="hljs-string">"revocationTime"</span>: <span class="hljs-number">1721111240720</span>,</li><li>            <span class="hljs-string">"offerTypeCode"</span>: <span class="hljs-string">"1"</span>,</li><li>            <span class="hljs-string">"offerId"</span>: <span class="hljs-string">"12**56"</span>,</li><li>            <span class="hljs-string">"environment"</span>: <span class="hljs-string">"NORMAL"</span>,</li><li>            <span class="hljs-string">"countryCode"</span>: <span class="hljs-string">"CN"</span>,</li><li>            <span class="hljs-string">"price"</span>: <span class="hljs-number">880</span>,</li><li>            <span class="hljs-string">"currency"</span>: <span class="hljs-string">"SGD"</span>,</li><li>            <span class="hljs-string">"finishStatus"</span>: <span class="hljs-string">"1"</span></li><li>        },</li><li>        <span class="hljs-string">"recentPurchaseOrderList"</span>: [</li><li>            {</li><li>                <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>                <span class="hljs-string">"purchaseOrderId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>                <span class="hljs-string">"subscriptionId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>                <span class="hljs-string">"purchaseToken"</span>: <span class="hljs-string">"***.*.***"</span>,</li><li>                <span class="hljs-string">"applicationId"</span>: <span class="hljs-string">"10***58"</span>,</li><li>                <span class="hljs-string">"productId"</span>: <span class="hljs-string">"demoProduct"</span>,</li><li>                <span class="hljs-string">"subGroupId"</span>: <span class="hljs-string">"demoSubGroup"</span>,</li><li>                <span class="hljs-string">"purchaseTime"</span>: <span class="hljs-number">1721082441000</span>,</li><li>                <span class="hljs-string">"duration"</span>: <span class="hljs-string">"P1W"</span>,</li><li>                <span class="hljs-string">"durationTypeCode"</span>: <span class="hljs-string">"0"</span>,</li><li>                <span class="hljs-string">"productType"</span>: <span class="hljs-string">"2"</span>,</li><li>                <span class="hljs-string">"developerPayload"</span>: <span class="hljs-string">"demoPayload"</span>,</li><li>                <span class="hljs-string">"signedTime"</span>: <span class="hljs-number">1721111398533</span>,</li><li>                <span class="hljs-string">"purchaseOrderRevocationReasonCode"</span>: <span class="hljs-string">"1"</span>,</li><li>                <span class="hljs-string">"revocationTime"</span>: <span class="hljs-number">1721111240720</span>,</li><li>                <span class="hljs-string">"offerTypeCode"</span>: <span class="hljs-string">"1"</span>,</li><li>                <span class="hljs-string">"offerId"</span>: <span class="hljs-string">"12**56"</span>,</li><li>                <span class="hljs-string">"environment"</span>: <span class="hljs-string">"NORMAL"</span>,</li><li>                <span class="hljs-string">"countryCode"</span>: <span class="hljs-string">"CN"</span>,</li><li>                <span class="hljs-string">"price"</span>: <span class="hljs-number">880</span>,</li><li>                <span class="hljs-string">"currency"</span>: <span class="hljs-string">"SGD"</span>,</li><li>                <span class="hljs-string">"finishStatus"</span>: <span class="hljs-string">"1"</span></li><li>            }</li><li>        ],</li><li>        <span class="hljs-string">"renewalInfo"</span>: {</li><li>            <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>            <span class="hljs-string">"productId"</span>: <span class="hljs-string">"demoProduct"</span>,</li><li>            <span class="hljs-string">"autoRenewStatusCode"</span>: <span class="hljs-string">"0"</span>,</li><li>            <span class="hljs-string">"hasInBillingRetryPeriod"</span>: <span class="hljs-keyword">false</span>,</li><li>            <span class="hljs-string">"environment"</span>: <span class="hljs-string">"NORMAL"</span></li><li>        }</li><li>    },</li><li>    <span class="hljs-string">"historySubscriptionStatusList"</span>: [</li><li>        {</li><li>            <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>            <span class="hljs-string">"subscriptionId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>            <span class="hljs-string">"purchaseToken"</span>: <span class="hljs-string">"***.*.***"</span>,</li><li>            <span class="hljs-string">"status"</span>: <span class="hljs-string">"5"</span>,</li><li>            <span class="hljs-string">"expiresTime"</span>: <span class="hljs-number">1721716039363</span>,</li><li>            <span class="hljs-string">"lastPurchaseOrder"</span>: {</li><li>                <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>                <span class="hljs-string">"purchaseOrderId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>                <span class="hljs-string">"subscriptionId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>                <span class="hljs-string">"purchaseToken"</span>: <span class="hljs-string">"***.*.***"</span>,</li><li>                <span class="hljs-string">"applicationId"</span>: <span class="hljs-string">"10***58"</span>,</li><li>                <span class="hljs-string">"productId"</span>: <span class="hljs-string">"demoProduct"</span>,</li><li>                <span class="hljs-string">"subGroupId"</span>: <span class="hljs-string">"demoSubGroup"</span>,</li><li>                <span class="hljs-string">"purchaseTime"</span>: <span class="hljs-number">1721082441000</span>,</li><li>                <span class="hljs-string">"duration"</span>: <span class="hljs-string">"P1W"</span>,</li><li>                <span class="hljs-string">"durationTypeCode"</span>: <span class="hljs-string">"0"</span>,</li><li>                <span class="hljs-string">"productType"</span>: <span class="hljs-string">"2"</span>,</li><li>                <span class="hljs-string">"developerPayload"</span>: <span class="hljs-string">"demoPayload"</span>,</li><li>                <span class="hljs-string">"signedTime"</span>: <span class="hljs-number">1721111398533</span>,</li><li>                <span class="hljs-string">"purchaseOrderRevocationReasonCode"</span>: <span class="hljs-string">"1"</span>,</li><li>                <span class="hljs-string">"revocationTime"</span>: <span class="hljs-number">1721111240720</span>,</li><li>                <span class="hljs-string">"offerTypeCode"</span>: <span class="hljs-string">"1"</span>,</li><li>                <span class="hljs-string">"offerId"</span>: <span class="hljs-string">"12**56"</span>,</li><li>                <span class="hljs-string">"environment"</span>: <span class="hljs-string">"NORMAL"</span>,</li><li>                <span class="hljs-string">"countryCode"</span>: <span class="hljs-string">"CN"</span>,</li><li>                <span class="hljs-string">"price"</span>: <span class="hljs-number">880</span>,</li><li>                <span class="hljs-string">"currency"</span>: <span class="hljs-string">"SGD"</span>,</li><li>                <span class="hljs-string">"finishStatus"</span>: <span class="hljs-string">"1"</span></li><li>            },</li><li>            <span class="hljs-string">"recentPurchaseOrderList"</span>: [</li><li>                {</li><li>                    <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>                    <span class="hljs-string">"purchaseOrderId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>                    <span class="hljs-string">"subscriptionId"</span>: <span class="hljs-string">"*************.********.****"</span>,</li><li>                    <span class="hljs-string">"purchaseToken"</span>: <span class="hljs-string">"***.*.***"</span>,</li><li>                    <span class="hljs-string">"applicationId"</span>: <span class="hljs-string">"10***58"</span>,</li><li>                    <span class="hljs-string">"productId"</span>: <span class="hljs-string">"demoProduct"</span>,</li><li>                    <span class="hljs-string">"subGroupId"</span>: <span class="hljs-string">"demoSubGroup"</span>,</li><li>                    <span class="hljs-string">"purchaseTime"</span>: <span class="hljs-number">1721082441000</span>,</li><li>                    <span class="hljs-string">"duration"</span>: <span class="hljs-string">"P1W"</span>,</li><li>                    <span class="hljs-string">"durationTypeCode"</span>: <span class="hljs-string">"0"</span>,</li><li>                    <span class="hljs-string">"productType"</span>: <span class="hljs-string">"2"</span>,</li><li>                    <span class="hljs-string">"developerPayload"</span>: <span class="hljs-string">"demoPayload"</span>,</li><li>                    <span class="hljs-string">"signedTime"</span>: <span class="hljs-number">1721111398533</span>,</li><li>                    <span class="hljs-string">"purchaseOrderRevocationReasonCode"</span>: <span class="hljs-string">"1"</span>,</li><li>                    <span class="hljs-string">"revocationTime"</span>: <span class="hljs-number">1721111240720</span>,</li><li>                    <span class="hljs-string">"offerTypeCode"</span>: <span class="hljs-string">"1"</span>,</li><li>                    <span class="hljs-string">"offerId"</span>: <span class="hljs-string">"12**56"</span>,</li><li>                    <span class="hljs-string">"environment"</span>: <span class="hljs-string">"NORMAL"</span>,</li><li>                    <span class="hljs-string">"countryCode"</span>: <span class="hljs-string">"CN"</span>,</li><li>                    <span class="hljs-string">"price"</span>: <span class="hljs-number">880</span>,</li><li>                    <span class="hljs-string">"currency"</span>: <span class="hljs-string">"SGD"</span>,</li><li>                    <span class="hljs-string">"finishStatus"</span>: <span class="hljs-string">"1"</span></li><li>                }</li><li>            ],</li><li>            <span class="hljs-string">"renewalInfo"</span>: {</li><li>                <span class="hljs-string">"subGroupGenerationId"</span>: <span class="hljs-string">"c0e5f80732852b92f7111b8b9ed4fbb************c842ea854dfa2da67ab9e"</span>,</li><li>                <span class="hljs-string">"productId"</span>: <span class="hljs-string">"demoProduct"</span>,</li><li>                <span class="hljs-string">"autoRenewStatusCode"</span>: <span class="hljs-string">"0"</span>,</li><li>                <span class="hljs-string">"hasInBillingRetryPeriod"</span>: <span class="hljs-keyword">false</span>,</li><li>                <span class="hljs-string">"environment"</span>: <span class="hljs-string">"NORMAL"</span></li><li>            }</li><li>        }</li><li>    ]</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>