<h1 _ngcontent-aef-c119="" class="doc-title ng-star-inserted" title="访问控制错误码"> 访问控制错误码 </h1>

<div _ngcontent-aef-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>以下仅介绍本模块特有错误码，通用错误码请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/errorcode-universal">通用错误码说明文档</a>。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="section12100001-入参错误" device-type="phone,2in1,tablet,wearable,tv">12100001 入参错误<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100001-入参错误" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Invalid Parameter. Error message: messageInfo.</p>     <p><strong>错误描述</strong></p>     <p>当入参错误时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>tokenId值为0。</li>      <li>指定的权限名为空或者权限名长度大于256。</li>      <li>请求授权/撤销权限的flag取值非法。</li>      <li>注册监听的参数检查错误。</li>      <li>指定的Context不属于当前应用。</li>      <li>请求的权限不属于同一个权限组。</li>      <li>请求的权限中存在应用未声明的权限。</li>      <li>请求的全局开关类型非法。</li>      <li>指定的权限名不是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/permissions-for-all-user" target="_blank">user_grant权限</a>。</li>      <li>指定的数组成员个数超过1024或成员均为无效值。</li>      <li>请求查看权限使用记录的起始结束时间不合法。</li>      <li>指定的权限名未在应用中声明。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>检查入参，修正参数值为有效值，有效值请参考各<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-abilityaccessctrl">接口参数说明</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section12100004-接口未配套使用" device-type="phone,2in1,tablet,wearable,tv">12100004 接口未配套使用<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100004-接口未配套使用" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The API is not used in pair with others.</p>     <p><strong>错误描述</strong></p>     <p>当接口未配套使用时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>当前接口在未配套使用的情况下，重复调用。</li>      <li>当前接口在未配套使用的情况下，单独调用。</li>     </ol>     <p><strong>处理步骤</strong></p>     <ol>      <li>检查当前接口是否有配套使用，如调用启动记录的接口后，在未调用停止记录的接口前，不可再次使用相同的入参调用启动记录接口。</li>      <li>检查当前接口是否有配套使用，如停止记录的接口需要在启动记录的接口调用之后方可调用，注销监听接口需要在注册监听接口调用之后方可调用。</li>     </ol>    </div>    <div class="tiledSection">     <h2 id="section12100005-监听器数量超过限制" device-type="phone,2in1,tablet,wearable,tv">12100005 监听器数量超过限制<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100005-监听器数量超过限制" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The number of listeners exceeds the limit.</p>     <p><strong>错误描述</strong></p>     <p>当监听器数量超过限制时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <p>该错误码表示当前监听器数量超过限制200个。</p>     <p><strong>处理步骤</strong></p>     <p>及时释放已注册的无用的监听器。</p>    </div>    <div class="tiledSection">     <h2 id="section12100007-系统服务工作异常" device-type="phone,2in1,tablet,wearable,tv">12100007 系统服务工作异常<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100007-系统服务工作异常" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The service is abnormal.</p>     <p><strong>错误描述</strong></p>     <p>当系统服务工作异常时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <ol>      <li>权限管理服务无法正常启动。</li>      <li>IPC数据读取写入失败。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>系统服务内部工作异常，请稍后重试，或者重启设备。</p>    </div>    <div class="tiledSection">     <h2 id="section12100010-存在未被处理的请求" device-type="phone,2in1,tablet,wearable,tv">12100010 存在未被处理的请求<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100010-存在未被处理的请求" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The request already exists.</p>     <p><strong>错误描述</strong></p>     <p>当存在未被处理的请求时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <p>上一次请求未被处理。</p>     <p><strong>处理步骤</strong></p>     <p>请处理完上次请求。</p>    </div>    <div class="tiledSection">     <h2 id="section12100011-输入的所有权限均已被授权" device-type="phone,2in1,tablet,wearable,tv">12100011 输入的所有权限均已被授权<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100011-输入的所有权限均已被授权" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>All permissions in the permission list have been granted.</p>     <p><strong>错误描述</strong></p>     <p>当输入的所有权限均已被授权时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <p>所有权限均已被授权。</p>     <p><strong>处理步骤</strong></p>     <p>无需处理，返回此错误码表示申请权限已被授权，不会拉起权限设置弹框。</p>    </div>    <div class="tiledSection">     <h2 id="section12100012-输入的权限中存在未被用户拒绝过的权限" device-type="phone,2in1,tablet,wearable,tv">12100012 输入的权限中存在未被用户拒绝过的权限<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100012-输入的权限中存在未被用户拒绝过的权限" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The permission list contains the permission that has not been revoked by the user.</p>     <p><strong>错误描述</strong></p>     <p>当输入的权限中存在未被用户拒绝过的权限时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <p>存在未被用户拒绝过的权限。</p>     <p><strong>处理步骤</strong></p>     <p>请先调用requestPermissionsFromUser向用户申请权限。</p>    </div>    <div class="tiledSection">     <h2 id="section12100013-全局开关已开启" device-type="phone,2in1,tablet,wearable,tv">12100013 全局开关已开启<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100013-全局开关已开启" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>The specific global switch is already open.</p>     <p><strong>错误描述</strong></p>     <p>当全局开关已开启时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <p>全局开关已开启。</p>     <p><strong>处理步骤</strong></p>     <p>无需处理，返回此错误码表示全局开关已开启，不会拉起全局开关设置弹框。</p>    </div>    <div class="tiledSection">     <h2 id="section12100014-非预期的权限" device-type="phone,2in1,tablet,wearable,tv">12100014 非预期的权限<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="section12100014-非预期的权限" tips="复制节点链接"></i></h2>          <div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p><strong>错误信息</strong></p>     <p>Unexpected permission.</p>     <p><strong>错误描述</strong></p>     <p>当输入的权限不符合使用场景时，将返回该错误码。</p>     <p><strong>可能原因</strong></p>     <ol>      <li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-abilityaccessctrl#requestpermissiononsetting12">再次拉起权限设置弹框</a>时，传入了manual_settings授权方式的权限。</li>      <li>授权或取消授权时，传入了非user_grant和manual_settings授权方式的权限。</li>     </ol>     <p><strong>处理步骤</strong></p>     <p>请确认输入的权限是否符合使用场景。</p>    </div>   </div>   <div></div></div>