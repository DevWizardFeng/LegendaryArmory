<h1 _ngcontent-psr-c119="" class="doc-title ng-star-inserted" title="返回退款审核结果"> 返回退款审核结果 </h1>

<div _ngcontent-psr-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section6569154515312">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section6569154515312" tips="复制节点链接"></i></h2><p>此接口用于开发者将退款审核结果返回给IAP服务器。</p> </div> <div class="tiledSection"><h2 id="section3341022479">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section3341022479" tips="复制节点链接"></i></h2><p>用户申请退款后，IAP服务会将退款审核信息回调给开发者服务器，开发者服务器根据退款审核信息处理退款后，调用该接口将退款审核结果告知IAP服务器。</p> </div> <div class="tiledSection"><h2 id="section20963122661013">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section20963122661013" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table><tbody><tr><th class="firstcol" id="mcps1.3.3.2.1.3.1.1" width="20%"><p>承载协议</p> </th> <td class="cellrowborder" width="80%"><p>HTTPS POST</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.2.1" width="20%"><p>接口方向</p> </th> <td class="cellrowborder" width="80%"><p>开发者服务器 -&gt; IAP服务器</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.3.1" width="20%"><p>接口URL</p> </th> <td class="cellrowborder" width="80%"><p>{rootUrl}/post-sales/harmony/v1/transactions/refund/result</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>rootUrl：具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-rest-common-statement#section11387155610549">站点信息</a>。</p> </div></div></div> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.4.1" width="20%"><p>数据格式</p> </th> <td class="cellrowborder" width="80%"><p>请求消息：Content-Type: application/json;charset=UTF-8</p> <p>响应消息：Content-Type: application/json;charset=UTF-8</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section18290165220716">请求参数<i class="anchor-icon anchor-icon-link" anchorid="section18290165220716" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section1978222671013" class="firsth2">Request Header<i class="anchor-icon anchor-icon-link" anchorid="section1978222671013" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.3" width="15%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.5.1.4" width="50%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>Content-Type</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>取值为：application/json;charset=UTF-8</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>Authorization</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>认证信息，使用JWT进行鉴权，具体请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/iap-jwt-description#section11166125713715">Authorization说明</a>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section4398518278">Request Body<i class="anchor-icon anchor-icon-link" anchorid="section4398518278" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.3" width="15%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.5.1.4" width="50%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>reviewType</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>Integer</p> </td> <td class="cellrowborder" width="50%"><p>审核结果。</p> <ul><li>1：同意退款</li><li>2：拒绝退款</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>refundBatchNo</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>退款工单号/批次号。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>remark</p> </td> <td class="cellrowborder" width="15%"><p>否</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>审核结果备注，reviewType为2时需返回拒绝理由。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>notifyTime</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>Long</p> </td> <td class="cellrowborder" width="50%"><p>通知时间，UTC时间戳，即自1970年1月1日0时起到商户通知的毫秒数。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>applicationId</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>应用ID。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>totalRefundAmount</p> </td> <td class="cellrowborder" width="15%"><p>否</p> </td> <td class="cellrowborder" width="15%"><p>Long</p> </td> <td class="cellrowborder" width="50%"><p>开发者同意的退款总金额，单位：分。reviewType为1时必填。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>currency</p> </td> <td class="cellrowborder" width="15%"><p>否</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>币种，reviewType为1时必填。</p> <ul><li>CNY：人民币</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>reviewResultList</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>List&lt;<a href="/consumer/cn/doc/harmonyos-references/iap-server-refund-return-result#section149821246171719">ReviewResult</a>&gt;</p> </td> <td class="cellrowborder" width="50%"><p>订单退款明细，开发者同意退款时，需要明确返回每笔订单退款金额，<strong>如果部分订单拒绝退款，则退款金额返回0</strong>。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section149821246171719">ReviewResult<i class="anchor-icon anchor-icon-link" anchorid="section149821246171719" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.3" width="15%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.2.1.5.1.4" width="50%"><p>说明</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>purchaseOrderId</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>订单中心订单号，按照系统通知的透传。最大长度256。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>payMoney</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>Long</p> </td> <td class="cellrowborder" width="50%"><p>订单实付金额，单位：分。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>refundMoney</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>Long</p> </td> <td class="cellrowborder" width="50%"><p>开发者同意的退款金额，单位：分。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>consumptionStatus</p> </td> <td class="cellrowborder" width="15%"><p>否</p> </td> <td class="cellrowborder" width="15%"><p>Integer</p> </td> <td class="cellrowborder" width="50%"><p>权益使用状态，可选值。</p> <ul><li>1：未使用</li><li>2：部分使用</li><li>3：全部使用</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>ratio</p> </td> <td class="cellrowborder" width="15%"><p>否</p> </td> <td class="cellrowborder" width="15%"><p>Integer</p> </td> <td class="cellrowborder" width="50%"><p>权益使用程度，百分制，取值范围：0~100。</p> <ul><li>当consumptionStatus为1时，ratio必须为0</li><li>当consumptionStatus为2时，ratio不能为0或者100</li><li>当consumptionStatus为3时，ratio必须为100</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>playTime</p> </td> <td class="cellrowborder" width="15%"><p>否</p> </td> <td class="cellrowborder" width="15%"><p>Integer</p> </td> <td class="cellrowborder" width="50%"><p>权益使用时长，可选值。</p> <ul><li>0：未知</li><li>1：0-5分钟</li><li>2：5-60分钟</li><li>3：1-6小时</li><li>4：6-24小时</li><li>5：1-4天</li><li>6：4-16天</li><li>7：16天以上</li></ul> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section165473512435">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section165473512435" tips="复制节点链接"></i></h2><div _ngcontent-psr-c106="" class="highlight-div"><div _ngcontent-psr-c106="" class="highlight-div-header"><div _ngcontent-psr-c106="" class="highlight-div-header-left"><div _ngcontent-psr-c106="" class="handle-button expand-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psr-c106="" class="highlight-div-header-right"><div _ngcontent-psr-c106="" class="handle-button ai-button"></div><div _ngcontent-psr-c106="" class="handle-button line-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psr-c106="" class="handle-button theme-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psr-c106="" class="handle-button copy-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psr-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">POST</span> /<span class="hljs-variable">post</span>-<span class="hljs-variable">sales</span>/<span class="hljs-variable">harmony</span>/<span class="hljs-variable">v1</span>/<span class="hljs-variable">transactions</span>/<span class="hljs-variable">refund</span>/<span class="hljs-variable">result</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>;<span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li><span class="hljs-variable">Authorization</span>：<span class="hljs-variable">Bearer</span> ***.***.***</li><li><span class="hljs-variable">Accept</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span></li><li>{</li><li>  <span class="hljs-string">"refundBatchNo"</span>: <span class="hljs-string">"***"</span>,</li><li>  <span class="hljs-string">"reviewType"</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-string">"notifyTime"</span>: <span class="hljs-number">1741085489609</span>,</li><li>  <span class="hljs-string">"applicationId"</span>: <span class="hljs-string">"***"</span>,</li><li>  <span class="hljs-string">"totalRefundAmount"</span>: <span class="hljs-number">1290</span>,</li><li>  <span class="hljs-string">"currency"</span>: <span class="hljs-string">"CNY"</span>,</li><li>  <span class="hljs-string">"reviewResultList"</span>: [</li><li>    {</li><li>      <span class="hljs-string">"purchaseOrderId"</span>: <span class="hljs-string">"***"</span>,</li><li>      <span class="hljs-string">"payMoney"</span>: <span class="hljs-number">1290</span>,</li><li>      <span class="hljs-string">"refundMoney"</span>: <span class="hljs-number">1290</span></li><li>    }</li><li>  ]</li><li>}</li></ol></pre></div></div> </div> <p></p> <div class="tiledSection"><h2 id="section735615489231">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section735615489231" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section9677514121315" class="firsth2">Response Header<i class="anchor-icon anchor-icon-link" anchorid="section9677514121315" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.3" width="15%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.2.1.5.1.4" width="50%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>Content-Type</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>取值为：application/json;charset=UTF-8</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h3 id="section1940173118234">Response Body<i class="anchor-icon anchor-icon-link" anchorid="section1940173118234" tips="复制节点链接"></i></h3> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.1" width="20%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.2" width="15%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.3" width="15%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.12.2.1.5.1.4" width="50%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="20%"><p>returnCode</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>返回码。</p> <ul><li>0：成功</li><li>1：参数错误</li><li>990106：无效的审核类型</li><li>990107：审核订单与申请订单不匹配</li><li>990109：超期未处理工单不允许通过API审核</li><li>990110：当前退款状态不支持审核</li></ul> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>returnDesc</p> </td> <td class="cellrowborder" width="15%"><p>是</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>响应描述。</p> </td> </tr> <tr><td class="cellrowborder" width="20%"><p>subErrCode</p> </td> <td class="cellrowborder" width="15%"><p>否</p> </td> <td class="cellrowborder" width="15%"><p>String</p> </td> <td class="cellrowborder" width="50%"><p>如果returnCode不为0，表示具体错误原因。</p> <ul><li>200：鉴权信息不通过</li><li>211：JWT格式不正确</li></ul> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section693011533393">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section693011533393" tips="复制节点链接"></i></h2><div _ngcontent-psr-c106="" class="highlight-div"><div _ngcontent-psr-c106="" class="highlight-div-header"><div _ngcontent-psr-c106="" class="highlight-div-header-left"><div _ngcontent-psr-c106="" class="handle-button expand-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-psr-c106="" class="highlight-div-header-right"><div _ngcontent-psr-c106="" class="handle-button ai-button"></div><div _ngcontent-psr-c106="" class="handle-button line-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-psr-c106="" class="handle-button theme-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-psr-c106="" class="handle-button copy-button"><div _ngcontent-psr-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-psr-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.2</span> <span class="hljs-number">200</span> <span class="hljs-variable">OK</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>;<span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li>{</li><li>  <span class="hljs-string">"returnCode"</span>: <span class="hljs-string">"0"</span>,</li><li>  <span class="hljs-string">"returnDesc"</span>: <span class="hljs-string">"success"</span></li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>