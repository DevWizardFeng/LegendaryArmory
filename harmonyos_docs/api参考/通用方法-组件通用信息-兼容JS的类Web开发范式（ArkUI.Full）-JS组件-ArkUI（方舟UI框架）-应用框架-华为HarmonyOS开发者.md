<h1 _ngcontent-spe-c119="" class="doc-title ng-star-inserted" title="通用方法"> 通用方法 </h1>

<div _ngcontent-spe-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p> 从API version 4开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p>  </div></div></div> <p>当组件通过id属性标识后，可以使用该id获取组件对象并调用相关组件方法。</p>  <div class="tiledSection"><h2 id="animate" device-type="phone,2in1,tablet,wearable,tv">animate<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="animate" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>animate( keyframes: Keyframes, options: Options)：void</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.4.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.3.4.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.4.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.3.4.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">keyframes</td> <td class="cellrowborder" width="25%">keyframes</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">设置动画样式。</td> </tr> <tr><td class="cellrowborder" width="25%">options</td> <td class="cellrowborder" width="25%">Options</td> <td class="cellrowborder" width="25%">是</td> <td class="cellrowborder" width="25%">用于设置动画属性的对象列表。具体参数说明请参见表3 Options说明。</td> </tr>  </tbody></table></div> </div> <p> <strong>表1</strong> keyframes</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.6.1.4.1.1" width="33.33333333333333%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.3.6.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.6.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">frames</td> <td class="cellrowborder" width="33.33333333333333%">Array&lt;Style&gt;</td> <td class="cellrowborder" width="33.33333333333333%">用于设置动画样式的对象列表。Style类型说明请见表2 Style类型说明。</td> </tr>  </tbody></table></div> </div> <p> <strong>表2</strong> Style类型说明</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.1" width="25%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.3" width="25%">默认值</th> <th align="left" class="cellrowborder" id="mcps1.3.3.8.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">width</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">动画执行过程中设置到组件上的宽度值。</td> </tr> <tr><td class="cellrowborder" width="25%">height</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">动画执行过程中设置到组件上的高度值。</td> </tr> <tr><td class="cellrowborder" width="25%">backgroundColor</td> <td class="cellrowborder" width="25%">&lt;color&gt;</td> <td class="cellrowborder" width="25%">none</td> <td class="cellrowborder" width="25%">动画执行过程中设置到组件上的背景颜色。</td> </tr> <tr><td class="cellrowborder" width="25%">opacity</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">1</td> <td class="cellrowborder" width="25%">设置到组件上的透明度，取值范围在0到1之间。</td> </tr> <tr><td class="cellrowborder" width="25%">backgroundPosition</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%"><p>格式为"x y"，单位为百分号或者px。</p> <p>第一个值是水平位置，第二个值是垂直位置。</p> <p>如果仅规定了一个值，另一个值为 50%。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">transformOrigin</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">'center center'</td> <td class="cellrowborder" width="25%"><p>变换对象的中心点。</p> <p>第一个参数表示x轴的值，可以设置为left、center、right、长度值或百分比值。</p> <p>第二个参数表示y轴的值，可以设置为top、center、bottom、长度值或百分比值。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">transform</td> <td class="cellrowborder" width="25%"><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-common-animation">Transform</a></td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">设置到变换对象上的类型。</td> </tr> <tr><td class="cellrowborder" width="25%">offset</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%"><p>- offset值（如果提供）必须在0.0到1.0（含）之间，并以升序排列。</p> <p>- 若仅有两帧，offset参数可省略。</p> <p>- 若超过两帧，offset必填。</p> </td> </tr>  </tbody></table></div> </div> <p> <strong>表3</strong> Options说明</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.10.1.5.1.1" width="25%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.5.1.2" width="25%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.5.1.3" width="25%">默认值</th> <th align="left" class="cellrowborder" id="mcps1.3.3.10.1.5.1.4" width="25%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">duration</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">0</td> <td class="cellrowborder" width="25%">指定当前动画的运行时长，单位毫秒。有效取值范围为[0, +∞)，小于0时取默认值。</td> </tr> <tr><td class="cellrowborder" width="25%">easing</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">linear</td> <td class="cellrowborder" width="25%">描述动画的时间曲线，支持的具体类型参数请参见表4 easing有效值。</td> </tr> <tr><td class="cellrowborder" width="25%">delay</td> <td class="cellrowborder" width="25%">number</td> <td class="cellrowborder" width="25%">0</td> <td class="cellrowborder" width="25%">设置动画执行的延迟时间，默认值表示无延迟。</td> </tr> <tr><td class="cellrowborder" width="25%">iterations</td> <td class="cellrowborder" width="25%">number | string</td> <td class="cellrowborder" width="25%">1</td> <td class="cellrowborder" width="25%">设置动画执行的次数。number表示固定次数，Infinity枚举表示无限次数播放。</td> </tr> <tr><td class="cellrowborder" width="25%">direction<sup>6+</sup></td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">normal</td> <td class="cellrowborder" width="25%"><p>指定动画的播放模式：</p> <p>normal： 动画正向循环播放；</p> <p>reverse： 动画反向循环播放；</p> <p>alternate：动画交替循环播放，奇数次正向播放，偶数次反向播放；</p> <p>alternate-reverse：动画反向交替循环播放，奇数次反向播放，偶数次正向播放。</p> </td> </tr> <tr><td class="cellrowborder" width="25%">fill</td> <td class="cellrowborder" width="25%">string</td> <td class="cellrowborder" width="25%">none</td> <td class="cellrowborder" width="25%"><p>指定动画开始和结束的状态：</p> <p>none：在动画执行之前和之后都不会应用任何样式到目标上。</p> <p>forwards：在动画结束后，目标将保留动画结束时的状态（在最后一个关键帧中定义）。</p> <p>backwards<sup>6+</sup>：动画将在animation-delay期间应用第一个关键帧中定义的值。当animation-direction为"normal"或"alternate"时应用from关键帧中的值，当animation-direction为"reverse"或"alternate-reverse"时应用to关键帧中的值。</p> <p>both：动画将遵循forwards和backwards的规则，从而在两个方向上扩展动画属性。</p> </td> </tr>  </tbody></table></div> </div> <p> <strong>表4</strong> easing有效值说明</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.12.1.3.1.1" width="50%">值</th> <th align="left" class="cellrowborder" id="mcps1.3.3.12.1.3.1.2" width="50%">描述</th> </tr><tr><td class="cellrowborder" width="50%">linear</td> <td class="cellrowborder" width="50%">动画线性变化。</td> </tr> <tr><td class="cellrowborder" width="50%">ease-in</td> <td class="cellrowborder" width="50%">动画速度先慢后快，cubic-bezier(0.42, 0.0, 1.0, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">ease-out</td> <td class="cellrowborder" width="50%">动画速度先快后慢，cubic-bezier(0.0, 0.0, 0.58, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">ease-in-out</td> <td class="cellrowborder" width="50%">动画先加速后减速，cubic-bezier(0.42, 0.0, 0.58, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">friction</td> <td class="cellrowborder" width="50%">阻尼曲线，cubic-bezier(0.2, 0.0, 0.2, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">extreme-deceleration</td> <td class="cellrowborder" width="50%">急缓曲线，cubic-bezier(0.0, 0.0, 0.0, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">sharp</td> <td class="cellrowborder" width="50%">锐利曲线，cubic-bezier(0.33, 0.0, 0.67, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">rhythm</td> <td class="cellrowborder" width="50%">节奏曲线，cubic-bezier(0.7, 0.0, 0.2, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">smooth</td> <td class="cellrowborder" width="50%">平滑曲线，cubic-bezier(0.4, 0.0, 0.4, 1.0)。</td> </tr> <tr><td class="cellrowborder" width="50%">cubic-bezier(x1, y1, x2, y2)</td> <td class="cellrowborder" width="50%">在三次贝塞尔函数中定义动画变化过程，入参的x和y值必须处于0-1之间。</td> </tr> <tr><td class="cellrowborder" width="50%">steps(number, step-position)<sup>6+</sup></td> <td class="cellrowborder" width="50%"><p>Step曲线。</p> <p>number必须设置，支持的类型为int。</p> <p>step-position参数可选，支持设置start或end，默认值为end。</p> </td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p> animation对象属性：</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.15.1.4.1.1" width="33.33333333333333%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.3.15.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.3.15.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">finished</td> <td class="cellrowborder" width="33.33333333333333%">boolean</td> <td class="cellrowborder" width="33.33333333333333%">只读，用于表示当前动画是否已播放完成。返回true时，动画播放完成。返回false时，动画没播放完成。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">pending</td> <td class="cellrowborder" width="33.33333333333333%">boolean</td> <td class="cellrowborder" width="33.33333333333333%">只读，用于表示当前动画是否处于等待其他异步操作完成的等待状态（例如启动一个延时播放的动画）。返回true时，动画处于等待状态。返回false时，动画不处于等待状态。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">playState</td> <td class="cellrowborder" width="33.33333333333333%">string</td> <td class="cellrowborder" width="33.33333333333333%"><p>可读可写，动画的执行状态：</p> <p>- idle：未执行状态，包括已结束或未开始。</p> <p>- running：动画正在运行。</p> <p>- paused：动画暂停。</p> <p>- finished：动画播放完成。</p> </td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">startTime</td> <td class="cellrowborder" width="33.33333333333333%">number</td> <td class="cellrowborder" width="33.33333333333333%">可读可写，动画播放开始的预定时间，用途类似于options参数中的delay。</td> </tr>  </tbody></table></div> </div> <p> animation对象方法：</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.17.1.4.1.1" width="33.33333333333333%">方法</th> <th align="left" class="cellrowborder" id="mcps1.3.3.17.1.4.1.2" width="33.33333333333333%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.3.17.1.4.1.3" width="33.33333333333333%">说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">play</td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">组件播放动画。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">finish</td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">组件完成动画。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">pause</td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">组件暂停动画。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">cancel</td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">组件取消动画。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">reverse</td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">组件倒播动画。</td> </tr>  </tbody></table></div> </div> <p> animation对象事件：</p>  <div class="tablenoborder"><div class="tbBox"><table class="tableClass2_t"> <tbody><tr class="firstRow"><th align="left" class="cellrowborder" id="mcps1.3.3.19.1.3.1.1" width="50%">事件</th> <th align="left" class="cellrowborder" id="mcps1.3.3.19.1.3.1.2" width="50%">说明</th> </tr><tr><td class="cellrowborder" width="50%">start<sup>6+</sup></td> <td class="cellrowborder" width="50%">动画开始事件。</td> </tr> <tr><td class="cellrowborder" width="50%">cancel</td> <td class="cellrowborder" width="50%">动画被强制取消。</td> </tr> <tr><td class="cellrowborder" width="50%">finish</td> <td class="cellrowborder" width="50%">动画播放完成。</td> </tr> <tr><td class="cellrowborder" width="50%">repeat</td> <td class="cellrowborder" width="50%">动画重播事件。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-spe-c106="" class="highlight-div"><div _ngcontent-spe-c106="" class="highlight-div-header"><div _ngcontent-spe-c106="" class="highlight-div-header-left"><div _ngcontent-spe-c106="" class="handle-button expand-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-spe-c106="" class="highlight-div-header-right"><div _ngcontent-spe-c106="" class="handle-button ai-button"></div><div _ngcontent-spe-c106="" class="handle-button line-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-spe-c106="" class="handle-button theme-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-spe-c106="" class="handle-button copy-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-spe-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"idName"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"buttonBox"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"start"</span>&gt;</span></li><li>      start</li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"cancel"</span>&gt;</span></li><li>      cancel</li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div> <div _ngcontent-spe-c106="" class="highlight-div"><div _ngcontent-spe-c106="" class="highlight-div-header"><div _ngcontent-spe-c106="" class="highlight-div-header-left"><div _ngcontent-spe-c106="" class="handle-button expand-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-spe-c106="" class="highlight-div-header-right"><div _ngcontent-spe-c106="" class="handle-button ai-button"></div><div _ngcontent-spe-c106="" class="handle-button line-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-spe-c106="" class="handle-button theme-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-spe-c106="" class="handle-button copy-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-spe-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>}</li><li><span class="hljs-selector-class">.box</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ff0000</span>;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30px</span>;</li><li>}</li><li><span class="hljs-selector-class">.buttonBox</span>{</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;</li><li>  <span class="hljs-attribute">justify-content</span>: space-between;</li><li>}</li><li><span class="hljs-selector-tag">button</span>{</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#8e8b89</span>;</li><li>  <span class="hljs-attribute">color</span>: white;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;</li><li>}</li></ol></pre></div></div> <div _ngcontent-spe-c106="" class="highlight-div"><div _ngcontent-spe-c106="" class="highlight-div-header"><div _ngcontent-spe-c106="" class="highlight-div-header-left"><div _ngcontent-spe-c106="" class="handle-button expand-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-spe-c106="" class="highlight-div-header-right"><div _ngcontent-spe-c106="" class="handle-button ai-button"></div><div _ngcontent-spe-c106="" class="handle-button line-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-spe-c106="" class="handle-button theme-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-spe-c106="" class="handle-button copy-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-spe-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>    <span class="hljs-attr">data</span>: {</li><li>        <span class="hljs-attr">animation</span>: <span class="hljs-string">''</span>,</li><li>        <span class="hljs-attr">options</span>: {},</li><li>        <span class="hljs-attr">frames</span>: {}</li><li>    },</li><li>    <span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {</li><li>            <span class="hljs-attr">duration</span>: <span class="hljs-number">1500</span>,</li><li>            <span class="hljs-attr">easing</span>: <span class="hljs-string">'friction'</span>,</li><li>            <span class="hljs-attr">delay</span>: <span class="hljs-number">500</span>,</li><li>            <span class="hljs-attr">fill</span>: <span class="hljs-string">'forwards'</span>,</li><li>            <span class="hljs-attr">iterations</span>: <span class="hljs-number">2</span>,</li><li>            <span class="hljs-attr">direction</span>: <span class="hljs-string">'normal'</span>,</li><li>        };</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">frames</span> = [</li><li>            {</li><li>                <span class="hljs-attr">transform</span>: {</li><li>                    <span class="hljs-attr">translate</span>: <span class="hljs-string">'-120px -0px'</span></li><li>                }, <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.1</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0.0</span></li><li>            },</li><li>            {</li><li>                <span class="hljs-attr">transform</span>: {</li><li>                    <span class="hljs-attr">translate</span>: <span class="hljs-string">'120px 0px'</span></li><li>                }, <span class="hljs-attr">opacity</span>: <span class="hljs-number">1.0</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">1.0</span></li><li>            }</li><li>        ];</li><li>    },</li><li>
</li><li>    <span class="hljs-title function_">start</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span> = <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'idName'</span>).<span class="hljs-title function_">animate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">frames</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>);</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">play</span>();</li><li>    },</li><li>    <span class="hljs-title function_">cancel</span>(<span class="hljs-params"></span>) {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">animation</span>.<span class="hljs-title function_">cancel</span>();</li><li>    }</li><li>}</li></ol></pre></div></div> <p><span><img originheight="276" originwidth="350" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211115824.42985858778936839009675868618131:50001231000000:2800:A6FE7FF1F1E7C661F988BA3FFA7198E1ACC2C5A1E54B49D6DE9C6A566302F28C.gif" width="350" height="276"></span></p> </div>  <div class="tiledSection"><h2 id="getboundingclientrect" device-type="phone,2in1,tablet,wearable,tv">getBoundingClientRect<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="getboundingclientrect" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>getBoundingClientRect(): &lt;Rect&gt;</p> <p>获取元素的大小及其相对于窗口的位置。</p> <p><strong>返回值：</strong></p> <p> <strong>表5</strong> Rect对象说明<sup>6+</sup></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.6.1.4.1.1" width="33.33333333333333%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.4.6.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">width</td> <td class="cellrowborder" width="33.33333333333333%">number</td> <td class="cellrowborder" width="33.33333333333333%">该元素的宽度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">height</td> <td class="cellrowborder" width="33.33333333333333%">number</td> <td class="cellrowborder" width="33.33333333333333%">该元素的高度。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">left</td> <td class="cellrowborder" width="33.33333333333333%">number</td> <td class="cellrowborder" width="33.33333333333333%">该元素左边界距离窗口的偏移。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">top</td> <td class="cellrowborder" width="33.33333333333333%">number</td> <td class="cellrowborder" width="33.33333333333333%">该元素上边界距离窗口的偏移。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-spe-c106="" class="highlight-div"><div _ngcontent-spe-c106="" class="highlight-div-header"><div _ngcontent-spe-c106="" class="highlight-div-header-left"><div _ngcontent-spe-c106="" class="handle-button expand-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-spe-c106="" class="highlight-div-header-right"><div _ngcontent-spe-c106="" class="handle-button ai-button"></div><div _ngcontent-spe-c106="" class="handle-button line-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-spe-c106="" class="handle-button theme-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-spe-c106="" class="handle-button copy-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-spe-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">var</span> rect = <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'id'</span>).<span class="hljs-title function_">getBoundingClientRect</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`current element position is <span class="hljs-subst">${rect.left}</span>, <span class="hljs-subst">${rect.top}</span>`</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="sectionobserver" device-type="phone,2in1,tablet,wearable,tv">createIntersectionObserver<i class="anchor-icon anchor-icon-device active" active-tips="隐藏支持设备" tips="显示支持设备"></i><i class="anchor-icon anchor-icon-link" anchorid="sectionobserver" tips="复制节点链接"></i></h2><div class="device-list active"><span class="support-device-pre">支持设备</span><span class="support-device-item">Phone</span><span class="support-device-item">PC/2in1</span><span class="support-device-item">Tablet</span><span class="support-device-item">TV</span><span class="support-device-item">Wearable</span></div><p>createIntersectionObserver(param?: ObserverParam): Observer</p> <p>监听元素在当前页面的可见范围。</p> <p><strong>参数：</strong></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.1" width="25%">参数名</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.2" width="25%">参数类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.3" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.5.5.1.5.1.4" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%">param</td> <td class="cellrowborder" width="25%">ObserverParam</td> <td class="cellrowborder" width="25%">-</td> <td class="cellrowborder" width="25%">获取observer的回调。</td> </tr>  </tbody></table></div> </div> <p> <strong>表6</strong> ObserverParam对象说明<sup>6+</sup></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.1" width="33.33333333333333%">属性</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.2" width="33.33333333333333%">类型</th> <th align="left" class="cellrowborder" id="mcps1.3.5.7.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">ratios</td> <td class="cellrowborder" width="33.33333333333333%">Array&lt;number&gt;</td> <td class="cellrowborder" width="33.33333333333333%">组件超出或小于范围时触发observer的回调。</td> </tr>  </tbody></table></div> </div> <p><strong>返回值：</strong></p> <p> <strong>表7</strong> Observer对象支持的方法<sup>6+</sup></p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.10.1.4.1.1" width="33.33333333333333%">方法</th> <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.4.1.2" width="33.33333333333333%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.5.10.1.4.1.3" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="33.33333333333333%">observe</td> <td class="cellrowborder" width="33.33333333333333%">callback: function</td> <td class="cellrowborder" width="33.33333333333333%">开启observer的订阅方法，超出或小于阈值时触发callback。</td> </tr> <tr><td class="cellrowborder" width="33.33333333333333%">unobserve</td> <td class="cellrowborder" width="33.33333333333333%">-</td> <td class="cellrowborder" width="33.33333333333333%">取消observer的订阅方法。</td> </tr>  </tbody></table></div> </div> <p><strong>示例：</strong></p> <div _ngcontent-spe-c106="" class="highlight-div"><div _ngcontent-spe-c106="" class="highlight-div-header"><div _ngcontent-spe-c106="" class="highlight-div-header-left"><div _ngcontent-spe-c106="" class="handle-button expand-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-spe-c106="" class="highlight-div-header-right"><div _ngcontent-spe-c106="" class="handle-button ai-button"></div><div _ngcontent-spe-c106="" class="handle-button line-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-spe-c106="" class="handle-button theme-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-spe-c106="" class="handle-button copy-button"><div _ngcontent-spe-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-spe-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">let</span> observer = <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'broad'</span>).<span class="hljs-title function_">createIntersectionObserver</span>({</li><li>  <span class="hljs-attr">ratios</span>: [<span class="hljs-number">0.2</span>, <span class="hljs-number">0.5</span>], <span class="hljs-comment">// number</span></li><li>});</li><li>
</li><li>observer.<span class="hljs-title function_">observe</span>(<span class="hljs-function">(<span class="hljs-params">isVisible, ratio</span>)=&gt;</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'this element is '</span> + isVisible + <span class="hljs-string">'ratio is '</span> + ratio)</li><li>})</li><li>
</li><li>observer.<span class="hljs-title function_">unobserve</span>()</li></ol></pre></div></div> </div> </div> <div></div></div>