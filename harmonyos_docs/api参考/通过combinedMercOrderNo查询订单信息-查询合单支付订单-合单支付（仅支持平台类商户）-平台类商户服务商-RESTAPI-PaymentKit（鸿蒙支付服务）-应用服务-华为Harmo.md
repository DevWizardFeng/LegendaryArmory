<h1 _ngcontent-aky-c119="" class="doc-title ng-star-inserted" title="通过combinedMercOrderNo查询订单信息"> 通过combinedMercOrderNo查询订单信息 </h1>

<div _ngcontent-aky-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section10267412717">功能介绍<i class="anchor-icon anchor-icon-link" anchorid="section10267412717" tips="复制节点链接"></i></h2><p>开发者可以调用此接口查询已经在华为支付创建成功的合单支付订单详细信息。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>resultCode返回“000000”表示查询支付订单成功，不代表支付订单成功，订单状态需根据orderStatus字段判断。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section266764005613">场景描述<i class="anchor-icon anchor-icon-link" anchorid="section266764005613" tips="复制节点链接"></i></h2><p>用户已完成合单支付，开发者调此接口获取合单支付订单信息。</p> </div> <div class="tiledSection"><h2 id="section0108144213416">接口原型<i class="anchor-icon anchor-icon-link" anchorid="section0108144213416" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table><tbody><tr><th class="firstcol" id="mcps1.3.3.2.1.3.1.1" width="18.18%"><p>承载协议</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>HTTPS GET</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.2.1" width="18.18%"><p>接口方向</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>开发者服务器 -&gt; 华为支付服务器</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.3.1" width="18.18%"><p>接口URL</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>https://petalpay-developer.cloud.huawei.com.cn/api/v2/partner/combined/transactions/merc-orders/{combinedMercOrderNo}</p> </td> </tr> <tr><th class="firstcol" id="mcps1.3.3.2.1.3.4.1" width="18.18%"><p>数据格式</p> </th> <td class="cellrowborder" width="81.82000000000001%"><p>请求消息：Content-Type: application/json</p> <p>响应消息：Content-Type: application/json</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section375413411591">请求参数<i class="anchor-icon anchor-icon-link" anchorid="section375413411591" tips="复制节点链接"></i></h2><div class="p"><strong>Request Header</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.1" width="16.068393160683932%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.2" width="10.32896710328967%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.3" width="8.249175082491751%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.2.1.5.1.4" width="65.35346465353464%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.068393160683932%"><p>Content-Type</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>是</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>取值为：application/json; charset=UTF-8</p> </td> </tr> <tr><td class="cellrowborder" width="16.068393160683932%"><p>PayMercAuth</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>是</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>取值为：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/payment-model#section11744172016145">PayMercAuth</a>的JSON字符串</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="p"><strong>request path</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.1" width="25%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.2" width="11.31%"><p>是否必填</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.3" width="23.73%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.3.2.1.5.1.4" width="39.96%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="25%"><p>combinedMercOrderNo</p> </td> <td class="cellrowborder" width="11.31%"><p>是</p> </td> <td class="cellrowborder" width="23.73%"><p>String</p> </td> <td class="cellrowborder" width="39.96%"><p>商户合单支付主单订单号。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div class="tiledSection"><h2 id="section4386165954814">请求示例<i class="anchor-icon anchor-icon-link" anchorid="section4386165954814" tips="复制节点链接"></i></h2><div _ngcontent-aky-c106="" class="highlight-div"><div _ngcontent-aky-c106="" class="highlight-div-header"><div _ngcontent-aky-c106="" class="highlight-div-header-left"><div _ngcontent-aky-c106="" class="handle-button expand-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aky-c106="" class="highlight-div-header-right"><div _ngcontent-aky-c106="" class="handle-button ai-button"></div><div _ngcontent-aky-c106="" class="handle-button line-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aky-c106="" class="handle-button theme-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aky-c106="" class="handle-button copy-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">GET</span> /<span class="hljs-variable">api</span>/<span class="hljs-variable">v2</span>/<span class="hljs-variable">partner</span>/<span class="hljs-variable">combined</span>/<span class="hljs-variable">transactions</span>/<span class="hljs-variable">merc</span>-<span class="hljs-variable">orders</span>/{<span class="hljs-variable">combinedMercOrderNo</span>} <span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.1</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>;<span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li><span class="hljs-variable">PayMercAuth</span>: {<span class="hljs-string">"callerId"</span>:<span class="hljs-string">"10132120***"</span>,<span class="hljs-string">"traceId"</span>:<span class="hljs-string">"202305151047578634337"</span>,<span class="hljs-string">"time"</span>:<span class="hljs-number">1684118877557</span>,<span class="hljs-string">"authId"</span>:<span class="hljs-string">"120291744647139***"</span>,<span class="hljs-string">"headerSign"</span>:<span class="hljs-string">"FB0vzUONHsvsurnKHZhc4*******************sZ3oJYeLt/4Da5n3DLXlSKYFmE="</span>,<span class="hljs-string">"bodySign"</span>:<span class="hljs-string">"DDRuPlG/QFb3OQTNHLIOaNFKnQ********************kvvni+9cVmsqHir0bRFLANqqh2zyzv4="</span>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section185011118012">响应参数<i class="anchor-icon anchor-icon-link" anchorid="section185011118012" tips="复制节点链接"></i></h2><div class="p"><strong>Response Header</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.1" width="16.068393160683932%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.2" width="10.32896710328967%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.3" width="8.249175082491751%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.2.1.5.1.4" width="65.35346465353464%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="16.068393160683932%"><p>Content-Type</p> </td> <td class="cellrowborder" width="10.32896710328967%"><p>是</p> </td> <td class="cellrowborder" width="8.249175082491751%"><p>String</p> </td> <td class="cellrowborder" width="65.35346465353464%"><p>取值为：application/json; charset=UTF-8</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="p"><strong>Response Body</strong> <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.3.2.1.5.1.1" width="23.47%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.2.1.5.1.2" width="15.310000000000002%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.2.1.5.1.3" width="21.02%"><p>参数类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.2.1.5.1.4" width="40.2%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="23.47%"><p>resultCode</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>是</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>结果码，"000000"表示成功，其他表示失败。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>resultDesc</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>是</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>结果描述。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>subCode</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>业务错误码。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>subDesc</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>业务错误描述信息。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>sign</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>是</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>签名值。用于开发者对响应报文进行防篡改验证。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>combinedSysTransOrderNo</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>华为支付合单支付交易订单号。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>combinedMercOrderNo</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>商户生成的合单支付主订单号。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>combinedAppId</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>商户申请并关联的应用id。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>orderStatus</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>是</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>订单状态。</p> <ul><li>TRX_SUCCESS：交易成功</li><li>TRX_FAILED：交易失败</li><li>TRX_APPLY：交易处理中</li><li>TRX_PROC：交易处理中</li></ul> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>payload</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p>String</p> </td> <td class="cellrowborder" width="40.2%"><p>合单商户下单时传入的预留字段，原样返回。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>subOrders</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p><span style="color: rgb(80,80,80);">List</span><span style="color: rgb(80,80,80);">&lt;</span><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/payment-model#section883324283110">SubOrderResult</a><span style="color: rgb(80,80,80);">&gt;</span></p> </td> <td class="cellrowborder" width="40.2%"><p>合单支付子订单信息。</p> </td> </tr> <tr><td class="cellrowborder" width="23.47%"><p>payer</p> </td> <td class="cellrowborder" width="15.310000000000002%"><p>否</p> </td> <td class="cellrowborder" width="21.02%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/payment-model#section796891012811">PayerOut</a></p> </td> <td class="cellrowborder" width="40.2%"><p>用户支付时客户端信息。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div class="tiledSection"><h2 id="section9471181813492">响应示例<i class="anchor-icon anchor-icon-link" anchorid="section9471181813492" tips="复制节点链接"></i></h2><div _ngcontent-aky-c106="" class="highlight-div"><div _ngcontent-aky-c106="" class="highlight-div-header"><div _ngcontent-aky-c106="" class="highlight-div-header-left"><div _ngcontent-aky-c106="" class="handle-button expand-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-aky-c106="" class="highlight-div-header-right"><div _ngcontent-aky-c106="" class="handle-button ai-button"></div><div _ngcontent-aky-c106="" class="handle-button line-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-aky-c106="" class="handle-button theme-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-aky-c106="" class="handle-button copy-button"><div _ngcontent-aky-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-aky-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">HTTP</span>/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> <span class="hljs-variable">OK</span></li><li><span class="hljs-variable">Content</span>-<span class="hljs-variable">Type</span>: <span class="hljs-title class_">application</span>/<span class="hljs-variable">json</span>; <span class="hljs-variable">charset</span>=<span class="hljs-variable">UTF</span>-<span class="hljs-number">8</span></li><li>{</li><li>    <span class="hljs-string">"resultCode"</span>: <span class="hljs-string">"000000"</span>,</li><li>    <span class="hljs-string">"resultDesc"</span>: <span class="hljs-string">"Success."</span>,</li><li>    <span class="hljs-string">"sign"</span>: <span class="hljs-string">"MEYCIQDOsSJ5gL9mcYKi9usz4I/u********************77jclylTWJOTThPxOdJs+2zsDv3sg38UY/Wy"</span>,</li><li>    <span class="hljs-string">"combinedSysTransOrderNo"</span>: <span class="hljs-string">"12407030857530004914518***"</span>,</li><li>    <span class="hljs-string">"payload"</span>: <span class="hljs-string">"example-payload"</span>,</li><li>    <span class="hljs-string">"combinedMercOrderNo"</span>: <span class="hljs-string">"czl00120240705***"</span>,</li><li>    <span class="hljs-string">"orderStatus"</span>: <span class="hljs-string">"TRX_SUCCESS"</span>,</li><li>    <span class="hljs-string">"subOrders"</span>: [</li><li>        {</li><li>            <span class="hljs-string">"sysTransOrderNo"</span>: <span class="hljs-string">"12407030857530004914518***"</span>,</li><li>            <span class="hljs-string">"mercOrderNo"</span>: <span class="hljs-string">"czl00120240705***"</span>,</li><li>            <span class="hljs-string">"orderStatus"</span>: <span class="hljs-string">"TRX_SUCCESS"</span>,</li><li>            <span class="hljs-string">"payload"</span>: <span class="hljs-string">"example-payload"</span>,</li><li>            <span class="hljs-string">"currency"</span>: <span class="hljs-string">"CNY"</span>,</li><li>            <span class="hljs-string">"totalAmount"</span>: <span class="hljs-number">40</span>,</li><li>            <span class="hljs-string">"payerAmount"</span>: <span class="hljs-number">1</span>,</li><li>            <span class="hljs-string">"paymentTools"</span>: <span class="hljs-string">"AGMT"</span></li><li>        }</li><li>    ]</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section0710276439">错误码<i class="anchor-icon anchor-icon-link" anchorid="section0710276439" tips="复制节点链接"></i></h2><p><strong>resultCode</strong>非400000的错误码请查看<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/payment-error-code-rest#section1187515498410">公共错误码说明</a>。</p>  <div class="tablenoborder"><div class="tbBox"><table><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.3.1.5.1.1" width="21.16788321167883%"><p><strong>返回码</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.3.1.5.1.2" width="25.627437256274373%"><p><strong>错误码</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.3.1.5.1.3" width="32.36676332366763%"><p><strong>错误描述</strong></p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.3.1.5.1.4" width="20.837916208379163%"><p>解决方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" width="21.16788321167883%"><p>400000</p> </td> <td class="cellrowborder" width="25.627437256274373%"><p>UNKNOW_ERROR</p> </td> <td class="cellrowborder" width="32.36676332366763%"><p>服务暂不可用，请稍后重试</p> </td> <td class="cellrowborder" width="20.837916208379163%"><p>稍后重试。</p> </td> </tr> <tr><td class="cellrowborder" width="21.16788321167883%"><p>400000</p> </td> <td class="cellrowborder" width="25.627437256274373%"><p>INVALID_ARGUMENTS</p> </td> <td class="cellrowborder" width="32.36676332366763%"><p>参数不合法</p> </td> <td class="cellrowborder" width="20.837916208379163%"><p>检查请求参数。</p> </td> </tr> <tr><td class="cellrowborder" width="21.16788321167883%"><p>400000</p> </td> <td class="cellrowborder" width="25.627437256274373%"><p>PAY_ORDER_NOT_EXIST</p> </td> <td class="cellrowborder" width="32.36676332366763%"><p>支付订单号不存在</p> </td> <td class="cellrowborder" width="20.837916208379163%"><p>检查入参订单号是否正确。</p> </td> </tr> <tr><td class="cellrowborder" width="21.16788321167883%"><p>400000</p> </td> <td class="cellrowborder" width="25.627437256274373%"><p>MERC_ORDER_NOT_EXIST</p> </td> <td class="cellrowborder" width="32.36676332366763%"><p>商户订单号不存在</p> </td> <td class="cellrowborder" width="20.837916208379163%"><p>检查入参订单号是否正确。</p> </td> </tr> <tr><td class="cellrowborder" width="21.16788321167883%"><p>400000</p> </td> <td class="cellrowborder" width="25.627437256274373%"><p>INVALID_MERCNO</p> </td> <td class="cellrowborder" width="32.36676332366763%"><p>无效商户号</p> </td> <td class="cellrowborder" width="20.837916208379163%"><p>检查入参商户号是否正确。</p> </td> </tr> <tr><td class="cellrowborder" width="21.16788321167883%"><p>400000</p> </td> <td class="cellrowborder" width="25.627437256274373%"><p>CHECK_ORDER_STATUS</p> </td> <td class="cellrowborder" width="32.36676332366763%"><p>订单状态异常</p> </td> <td class="cellrowborder" width="20.837916208379163%"><p>请检查是否使用相同订单重复下单。</p> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>