<h1 _ngcontent-hnt-c119="" class="doc-title ng-star-inserted" title="@security/specified-interface-call-chain-check"> @security/specified-interface-call-chain-check </h1>

<div _ngcontent-hnt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001945501084"><p id="ZH-CN_TOPIC_0000002478334428__p8060118">该规则旨在标识指定接口的调用链，方便接口管理，调用链最大数量为5000。</p> <div class="tiledSection"><h2 id="section118281715182614">规则配置<i class="anchor-icon anchor-icon-link" anchorid="section118281715182614" tips="复制节点链接"></i></h2><div _ngcontent-hnt-c106="" class="highlight-div"><div _ngcontent-hnt-c106="" class="highlight-div-header"><div _ngcontent-hnt-c106="" class="highlight-div-header-left"><div _ngcontent-hnt-c106="" class="handle-button expand-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hnt-c106="" class="highlight-div-header-right"><div _ngcontent-hnt-c106="" class="handle-button ai-button"></div><div _ngcontent-hnt-c106="" class="handle-button line-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hnt-c106="" class="handle-button theme-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hnt-c106="" class="handle-button copy-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478334428__screen48171616320" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// code-linter.json5</span></li><li>{</li><li>  <span class="hljs-string">"rules"</span>: {</li><li>    <span class="hljs-string">"@security/specified-interface-call-chain-check"</span>: [</li><li>      <span class="hljs-string">"suggestion"</span>,</li><li>      {</li><li>        <span class="hljs-string">"outputDirPath"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 配置输出结果的文件目录，填写文件夹绝对路径，目录不存在则新建，输出文件名为specified-interface-call-chain-check_result.txt。</span></li><li>        <span class="hljs-string">"callChainMaxLen"</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 调用链最大长度，默认为0（表示不限制）</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"selector"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 枚举：namespace/class/function/property/type（function包括函数和类方法，class包括类class、接口interface、枚举enum和结构体struct）</span></li><li>        <span class="hljs-string">"filePath"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 目标文件的绝对路径</span></li><li>        <span class="hljs-string">"namespace"</span>: [], <span class="hljs-comment">// 命名空间的名字数组，表示定义在namespace里或者检查namespace本身，嵌套则按顺序填写</span></li><li>        <span class="hljs-string">"class"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 类名，表示定义在class里边或者是检查的class本身</span></li><li>        <span class="hljs-string">"function"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 函数名</span></li><li>        <span class="hljs-string">"property"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 类属性名</span></li><li>        <span class="hljs-string">"type"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 类型别名</span></li><li>      },</li><li>      {</li><li>        <span class="hljs-string">"selector"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 枚举：namespace/class/function/property/type（function包括函数类方法）</span></li><li>        <span class="hljs-string">"filePath"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 目标文件的绝对路径</span></li><li>        <span class="hljs-string">"namespace"</span>: [], <span class="hljs-comment">// 命名空间的名字数组，表示定义在namespace里或者检查namespace本身，嵌套则按顺序填写</span></li><li>        <span class="hljs-string">"class"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 类名，表示定义在class里边或者是检查的class本身</span></li><li>        <span class="hljs-string">"function"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 函数名</span></li><li>        <span class="hljs-string">"property"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 类属性名</span></li><li>        <span class="hljs-string">"type"</span>: <span class="hljs-string">""</span>, <span class="hljs-comment">// 类型别名</span></li><li>      },</li><li>    ],</li><li>  }</li><li>}</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section11198112002912">选项<i class="anchor-icon anchor-icon-link" anchorid="section11198112002912" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334428__p1551722702315">该规则无需配置额外选项。</p> </div> <div class="tiledSection"><h2 id="section8953121019164">正例<i class="anchor-icon anchor-icon-link" anchorid="section8953121019164" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334428__p1194371004814">下文中Absolute-Path1.ets为依赖代码：</p> <div _ngcontent-hnt-c106="" class="highlight-div"><div _ngcontent-hnt-c106="" class="highlight-div-header"><div _ngcontent-hnt-c106="" class="highlight-div-header-left"><div _ngcontent-hnt-c106="" class="handle-button expand-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hnt-c106="" class="highlight-div-header-right"><div _ngcontent-hnt-c106="" class="handle-button ai-button"></div><div _ngcontent-hnt-c106="" class="handle-button line-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hnt-c106="" class="handle-button theme-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hnt-c106="" class="handle-button copy-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" id="ZH-CN_TOPIC_0000002478334428__screen136721725154812" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Absolute-Path1.ets</span></li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cls1</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">func1</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'This is func1 in cls1.'</span>);</li><li>  }</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">func2</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'This is func2 in cls1.'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334428__p1525194225219">下文中Correct.ets为正例测试代码，依赖上文中Absolute-Path1.ets：</p> <div _ngcontent-hnt-c106="" class="highlight-div"><div _ngcontent-hnt-c106="" class="highlight-div-header"><div _ngcontent-hnt-c106="" class="highlight-div-header-left"><div _ngcontent-hnt-c106="" class="handle-button expand-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hnt-c106="" class="highlight-div-header-right"><div _ngcontent-hnt-c106="" class="handle-button ai-button"></div><div _ngcontent-hnt-c106="" class="handle-button line-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hnt-c106="" class="handle-button theme-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hnt-c106="" class="handle-button copy-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" id="ZH-CN_TOPIC_0000002478334428__screen979191917510" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// Correct.ets</span></li><li>
</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Cls1</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./AbsolutePath1'</span>;</li><li><span class="hljs-keyword">let</span> testClass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cls1</span>();</li><li>testClass.<span class="hljs-title function_">func2</span>();</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section97191052164616">反例<i class="anchor-icon anchor-icon-link" anchorid="section97191052164616" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334428__p082710191527">下文中absolute-path-1.ets为依赖代码：</p> <div _ngcontent-hnt-c106="" class="highlight-div"><div _ngcontent-hnt-c106="" class="highlight-div-header"><div _ngcontent-hnt-c106="" class="highlight-div-header-left"><div _ngcontent-hnt-c106="" class="handle-button expand-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hnt-c106="" class="highlight-div-header-right"><div _ngcontent-hnt-c106="" class="handle-button ai-button"></div><div _ngcontent-hnt-c106="" class="handle-button line-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hnt-c106="" class="handle-button theme-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hnt-c106="" class="handle-button copy-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" id="ZH-CN_TOPIC_0000002478334428__screen2082761985210" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// absolute-path-1.ets</span></li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">cls1</span> {</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">func1</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'This is func1 in cls1.'</span>);</li><li>  }</li><li>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">func2</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'This is func2 in cls1.'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334428__p4828111918524">下文中incorrect.ets为反例测试代码，依赖上文中absolute-path-1.ets：</p> <div _ngcontent-hnt-c106="" class="highlight-div"><div _ngcontent-hnt-c106="" class="highlight-div-header"><div _ngcontent-hnt-c106="" class="highlight-div-header-left"><div _ngcontent-hnt-c106="" class="handle-button expand-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hnt-c106="" class="highlight-div-header-right"><div _ngcontent-hnt-c106="" class="handle-button ai-button"></div><div _ngcontent-hnt-c106="" class="handle-button line-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hnt-c106="" class="handle-button theme-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hnt-c106="" class="handle-button copy-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" id="ZH-CN_TOPIC_0000002478334428__screen5828419205211" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// incorrect.ets</span></li><li>
</li><li><span class="hljs-keyword">import</span> { cls1 } <span class="hljs-keyword">from</span> <span class="hljs-string">'./absolute-path-1'</span>;</li><li><span class="hljs-keyword">let</span> testClass = <span class="hljs-keyword">new</span> <span class="hljs-title function_">cls1</span>();</li><li>testClass.<span class="hljs-title function_">func1</span>();</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section1053810315379">规则集<i class="anchor-icon anchor-icon-link" anchorid="section1053810315379" tips="复制节点链接"></i></h2><div _ngcontent-hnt-c106="" class="highlight-div"><div _ngcontent-hnt-c106="" class="highlight-div-header"><div _ngcontent-hnt-c106="" class="highlight-div-header-left"><div _ngcontent-hnt-c106="" class="handle-button expand-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hnt-c106="" class="highlight-div-header-right"><div _ngcontent-hnt-c106="" class="handle-button ai-button"></div><div _ngcontent-hnt-c106="" class="handle-button line-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hnt-c106="" class="handle-button theme-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hnt-c106="" class="handle-button copy-button"><div _ngcontent-hnt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hnt-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-sql" id="ZH-CN_TOPIC_0000002478334428__screen109871857191218" data-highlighted="yes"><ol class="linenums"><li>plugin:<span class="hljs-variable">@security</span><span class="hljs-operator">/</span><span class="hljs-keyword">all</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334428__p6383547143715">Code Linter代码检查规则的配置指导请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-code-linter">Code Linter代码检查</a>。</p> </div> </div> <div></div></div>