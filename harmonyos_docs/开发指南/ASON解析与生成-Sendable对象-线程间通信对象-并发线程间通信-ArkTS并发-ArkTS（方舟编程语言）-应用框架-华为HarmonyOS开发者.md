<h1 _ngcontent-lcg-c119="" class="doc-title ng-star-inserted" title="ASON解析与生成"> ASON解析与生成 </h1>

<div _ngcontent-lcg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-utils-ason" target="_blank">ASON工具</a>与JS提供的JSON工具类似，JSON用于进行JS对象的序列化（stringify）、反序列化（parse）。ASON则提供了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-sendable">Sendable对象</a>的序列化、反序列化能力。使用ASON.stringify方法可将对象转换为字符串，使用ASON.parse方法可将字符串转换为Sendable对象，从而实现对象在并发任务间的高性能引用传递。</p>    <p>ASON.stringify方法还支持将Map和Set对象转换为字符串，可转换的Map和Set类型包括：Map、Set、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-collections-map" target="_blank">collections.Map</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-collections-set" target="_blank">collections.Set</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-hashmap#hashmap" target="_blank">HashMap</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-hashset#hashset" target="_blank">HashSet</a>。</p>    <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">      <p>ASON.parse默认生成的对象为Sendable对象，布局不可变，不支持增删属性。如果返回的对象需要支持增删属性，可以指定返回类型为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-arkts-collections-map" target="_blank">collections.Map</a>对象。</p>     </div></div></div>    <div class="tiledSection">     <h2 id="使用示例">使用示例<i class="anchor-icon anchor-icon-link" anchorid="使用示例" tips="复制节点链接"></i></h2>          <p>使用ASON提供的接口，对<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-sendable">Sendable对象</a>进行序列化、反序列化。</p>     <div _ngcontent-lcg-c106="" class="highlight-div"><div _ngcontent-lcg-c106="" class="highlight-div-header"><div _ngcontent-lcg-c106="" class="highlight-div-header-left"><div _ngcontent-lcg-c106="" class="handle-button expand-button"><div _ngcontent-lcg-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-lcg-c106="" class="highlight-div-header-right"><div _ngcontent-lcg-c106="" class="handle-button ai-button"></div><div _ngcontent-lcg-c106="" class="handle-button line-button"><div _ngcontent-lcg-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-lcg-c106="" class="handle-button theme-button"><div _ngcontent-lcg-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-lcg-c106="" class="handle-button copy-button"><div _ngcontent-lcg-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-lcg-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ArkTSUtils</span>, collections } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkTS'</span>;</li><li>
</li><li><span class="hljs-title class_">ArkTSUtils</span>.<span class="hljs-property">ASON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">"{}"</span>)</li><li><span class="hljs-title class_">ArkTSUtils</span>.<span class="hljs-property">ASON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-keyword">new</span> collections.<span class="hljs-title class_">Array</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">options2</span>: <span class="hljs-title class_">ArkTSUtils</span>.<span class="hljs-property">ASON</span>.<span class="hljs-property">ParseOptions</span> = {</li><li>    <span class="hljs-attr">bigIntMode</span>: <span class="hljs-title class_">ArkTSUtils</span>.<span class="hljs-property">ASON</span>.<span class="hljs-property">BigIntMode</span>.<span class="hljs-property">PARSE_AS_BIGINT</span>,</li><li>    <span class="hljs-attr">parseReturnType</span>: <span class="hljs-title class_">ArkTSUtils</span>.<span class="hljs-property">ASON</span>.<span class="hljs-property">ParseReturnType</span>.<span class="hljs-property">MAP</span>,</li><li>}</li><li><span class="hljs-keyword">let</span> jsonText = <span class="hljs-string">'{"largeNumber":112233445566778899}'</span>;</li><li><span class="hljs-keyword">let</span> map = <span class="hljs-title class_">ArkTSUtils</span>.<span class="hljs-property">ASON</span>.<span class="hljs-title function_">parse</span>(jsonText, <span class="hljs-literal">undefined</span>, options2);</li><li><span class="hljs-comment">// 执行结果为：{"largeNumber":112233445566778899}</span></li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-title class_">ArkTSUtils</span>.<span class="hljs-property">ASON</span>.<span class="hljs-title function_">stringify</span>(map));</li></ol></pre></div></div>    </div>   </div>   <div></div></div>