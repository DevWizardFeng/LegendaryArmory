<h1 _ngcontent-ocq-c119="" class="doc-title ng-star-inserted" title="ArkGraphics 3D场景搭建以及管理"> ArkGraphics 3D场景搭建以及管理 </h1>

<div _ngcontent-ocq-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>一个3D场景通常由光源、相机、模型三个关键部分组成。</p>    <ul>     <li>光源：为整个3D场景提供光照，使得3D场景中的模型变得可见。与真实物理场景一致，没有光源场景将变得一片漆黑，得到的渲染结果也就是全黑色。</li>     <li>相机：为3D场景提供一个观察者。3D渲染本质上是从一个角度观察3D场景并投影到2D图片上。没有相机就没有3D场景的观察者，也就不会得到渲染结果。</li>     <li>模型：3D场景中的模型用于描述对象的形状、结构和外观，一般具有网格、材质、纹理、动画等属性。一些常见的3D模型格式有OBJ、FBX、glTF等。</li>    </ul>    <p>模型加载后，可以通过ArkUI的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-component3d" target="_blank">Component3D</a>渲染组件呈现给用户，Component3D也可以对3D模型做自定义渲染。开发者也可以使用ArkTS API对相机和光源进行调节，获得合适的观察角度和光照效果。ArkTS API可通过napi调用AGP中由C++实现的相应能力。</p>    <p><span><img originheight="388" originwidth="567" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114348.26109884021916848953367256578108:50001231000000:2800:EDF2E42B9BD32653C276E1990BA2508501045A622DFE7EACBF7634D513FF04FC.png" width="567" height="388"></span></p>    <div class="tiledSection">     <h2 id="模型的加载及呈现">模型的加载及呈现<i class="anchor-icon anchor-icon-link" anchorid="模型的加载及呈现" tips="复制节点链接"></i></h2>          <p>模型的格式多种多样，目前ArkGraphics 3D仅支持glTF模型的加载，glTF是一种对于3D场景描述的格式，glTF作为一种开源3D场景格式在业界被广泛采用。关于glTF的介绍可以参照<a href="https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html" target="_blank">glTF-2.0</a>。</p>     <p>一个glTF模型可以包含光源、相机、模型等3D场景关键要素，如果一个glTF模型中包含相机，使用ArkGraphics 3D提供的接口加载glTF就可以直接完成该相机视角下3D场景的渲染。如果不包含相机，也可以利用ArkGraphics 3D创建一个相机完成渲染。由于3D模型往往数据量很大，通常采用异步方式进行加载，加载成功后将返回一个scene对象，通过该对象可对整个3D场景进行编辑。</p>     <p>glTF模型可用Scene提供的load()接口加载，模型文件支持.gltf与.glb格式，其中.glb为二进制封装形式，与.gltf内容等价但更便于加载与使用。模型加载支持相对路径和绝对路径两种方式：相对路径加载使用$rawfile()，从应用的resources/rawfile/目录读取内置资源文件；绝对路径加载需从应用沙箱目录读取文件，Scene.load()仅支持访问应用自身创建或写入的沙箱文件，具体示例可参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-scene#load" target="_blank">load()</a>。</p>     <p>以下示例展示通过相对路径加载.glb模型：</p>     <div _ngcontent-ocq-c106="" class="highlight-div"><div _ngcontent-ocq-c106="" class="highlight-div-header"><div _ngcontent-ocq-c106="" class="highlight-div-header-left"><div _ngcontent-ocq-c106="" class="handle-button expand-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ocq-c106="" class="highlight-div-header-right"><div _ngcontent-ocq-c106="" class="handle-button ai-button"></div><div _ngcontent-ocq-c106="" class="handle-button line-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ocq-c106="" class="handle-button theme-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ocq-c106="" class="handle-button copy-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ocq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadModel</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/DamagedHelmet/glTF/DamagedHelmet.glb"</span>));</li><li>  scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {});</li><li>}</li></ol></pre></div></div>     <p>模型加载成功后，可通过SceneResourceFactory实例创建相机、光源等，再对相机和光源的参数做调节，调整观察角度和光照效果。最后，将Scene实例和ModelType作为SceneOptions传给Component3D组件显示到屏幕。</p>     <p>模型显示完整的示例代码如下，需确保gltf文件内容和路径准确。</p>     <div _ngcontent-ocq-c106="" class="highlight-div"><div _ngcontent-ocq-c106="" class="highlight-div-header"><div _ngcontent-ocq-c106="" class="highlight-div-header-left"><div _ngcontent-ocq-c106="" class="handle-button expand-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ocq-c106="" class="highlight-div-header-right"><div _ngcontent-ocq-c106="" class="handle-button ai-button"></div><div _ngcontent-ocq-c106="" class="handle-button line-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ocq-c106="" class="handle-button theme-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ocq-c106="" class="handle-button copy-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ocq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Camera</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">Model</span> {</li><li>  <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Scene</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">sceneOpt</span>: <span class="hljs-title class_">SceneOptions</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>  <span class="hljs-attr">cam</span>: <span class="hljs-title class_">Camera</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;</li><li>
</li><li>  <span class="hljs-title function_">onPageShow</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-title class_">Init</span>();</li><li>  }</li><li>
</li><li>  <span class="hljs-title class_">Init</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> == <span class="hljs-literal">null</span>) {</li><li>      <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>      <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/DamagedHelmet/glTF/DamagedHelmet.glb"</span>))</li><li>      .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> = result;</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-attr">rf</span>:<span class="hljs-title class_">SceneResourceFactory</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>.<span class="hljs-title function_">getResourceFactory</span>();</li><li>        <span class="hljs-comment">// 创建相机</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cam</span> = <span class="hljs-keyword">await</span> rf.<span class="hljs-title function_">createCamera</span>({ <span class="hljs-string">"name"</span>: <span class="hljs-string">"Camera"</span> });</li><li>        <span class="hljs-comment">// 设置合适的相机参数</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cam</span>.<span class="hljs-property">enabled</span> = <span class="hljs-literal">true</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cam</span>.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">5</span>;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">sceneOpt</span> = { <span class="hljs-attr">scene</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>, <span class="hljs-attr">modelType</span>: <span class="hljs-title class_">ModelType</span>.<span class="hljs-property">SURFACE</span> } <span class="hljs-keyword">as</span> <span class="hljs-title class_">SceneOptions</span>;</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      });</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Row</span>() {</li><li>      <span class="hljs-title class_">Column</span>() {</li><li>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">sceneOpt</span>) {</li><li>          <span class="hljs-comment">// 通过Component3D呈现3D场景</span></li><li>          <span class="hljs-title class_">Component3D</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sceneOpt</span>)</li><li>        } <span class="hljs-keyword">else</span> {</li><li>          <span class="hljs-title class_">Text</span>(<span class="hljs-string">"Loading···"</span>)</li><li>        }</li><li>      }.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'60%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="相机的创建及管理">相机的创建及管理<i class="anchor-icon anchor-icon-link" anchorid="相机的创建及管理" tips="复制节点链接"></i></h2>          <p>相机作为3D场景中的重要部分，决定了整个3D场景向2D图片的投影过程，相机的近远平面、Fov角等关键参数也会对整个3D渲染产生重要的影响。开发者可以通过设置相机参数，控制这个渲染过程，得到开发者想要的渲染效果。</p>     <p>相机相关控制的示例代码如下：</p>     <div _ngcontent-ocq-c106="" class="highlight-div"><div _ngcontent-ocq-c106="" class="highlight-div-header"><div _ngcontent-ocq-c106="" class="highlight-div-header-left"><div _ngcontent-ocq-c106="" class="handle-button expand-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ocq-c106="" class="highlight-div-header-right"><div _ngcontent-ocq-c106="" class="handle-button ai-button"></div><div _ngcontent-ocq-c106="" class="handle-button line-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ocq-c106="" class="handle-button theme-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ocq-c106="" class="handle-button copy-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ocq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">Camera</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCameraPromise</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Camera</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneCameraParameter</span>: <span class="hljs-title class_">SceneNodeParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"camera"</span> };</li><li>      <span class="hljs-comment">// 创建相机</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">camera</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Camera</span>&gt; = sceneFactory.<span class="hljs-title function_">createCamera</span>(sceneCameraParameter);</li><li>      camera.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">cameraEntity</span>: <span class="hljs-title class_">Camera</span>) =&gt; {</li><li>        <span class="hljs-comment">// 使能相机节点</span></li><li>        cameraEntity.<span class="hljs-property">enabled</span> = <span class="hljs-literal">true</span>;</li><li>
</li><li>        <span class="hljs-comment">// 设置相机的位置</span></li><li>        cameraEntity.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">5</span>;</li><li>
</li><li>        <span class="hljs-comment">// 设置相机Fov参数</span></li><li>        cameraEntity.<span class="hljs-property">fov</span> = <span class="hljs-number">60</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>;</li><li>
</li><li>        <span class="hljs-comment">// 可以参照此方式设置相机很多其他的参数</span></li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-title function_">resolve</span>(cameraEntity);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:<span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Camera create failed:'</span>, error);</li><li>        <span class="hljs-title function_">reject</span>(error);</li><li>      });</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="光源的创建及管理">光源的创建及管理<i class="anchor-icon anchor-icon-link" anchorid="光源的创建及管理" tips="复制节点链接"></i></h2>          <p>3D场景的光源是对于物理世界中光源的一种数据建模，模拟物理世界的光源对于3D场景中的物体产生影响。</p>     <p>光源具有多种类型，例如平行光、锥形光。平行光用于模拟生活中的太阳光照，其光线平行且强度均匀。锥形光类似于手电筒，从一个点向扇形区域发射光线，光线强度随距离衰减。光源的颜色会影响场景中物体的最终着色，渲染时依据物理规律计算光源与物体表面颜色的交互，使光照效果更加真实。</p>     <p>ArkGraphics 3D提供创建光源及修改光源参数的功能，支持开发者通过设置光源属性调整3D场景，以实现预期的渲染效果。</p>     <p>光源相关控制的示例代码如下：</p>     <div _ngcontent-ocq-c106="" class="highlight-div"><div _ngcontent-ocq-c106="" class="highlight-div-header"><div _ngcontent-ocq-c106="" class="highlight-div-header-left"><div _ngcontent-ocq-c106="" class="handle-button expand-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ocq-c106="" class="highlight-div-header-right"><div _ngcontent-ocq-c106="" class="handle-button ai-button"></div><div _ngcontent-ocq-c106="" class="handle-button line-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ocq-c106="" class="handle-button theme-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ocq-c106="" class="handle-button copy-button"><div _ngcontent-ocq-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ocq-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SceneNodeParameters</span>, <span class="hljs-title class_">LightType</span>, <span class="hljs-title class_">Light</span>, <span class="hljs-title class_">SceneResourceFactory</span>, <span class="hljs-title class_">Scene</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkGraphics3D'</span>;</li><li>
</li><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">createLightPromise</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Light</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {</li><li>    <span class="hljs-comment">// 加载场景资源，支持.gltf和.glb格式，路径和文件名可根据项目实际资源自定义</span></li><li>    <span class="hljs-keyword">let</span> <span class="hljs-attr">scene</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Scene</span>&gt; = <span class="hljs-title class_">Scene</span>.<span class="hljs-title function_">load</span>($rawfile(<span class="hljs-string">"gltf/CubeWithFloor/glTF/AnimatedCube.glb"</span>));</li><li>    scene.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">result</span>: <span class="hljs-title class_">Scene</span>) =&gt; {</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneFactory</span>: <span class="hljs-title class_">SceneResourceFactory</span> = result.<span class="hljs-title function_">getResourceFactory</span>();</li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">sceneLightParameter</span>: <span class="hljs-title class_">SceneNodeParameters</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"light"</span> };</li><li>      <span class="hljs-comment">// 创建平行光</span></li><li>      <span class="hljs-keyword">let</span> <span class="hljs-attr">light</span>: <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Light</span>&gt; = sceneFactory.<span class="hljs-title function_">createLight</span>(sceneLightParameter, <span class="hljs-title class_">LightType</span>.<span class="hljs-property">DIRECTIONAL</span>);</li><li>      light.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">lightEntity</span>: <span class="hljs-title class_">Light</span>) =&gt; {</li><li>        <span class="hljs-comment">// 设置平行光的颜色属性</span></li><li>        lightEntity.<span class="hljs-property">color</span> = { <span class="hljs-attr">r</span>: <span class="hljs-number">0.8</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0.1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0.2</span>, <span class="hljs-attr">a</span>: <span class="hljs-number">1.0</span> };</li><li>
</li><li>        <span class="hljs-comment">// 可以参照此方式设置光源很多其他的参数</span></li><li>        <span class="hljs-comment">// ...</span></li><li>        <span class="hljs-title function_">resolve</span>(lightEntity);</li><li>      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Light create failed:'</span>, error);</li><li>        <span class="hljs-title function_">reject</span>(error);</li><li>      });</li><li>    }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {</li><li>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Scene load failed:'</span>, error);</li><li>      <span class="hljs-title function_">reject</span>(error);</li><li>    });</li><li>  });</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="示例代码">示例代码<i class="anchor-icon anchor-icon-link" anchorid="示例代码" tips="复制节点链接"></i></h2>          <ul>      <li><a href="https://gitcode.com/HarmonyOS_Samples/Graphics3D" target="_blank">基于3D引擎接口实现3D图形渲染功能（ArkTS）</a></li>     </ul>    </div>   </div>   <div></div></div>