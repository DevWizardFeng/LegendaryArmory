<h1 _ngcontent-iat-c119="" class="doc-title ng-star-inserted" title="ArkTS编程规范"> ArkTS编程规范 </h1>

<div _ngcontent-iat-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="目标和适用范围">目标和适用范围<i class="anchor-icon anchor-icon-link" anchorid="目标和适用范围" tips="复制节点链接"></i></h2><p>本文参考业界标准和实践，结合ArkTS语言特点，提供编码指南，以提高代码的规范性、安全性和性能。</p> <p>本文适用于使用ArkTS编写的开发场景。</p> </div>  <div class="tiledSection"><h2 id="规则来源">规则来源<i class="anchor-icon anchor-icon-link" anchorid="规则来源" tips="复制节点链接"></i></h2><p>ArkTS在保持TypeScript基本语法风格的基础上，进一步强化静态检查和分析。本文部分规则筛选自《<a href="https://gitcode.com/openharmony/docs/blob/master/zh-cn/contribute/OpenHarmony-Application-Typescript-JavaScript-coding-guide.md" target="_blank">OpenHarmony应用TS&amp;JS编程指南</a>》，为ArkTS语言新增的语法添加了规则，旨在提高代码可读性、执行性能。</p> </div>  <div class="tiledSection"><h2 id="章节概览">章节概览<i class="anchor-icon anchor-icon-link" anchorid="章节概览" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="代码风格" class="firsth2">代码风格<i class="anchor-icon anchor-icon-link" anchorid="代码风格" tips="复制节点链接"></i></h3><p>包含命名和格式。</p> </div>  <div class="tiledSection"><h3 id="编程实践">编程实践<i class="anchor-icon anchor-icon-link" anchorid="编程实践" tips="复制节点链接"></i></h3><p>包含声明与初始化、数据类型、运算与表达式、异常等。</p> <p>参考了《OpenHarmony应用TS&amp;JS编程指南》中的规则，去除了ArkTS语言不涉及的部分，并为新增的语法添加了规则。</p> </div>  <div class="tiledSection"><h2 id="术语和定义">术语和定义<i class="anchor-icon anchor-icon-link" anchorid="术语和定义" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.1" valign="top" width="33.33333333333333%">术语</th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.2" valign="top" width="33.33333333333333%">缩略语</th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.4.1.3" valign="top" width="33.33333333333333%">中文解释</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%">ArkTS</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">无</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">ArkTS编程语言</td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%">TypeScript</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">TS</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">TypeScript编程语言</td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%">JavaScript</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">JS</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">JavaScript编程语言</td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%">ESObject</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">无</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">在ArkTS跨语言调用的场景中，用以标注JS/TS对象的类型</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="总体原则">总体原则<i class="anchor-icon anchor-icon-link" anchorid="总体原则" tips="复制节点链接"></i></h2><p>规则分为两个级别：要求和建议。</p> <p><strong>要求</strong>：表示原则上应该遵从。本文所有内容目前均为针对ArkTS的要求。</p> <p><strong>建议</strong>：表示该条款属于最佳实践，可结合实际情况考虑是否纳入。</p> </div>  <div class="tiledSection"><h2 id="命名">命名<i class="anchor-icon anchor-icon-link" anchorid="命名" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="为标识符取一个好名字提高代码可读性" class="firsth2">为标识符取一个好名字，提高代码可读性<i class="anchor-icon anchor-icon-link" anchorid="为标识符取一个好名字提高代码可读性" tips="复制节点链接"></i></h3><p><strong>【描述】</strong></p> <p>好的标识符命名应遵循以下原则：</p> <ul><li>清晰表达意图，避免使用单个字母或非标准缩写命名。</li><li>使用正确的英文单词并符合英文语法，不要使用中文拼音。</li><li>确保语句清晰，避免歧义。</li></ul> </div>  <div class="tiledSection"><h3 id="类名枚举名命名空间名采用uppercamelcase风格">类名、枚举名、命名空间名采用UpperCamelCase风格<i class="anchor-icon anchor-icon-link" anchorid="类名枚举名命名空间名采用uppercamelcase风格" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>类采用首字母大写的驼峰命名法。</p> <p>类名通常是名词或名词短语，例如Person、Student、Worker。不应使用动词，也应该避免类似Data、Info这样的模糊词。</p> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 类名</span></li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {</li><li>  <span class="hljs-attr">username</span>: <span class="hljs-built_in">string</span></li><li>
</li><li>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">username: <span class="hljs-built_in">string</span></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span> = username;</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'hi'</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span>);</li><li>  }</li><li>}</li><li>
</li><li><span class="hljs-comment">// 枚举名</span></li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">UserType</span> {</li><li>  <span class="hljs-variable constant_">TEACHER</span> = <span class="hljs-number">0</span>,</li><li>  <span class="hljs-variable constant_">STUDENT</span> = <span class="hljs-number">1</span></li><li>};</li><li>
</li><li><span class="hljs-comment">// 命名空间</span></li><li><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Base64Utils</span> {</li><li>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">encrypt</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// todo encrypt</span></li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-comment">// todo decrypt</span></li><li>  }</li><li>};</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="变量名方法名参数名采用lowercamelcase风格">变量名、方法名、参数名采用lowerCamelCase风格<i class="anchor-icon anchor-icon-link" anchorid="变量名方法名参数名采用lowercamelcase风格" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>函数的命名通常是动词或动词短语，采用小驼峰命名。示例如下：</p> <ol><li>load + 属性名()</li><li>put + 属性名()</li><li>is + 布尔属性名()</li><li>has + 名词/形容词()</li><li>动词()</li><li><p>动词 + 宾语()</p> <p>变量名通常是名词或名词短语，采用小驼峰命名，便于理解。</p> </li></ol> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> msg = <span class="hljs-string">'Hello world'</span>;</li><li>
</li><li><span class="hljs-function">function <span class="hljs-title">sendMsg</span>(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>)</span> {</li><li>  <span class="hljs-comment">// todo send message</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> userName = <span class="hljs-string">'Zhangsan'</span>;</li><li>
</li><li><span class="hljs-function">function <span class="hljs-title">findUser</span>(<span class="hljs-params">userName: <span class="hljs-built_in">string</span></span>)</span> {</li><li>  <span class="hljs-comment">// todo find user by user name</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="常量名枚举值名采用全部大写单词间使用下划线隔开">常量名、枚举值名采用全部大写，单词间使用下划线隔开<i class="anchor-icon anchor-icon-link" anchorid="常量名枚举值名采用全部大写单词间使用下划线隔开" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>常量命名，应该由全大写单词与下划线组成，单词间用下划线分割。常量命名要尽量表达完整的语义。</p> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">const</span> MAX_USER_SIZE = <span class="hljs-number">10000</span>;</li><li>
</li><li><span class="hljs-keyword">enum</span> <span class="hljs-title class_">UserType</span> {</li><li>  TEACHER = <span class="hljs-number">0</span>,</li><li>  STUDENT = <span class="hljs-number">1</span></li><li>};</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="避免使用否定的布尔变量名布尔型的局部变量或方法需加上表达是非意义的前缀">避免使用否定的布尔变量名，布尔型的局部变量或方法需加上表达是非意义的前缀<i class="anchor-icon anchor-icon-link" anchorid="避免使用否定的布尔变量名布尔型的局部变量或方法需加上表达是非意义的前缀" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>布尔型的局部变量建议加上表达是非意义的前缀，比如is，也可以是has、can、should等。但是，当使用逻辑非运算符，并出现双重否定时，会出现理解问题，比如!isNotError，难以理解。因此，应避免定义否定的布尔变量名。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> isNoError = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">let</span> isNotFound = <span class="hljs-literal">false</span>;</li><li>
</li><li><span class="hljs-function">function <span class="hljs-title">empty</span>()</span> {}</li><li><span class="hljs-function">function <span class="hljs-title">next</span>()</span> {}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> isError = <span class="hljs-literal">false</span>;</li><li><span class="hljs-keyword">let</span> isFound = <span class="hljs-literal">true</span>;</li><li>
</li><li><span class="hljs-function">function <span class="hljs-title">isEmpty</span>()</span> {}</li><li><span class="hljs-function">function <span class="hljs-title">hasNext</span>()</span> {}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="格式">格式<i class="anchor-icon anchor-icon-link" anchorid="格式" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="使用空格缩进禁止使用tab字符" class="firsth2">使用空格缩进，禁止使用tab字符<i class="anchor-icon anchor-icon-link" anchorid="使用空格缩进禁止使用tab字符" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>只允许使用空格(space)进行缩进。</p> <p>建议大部分场景优先使用2个空格，换行导致的缩进优先使用4个空格。</p> <p>不允许插入制表符Tab。当前几乎所有的集成开发环境（IDE）和代码编辑器都支持配置将Tab键自动扩展为2个空格输入，应在代码编辑器中配置使用空格进行缩进。</p> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSource</span> {</li><li>  <span class="hljs-variable">id</span>: <span class="hljs-title class_">number</span> = <span class="hljs-number">0</span></li><li>  <span class="hljs-variable">title</span>: <span class="hljs-title class_">string</span> = <span class="hljs-string">''</span></li><li>  <span class="hljs-variable">content</span>: <span class="hljs-title class_">string</span> = <span class="hljs-string">''</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-variable">dataSource</span>: <span class="hljs-title class_">DataSource</span>[] = [</li><li>  {</li><li>    <span class="hljs-variable">id</span>: <span class="hljs-number">1</span>,</li><li>    <span class="hljs-variable">title</span>: <span class="hljs-string">'Title 1'</span>,</li><li>    <span class="hljs-variable">content</span>: <span class="hljs-string">'Content 1'</span></li><li>  },</li><li>  {</li><li>    <span class="hljs-variable">id</span>: <span class="hljs-number">2</span>,</li><li>    <span class="hljs-variable">title</span>: <span class="hljs-string">'Title 2'</span>,</li><li>    <span class="hljs-variable">content</span>: <span class="hljs-string">'Content 2'</span></li><li>  }</li><li>
</li><li>];</li><li>
</li><li><span class="hljs-variable">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-variable">dataSource</span>: <span class="hljs-title class_">DataSource</span>[]) {</li><li>  <span class="hljs-keyword">if</span> (!<span class="hljs-variable">dataSource</span>.<span class="hljs-variable">length</span>) {</li><li>    <span class="hljs-keyword">return</span>;</li><li>  }</li><li>
</li><li>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-variable">data</span> <span class="hljs-variable">of</span> <span class="hljs-variable">dataSource</span>) {</li><li>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable">data</span> || !<span class="hljs-variable">data</span>.<span class="hljs-variable">id</span> || !<span class="hljs-variable">data</span>.<span class="hljs-variable">title</span> || !<span class="hljs-variable">data</span>.<span class="hljs-variable">content</span>) {</li><li>      <span class="hljs-keyword">continue</span>;</li><li>    }</li><li>    <span class="hljs-comment">// some code</span></li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// some code</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="行宽不超过120个字符">行宽不超过120个字符<i class="anchor-icon anchor-icon-link" anchorid="行宽不超过120个字符" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>代码行宽不宜过长，否则不利于阅读。</p> <p>控制行宽可以间接引导程序员缩短函数和变量的命名，减少嵌套层数，精炼注释，从而提升代码可读性。</p> <p>建议每行字符数不超过120个，除非需要显著增加可读性（超过120个），且不会隐藏信息。</p> <p>例外：如果一行注释包含了超过120个字符的命令或URL，则可以保持一行，以方便复制、粘贴和通过grep查找；预处理的error信息在一行便于阅读和理解，即使超过120个字符。</p> </div>  <div class="tiledSection"><h3 id="条件语句和循环语句的实现建议使用大括号">条件语句和循环语句的实现建议使用大括号<i class="anchor-icon anchor-icon-link" anchorid="条件语句和循环语句的实现建议使用大括号" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>在if、for、do、while等语句的执行体加大括号{}是一种最佳实践，因为省略大括号可能导致错误，并且降低代码的清晰度。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> condition = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">if</span> (condition)</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'success'</span>);</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span>; idx &lt; <span class="hljs-number">5</span>; ++idx)</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">''</span>, idx);</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> condition = <span class="hljs-literal">true</span>;</li><li><span class="hljs-keyword">if</span> (condition) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'success'</span>);</li><li>}</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span>; idx &lt; <span class="hljs-number">5</span>; ++idx) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">''</span>, idx);</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="switch语句的case和default需缩进一层">switch语句的case和default需缩进一层<i class="anchor-icon anchor-icon-link" anchorid="switch语句的case和default需缩进一层" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>switch的case和default要缩进一层（2个空格）。开关标签之后换行的语句，需再缩进一层（2个空格）。</p> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">switch</span> (condition) {</li><li>  <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: {</li><li>    <span class="hljs-built_in">doSomething</span>();</li><li>    <span class="hljs-keyword">break</span>;</li><li>  }</li><li>  <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: {</li><li>    <span class="hljs-built_in">doOtherthing</span>();</li><li>    <span class="hljs-keyword">break</span>;</li><li>  }</li><li>  <span class="hljs-keyword">default</span>:</li><li>    <span class="hljs-keyword">break</span>;</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="表达式换行需保持一致性运算符放行末">表达式换行需保持一致性，运算符放行末<i class="anchor-icon anchor-icon-link" anchorid="表达式换行需保持一致性运算符放行末" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>当语句过长或可读性不佳时，需要在合适的地方进行换行。</p> <p>换行时将操作符放在行末，表示“未结束，后续还有”，保持与常用的格式化工具的默认配置一致。</p> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 假设条件语句超出行宽</span></li><li>if (userCount &gt; MAX_USER_COUNT ||</li><li>  userCount &lt; MIN_USER_COUNT) {</li><li>  <span class="hljs-built_in">doSomething</span>();</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="多个变量定义和赋值语句不允许写在一行">多个变量定义和赋值语句不允许写在一行<i class="anchor-icon anchor-icon-link" anchorid="多个变量定义和赋值语句不允许写在一行" tips="复制节点链接"></i></h3><p><strong>【级别】要求</strong></p> <p><strong>【描述】</strong></p> <p>每个语句的变量声明都应只声明一个变量。</p> <p>这种方式更便于添加变量声明，无需考虑将分号改为逗号，以免引入错误。此外，每个语句只声明一个变量，使用调试器逐个调试也很方便，而不是一次跳过所有变量。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">let</span> maxCount = 10, isCompleted = <span class="hljs-literal">false</span>;</li><li><span class="hljs-built_in">let</span> pointX, pointY;</li><li>pointX = 10; pointY = 0;</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">let</span> maxCount = 10;</li><li><span class="hljs-built_in">let</span> isCompleted = <span class="hljs-literal">false</span>;</li><li><span class="hljs-built_in">let</span> pointX = 0;</li><li><span class="hljs-built_in">let</span> pointY = 0;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="空格应该突出关键字和重要信息避免不必要的空格">空格应该突出关键字和重要信息，避免不必要的空格<i class="anchor-icon anchor-icon-link" anchorid="空格应该突出关键字和重要信息避免不必要的空格" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>空格应该突出关键字和重要信息。总体建议如下：</p> <ol><li>if, for, while, switch等关键字与左括号(之间加空格。</li><li>在函数定义和调用时，函数名称与参数列表的左括号(之间不加空格。</li><li>关键字else或catch与其之前的大括号}之间加空格。</li><li><p>任何打开大括号({)之前加空格，有两个例外：</p> <p>a) 在作为函数的第一个参数或数组中的第一个元素时，对象之前不用加空格，例如：foo({ name: 'abc' })。</p> <p>b) 在模板中，不用加空格，例如：abc${name}。</p> </li><li>二元操作符(+ - * = &lt; &gt; &lt;= &gt;= === !== &amp;&amp; ||)前后加空格；三元操作符(? :)符号两侧均加空格。</li><li>数组初始化中的逗号和函数中多个参数之间的逗号后加空格。</li><li>在逗号(,)或分号(;)之前不加空格。</li><li>数组的中括号([])内侧不要加空格。</li><li>不要出现多个连续空格。在某行中，多个空格若不是用来作缩进的，通常是个错误。</li></ol> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// if 和左括号 ( 之间没有加空格</span></li><li><span class="hljs-built_in">if</span>(isJedi) {</li><li>  <span class="hljs-built_in">fight</span>();</li><li>}</li><li>
</li><li><span class="hljs-comment">// 函数名fight和左括号 ( 之间加了空格</span></li><li>function fight (): void {</li><li>  console<span class="hljs-selector-class">.info</span>('Swooosh!');</li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// if 和左括号之间加一个空格</span></li><li>if (isJedi) {</li><li>  <span class="hljs-built_in">fight</span>();</li><li>}</li><li>
</li><li><span class="hljs-comment">// 函数名fight和左括号 ( 之间不加空格</span></li><li>function <span class="hljs-built_in">fight</span>(): void {</li><li>  console<span class="hljs-selector-class">.info</span>('Swooosh!');</li><li>}</li></ol></pre></div></div> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (flag) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}<span class="hljs-keyword">else</span> {  <span class="hljs-comment">// else 与其前面的大括号 } 之间没有加空格</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (flag) {</li><li>  <span class="hljs-comment">// ...</span></li><li>} <span class="hljs-keyword">else</span> {  <span class="hljs-comment">// else 与其前面的大括号 } 之间增加空格</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{  <span class="hljs-comment">// 函数声明时，左大括号 { 之前加个空格</span></li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-title function_ invoke__">bar</span>(<span class="hljs-string">'attr'</span>, {  // 左大括号前加个空格</li><li>  <span class="hljs-attr">age</span>: <span class="hljs-string">'1 year'</span>,</li><li>  <span class="hljs-attr">sbreed</span>: <span class="hljs-string">'Bernese Mountain Dog'</span>,</li><li>});</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];  <span class="hljs-comment">// 数组初始化中的逗号后面加个空格，逗号前面不加空格</span></li><li><span class="hljs-built_in">myFunc</span>(bar, foo, baz);  <span class="hljs-comment">// 函数的多个参数之间的逗号后加个空格，逗号前面不加空格</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="建议字符串使用单引号">建议字符串使用单引号<i class="anchor-icon anchor-icon-link" anchorid="建议字符串使用单引号" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>为了保持代码一致性和可读性，建议使用单引号。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> message = <span class="hljs-string">"world"</span>;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(message);</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> message = <span class="hljs-string">'world'</span>;</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(message);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="对象字面量属性超过4个需要都换行">对象字面量属性超过4个，需要都换行<i class="anchor-icon anchor-icon-link" anchorid="对象字面量属性超过4个需要都换行" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>对象字面量的属性应保持一致的格式：要么每个属性都换行，要么所有属性都在同一行。当对象字面量的属性超过4个时，建议统一换行。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">I</span> {</li><li>  <span class="hljs-variable">name</span>: <span class="hljs-title class_">string</span></li><li>  <span class="hljs-variable">age</span>: <span class="hljs-title class_">number</span></li><li>  <span class="hljs-variable">value</span>: <span class="hljs-title class_">number</span></li><li>  <span class="hljs-variable">sum</span>: <span class="hljs-title class_">number</span></li><li>  <span class="hljs-variable">foo</span>: <span class="hljs-title class_">boolean</span></li><li>  <span class="hljs-variable">bar</span>: <span class="hljs-title class_">boolean</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">obj</span>: <span class="hljs-title class_">I</span> = { <span class="hljs-variable">name</span>: <span class="hljs-string">'tom'</span>, <span class="hljs-variable">age</span>: <span class="hljs-number">16</span>, <span class="hljs-variable">value</span>: <span class="hljs-number">1</span>, <span class="hljs-variable">sum</span>: <span class="hljs-number">2</span>, <span class="hljs-variable">foo</span>: <span class="hljs-keyword">true</span>, <span class="hljs-variable">bar</span>: <span class="hljs-keyword">false</span> }</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">interface</span> <span class="hljs-title class_">I</span> {</li><li>  <span class="hljs-variable">name</span>: <span class="hljs-title class_">string</span></li><li>  <span class="hljs-variable">age</span>: <span class="hljs-title class_">number</span></li><li>  <span class="hljs-variable">value</span>: <span class="hljs-title class_">number</span></li><li>  <span class="hljs-variable">sum</span>: <span class="hljs-title class_">number</span></li><li>  <span class="hljs-variable">foo</span>: <span class="hljs-title class_">boolean</span></li><li>  <span class="hljs-variable">bar</span>: <span class="hljs-title class_">boolean</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">obj</span>: <span class="hljs-title class_">I</span> = {</li><li>  <span class="hljs-variable">name</span>: <span class="hljs-string">'tom'</span>,</li><li>  <span class="hljs-variable">age</span>: <span class="hljs-number">16</span>,</li><li>  <span class="hljs-variable">value</span>: <span class="hljs-number">1</span>,</li><li>  <span class="hljs-variable">sum</span>: <span class="hljs-number">2</span>,</li><li>  <span class="hljs-variable">foo</span>: <span class="hljs-keyword">true</span>,</li><li>  <span class="hljs-variable">bar</span>: <span class="hljs-keyword">false</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="把elsecatch放在iftry代码块关闭括号的同一行">把else/catch放在if/try代码块关闭括号的同一行<i class="anchor-icon anchor-icon-link" anchorid="把elsecatch放在iftry代码块关闭括号的同一行" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>编写条件语句时，建议将else放在if代码块关闭括号的同一行。同样，编写异常处理语句时，建议将catch放在try代码块关闭括号的同一行。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>if (isOk) {</li><li>  <span class="hljs-built_in">doThing1</span>();</li><li>  <span class="hljs-built_in">doThing2</span>();</li><li>}</li><li>else {</li><li>  <span class="hljs-built_in">doThing3</span>();</li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>if (isOk) {</li><li>  <span class="hljs-built_in">doThing1</span>();</li><li>  <span class="hljs-built_in">doThing2</span>();</li><li>} else {</li><li>  <span class="hljs-built_in">doThing3</span>();</li><li>}</li></ol></pre></div></div> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>try {</li><li>  <span class="hljs-built_in">doSomething</span>();</li><li>}</li><li>catch (err) {</li><li>  <span class="hljs-comment">// 处理错误</span></li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-scss" data-highlighted="yes"><ol class="linenums"><li>try {</li><li>  <span class="hljs-built_in">doSomething</span>();</li><li>} catch (err) {</li><li>  <span class="hljs-comment">// 处理错误</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="大括号和语句在同一行">大括号{和语句在同一行<i class="anchor-icon anchor-icon-link" anchorid="大括号和语句在同一行" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>应保持一致的大括号风格。建议将大括号置于控制语句或声明语句的同一行。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">function <span class="hljs-title">foo</span>()</span></li><li>{</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">function <span class="hljs-title">foo</span>()</span> {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="编程实践-1">编程实践<i class="anchor-icon anchor-icon-link" anchorid="编程实践-1" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="建议添加类属性的可访问修饰符" class="firsth2">建议添加类属性的可访问修饰符<i class="anchor-icon anchor-icon-link" anchorid="建议添加类属性的可访问修饰符" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>ArkTS提供了private, protected和public可访问修饰符。默认情况下，属性的可访问修饰符为public。选取适当的可访问修饰符可以提升代码的安全性和可读性。注意：如果类中包含private属性，无法通过对象字面量初始化该类。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  count: number = <span class="hljs-number">0</span></li><li>
</li><li>  getCount(): number {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.count</li><li>  }</li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> {</li><li>  <span class="hljs-keyword">private</span> count: number = <span class="hljs-number">0</span></li><li>
</li><li>  <span class="hljs-keyword">public</span> getCount(): number {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.count</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="不建议省略浮点数小数点前后的0">不建议省略浮点数小数点前后的0<i class="anchor-icon anchor-icon-link" anchorid="不建议省略浮点数小数点前后的0" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>ArkTS中，浮点值包含一个小数点，不要求小数点之前或之后必须有一个数字。在小数点前面和后面都添加数字可以提高代码的可读性。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">const</span> num = <span class="hljs-number">.5</span>;</li><li><span class="hljs-type">const</span> num = <span class="hljs-number">2.</span>;</li><li><span class="hljs-type">const</span> num = <span class="hljs-number">-.7</span>;</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">const</span> num = <span class="hljs-number">0.5</span>;</li><li><span class="hljs-type">const</span> num = <span class="hljs-number">2.0</span>;</li><li><span class="hljs-type">const</span> num = <span class="hljs-number">-0.7</span>;</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="判断变量是否为numbernan时必须使用numberisnan方法">判断变量是否为Number.NaN时必须使用Number.isNaN()方法<i class="anchor-icon anchor-icon-link" anchorid="判断变量是否为numbernan时必须使用numberisnan方法" tips="复制节点链接"></i></h3><p><strong>【级别】要求</strong></p> <p><strong>【描述】</strong></p> <p>在ArkTS中，Number.NaN是Number类型的一个特殊值。它被用来表示非数值，这里的数值是指在IEEE浮点数算术标准中定义的双精度64位格式的值。</p> <p>在ArkTS中，Number.NaN的独特之处在于它不等于任何值，包括其本身。与Number.NaN进行比较时，结果是令人困惑的：Number.NaN !== Number.NaN 和 Number.NaN != Number.NaN 的值都是 true。</p> <p>因此，必须使用Number.isNaN()函数来测试一个值是否是Number.NaN。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (foo == <span class="hljs-title class_">Number</span>.<span class="hljs-property">NaN</span>) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">if</span> (foo != <span class="hljs-title class_">Number</span>.<span class="hljs-property">NaN</span>) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">if</span> (<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(foo)) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li><li>
</li><li><span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(foo)) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="数组遍历优先使用array对象方法">数组遍历优先使用Array对象方法<i class="anchor-icon anchor-icon-link" anchorid="数组遍历优先使用array对象方法" tips="复制节点链接"></i></h3><p><strong>【级别】要求</strong></p> <p><strong>【描述】</strong></p> <p>对于数组遍历，应该优先使用Array对象方法，如：forEach(), map(), every(), filter(), find(), findIndex(), reduce(), some()。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-variable">numbers</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li><span class="hljs-comment">// 依赖已有数组来创建新的数组时，通过for遍历，生成一个新数组</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-variable">increasedByOne</span>: <span class="hljs-title class_">number</span>[] = [];</li><li><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> <span class="hljs-variable">i</span> = <span class="hljs-number">0</span>; <span class="hljs-variable">i</span> &lt; <span class="hljs-title class_">numbers</span>.<span class="hljs-title class_">length</span>; <span class="hljs-title class_">i</span>++) {</li><li>  <span class="hljs-variable">increasedByOne</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable">numbers</span>[<span class="hljs-variable">i</span>] + <span class="hljs-number">1</span>);</li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];</li><li><span class="hljs-comment">// better: 使用map方法是更好的方式</span></li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">increasedByOne</span>: <span class="hljs-built_in">number</span>[] = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> num + <span class="hljs-number">1</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="不要在控制性条件表达式中执行赋值操作">不要在控制性条件表达式中执行赋值操作<i class="anchor-icon anchor-icon-link" anchorid="不要在控制性条件表达式中执行赋值操作" tips="复制节点链接"></i></h3><p><strong>【级别】要求</strong></p> <p><strong>【描述】</strong></p> <p>控制性条件表达式用于 if、while、for 以及 ?: 等条件判断语句中。</p> <p>在控制性条件表达式中执行赋值容易导致意外行为，且降低代码的可读性。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 在控制性判断中赋值不易理解</span></li><li><span class="hljs-keyword">if</span> (isFoo = <span class="hljs-literal">false</span>) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-type">const</span> isFoo = <span class="hljs-literal">false</span>; <span class="hljs-comment">// 在上面赋值，if条件判断中直接使用</span></li><li><span class="hljs-keyword">if</span> (isFoo) {</li><li>  <span class="hljs-comment">// ...</span></li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="在finally代码块中不要使用returnbreakcontinue或抛出异常避免finally块非正常结束">在finally代码块中，不要使用return、break、continue或抛出异常，避免finally块非正常结束<i class="anchor-icon anchor-icon-link" anchorid="在finally代码块中不要使用returnbreakcontinue或抛出异常避免finally块非正常结束" tips="复制节点链接"></i></h3><p><strong>【级别】要求</strong></p> <p><strong>【描述】</strong></p> <p>在finally代码块中，直接使用return、break、continue、throw语句或调用方法时未处理异常，会导致finally代码块无法正常结束。finally代码块异常结束会影响try或catch代码块中异常的抛出，也可能影响方法的返回值。因此，必须确保finally代码块正常结束。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" data-highlighted="yes"><ol class="linenums"><li>function foo() {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;</li><li>  } <span class="hljs-keyword">finally</span> {</li><li>    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;</li><li> }</li><li>}</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {</li><li>  <span class="hljs-keyword">try</span> {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</li><li>  } <span class="hljs-keyword">catch</span> (err) {</li><li>    <span class="hljs-comment">// ...</span></li><li>    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;</li><li>  } <span class="hljs-keyword">finally</span> {</li><li>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'XXX!'</span>);</li><li>  }</li><li>}</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="避免使用esobject">避免使用ESObject<i class="anchor-icon anchor-icon-link" anchorid="避免使用esobject" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>ESObject主要用于ArkTS和TS/JS的跨语言调用场景中的类型标注。在非跨语言调用场景中使用ESObject标注类型，会引入不必要的跨语言调用，导致额外的性能开销。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// lib.ets</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">I</span> {</li><li>  <span class="hljs-variable">sum</span>: <span class="hljs-title class_">number</span></li><li>}</li><li>
</li><li><span class="hljs-variable">export</span> <span class="hljs-variable">function</span> <span class="hljs-title function_">getObject</span>(<span class="hljs-variable">value</span>: <span class="hljs-title class_">number</span>): <span class="hljs-title class_">I</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">obj</span>: <span class="hljs-title class_">I</span> = { <span class="hljs-variable">sum</span>: <span class="hljs-title class_">value</span> };</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-variable">obj</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// app.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">getObject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'lib'</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">obj</span>: <span class="hljs-title class_">ESObject</span> = <span class="hljs-title function_">getObject</span>(<span class="hljs-number">123</span>);</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// lib.ets</span></li><li><span class="hljs-variable">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">I</span> {</li><li>  <span class="hljs-variable">sum</span>: <span class="hljs-title class_">number</span></li><li>}</li><li>
</li><li><span class="hljs-variable">export</span> <span class="hljs-variable">function</span> <span class="hljs-title function_">getObject</span>(<span class="hljs-variable">value</span>: <span class="hljs-title class_">number</span>): <span class="hljs-title class_">I</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-variable">obj</span>: <span class="hljs-title class_">I</span> = { <span class="hljs-variable">sum</span>: <span class="hljs-title class_">value</span> };</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-variable">obj</span></li><li>}</li><li>
</li><li><span class="hljs-comment">// app.ets</span></li><li><span class="hljs-keyword">import</span> { <span class="hljs-variable">getObject</span>, <span class="hljs-variable">I</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'lib'</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">obj</span>: <span class="hljs-title class_">I</span> = <span class="hljs-title function_">getObject</span>(<span class="hljs-number">123</span>);</li></ol></pre></div></div> </div>  <div class="tiledSection"><h3 id="使用t表示数组类型">使用T[]表示数组类型<i class="anchor-icon anchor-icon-link" anchorid="使用t表示数组类型" tips="复制节点链接"></i></h3><p><strong>【级别】建议</strong></p> <p><strong>【描述】</strong></p> <p>ArkTS提供了两种数组类型的表示方式：T[]和Array&lt;T&gt;。建议所有数组类型均使用T[]表示，以提高代码可读性。</p> <p><strong>【反例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">string</span>&gt; = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];</li></ol></pre></div></div> <p><strong>【正例】</strong></p> <div _ngcontent-iat-c106="" class="highlight-div"><div _ngcontent-iat-c106="" class="highlight-div-header"><div _ngcontent-iat-c106="" class="highlight-div-header-left"><div _ngcontent-iat-c106="" class="handle-button expand-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-iat-c106="" class="highlight-div-header-right"><div _ngcontent-iat-c106="" class="handle-button ai-button"></div><div _ngcontent-iat-c106="" class="handle-button line-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-iat-c106="" class="handle-button theme-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-iat-c106="" class="handle-button copy-button"><div _ngcontent-iat-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-iat-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 统一使用T[]语法</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span>: <span class="hljs-title class_">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];</li><li><span class="hljs-keyword">let</span> <span class="hljs-variable">y</span>: <span class="hljs-title class_">string</span>[] = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>];</li></ol></pre></div></div> </div> </div> <div></div></div>