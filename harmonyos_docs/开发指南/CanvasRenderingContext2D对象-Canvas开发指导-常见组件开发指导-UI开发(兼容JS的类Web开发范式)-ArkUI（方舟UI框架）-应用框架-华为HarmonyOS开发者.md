<h1 _ngcontent-rbo-c119="" class="doc-title ng-star-inserted" title="CanvasRenderingContext2D对象"> CanvasRenderingContext2D对象 </h1>

<div _ngcontent-rbo-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>使用CanvasRenderingContext2D在Canvas画布组件上进行绘制，绘制对象可以是图形、文本、线段、图片等。具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-canvasrenderingcontext2d" target="_blank">CanvasRenderingContext2D对象</a>。</p>    <div class="tiledSection">     <h2 id="画线段">画线段<i class="anchor-icon anchor-icon-link" anchorid="画线段" tips="复制节点链接"></i></h2>          <p>使用moveTo和lineTo画出一条线段，当使用closePath方法时会结束当前路径形成一个封闭图形。设置quadraticCurveTo（二次贝塞尔曲线）或bezierCurveTo（三次贝塞尔曲线）的值组成图形。</p>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"change"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value1"</span>&gt;</span> line <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value2"</span>&gt;</span> quadratic <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value3"</span>&gt;</span> bezier <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value4"</span>&gt;</span> arc/ellipse <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value5"</span>&gt;</span> lineJoin/miterLimit <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li>select{</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: white;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">el</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">ctx</span>: <span class="hljs-literal">null</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>,{<span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span>});</li><li>    <span class="hljs-comment">// 清除画布上的内容</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">500</span>);</li><li>    <span class="hljs-comment">// 创建一个新的绘制路径</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>    <span class="hljs-comment">// 线端点以方形结束</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'butt'</span>;</li><li>    <span class="hljs-comment">// 描边的宽度</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">15</span>;</li><li>    <span class="hljs-comment">// 创建一个新的绘制路径</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>    <span class="hljs-comment">// 路径从当前点移动到指定点</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>);</li><li>    <span class="hljs-comment">// 从当前点到指定点进行路径连接</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">100</span>);</li><li>    <span class="hljs-comment">// 边框绘制</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>    <span class="hljs-comment">// 线端点以圆形结束</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'round'</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">200</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    <span class="hljs-comment">// 线端点以方形结束</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'square'</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>  },</li><li>  <span class="hljs-title function_">change</span>(<span class="hljs-params">e</span>){</li><li>    <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value1'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas1</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>,{<span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span>});</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 上</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'butt'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">100</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 中</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'round'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 下</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'square'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value2'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 上</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">150</span>);</li><li>      <span class="hljs-comment">// 二次贝塞尔曲线的路径</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">quadraticCurveTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">50</span>, <span class="hljs-number">500</span>, <span class="hljs-number">150</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 左</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">quadraticCurveTo</span>(<span class="hljs-number">250</span>, <span class="hljs-number">250</span>, <span class="hljs-number">250</span>, <span class="hljs-number">400</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 右</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">150</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">quadraticCurveTo</span>(<span class="hljs-number">350</span>, <span class="hljs-number">250</span>, <span class="hljs-number">350</span>, <span class="hljs-number">400</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value3'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 下</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-comment">// 三次贝塞尔曲线的路径</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">bezierCurveTo</span>(<span class="hljs-number">150</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>,<span class="hljs-number">250</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 左</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">350</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">bezierCurveTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">100</span>, <span class="hljs-number">450</span>, <span class="hljs-number">100</span>,<span class="hljs-number">500</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 右</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">350</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">bezierCurveTo</span>(<span class="hljs-number">250</span>, <span class="hljs-number">500</span>, <span class="hljs-number">350</span>, <span class="hljs-number">500</span>, <span class="hljs-number">400</span>, <span class="hljs-number">350</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value4'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">500</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-comment">// 弧线</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">arcTo</span>(<span class="hljs-number">150</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-comment">// 椭圆</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">ellipse</span>(<span class="hljs-number">400</span>, <span class="hljs-number">250</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.25</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">0.5</span> , <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> , <span class="hljs-number">1</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value5'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 左上</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-comment">// 在线段相连处绘制一个扇形</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'round'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">250</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 左下</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-comment">// 在线段相连处使用三角形为底填充</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'bevel'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">300</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">200</span>, <span class="hljs-number">400</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">450</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 右上</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-comment">//线条相交处内角和外角的距离</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'miter'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">miterLimit</span> = <span class="hljs-number">3</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">100</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">450</span>, <span class="hljs-number">200</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">250</span>);</li><li>      <span class="hljs-comment">// 结束当前路径形成一个封闭路径</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">closePath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-comment">// 右下</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'miter'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">miterLimit</span> = <span class="hljs-number">10</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">450</span>, <span class="hljs-number">400</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">400</span>, <span class="hljs-number">450</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">closePath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    }</li><li>  },</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="552" originwidth="313" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114916.12153071682710644600752540164647:50001231000000:2800:2E27777151A104A970B931D93EC16BE423360051186AA43F06540DD955BB01AA.gif" width="313" height="552"></span></p>    </div>    <div class="tiledSection">     <h2 id="画边框">画边框<i class="anchor-icon anchor-icon-link" anchorid="画边框" tips="复制节点链接"></i></h2>          <p>全局定义画布（el）及画笔（ctx），初始化创建一个边框宽度为5的长方形。对边框的宽度（lineWidth）、颜色（strokeStyle）、虚化程度（setLineDash）进行改变，选用select组件添加change事件，下拉选择时触发change事件后画出改变后的图形。</p>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"change"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value1"</span>&gt;</span>strokeRect<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value2"</span>&gt;</span>arc<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value3"</span>&gt;</span>lineDashRect<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value4"</span>&gt;</span>fillRect<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>  <span class="hljs-attribute">display</span>: flex;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li>select{</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: white;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">el</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">ctx</span>: <span class="hljs-literal">null</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>,{<span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span>});</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>  },</li><li>  <span class="hljs-title function_">change</span>(<span class="hljs-params">e</span>){</li><li>    <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value1'</span>){</li><li>      <span class="hljs-comment">// 清除画布上的内容</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 边框宽度</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>;</li><li>      <span class="hljs-comment">// 边框颜色</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#110000'</span>;</li><li>      <span class="hljs-comment">// 边框的虚化程度</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]);</li><li>      <span class="hljs-comment">// 画具有边框的矩形</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value2'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">30</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]);</li><li>      <span class="hljs-comment">// 画圆</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">arc</span>(<span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-number">150</span>,<span class="hljs-number">0</span>,<span class="hljs-number">6.28</span>);</li><li>      <span class="hljs-comment">//进行边框绘制</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value3'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">5</span>,<span class="hljs-number">5</span>]);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value4'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 画一个有填充颜色的矩形</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#0000ff'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    }</li><li>  },</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="552" originwidth="313" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114916.31531998515408080491342437326300:50001231000000:2800:FE0CA785A68813C995D2183569C54730A20D6F18E2BA6F70DC934EBE23498F39.gif" width="313" height="552"></span></p>    </div>    <div class="tiledSection">     <h2 id="填充渐变色">填充渐变色<i class="anchor-icon anchor-icon-link" anchorid="填充渐变色" tips="复制节点链接"></i></h2>          <p>添加createLinearGradient和createRadialGradient属性创建渐变容器，接着用addColorStop方法添加多个色块组成渐变色，再设置fillStyle为gradient将渐变色填充到矩形中，最后设置阴影的模糊级别（shadowBlur）、阴影颜色（shadowColor）及阴影偏移量（shadowOffset）。</p>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"change"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value1"</span>&gt;</span>LinearGradient<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value2"</span>&gt;</span>RadialGradient<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value3"</span>&gt;</span>shadowBlur<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value4"</span>&gt;</span>shadowOffset<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>  <span class="hljs-attribute">display</span>: flex;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li>select{</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: white;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">el</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">ctx</span>: <span class="hljs-literal">null</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>,{<span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span>});</li><li>    <span class="hljs-comment">// 创建一个线性渐变色</span></li><li>    <span class="hljs-keyword">let</span> gradient = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">createLinearGradient</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>, <span class="hljs-number">400</span>,<span class="hljs-number">300</span>);</li><li>    <span class="hljs-comment">// 添加渐变颜色</span></li><li>    gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'red'</span>);</li><li>    gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.7</span>, <span class="hljs-string">'white'</span>);</li><li>    gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'green'</span>);</li><li>    <span class="hljs-comment">// 填充颜色为渐变色</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = gradient;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>  },</li><li>  <span class="hljs-title function_">change</span>(<span class="hljs-params">e</span>){</li><li>    <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value1'</span>){</li><li>      <span class="hljs-comment">// 清除画布上的内容</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-keyword">let</span> gradient = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">createLinearGradient</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>, <span class="hljs-number">400</span>,<span class="hljs-number">300</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'red'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.7</span>, <span class="hljs-string">'white'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'green'</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = gradient;</li><li>      <span class="hljs-comment">// 设置绘制阴影时的模糊级别</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">0</span>;</li><li>      <span class="hljs-comment">// 绘制阴影时和原有对象的垂直偏移值</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowOffsetY</span> = <span class="hljs-number">0</span>;</li><li>      <span class="hljs-comment">// 绘制阴影时和原有对象的水平偏移值</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowOffsetX</span> = <span class="hljs-number">0</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value2'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 创建一个径向渐变色</span></li><li>      <span class="hljs-keyword">let</span> gradient = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">createRadialGradient</span>(<span class="hljs-number">300</span>,<span class="hljs-number">250</span>,<span class="hljs-number">20</span>,<span class="hljs-number">300</span>,<span class="hljs-number">250</span>,<span class="hljs-number">100</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'red'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.7</span>, <span class="hljs-string">'white'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">'green'</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">0</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowOffsetY</span> = <span class="hljs-number">0</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowOffsetX</span> = <span class="hljs-number">0</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = gradient;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value3'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-keyword">let</span> gradient = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">createLinearGradient</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>, <span class="hljs-number">400</span>,<span class="hljs-number">400</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'red'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'white'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'#17ea35'</span>);</li><li>      <span class="hljs-comment">// 设置绘制阴影时的模糊级别</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">30</span>;</li><li>      <span class="hljs-comment">// 绘制阴影时的阴影颜色</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(229, 16, 16)'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = gradient;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value4'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-keyword">let</span> gradient = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">createRadialGradient</span>(<span class="hljs-number">300</span>,<span class="hljs-number">250</span>,<span class="hljs-number">20</span>,<span class="hljs-number">300</span>,<span class="hljs-number">250</span>,<span class="hljs-number">200</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">'red'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.5</span>, <span class="hljs-string">'white'</span>);</li><li>      gradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'#17ea35'</span>);</li><li>      <span class="hljs-comment">// 设置绘制阴影时的模糊级别</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">30</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowOffsetY</span> = <span class="hljs-number">30</span>;</li><li>      <span class="hljs-comment">// 绘制阴影时的阴影颜色</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">shadowColor</span> = <span class="hljs-string">'rgb(23, 1, 1)'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = gradient;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>    }</li><li>  },</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="552" originwidth="313" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114916.20449767614479978889354453998463:50001231000000:2800:BB53CE2C5D14C79AE9FD049BB16EFEFDEB4EC41D5BBF948644A04F9836497CF5.gif" width="313" height="552"></span></p>    </div>    <div class="tiledSection">     <h2 id="填充文字">填充文字<i class="anchor-icon anchor-icon-link" anchorid="填充文字" tips="复制节点链接"></i></h2>          <p>先创建文本，再用fillText方法把文字写在画布上。通过globalAlpha属性改变基线透明度，使基线不会挡住文字，再设置textAlign和textBaseline属性确定文字基于基线的位置。</p>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"change"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value1"</span>&gt;</span>text<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value2"</span>&gt;</span>textBaseline<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"value3"</span>&gt;</span>textAlign<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li>select{</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: white;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">el</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">ctx</span>: <span class="hljs-literal">null</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas1</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>,{<span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span>});</li><li>    <span class="hljs-comment">// 创建文本</span></li><li>    <span class="hljs-keyword">let</span> text = <span class="hljs-string">"Hello World"</span>;</li><li>    <span class="hljs-comment">// 设置字体</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'30px'</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"with:"</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">measureText</span>(text).<span class="hljs-property">width</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>);</li><li>    <span class="hljs-comment">// 填充字体文本</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(text, <span class="hljs-number">200</span>, <span class="hljs-number">250</span>);</li><li>  },</li><li>  <span class="hljs-title function_">change</span>(<span class="hljs-params">e</span>){</li><li>    <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value1'</span>){</li><li>      <span class="hljs-comment">// 清除画布上的内容</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-comment">// 开始新的路径</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-comment">// 初始化textAlign值</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'left'</span>;</li><li>      <span class="hljs-comment">// 初始化textBaseline</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'alphabetic'</span>;</li><li>      <span class="hljs-comment">// 设置字体</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'30px Arial'</span>;</li><li>      <span class="hljs-keyword">let</span> text = <span class="hljs-string">"Hello World"</span>;</li><li>      <span class="hljs-comment">// 获取字体width</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">"with:"</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">measureText</span>(text).<span class="hljs-property">width</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>);</li><li>      <span class="hljs-comment">// 填充字体文本</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(text, <span class="hljs-number">200</span>, <span class="hljs-number">250</span>);</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value2'</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-comment">// 设置透明度</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">0.1</span>;</li><li>      <span class="hljs-comment">// 设置线宽度</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;</li><li>      <span class="hljs-comment">// 设置线段颜色</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span>;</li><li>      <span class="hljs-comment">// 从当前点移动到指定点</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">0</span>, <span class="hljs-number">240</span>);</li><li>      <span class="hljs-comment">// 当前点到指定点进行路径连接</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">600</span>, <span class="hljs-number">240</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'35px'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">1</span>;</li><li>      <span class="hljs-comment">// 初始化textAlign值</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'left'</span>;</li><li>      <span class="hljs-comment">// 设置textBaseline</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'top'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Top'</span>, <span class="hljs-number">50</span>, <span class="hljs-number">240</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'bottom'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Bottom'</span>, <span class="hljs-number">200</span>, <span class="hljs-number">240</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'middle'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Middle'</span>, <span class="hljs-number">400</span>, <span class="hljs-number">240</span>);</li><li>    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.<span class="hljs-property">newValue</span> == <span class="hljs-string">'value3'</span>){</li><li>      <span class="hljs-comment">// 清除画布上的内容</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">0.1</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">10</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#0000ff'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">0</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">300</span>, <span class="hljs-number">500</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">stroke</span>();</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">font</span> = <span class="hljs-string">'35px'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">1</span>;</li><li>      <span class="hljs-comment">// 初始化 textBaseline</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'alphabetic'</span>;</li><li>      <span class="hljs-comment">// 设置textAlign</span></li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'left'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=left'</span>,<span class="hljs-number">300</span>, <span class="hljs-number">100</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=center'</span>,<span class="hljs-number">300</span>, <span class="hljs-number">250</span>);</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'right'</span>;</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'textAlign=right'</span>,<span class="hljs-number">300</span>, <span class="hljs-number">400</span>);</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="546" originwidth="313" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114916.54920704408822286300516593726596:50001231000000:2800:0C30BF3DACC379BA238E5E9591F30892EAF491495D0FF07C2F7F422134F8383A.gif" width="313" height="546"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>ltr布局模式下start和left一致，rtl布局模式下start和right一致。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="添加图片">添加图片<i class="anchor-icon anchor-icon-link" anchorid="添加图片" tips="复制节点链接"></i></h2>          <p>创建图片对象后使用drawImage属性画出图片，给图片设置一些动画样式如scale（缩放）、translate（平移）或rotate（旋转）。</p>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas0"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"change"</span>&gt;</span>change<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"rotate"</span>&gt;</span>rotate<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"scale"</span>&gt;</span>scale<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas3"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"translate"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px;"</span>&gt;</span>translate<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas4"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"transform"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px;"</span>&gt;</span>transform<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas5"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"setTransform"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px;"</span>&gt;</span>setTransform<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas6"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</li><li>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li><span class="hljs-selector-class">.content</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">display</span>: flex;</li><li>  <span class="hljs-attribute">flex-wrap</span>: wrap;</li><li>  <span class="hljs-attribute">justify-content</span>: space-around;</li><li>}</li><li>text{</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">35px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">80px</span>;</li><li>  <span class="hljs-attribute">color</span>: white;</li><li>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;</li><li>  <span class="hljs-attribute">text-align</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#6060e7</span>;</li><li>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">import</span> promptAction <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.promptAction'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">compositeOperation</span>: <span class="hljs-string">'source-over'</span></li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas0</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    <span class="hljs-comment">// 创建图片对象</span></li><li>    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    <span class="hljs-comment">// 设置图片路径</span></li><li>    <span class="hljs-comment">// "common/images/2.png"需要替换为开发者所需的图像资源文件</span></li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    <span class="hljs-comment">// 设置图片宽度</span></li><li>    img.<span class="hljs-property">width</span>= <span class="hljs-number">150</span>;</li><li>    <span class="hljs-comment">// 设置图片高度</span></li><li>    img.<span class="hljs-property">height</span>=<span class="hljs-number">150</span>;</li><li>    <span class="hljs-comment">// 图片平铺容器</span></li><li>    <span class="hljs-keyword">var</span> pat = ctx.<span class="hljs-title function_">createPattern</span>(img, <span class="hljs-string">'repeat'</span>);ctx.<span class="hljs-property">fillStyle</span> = pat;</li><li>    ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">300</span>);</li><li>  },</li><li>  <span class="hljs-title function_">change</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-comment">// 创建画布后得到画笔</span></li><li>    <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas1</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">1000</span>);</li><li>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">compositeOperation</span> == <span class="hljs-string">"source-over"</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">compositeOperation</span> = <span class="hljs-string">"destination-over"</span>;</li><li>    }<span class="hljs-keyword">else</span>{</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">compositeOperation</span> = <span class="hljs-string">"source-over"</span>;</li><li>    }</li><li>    ctx.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">compositeOperation</span>;</li><li>    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    <span class="hljs-comment">// 图片成功获取触发方法</span></li><li>    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">150</span>, <span class="hljs-number">20</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    };</li><li>    <span class="hljs-keyword">let</span> img1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    <span class="hljs-comment">// "common/images/3.png"需要替换为开发者所需的图像资源文件</span></li><li>    img1.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/3.png'</span>;</li><li>    img1.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      <span class="hljs-comment">// 画上图片</span></li><li>      ctx.<span class="hljs-title function_">drawImage</span>(img1, <span class="hljs-number">250</span>, <span class="hljs-number">80</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    };</li><li>    <span class="hljs-comment">// 图片获取失败触发方法</span></li><li>    img1.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      promptAction.<span class="hljs-title function_">showToast</span>({<span class="hljs-attr">message</span>:<span class="hljs-string">"error"</span>,<span class="hljs-attr">duration</span>:<span class="hljs-number">2000</span>})</li><li>    };</li><li>  },</li><li>  <span class="hljs-title function_">rotate</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas2</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">300</span>);</li><li>    <span class="hljs-comment">// 旋转</span></li><li>    ctx.<span class="hljs-title function_">rotate</span>(<span class="hljs-number">10</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>);</li><li>    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">300</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    };</li><li>  },</li><li>  <span class="hljs-title function_">scale</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas3</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">200</span>);</li><li>    <span class="hljs-comment">// 缩放</span></li><li>    ctx.<span class="hljs-title function_">scale</span>(<span class="hljs-number">1.3</span>,<span class="hljs-number">1.2</span>);</li><li>    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);</li><li>    };</li><li>  },</li><li>  <span class="hljs-title function_">translate</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas4</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">300</span>);</li><li>    ctx.<span class="hljs-title function_">translate</span>(<span class="hljs-number">10</span>,<span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">300</span>, <span class="hljs-number">200</span>);</li><li>    };</li><li>  },</li><li>  <span class="hljs-title function_">transform</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas5</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">300</span>);</li><li>    ctx.<span class="hljs-title function_">transform</span>(<span class="hljs-number">1.1</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>     };</li><li>  },</li><li>  <span class="hljs-title function_">setTransform</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">let</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas6</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">300</span>);</li><li>    ctx.<span class="hljs-title function_">setTransform</span>(<span class="hljs-number">1.1</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0</span>);</li><li>    <span class="hljs-keyword">let</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    img.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);</li><li>    };</li><li>  },</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="626" originwidth="298" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114917.77761138749176600074647807680527:50001231000000:2800:306F7C58EAFF34455BBD446708A4676045DB395CF72C190ACC5FCA0D9CBA941D.gif" class="notEnlarge" width="298" height="626"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>setTransform方法使用的参数和transform()方法相同，但setTransform()方法会重置现有的变换矩阵并创建新的变换矩阵。</p></li>        <li>         <p>变换后的坐标计算方式（x和y为变换前坐标，x'和y'为变换后坐标）：</p>         <p>x' = scaleX * x + skewY * y + translateX</p>         <p>y' = skewX * x + scaleY * y + translateY</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="添加方法">添加方法<i class="anchor-icon anchor-icon-link" anchorid="添加方法" tips="复制节点链接"></i></h2>          <p>save方法可对画笔样式进行存储，restore可对存储的画笔进行恢复。如下面的示例，先设置画笔为红色，在保存画笔后对画布进行清除并改变画笔为蓝色，当我们直接使用画笔时会画出一个蓝色矩形，对存储的画笔进行恢复后就可画出红色矩形。</p>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"save"</span>&gt;</span>save<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"clear"</span>&gt;</span>clear<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"restore"</span>&gt;</span>restore<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">300px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li><span class="hljs-selector-class">.content</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">display</span>: flex;</li><li>  <span class="hljs-attribute">flex-wrap</span>: wrap;</li><li>  <span class="hljs-attribute">justify-content</span>: space-around;</li><li>}</li><li>text{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">80px</span>;</li><li>  <span class="hljs-attribute">color</span>: white;</li><li>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;</li><li>  <span class="hljs-attribute">text-align</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#6060e7</span>;</li><li>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-rbo-c106="" class="highlight-div"><div _ngcontent-rbo-c106="" class="highlight-div-header"><div _ngcontent-rbo-c106="" class="highlight-div-header-left"><div _ngcontent-rbo-c106="" class="handle-button expand-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-rbo-c106="" class="highlight-div-header-right"><div _ngcontent-rbo-c106="" class="handle-button ai-button"></div><div _ngcontent-rbo-c106="" class="handle-button line-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-rbo-c106="" class="handle-button theme-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-rbo-c106="" class="handle-button copy-button"><div _ngcontent-rbo-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-rbo-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">import</span> promptAction <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.promptAction'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">ctx</span>: <span class="hljs-string">''</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"red"</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>  },</li><li>  <span class="hljs-title function_">save</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-comment">// 画笔储存</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">save</span>();</li><li>    promptAction.<span class="hljs-title function_">showToast</span>({<span class="hljs-attr">message</span>:<span class="hljs-string">"save succeed"</span>});</li><li>  },</li><li>  <span class="hljs-title function_">clear</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">600</span>,<span class="hljs-number">500</span>);</li><li>    <span class="hljs-comment">// 改变画笔颜色</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"#2133d2"</span>;</li><li>  },</li><li>  <span class="hljs-title function_">restore</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">beginPath</span>();</li><li>    <span class="hljs-comment">// 画笔恢复</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">restore</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>  },</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="589" originwidth="313" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114917.97054207361986929865254654888926:50001231000000:2800:532C7E3DDBDCEE3E729EF07A5586762192C7A89E729F34AF699FCD6826CF2696.gif" width="313" height="589"></span></p>    </div>   </div>   <div></div></div>