<h1 _ngcontent-sqb-c119="" class="doc-title ng-star-inserted" title="DataAbility的生命周期"> DataAbility的生命周期 </h1>

<div _ngcontent-sqb-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>应用开发者可以根据业务场景实现data.js/data.ets中的生命周期相关接口。DataAbility生命周期接口说明见下表。</p> <p> <strong>表1</strong> DataAbility相关生命周期API功能介绍</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.1.3.1.1" valign="top" width="50%">接口名</th> <th align="left" class="cellrowborder" id="mcps1.3.3.1.3.1.2" valign="top" width="50%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">onInitialized?(info: AbilityInfo): void</td> <td class="cellrowborder" valign="top" width="50%">在Ability初始化调用，通过此回调方法执行RDB等初始化操作。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">update?(uri: string, valueBucket: rdb.ValuesBucket, predicates: dataAbility.DataAbilityPredicates, callback: AsyncCallback&lt;number&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">更新数据库中的数据。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">query?(uri: string, columns: Array&lt;string&gt;, predicates: dataAbility.DataAbilityPredicates, callback: AsyncCallback&lt;ResultSet&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">查询数据库中的数据。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">delete?(uri: string, predicates: dataAbility.DataAbilityPredicates, callback: AsyncCallback&lt;number&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">删除一条或多条数据。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">normalizeUri?(uri: string, callback: AsyncCallback&lt;string&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">对URI进行规范化。一个规范化的URI可以支持跨设备使用、持久化、备份和还原等，当上下文改变时仍然可以引用到相同的数据项。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">batchInsert?(uri: string, valueBuckets: Array&lt;rdb.ValuesBucket&gt;, callback: AsyncCallback&lt;number&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">向数据库中插入多条数据。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">denormalizeUri?(uri: string, callback: AsyncCallback&lt;string&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">将一个由normalizeUri生成的规范化URI转换成非规范化的URI。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">insert?(uri: string, valueBucket: rdb.ValuesBucket, callback: AsyncCallback&lt;number&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">向数据中插入一条数据。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">openFile?(uri: string, mode: string, callback: AsyncCallback&lt;number&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">打开一个文件。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">getFileTypes?(uri: string, mimeTypeFilter: string, callback: AsyncCallback&lt;Array&lt;string&gt;&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">获取文件的MIME类型。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">getType?(uri: string, callback: AsyncCallback&lt;string&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">获取URI指定数据相匹配的MIME类型。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">executeBatch?(ops: Array&lt;DataAbilityOperation&gt;, callback: AsyncCallback&lt;Array&lt;DataAbilityResult&gt;&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">批量操作数据库中的数据。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">call?(method: string, arg: string, extras: PacMap, callback: AsyncCallback&lt;PacMap&gt;): void</td> <td class="cellrowborder" valign="top" width="50%">自定义方法。</td> </tr>  </tbody></table></div> </div> </div> <div></div></div>