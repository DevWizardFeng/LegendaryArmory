<h1 _ngcontent-vrh-c119="" class="doc-title ng-star-inserted" title="Disassembler反汇编工具"> Disassembler反汇编工具 </h1>

<div _ngcontent-vrh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div> <div class="tiledSection"><h2 id="简介">简介<i class="anchor-icon anchor-icon-link" anchorid="简介" tips="复制节点链接"></i></h2><p>Disassembler是ArkTS反汇编工具。如果需要分析方舟字节码文件（*.abc）相关问题，开发者可以使用Disassembler将方舟字节码文件反编译为可读的汇编指令。</p> <p>工具随DevEco Studio SDK发布。以Windows平台为例，Disassembler工具位于DevEco Studio/sdk/default/openharmony/toolchains/ark_disasm.exe。</p> </div>  <div class="tiledSection"><h2 id="命令行说明">命令行说明<i class="anchor-icon anchor-icon-link" anchorid="命令行说明" tips="复制节点链接"></i></h2><p>反汇编命令如下：</p> <div _ngcontent-vrh-c106="" class="highlight-div"><div _ngcontent-vrh-c106="" class="highlight-div-header"><div _ngcontent-vrh-c106="" class="highlight-div-header-left"><div _ngcontent-vrh-c106="" class="handle-button expand-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vrh-c106="" class="highlight-div-header-right"><div _ngcontent-vrh-c106="" class="handle-button ai-button"></div><div _ngcontent-vrh-c106="" class="handle-button line-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vrh-c106="" class="handle-button theme-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vrh-c106="" class="handle-button copy-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vrh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>ark_disasm<span class="hljs-selector-class">.exe</span> <span class="hljs-selector-attr">[options]</span> input_file output_file</li></ol></pre></div></div> <p>参数说明：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.5.1.4.1.1" valign="top" width="33.33333333333333%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.2.5.1.4.1.2" valign="top" width="33.33333333333333%">是否可缺省</th> <th align="left" class="cellrowborder" id="mcps1.3.2.5.1.4.1.3" valign="top" width="33.33333333333333%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%">[options]</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">可缺省</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">命令选项，详见下文options选项说明。</td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%">input_file</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">不可缺省</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">待反汇编的方舟字节码文件路径。</td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%">output_file</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">不可缺省</td> <td class="cellrowborder" valign="top" width="33.33333333333333%">反汇编内容的输出文件路径。</td> </tr>  </tbody></table></div> </div> <p>options选项说明：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.7.1.5.1.1" valign="top" width="25%">选项</th> <th align="left" class="cellrowborder" id="mcps1.3.2.7.1.5.1.2" valign="top" width="25%">必填</th> <th align="left" class="cellrowborder" id="mcps1.3.2.7.1.5.1.3" valign="top" width="25%">存在入参</th> <th align="left" class="cellrowborder" id="mcps1.3.2.7.1.5.1.4" valign="top" width="25%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="25%">--debug</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">启用输出调试信息，默认输出到屏幕。</td> </tr> <tr><td class="cellrowborder" valign="top" width="25%">--debug-file</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">是</td> <td class="cellrowborder" valign="top" width="25%">如果使能了--debug，指定调试信息的输出文件。</td> </tr> <tr><td class="cellrowborder" valign="top" width="25%">--help</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">打印帮助提示。</td> </tr> <tr><td class="cellrowborder" valign="top" width="25%">--skip-string-literals</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">跳过对字符串字面量的反汇编。</td> </tr> <tr><td class="cellrowborder" valign="top" width="25%">--quiet</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">使能所有'--skip-'开头的选项。</td> </tr> <tr><td class="cellrowborder" valign="top" width="25%">--verbose</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">使能输出额外信息（字节位置、方舟字节码格式、操作码）。</td> </tr> <tr><td class="cellrowborder" valign="top" width="25%">--version</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">否</td> <td class="cellrowborder" valign="top" width="25%">显示配套的方舟字节码文件版本号以及最低支持的方舟字节码文件版本。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="使用示例">使用示例<i class="anchor-icon anchor-icon-link" anchorid="使用示例" tips="复制节点链接"></i></h2><p>假设已存在方舟字节码文件：test.abc，其源代码如下：</p> <div _ngcontent-vrh-c106="" class="highlight-div"><div _ngcontent-vrh-c106="" class="highlight-div-header"><div _ngcontent-vrh-c106="" class="highlight-div-header-left"><div _ngcontent-vrh-c106="" class="handle-button expand-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vrh-c106="" class="highlight-div-header-right"><div _ngcontent-vrh-c106="" class="handle-button ai-button"></div><div _ngcontent-vrh-c106="" class="handle-button line-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vrh-c106="" class="handle-button theme-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vrh-c106="" class="handle-button copy-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vrh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-csharp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> i = <span class="hljs-number">99</span>;</li><li><span class="hljs-function">function <span class="hljs-title">show</span>()</span>{<span class="hljs-keyword">return</span> i;}</li><li>show();</li></ol></pre></div></div> <p>执行如下命令生成反汇编文件：test.txt，文件内包含操作码及格式等信息。</p> <div _ngcontent-vrh-c106="" class="highlight-div"><div _ngcontent-vrh-c106="" class="highlight-div-header"><div _ngcontent-vrh-c106="" class="highlight-div-header-left"><div _ngcontent-vrh-c106="" class="handle-button expand-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vrh-c106="" class="highlight-div-header-right"><div _ngcontent-vrh-c106="" class="handle-button ai-button"></div><div _ngcontent-vrh-c106="" class="handle-button line-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vrh-c106="" class="handle-button theme-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vrh-c106="" class="handle-button copy-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vrh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" data-highlighted="yes"><ol class="linenums"><li>ark_disasm.exe test.abc test.txt</li></ol></pre></div></div> <p>查看反汇编文件的内容。</p> <div _ngcontent-vrh-c106="" class="highlight-div"><div _ngcontent-vrh-c106="" class="highlight-div-header"><div _ngcontent-vrh-c106="" class="highlight-div-header-left"><div _ngcontent-vrh-c106="" class="handle-button expand-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vrh-c106="" class="highlight-div-header-right"><div _ngcontent-vrh-c106="" class="handle-button ai-button"></div><div _ngcontent-vrh-c106="" class="handle-button line-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vrh-c106="" class="handle-button theme-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vrh-c106="" class="handle-button copy-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vrh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">cat</span> test.txt</li></ol></pre></div></div> <p>内容如下：</p> <div _ngcontent-vrh-c106="" class="highlight-div"><div _ngcontent-vrh-c106="" class="highlight-div-header"><div _ngcontent-vrh-c106="" class="highlight-div-header-left"><div _ngcontent-vrh-c106="" class="handle-button expand-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vrh-c106="" class="highlight-div-header-right"><div _ngcontent-vrh-c106="" class="handle-button ai-button"></div><div _ngcontent-vrh-c106="" class="handle-button line-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vrh-c106="" class="handle-button theme-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vrh-c106="" class="handle-button copy-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vrh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li># <span class="hljs-variable">source</span> <span class="hljs-variable">binary</span>: <span class="hljs-title class_">test</span>.<span class="hljs-title class_">abc</span>                                                    <span class="hljs-comment">// 反汇编的方舟字节码文件</span></li><li>
</li><li>.<span class="hljs-variable">language</span> <span class="hljs-variable">ECMAScript</span></li><li>
</li><li># ====================</li><li># <span class="hljs-variable">LITERALS</span>                                                                   <span class="hljs-comment">// 字面量数据</span></li><li>
</li><li><span class="hljs-number">0</span> <span class="hljs-number">0x203</span> { <span class="hljs-number">0</span> [</li><li>    <span class="hljs-variable">MODULE_REQUEST_ARRAY</span>: {</li><li>    };</li><li>]}</li><li>
</li><li># ====================</li><li># <span class="hljs-variable">RECORDS</span>                                                                    <span class="hljs-comment">// 模块定义数据</span></li><li>
</li><li>.<span class="hljs-variable">record</span> <span class="hljs-variable">_ESConcurrentModuleRequestsAnnotation</span> {                              <span class="hljs-comment">// _开头这些都是固定的模块数据</span></li><li>}</li><li>
</li><li>.<span class="hljs-variable">record</span> <span class="hljs-variable">test</span> {                                                               <span class="hljs-comment">// 一个js文件对应一个模块数据，包含了模块的相关信息（在方舟字节码文件中的位置，是否是commonjs ...）</span></li><li>    <span class="hljs-variable">u8</span> <span class="hljs-variable">isCommonjs</span> = <span class="hljs-number">0x0</span></li><li>    <span class="hljs-variable">u32</span> <span class="hljs-variable">moduleRecordIdx</span> = <span class="hljs-number">0x203</span></li><li>    ......</li><li>}</li><li>
</li><li># ====================</li><li># <span class="hljs-variable">METHODS</span>                                                                    <span class="hljs-comment">// 方法定义数据</span></li><li>
</li><li><span class="hljs-variable">L_ESSlotNumberAnnotation</span>:</li><li>    <span class="hljs-variable">u32</span> <span class="hljs-variable">slotNumberIdx</span> { <span class="hljs-number">0x0</span> }</li><li>.<span class="hljs-variable">function</span> <span class="hljs-variable">any</span> <span class="hljs-variable">test</span>.#*#<span class="hljs-title function_">show</span>(<span class="hljs-variable">any</span> <span class="hljs-variable">a0</span>, <span class="hljs-variable">any</span> <span class="hljs-variable">a1</span>, <span class="hljs-variable">any</span> <span class="hljs-variable">a2</span>) &lt;<span class="hljs-keyword">static</span>&gt; {                <span class="hljs-comment">// 此方法源码中的show方法，同时这里也说明了，它属于test模块</span></li><li>    <span class="hljs-variable">ldlexvar</span> <span class="hljs-number">0x0</span>, <span class="hljs-number">0x0</span></li><li>    ......</li><li>}</li><li>
</li><li><span class="hljs-variable">L_ESSlotNumberAnnotation</span>:</li><li>    <span class="hljs-variable">u32</span> <span class="hljs-variable">slotNumberIdx</span> { <span class="hljs-number">0x3</span> }</li><li>.<span class="hljs-variable">function</span> <span class="hljs-variable">any</span> <span class="hljs-variable">test</span>.<span class="hljs-title function_">func_main_0</span>(<span class="hljs-variable">any</span> <span class="hljs-variable">a0</span>, <span class="hljs-variable">any</span> <span class="hljs-variable">a1</span>, <span class="hljs-variable">any</span> <span class="hljs-variable">a2</span>) &lt;<span class="hljs-keyword">static</span>&gt; {            <span class="hljs-comment">// 此方法是自动生成的，可以理解成整个js文件就是一个方法，方法名为func_main_0</span></li><li>    <span class="hljs-variable">newlexenv</span> <span class="hljs-number">0x1</span></li><li>    ......</li><li>}</li><li>
</li><li># ====================</li><li># <span class="hljs-variable">STRING</span>                                                                     <span class="hljs-comment">// 符号表信息</span></li><li>
</li><li>[<span class="hljs-variable">offset</span>:<span class="hljs-number">0x88</span>, <span class="hljs-variable">name_value</span>:<span class="hljs-title class_">i</span>]</li></ol></pre></div></div> <p>使用参数--verbose，可打印偏移量等更多详细信息。</p> <div _ngcontent-vrh-c106="" class="highlight-div"><div _ngcontent-vrh-c106="" class="highlight-div-header"><div _ngcontent-vrh-c106="" class="highlight-div-header-left"><div _ngcontent-vrh-c106="" class="handle-button expand-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vrh-c106="" class="highlight-div-header-right"><div _ngcontent-vrh-c106="" class="handle-button ai-button"></div><div _ngcontent-vrh-c106="" class="handle-button line-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vrh-c106="" class="handle-button theme-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vrh-c106="" class="handle-button copy-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vrh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" data-highlighted="yes"><ol class="linenums"><li>ark_disasm<span class="hljs-selector-class">.exe</span> <span class="hljs-attr">--verbose</span> test<span class="hljs-selector-class">.abc</span> test<span class="hljs-selector-class">.txt</span></li></ol></pre></div></div> <p>此处列出部分示例。</p> <div _ngcontent-vrh-c106="" class="highlight-div"><div _ngcontent-vrh-c106="" class="highlight-div-header"><div _ngcontent-vrh-c106="" class="highlight-div-header-left"><div _ngcontent-vrh-c106="" class="handle-button expand-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-vrh-c106="" class="highlight-div-header-right"><div _ngcontent-vrh-c106="" class="handle-button ai-button"></div><div _ngcontent-vrh-c106="" class="handle-button line-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-vrh-c106="" class="handle-button theme-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-vrh-c106="" class="handle-button copy-button"><div _ngcontent-vrh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-vrh-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" data-highlighted="yes"><ol class="linenums"><li>.<span class="hljs-variable">record</span> <span class="hljs-variable">_ESSlotNumberAnnotation</span> { # <span class="hljs-variable">offset</span>: <span class="hljs-number">0x00cd</span>, <span class="hljs-variable">size</span>: <span class="hljs-number">0x0026</span> (<span class="hljs-number">38</span>)                                  <span class="hljs-comment">// 这里打印了模块在方舟字节码文件中具体的位置和大小</span></li><li>}</li><li>
</li><li>.<span class="hljs-variable">record</span> <span class="hljs-variable">test</span> { # <span class="hljs-variable">offset</span>: <span class="hljs-number">0x00f3</span>, <span class="hljs-variable">size</span>: <span class="hljs-number">0x0098</span> (<span class="hljs-number">152</span>)                                                    <span class="hljs-comment">// 这里打印了模块在方舟字节码文件中具体的位置</span></li><li>    <span class="hljs-variable">u32</span> <span class="hljs-variable">moduleRecordIdx</span> = <span class="hljs-number">0x203</span> # <span class="hljs-variable">offset</span>: <span class="hljs-number">0x0144</span>                                                   <span class="hljs-comment">// 这里打印了模块信息的位置</span></li><li>}</li><li>......</li><li>.<span class="hljs-variable">function</span> <span class="hljs-variable">any</span> <span class="hljs-variable">test</span>.#*#<span class="hljs-title function_">show</span>(<span class="hljs-variable">any</span> <span class="hljs-variable">a0</span>, <span class="hljs-variable">any</span> <span class="hljs-variable">a1</span>, <span class="hljs-variable">any</span> <span class="hljs-variable">a2</span>) &lt;<span class="hljs-keyword">static</span>&gt; { # <span class="hljs-variable">offset</span>: <span class="hljs-number">0x0153</span>, <span class="hljs-variable">code</span> <span class="hljs-variable">offset</span>: <span class="hljs-number">0x0245</span>    <span class="hljs-comment">// 这里打印了方法信息具体的位置和方法中指令的具体位置</span></li><li>#   <span class="hljs-variable">CODE</span>:</li><li>    <span class="hljs-variable">ldlexvar</span> <span class="hljs-number">0x0</span>, <span class="hljs-number">0x0</span> # <span class="hljs-variable">offset</span>: <span class="hljs-number">0x0249</span>, [<span class="hljs-variable">IMM4_IMM4</span>].........[<span class="hljs-number">0x3c</span> <span class="hljs-number">0x00</span>]                            <span class="hljs-comment">// 这里打印了每条指令的具体位置</span></li><li>    ......</li><li>}</li></ol></pre></div></div> </div> </div> <div></div></div>