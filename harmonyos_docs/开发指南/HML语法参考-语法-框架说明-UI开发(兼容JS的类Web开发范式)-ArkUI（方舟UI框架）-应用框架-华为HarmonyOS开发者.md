<h1 _ngcontent-wvi-c119="" class="doc-title ng-star-inserted" title="HML语法参考"> HML语法参考 </h1>

<div _ngcontent-wvi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>HML是一套类HTML的标记语言，通过组件，事件构建出页面的内容。页面具备数据绑定、事件绑定、列表渲染、条件渲染和逻辑控制等高级能力。</p>    <div class="tiledSection">     <h2 id="页面结构">页面结构<i class="anchor-icon anchor-icon-link" anchorid="页面结构" tips="复制节点链接"></i></h2>          <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-title"</span>&gt;</span>Image Show<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item-content"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/common/xxx.png"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h2 id="数据绑定">数据绑定<i class="anchor-icon anchor-icon-link" anchorid="数据绑定" tips="复制节点链接"></i></h2>          <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"changeText"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span> {{content[1]}} <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/*xxx.css*/</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">200px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">content</span>: [<span class="hljs-string">'Hello World!'</span>, <span class="hljs-string">'Welcome to my world!'</span>]</li><li>  },</li><li>  <span class="hljs-attr">changeText</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>[<span class="hljs-number">0</span>]);</li><li>  }</li><li>}</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>针对数组内的数据修改，请使用splice方法生效数据绑定变更。</p></li>        <li>         <p>hml文件中的js表达式不支持ES6语法。</p></li>       </ul>      </div></div></div>     <p><span><img originheight="114" originwidth="372" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114903.03868663845154635356217845957477:50001231000000:2800:8FDBB308667C8B640D4C3A6AB62C44FA7D56EDB3D22E4955F01B36EC674761C9.png" width="372" height="114"></span></p>    </div>    <div class="tiledSection">     <h2 id="普通事件绑定">普通事件绑定<i class="anchor-icon anchor-icon-link" anchorid="普通事件绑定" tips="复制节点链接"></i></h2>          <p>事件通过'on'或者'@'绑定在组件上，当组件触发事件时会执行JS文件中对应的事件处理函数。</p>     <p>事件支持的写法有：</p>     <ul>      <li>       <p>"funcName"：funcName为事件回调函数名（在JS文件中定义相应的函数实现）。</p></li>      <li>       <p>"funcName(a,b)"：函数参数例如a，b可以是常量，或者是在JS文件中的data中定义的变量（前面不用写this.）。</p></li>      <li>       <p>示例</p>       <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>{{count}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"increase"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"increase"</span> /&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"decrease"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"decrease"</span> /&gt;</span></li><li>        <span class="hljs-comment">&lt;!-- 传递额外参数 --&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"double"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"multiply(2)"</span> /&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"decuple"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"multiply(10)"</span> /&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"square"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"multiply(count)"</span> /&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>       <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span></li><li>  },</li><li>  <span class="hljs-title function_">increase</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;</li><li>  },</li><li>  <span class="hljs-title function_">decrease</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>--;</li><li>  },</li><li>  <span class="hljs-title function_">multiply</span>(<span class="hljs-params">multiplier</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = multiplier * <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>;</li><li>  }</li><li>};</li></ol></pre></div></div>       <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>    <span class="hljs-attribute">display</span>: flex;</li><li>    <span class="hljs-attribute">flex-direction</span>: column;</li><li>    <span class="hljs-attribute">justify-content</span>: center;</li><li>    <span class="hljs-attribute">align-items</span>: center;</li><li>    <span class="hljs-attribute">left</span>: <span class="hljs-number">0px</span>;</li><li>    <span class="hljs-attribute">top</span>: <span class="hljs-number">0px</span>;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">454px</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">454px</span>;</li><li>}</li><li><span class="hljs-selector-class">.title</span> {</li><li>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</li><li>    <span class="hljs-attribute">text-align</span>: center;</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>}</li><li><span class="hljs-selector-class">.box</span> {</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">454px</span>;</li><li>    <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</li><li>    <span class="hljs-attribute">justify-content</span>: center;</li><li>    <span class="hljs-attribute">align-items</span>: center;</li><li>    <span class="hljs-attribute">flex-wrap</span>: wrap;</li><li>}</li><li><span class="hljs-selector-class">.btn</span> {</li><li>    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</li><li>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">0</span>;</li><li>    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;</li><li>    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">10px</span>;</li><li>}</li></ol></pre></div></div></li>     </ul>     <p><span><img originheight="293" originwidth="396" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114903.47157868496509409615222209728822:50001231000000:2800:FA5C53AFF21BBC390232C623BCA21586773EB46B563665BB693F4E8F1C8A05DD.gif" width="396" height="293"></span></p>    </div>    <div class="tiledSection">     <h2 id="冒泡事件绑定5">冒泡事件绑定<sup>5+</sup><i class="anchor-icon anchor-icon-link" anchorid="冒泡事件绑定5" tips="复制节点链接"></i></h2>          <p>冒泡事件绑定包括：</p>     <ul>      <li>       <p>绑定冒泡事件：on:{event}.bubble。on:{event}等价于on:{event}.bubble。</p></li>      <li>       <p>绑定并阻止冒泡事件向上冒泡：grab:{event}.bubble。grab:{event}等价于grab:{event}.bubble。</p>       <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">         <p>冒泡事件是指多个组件嵌套时，组件之间会有层次关系，当这些组件注册了相同的事件时，这个事件会首先运行在该元素上的处理程序，然后运行其父元素上的处理程序，一直向上到其他祖先上的处理程序。如果当一个组件触发了这个事件，它会首先触发该组件的回调函数，然后触发其父元素上的回调函数，然后触发其他祖先上的处理程序。</p>         <p>详细冒泡事件说明参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-common-events" target="_blank">通用事件</a>章节。</p>        </div></div></div></li>      <li>       <p>示例</p>       <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>   <span class="hljs-comment">&lt;!-- 使用事件冒泡模式绑定事件回调函数。5+ --&gt;</span>;</li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">on:touchstart.bubble</span>=<span class="hljs-string">"touchstartfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: red; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">on:touchstart</span>=<span class="hljs-string">"touchstartfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: orange; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-comment">&lt;!-- 绑定事件回调函数，但阻止事件向上传递。5+ --&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">grab:touchstart.bubble</span>=<span class="hljs-string">"touchstartfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: yellow; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">grab:touchstart</span>=<span class="hljs-string">"touchstartfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: greenyellow; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-comment">&lt;!-- 使用事件冒泡模式绑定事件回调函数。6+ --&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">on:click.bubble</span>=<span class="hljs-string">"clickfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: lightskyblue; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">on:click</span>=<span class="hljs-string">"clickfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: cornflowerblue; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-comment">&lt;!-- 绑定事件回调函数，但阻止事件向上传递。6+ --&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">grab:click.bubble</span>=<span class="hljs-string">"clickfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: mediumslateblue; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">grab:click</span>=<span class="hljs-string">"clickfunc"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-color: purple; width: 10%; height: 100%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>       <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>    <span class="hljs-attr">clickfunc</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(e);</li><li>    },</li><li>    <span class="hljs-attr">touchstartfunc</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(e);</li><li>    },</li><li>}</li></ol></pre></div></div></li>     </ul>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>采用旧写法(onclick)的事件绑定在最小API版本6以下时采用不冒泡处理，在最小API版本为6及6以上时采用冒泡处理。</p>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="捕获事件绑定5">捕获事件绑定<sup>5+</sup><i class="anchor-icon anchor-icon-link" anchorid="捕获事件绑定5" tips="复制节点链接"></i></h2>          <p>Touch触摸类事件支持捕获，捕获阶段位于冒泡阶段之前，捕获事件先到达父组件然后到达子组件。</p>     <p>捕获事件绑定包括：</p>     <ul>      <li>       <p>绑定捕获事件：on:{event}.capture。</p></li>      <li>       <p>绑定并阻止事件向下传递：grab:{event}.capture。</p></li>      <li>       <p>示例</p>       <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-comment">&lt;!-- 使用事件捕获模式绑定事件回调函数。5+ --&gt;</span>    </li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">on:touchstart.capture</span>=<span class="hljs-string">"touchstartfunc"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-comment">&lt;!-- 绑定事件回调函数，但阻止事件向下传递。5+ --&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">grab:touchstart.capture</span>=<span class="hljs-string">"touchstartfunc"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>       <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>    <span class="hljs-attr">touchstartfunc</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(e);</li><li>    },</li><li>}</li></ol></pre></div></div></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="列表渲染">列表渲染<i class="anchor-icon anchor-icon-link" anchorid="列表渲染" tips="复制节点链接"></i></h2>          <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"array-container"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"flex-direction: column;margin: 200px;"</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- div列表渲染 --&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 默认$item代表数组中的元素, $idx代表数组中的元素索引 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"{{array}}"</span> <span class="hljs-attr">tid</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"changeText"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{$idx}}.{{$item.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 自定义元素变量名称 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"{{value in array}}"</span> <span class="hljs-attr">tid</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"changeText"</span>&gt;</span>    </li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{$idx}}.{{value.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-comment">&lt;!-- 自定义元素变量、索引名称 --&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"{{(index, value) in array}}"</span> <span class="hljs-attr">tid</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"changeText"</span>&gt;</span>    </li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{index}}.{{value.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">array</span>: [</li><li>      {<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'jack'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>},</li><li>      {<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'tony'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>},</li><li>    ],</li><li>  },</li><li>  <span class="hljs-attr">changeText</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>[<span class="hljs-number">1</span>].<span class="hljs-property">name</span> === <span class="hljs-string">"tony"</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, {<span class="hljs-attr">id</span>:<span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Isabella'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>});</li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">array</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, {<span class="hljs-attr">id</span>:<span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Bary'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>});</li><li>    }</li><li>  },</li><li>}</li></ol></pre></div></div>     <p>tid属性主要用来加速for循环的重渲染，旨在列表中的数据有变更时，提高重新渲染的效率。tid属性是用来指定数组中每个元素的唯一标识，如果未指定，数组中每个元素的索引为该元素的唯一id。例如上述tid="id"表示数组中的每个元素的id属性为该元素的唯一标识。for循环支持的写法如下：</p>     <ul>      <li>       <p>for="array"：其中array为数组对象，array的元素变量默认为$item。</p></li>      <li>       <p>for="v in array"：其中v为自定义的元素变量，元素索引默认为$idx。</p></li>      <li>       <p>for="(i, v) in array"：其中元素索引为i，元素变量为v，遍历数组对象array。</p></li>     </ul>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>数组中的每个元素必须存在tid指定的数据属性，否则运行时可能会导致异常。</p></li>        <li>         <p>数组中被tid指定的属性要保证唯一性，如果不是则会造成性能损耗。比如，示例中只有id和name可以作为tid字段，因为它们属于唯一字段。</p></li>        <li>         <p>tid不支持表达式。</p></li>       </ul>      </div></div></div>     <p><span><img originheight="217" originwidth="344" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114904.80596072350709682367229598296232:50001231000000:2800:F60A46A202C8B2A698B923B243FCA83A704F84753722F424B04CC32AC7562788.gif" width="344" height="217"></span></p>    </div>    <div class="tiledSection">     <h2 id="条件渲染">条件渲染<i class="anchor-icon anchor-icon-link" anchorid="条件渲染" tips="复制节点链接"></i></h2>          <p>条件渲染分为2种：if/elif/else和show。两种写法的区别在于：第一种写法里if为false时，组件不会在vdom中构建，也不会渲染，而第二种写法里show为false时虽然也不渲染，但会在vdom中构建；另外，当使用if/elif/else写法时，节点必须是兄弟节点，否则编译无法通过。实例如下：</p>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"toggleShow"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"toggleShow"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"toggleDisplay"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"toggleDisplay"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">if</span>=<span class="hljs-string">"{{visible}}"</span>&gt;</span> Hello-world1 <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">elif</span>=<span class="hljs-string">"{{display}}"</span>&gt;</span> Hello-world2 <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">else</span>&gt;</span> Hello-World <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li><span class="hljs-selector-class">.btn</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">280px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">26px</span>;</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">display</span>: <span class="hljs-literal">true</span>,</li><li>  },</li><li>  <span class="hljs-attr">toggleShow</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visible</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">visible</span>;</li><li>  },</li><li>  <span class="hljs-attr">toggleDisplay</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">display</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">display</span>;</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="217" originwidth="344" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114904.94904291063677660912430721447701:50001231000000:2800:11722A3C306EB50181B64FAF6D0B8572FD02FE79CF970113740E8F35F070B2B1.gif" width="344" height="217"></span></p>     <p>优化渲染：show方法。当show为true时，节点正常渲染；当为false时，仅仅设置display样式为none。</p>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"toggle"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"toggle"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">show</span>=<span class="hljs-string">"{{visible}}"</span> &gt;</span> Hello World <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li><span class="hljs-selector-class">.btn</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">280px</span>;</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">26px</span>;</li><li>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>,</li><li>  },</li><li>  <span class="hljs-attr">toggle</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visible</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">visible</span>;</li><li>  },</li><li>}</li></ol></pre></div></div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <p>禁止在同一个元素上同时设置for和if属性。</p>      </div></div></div>     <p><span><img originheight="217" originwidth="344" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114904.21634210909957736648831593839832:50001231000000:2800:8F5918443936ABE0600051FB1E959DF1DC10F78319021B2DFEC22916F5A06872.gif" width="344" height="217"></span></p>    </div>    <div class="tiledSection">     <h2 id="逻辑控制块">逻辑控制块<i class="anchor-icon anchor-icon-link" anchorid="逻辑控制块" tips="复制节点链接"></i></h2>          <p>&lt;block&gt;控制块使得循环渲染和条件渲染变得更加灵活；block在构建时不会被当作真实的节点编译。注意block标签只支持for和if属性。</p>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"glasses"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">list-item</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"glasses"</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{$item.name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">list-item</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"$item.kinds"</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">list-item</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"kind"</span>&gt;</span></li><li>        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{$item.color}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;/<span class="hljs-name">list-item</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">glasses</span>: [</li><li>      {<span class="hljs-attr">name</span>:<span class="hljs-string">'sunglasses'</span>, <span class="hljs-attr">kinds</span>:[{<span class="hljs-attr">name</span>:<span class="hljs-string">'XXX'</span>,<span class="hljs-attr">color</span>:<span class="hljs-string">'XXX'</span>},{<span class="hljs-attr">name</span>:<span class="hljs-string">'XXX'</span>,<span class="hljs-attr">color</span>:<span class="hljs-string">'XXX'</span>}]},</li><li>      {<span class="hljs-attr">name</span>:<span class="hljs-string">'nearsightedness mirror'</span>, <span class="hljs-attr">kinds</span>:[{<span class="hljs-attr">name</span>:<span class="hljs-string">'XXX'</span>,<span class="hljs-attr">color</span>:<span class="hljs-string">'XXX'</span>}]},</li><li>    ],</li><li>  },</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="138" originwidth="339" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114904.37368986464294383893006560083949:50001231000000:2800:0166C56B87DAE43D46C8713257F667E8AAE2662BDC131C60B05869231D7BE1B8.png" width="339" height="138"></span></p>    </div>    <div class="tiledSection">     <h2 id="模板引用">模板引用<i class="anchor-icon anchor-icon-link" anchorid="模板引用" tips="复制节点链接"></i></h2>          <p>HML可以通过element引用模板文件，详细介绍可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-custom-basic-usage" target="_blank">自定义组件的基本用法</a>章节。</p>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- template.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;</span> </li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>Name: {{name}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>Age: {{age}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-wvi-c106="" class="highlight-div"><div _ngcontent-wvi-c106="" class="highlight-div-header"><div _ngcontent-wvi-c106="" class="highlight-div-header-left"><div _ngcontent-wvi-c106="" class="handle-button expand-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wvi-c106="" class="highlight-div-header-right"><div _ngcontent-wvi-c106="" class="handle-button ai-button"></div><div _ngcontent-wvi-c106="" class="handle-button line-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wvi-c106="" class="handle-button theme-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wvi-c106="" class="handle-button copy-button"><div _ngcontent-wvi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wvi-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- index.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'comp'</span> <span class="hljs-attr">src</span>=<span class="hljs-string">'../../common/template.hml'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">element</span>&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">comp</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Tony"</span> <span class="hljs-attr">age</span>=<span class="hljs-string">"18"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>    </div>   </div>   <div></div></div>