<h1 _ngcontent-nwk-c119="" class="doc-title ng-star-inserted" title="HTTP缓存基本功能"> HTTP缓存基本功能 </h1>

<div _ngcontent-nwk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>从6.0.0(20)开始，支持HTTP缓存。</p>    <p>HTTP 缓存是一种在客户端存储网络资源副本的机制，当后续请求相同资源时，可直接从缓存中获取，无需再次向服务器发起完整请求。HTTP 缓存适用于静态资源（如图片、CSS）和高访问量内容，能有效提升网络资源获取性能。Remote Communication Kit模块提供HTTP缓存功能，遵循<a href="https://www.rfc-editor.org/rfc/rfc9111.html" target="_blank">RFC9111</a>协议，支持独立配置缓存策略与持久化存储路径，实现内存、磁盘双重缓存管理，并提供自定义缓存拦截器能力。</p>    <div class="tiledSection">     <h2 id="section20348728182712">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section20348728182712" tips="复制节点链接"></i></h2>          <p>HTTP缓存基本功能能力支持Phone、2in1、Tablet、Wearable、TV设备。</p>    </div>    <div class="tiledSection">     <h2 id="section71222326515">使用HTTP缓存<i class="anchor-icon anchor-icon-link" anchorid="section71222326515" tips="复制节点链接"></i></h2>          <p>在需要频繁获取网络热点数据的场景下，网络请求耗时在总时长中占比较大。开发者可以通过创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1124718239340" target="_blank">ResponseCache</a>实例，并将其配置到Session中，即可使用HTTP缓存功能，提升资源加载性能。</p>    </div>    <ol>     <li><span>导入模块。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li></ol></pre></div></div>      <p></p></li>     <li><span>创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1124718239340" target="_blank">ResponseCache</a>实例。其中，pathToFolder即HTTP缓存响应记录文件路径，“/path/dir“请根据实际情况替换为想要存储HTTP缓存的沙箱路径。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> responseCache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>  <span class="hljs-attr">persistent</span>: {</li><li>    <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>    <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>  }</li><li>});</li></ol></pre></div></div>      <p></p></li>     <li><span>创建会话。在创建Session时，传入responseCache实例。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">session</span>: rcp.<span class="hljs-property">Session</span> = rcp.<span class="hljs-title function_">createSession</span>({</li><li>  <span class="hljs-attr">requestConfiguration</span>: {</li><li>    <span class="hljs-attr">cache</span>: responseCache</li><li>  }</li><li>});</li></ol></pre></div></div>      <p></p></li>     <li><span>发起第一次请求。“https://www.example.com“请根据实际情况替换为支持HTTP缓存协议的URL。本次请求将会从网络服务器获取数据，此时可查看缓存状态信息，若HTTP缓存成功，此时缓存条数应当为1。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> responseA = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Request succeeded, message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(responseA)}</span>`</span>);</li><li><span class="hljs-keyword">let</span> cacheState = <span class="hljs-keyword">await</span> responseCache.<span class="hljs-title function_">getState</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The current number of cache entries is: <span class="hljs-subst">${cacheState.count}</span>`</span>);</li></ol></pre></div></div>      <p></p></li>     <li><span>发起第二次请求。由于上次请求将会把响应存储到缓存中，第二次请求将会直接从缓存中获取响应。此时可查看缓存状态信息，此时缓存命中数应当为1。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> responseB = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Request succeeded, message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(responseB)}</span>`</span>);</li><li>cacheState = <span class="hljs-keyword">await</span> responseCache.<span class="hljs-title function_">getState</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The current cache hit count is: <span class="hljs-subst">${cacheState.hitCount}</span>`</span>);</li></ol></pre></div></div>      <p></p></li>    </ol>    <div class="tiledSection">     <h2 id="section065419152467">配置缓存过期策略<i class="anchor-icon anchor-icon-link" anchorid="section065419152467" tips="复制节点链接"></i></h2>          <p>Remote Communication Kit提供了丰富的缓存过期策略配置项供开发者使用，包括永不过期、绝对时间、相对时间以及滑动时间过期策略，具体API说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section962212143274" target="_blank">接口文档</a>。开发者可以根据业务特性选择不同的缓存过期策略，灵活调整缓存生命周期。下面以相对时间过期策略配置为例，讲述如何配置缓存过期策略，并体会对应的缓存逻辑。</p>    </div>    <ol>     <li><span>导入模块。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { rcp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.RemoteCommunicationKit'</span>;</li></ol></pre></div></div>      <p></p></li>     <li><span>创建<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1124718239340" target="_blank">ResponseCache</a>实例。其中，pathToFolder即HTTP缓存响应记录文件路径，”/path/dir”请根据实际情况替换为想要存储HTTP缓存的沙箱路径。defaultExpirationPolicy即默认过期策略，示例代码中配置了时间间隔3秒的相对时间过期策略，具体API说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/remote-communication-rcp#section1655411614379" target="_blank">RelativeTimeExpirationPolicy</a>。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> responseCache = <span class="hljs-keyword">new</span> rcp.<span class="hljs-title class_">ResponseCache</span>({</li><li>  <span class="hljs-attr">persistent</span>: {</li><li>    <span class="hljs-attr">kind</span>: <span class="hljs-string">'file-system'</span>,</li><li>    <span class="hljs-attr">pathToFolder</span>: <span class="hljs-string">"/path/dir"</span> <span class="hljs-comment">// 请根据自身业务选择合适的路径</span></li><li>  },</li><li>  <span class="hljs-comment">// 过期策略配置，可根据业务特性进行选择</span></li><li>  <span class="hljs-attr">defaultExpirationPolicy</span>: {</li><li>    <span class="hljs-attr">kind</span>: <span class="hljs-string">'relative'</span>,</li><li>    <span class="hljs-attr">time</span>: {</li><li>      <span class="hljs-attr">units</span>: <span class="hljs-string">'seconds'</span>,</li><li>      <span class="hljs-attr">value</span>: <span class="hljs-number">3</span>,</li><li>    }</li><li>  }</li><li>});</li></ol></pre></div></div>      <p></p></li>     <li><span>创建会话。在创建Session时，传入responseCache实例。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> <span class="hljs-attr">session</span>: rcp.<span class="hljs-property">Session</span> = rcp.<span class="hljs-title function_">createSession</span>({</li><li>  <span class="hljs-attr">requestConfiguration</span>: {</li><li>    <span class="hljs-attr">cache</span>: responseCache</li><li>  }</li><li>});</li></ol></pre></div></div>      <p></p></li>     <li id="li1291483555414"><a name="ZH-CN_TOPIC_0000002294696912__li1291483555414"></a><a name="li1291483555414"></a><span>发起第一次请求。”https://www.example.com”请根据实际情况替换为支持HTTP缓存协议的URL。本次请求将会从网络服务器获取数据，此时可查看缓存状态信息，若HTTP缓存成功，此时缓存条数应当为1。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> responseA = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Request succeeded, message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(responseA)}</span>`</span>);</li><li><span class="hljs-keyword">let</span> cacheState = <span class="hljs-keyword">await</span> responseCache.<span class="hljs-title function_">getState</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The current number of cache entries is: <span class="hljs-subst">${cacheState.count}</span>`</span>);</li></ol></pre></div></div>      <p></p></li>     <li><span>定义sleep延时函数，并延时4秒。由于配置的缓存过期策略为3秒，此时若延时4秒，<a href="/consumer/cn/doc/harmonyos-guides/remote-communication-cache-basic#li1291483555414">步骤4</a>中存储的缓存记录将会过期。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 定义sleep函数，入参timeout单位为ms。</span></li><li><span class="hljs-keyword">type</span> sleepFn = <span class="hljs-function">(<span class="hljs-params">a: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-literal">null</span>&gt;</li><li><span class="hljs-keyword">const</span> <span class="hljs-attr">sleep</span>: sleepFn = <span class="hljs-function">(<span class="hljs-params">timeout</span>) =&gt;</span> {</li><li>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {</li><li>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {</li><li>      <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">null</span>)</li><li>    }, timeout);</li><li>  });</li><li>};</li><li><span class="hljs-comment">// 延时4秒，使缓存过期。</span></li><li><span class="hljs-keyword">await</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-number">4000</span>);</li></ol></pre></div></div>      <p></p></li>     <li><span>发起第二次请求。由于缓存记录已过期，此时本次请求仍然会去访问网络服务器获取数据，此时缓存命中数应为0。</span>      <p></p>      <div _ngcontent-nwk-c106="" class="highlight-div"><div _ngcontent-nwk-c106="" class="highlight-div-header"><div _ngcontent-nwk-c106="" class="highlight-div-header-left"><div _ngcontent-nwk-c106="" class="handle-button expand-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-nwk-c106="" class="highlight-div-header-right"><div _ngcontent-nwk-c106="" class="handle-button ai-button"></div><div _ngcontent-nwk-c106="" class="handle-button line-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-nwk-c106="" class="handle-button theme-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-nwk-c106="" class="handle-button copy-button"><div _ngcontent-nwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-nwk-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">const</span> responseB = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://www.example.com'</span>);</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Request succeeded, message is <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(responseB)}</span>`</span>);</li><li>cacheState = <span class="hljs-keyword">await</span> responseCache.<span class="hljs-title function_">getState</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`The current cache hit count is: <span class="hljs-subst">${cacheState.hitCount}</span>`</span>);</li></ol></pre></div></div>      <p></p></li>    </ol>   </div>   <div></div></div>