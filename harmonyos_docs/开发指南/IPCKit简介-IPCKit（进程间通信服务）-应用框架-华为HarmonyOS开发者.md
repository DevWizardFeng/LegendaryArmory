<h1 _ngcontent-bjg-c119="" class="doc-title ng-star-inserted" title="IPC Kit简介"> IPC Kit简介 </h1>

<div _ngcontent-bjg-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="基本概念">基本概念<i class="anchor-icon anchor-icon-link" anchorid="基本概念" tips="复制节点链接"></i></h2>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.1.2.1.5.1.1" valign="top" width="25%">缩写</th>         <th align="left" class="cellrowborder" id="mcps1.3.1.2.1.5.1.2" valign="top" width="25%">全称</th>         <th align="left" class="cellrowborder" id="mcps1.3.1.2.1.5.1.3" valign="top" width="25%">中文描述</th>         <th align="left" class="cellrowborder" id="mcps1.3.1.2.1.5.1.4" valign="top" width="25%">说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="25%">IPC</td>         <td class="cellrowborder" valign="top" width="25%">Inter Process Communication</td>         <td class="cellrowborder" valign="top" width="25%">进程间通信</td>         <td class="cellrowborder" valign="top" width="25%">指设备内的进程间通信。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">RPC</td>         <td class="cellrowborder" valign="top" width="25%">Remote Procedure Call</td>         <td class="cellrowborder" valign="top" width="25%">远程过程调用</td>         <td class="cellrowborder" valign="top" width="25%">指设备间的进程间通信。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">Client</td>         <td class="cellrowborder" valign="top" width="25%">Client</td>         <td class="cellrowborder" valign="top" width="25%">客户端</td>         <td class="cellrowborder" valign="top" width="25%">请求服务的一端，称为代理（Proxy）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="25%">Server</td>         <td class="cellrowborder" valign="top" width="25%">Server</td>         <td class="cellrowborder" valign="top" width="25%">服务端</td>         <td class="cellrowborder" valign="top" width="25%">提供服务的一端，称为Stub。</td>        </tr>             </tbody></table></div>     </div>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>使用IPC和RPC进行跨进程通信时，需要先调用元能力的连接服务接口获取Proxy对象。IPC和RPC的典型使用场景包括：</p></li>        <li>         <p>IPC典型使用场景是后台服务，后台服务通过IPC机制提供单设备跨进程接口调用与数据传递能力。</p></li>        <li>         <p>RPC典型使用场景是多端协同，多端协同通过RPC机制提供跨设备远端接口调用与数据传递能力。</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="实现原理">实现原理<i class="anchor-icon anchor-icon-link" anchorid="实现原理" tips="复制节点链接"></i></h2>          <p>IPC和RPC用于实现跨进程通信。IPC使用Binder驱动，适用于设备内的跨进程通信；RPC使用软总线驱动，适用于跨设备的跨进程通信。每个进程拥有独立的资源和内存空间，其他进程无法直接访问，因此需要使用IPC和RPC实现跨进程通信。</p>     <p>IPC和RPC采用客户端-服务端（Client-Server）模型。在使用时，Client进程可以获取Server进程的代理（Proxy），通过Proxy读写数据和发起请求，Stub处理请求并应答结果，实现进程间通信。Proxy和Stub提供了一组由服务/业务自定义的接口，Proxy实现每一个具体的请求方法，Stub实现对应的每一个具体请求的处理方法以及应答数据的内容。</p>    </div>    <div class="tiledSection">     <h2 id="约束与限制">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="约束与限制" tips="复制节点链接"></i></h2>          <ul>      <li>       <p>单个设备上跨进程通信时，传输的数据量最大为200KB。超过200KB的数据量传输可以使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-rpc#ashmem8" target="_blank">匿名共享内存</a>。</p></li>      <li>       <p>不支持在RPC中订阅匿名Stub对象（没有向SAMgr注册的Stub对象）的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/subscribe-remote-state">死亡通知</a>。</p></li>      <li>       <p>不支持把跨设备的Proxy对象回传到该Proxy对象指向的Stub对象所在的设备。</p></li>      <li>       <p>指向远端设备Stub的Proxy对象不能在本设备内二次跨进程传递。</p></li>     </ul>    </div>   </div>   <div></div></div>