<h1 _ngcontent-bmw-c119="" class="doc-title ng-star-inserted" title="Init"> Init </h1>

<div _ngcontent-bmw-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section19475113414116">功能说明<i class="anchor-icon anchor-icon-link" anchorid="section19475113414116" tips="复制节点链接"></i></h2><p>Init主要用于对Matmul对象中的Tiling数据进行初始化，根据Tiling参数进行资源划分，tiling参数的具体介绍请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-matmul-tiling-class">Matmul Tiling</a>。</p> <p>开发者可以先通过REGIST_MATMUL_OBJ初始化单个Matmul对象，不传入tiling参数，后续通过Init接口单独传入Tiling参数，对Tiling数据进行调整。比如，Tiling参数可变的场景下，可以通过多次调用Init来重新设置Tiling参数。</p> <p>不需要Tiling变更的场景下，推荐使用REGIST_MATMUL_OBJ传入tiling参数进行初始化。</p> </div> <div class="tiledSection"><h2 id="section13475203412116">函数原型<i class="anchor-icon anchor-icon-link" anchorid="section13475203412116" tips="复制节点链接"></i></h2><div _ngcontent-bmw-c106="" class="highlight-div"><div _ngcontent-bmw-c106="" class="highlight-div-header"><div _ngcontent-bmw-c106="" class="highlight-div-header-left"><div _ngcontent-bmw-c106="" class="handle-button expand-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bmw-c106="" class="highlight-div-header-right"><div _ngcontent-bmw-c106="" class="handle-button ai-button"></div><div _ngcontent-bmw-c106="" class="handle-button line-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bmw-c106="" class="handle-button theme-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bmw-c106="" class="handle-button copy-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bmw-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" hw-language="cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">__aicore__ <span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Init</span><span class="hljs-params">(<span class="hljs-type">const</span> TCubeTiling* __restrict cubeTiling, TPipe* tpipe = <span class="hljs-literal">nullptr</span>)</span></span></li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section204761347119">参数说明<i class="anchor-icon anchor-icon-link" anchorid="section204761347119" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表1 </b>接口参数说明</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.2.4.1.1" valign="top" width="17.349999999999998%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.2.4.1.2" valign="top" width="11.219999999999999%"><p>输入/输出</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.2.4.1.3" valign="top" width="71.43%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="17.349999999999998%"><p>cubeTiling</p> </td> <td class="cellrowborder" valign="top" width="11.219999999999999%"><p>输入</p> </td> <td class="cellrowborder" valign="top" width="71.43%"><p>Matmul tiling参数，TCubeTiling结构体定义请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-tcubetiling-structure">TCubeTiling结构体</a>表1。</p> <p>Tiling参数可以通过host侧GetTiling接口获取，并传递到kernel侧使用。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="17.349999999999998%"><p>tpipe</p> </td> <td class="cellrowborder" valign="top" width="11.219999999999999%"><p>输入</p> </td> <td class="cellrowborder" valign="top" width="71.43%"><p>Tpipe对象。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1480133419111">返回值<i class="anchor-icon anchor-icon-link" anchorid="section1480133419111" tips="复制节点链接"></i></h2><p>无</p> </div> <div class="tiledSection"><h2 id="section3480834181118">支持的型号<i class="anchor-icon anchor-icon-link" anchorid="section3480834181118" tips="复制节点链接"></i></h2><p>Kirin9020系列处理器</p> </div> <div class="tiledSection"><h2 id="section54811434171110">注意事项<i class="anchor-icon anchor-icon-link" anchorid="section54811434171110" tips="复制节点链接"></i></h2><p>无</p> </div> <div class="tiledSection"><h2 id="section5481103491114">调用示例<i class="anchor-icon anchor-icon-link" anchorid="section5481103491114" tips="复制节点链接"></i></h2><div _ngcontent-bmw-c106="" class="highlight-div"><div _ngcontent-bmw-c106="" class="highlight-div-header"><div _ngcontent-bmw-c106="" class="highlight-div-header-left"><div _ngcontent-bmw-c106="" class="handle-button expand-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bmw-c106="" class="highlight-div-header-right"><div _ngcontent-bmw-c106="" class="handle-button ai-button"></div><div _ngcontent-bmw-c106="" class="handle-button line-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bmw-c106="" class="handle-button theme-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bmw-c106="" class="handle-button copy-button"><div _ngcontent-bmw-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bmw-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" hw-language="cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 开发者可以先通过REGIST_MATMUL_OBJ初始化单个matmul对象，不传入tiling参数，后续通过Init接口单独传入Tiling参数，对Tiling数据进行调整。 </span></li><li><span class="hljs-built_in">REGIST_MATMUL_OBJ</span>(&amp;pipe, <span class="hljs-built_in">GetSysWorkSpacePtr</span>(), mm); </li><li>mm.<span class="hljs-built_in">Init</span>(&amp;tiling);</li></ol></pre></div></div> </div> </div> <div></div></div>