<h1 _ngcontent-msy-c119="" class="doc-title ng-star-inserted" title="JS卡片概述"> JS卡片概述 </h1>

<div _ngcontent-msy-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>JS卡片是使用类Web范式（HML+CSS+JSON）开发页面的卡片，现在已经支持FA模型和Stage模型两种<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-models">应用模型</a>。开发指导请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/js-ui-widget-development">JS卡片开发指导（Stage模型）</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/widget-development-fa">JS卡片开发指导（FA模型）</a>。在开发新卡片时，推荐采用ArkTS声明式来构建UI，声明式和类web范式差异点可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkui-overview">ArkUI简介</a>。</p>  <div class="tiledSection"><h2 id="实现原理">实现原理<i class="anchor-icon anchor-icon-link" anchorid="实现原理" tips="复制节点链接"></i></h2><p>JS卡片实现原理如图1所示。</p> <p><strong>图1</strong> JS卡片实现原理</p> <p><span><img originheight="838" originwidth="1558" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114724.33139467049235902488256604259306:50001231000000:2800:7F3D3A98BF6F6A0F0B615CA363158FDE26007157CAC50F176030FFEB83581E7A.png" width="920" height="494.83953786906295"></span></p> <p>卡片使用方包含以下模块：</p> <ul><li><p>卡片使用：包含卡片的创建、删除、请求更新等操作。</p>  </li><li><p>通信适配层：由HarmonyOS SDK提供，负责与卡片管理服务通信，用于将卡片的相关操作指令发送到卡片管理服务。</p>  </li></ul> <p>卡片管理服务包含以下模块：</p> <ul><li><p>周期性刷新：在卡片添加后，根据卡片的刷新策略启动定时任务周期性触发卡片的刷新。</p>  </li><li><p>卡片缓存管理：在卡片添加到卡片管理服务后，对卡片的视图信息进行缓存，以便下次获取卡片时可以直接返回缓存数据，降低时延。</p>  </li><li><p>卡片生命周期管理：对于卡片切换到后台或者被遮挡时，暂停卡片的刷新；以及卡片的升级/卸载场景下对卡片数据的更新和清理。</p>  </li><li><p>卡片使用方对象管理：对卡片使用方的RPC对象进行管理，用于使用方请求进行校验以及对卡片更新后的回调处理。</p>  </li><li><p>通信适配层：负责与卡片使用方和提供方进行RPC通信。</p>  </li></ul> <p>卡片提供方包含以下模块：</p> <ul><li><p>卡片服务：由卡片提供方开发者实现，开发者实现生命周期处理创建卡片、更新卡片以及删除卡片等请求，提供相应的卡片服务。</p>  </li><li><p>卡片提供方实例管理模块：由卡片提供方开发者实现，负责对卡片管理服务分配的卡片实例进行持久化管理。</p>  </li><li><p>通信适配层：由HarmonyOS SDK提供，负责与卡片管理服务通信，用于将卡片的更新数据主动推送到卡片管理服务。</p>  </li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <p>实际开发时只需要作为卡片提供方进行卡片内容的开发，卡片使用方和卡片管理服务由系统自动处理。</p>  </div></div></div> </div> </div> <div></div></div>