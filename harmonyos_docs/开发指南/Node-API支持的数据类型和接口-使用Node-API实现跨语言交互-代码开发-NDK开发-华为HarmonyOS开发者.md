<h1 _ngcontent-wqt-c119="" class="doc-title ng-star-inserted" title="Node-API支持的数据类型和接口"> Node-API支持的数据类型和接口 </h1>

<div _ngcontent-wqt-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="node-api的数据类型">Node-API的数据类型<i class="anchor-icon anchor-icon-link" anchorid="node-api的数据类型" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="napi_status" class="firsth2">napi_status<i class="anchor-icon anchor-icon-link" anchorid="napi_status" tips="复制节点链接"></i></h3>          <p>是一个枚举数据类型，表示Node-API接口返回的状态信息。</p>     <p>每当调用一个Node-API函数，都会返回该值，表示操作成功与否的相关信息。</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> {</span></li><li>    napi_ok,</li><li>    napi_invalid_arg,</li><li>    napi_object_expected,</li><li>    napi_string_expected,</li><li>    napi_name_expected,</li><li>    napi_function_expected,</li><li>    napi_number_expected,</li><li>    napi_boolean_expected,</li><li>    napi_array_expected,</li><li>    napi_generic_failure,</li><li>    napi_pending_exception,</li><li>    napi_cancelled,</li><li>    napi_escape_called_twice,</li><li>    napi_handle_scope_mismatch,</li><li>    napi_callback_scope_mismatch,</li><li>    napi_queue_full,</li><li>    napi_closing,</li><li>    napi_bigint_expected,</li><li>    napi_date_expected,</li><li>    napi_arraybuffer_expected,</li><li>    napi_detachable_arraybuffer_expected,</li><li>    napi_would_deadlock, <span class="hljs-comment">/* unused */</span></li><li>    napi_no_external_buffers_allowed,</li><li>    napi_cannot_run_js</li><li>} napi_status;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="napi_extended_error_info">napi_extended_error_info<i class="anchor-icon anchor-icon-link" anchorid="napi_extended_error_info" tips="复制节点链接"></i></h3>          <p>一个结构体，在调用Node-API接口不成功时存储了较为详细的错误信息。</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span></li><li>    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *error_message;</li><li>    <span class="hljs-type">void</span> *engine_reserved;</li><li>    <span class="hljs-type">uint32_t</span> engine_error_code;</li><li>    napi_status error_code;</li><li>} napi_extended_error_info;</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="napi_value">napi_value<i class="anchor-icon anchor-icon-link" anchorid="napi_value" tips="复制节点链接"></i></h3>          <p>napi_value是一个C的结构体指针，表示一个ArkTS/JS对象的引用。napi_value持有了ArkTS/JS对象，同时，napi_value受<a href="/consumer/cn/doc/harmonyos-guides/napi-data-types-interfaces#内存管理类型">napi_handle_scope</a>管理，scope中napi_value持有的JS对象不会被释放；出scope后，napi_value将失效，不再持有对应的ArkTS/JS对象。</p>    </div>    <div class="tiledSection">     <h3 id="napi_env">napi_env<i class="anchor-icon anchor-icon-link" anchorid="napi_env" tips="复制节点链接"></i></h3>          <ul>      <li>       <p>用于表示Node-API执行时的上下文，Native侧函数入参，并传递给函数中的Node-API接口。</p></li>      <li>       <p>napi_env与ArkTS/JS线程的上下文环境绑定，每一个napi_env都持有独立的运行时上下文环境，当ArkTS/JS线程退出之后，相应的napi_env将不再有效。</p></li>      <li>       <p>禁止缓存napi_env，禁止在不同线程间传递napi_env。</p></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="napi_threadsafe_function">napi_threadsafe_function<i class="anchor-icon anchor-icon-link" anchorid="napi_threadsafe_function" tips="复制节点链接"></i></h3>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-napi-thread-safety">napi_threadsafe_function</a>用来创建一个线程安全的ArkTS/JS函数，可以在不同的线程中调用。可以用于将异步操作的结果传递给ArkTS/JS环境，例如从另一个线程中读取数据或执行计算密集型操作。线程安全函数回调的执行仅在创建线程安全函数的ArkTS线程中执行。通过使用napi_threadsafe_function，可以实现ArkTS/JS和C++之间的高效通信，同时保持线程安全性。</p>    </div>    <div class="tiledSection">     <h3 id="napi_threadsafe_function_release_mode">napi_threadsafe_function_release_mode<i class="anchor-icon anchor-icon-link" anchorid="napi_threadsafe_function_release_mode" tips="复制节点链接"></i></h3>          <p>该枚举类型定义了两个常量，用于指定以哪一种方式来释放线程安全函数。</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> {</span></li><li>  napi_tsfn_release,</li><li>  napi_tsfn_abort</li><li>} napi_threadsafe_function_release_mode;</li></ol></pre></div></div>     <p>该值会传给napi_release_threadsafe_function。</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" hw-language="cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-built_in">napi_release_threadsafe_function</span>(napi_threadsafe_function func,</li><li>                                 napi_threadsafe_function_release_mode mode);</li></ol></pre></div></div>     <ul>      <li>       <p>mode值为napi_tsfn_release时：表示将tsfn中持有的线程数减一，当线程数减到0时，线程安全函数tsfn将被销毁。</p></li>      <li>       <p>mode值为napi_tsfn_abort时：该tsfn关闭，不能再调用此tsfn。</p>       <p>如果设置为napi_tsfn_abort，利用napi_call_threadsafe_function接口调用此tsfn时，该行为可能导致UAF问题————当napi_tsfn_abort被设置时，tsfn立刻关闭，不能再被调用。如果此时调用napi_call_threadsafe_function，系统可能会返回napi_closing状态，表示tsfn正在关闭，但是传递给tsfn的data并未被放入队列中，这意味着data可能未被正确处理。如果data指向的内存已经被释放（例如，tsfn的资源被释放），但调用者仍然尝试访问或使用data，就会出现UAF(Use-After-Free)问题。</p></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="napi_threadsafe_function_call_mode">napi_threadsafe_function_call_mode<i class="anchor-icon anchor-icon-link" anchorid="napi_threadsafe_function_call_mode" tips="复制节点链接"></i></h3>          <p>该枚举类型定义了两个常量，用于指定线程安全函数的调用模式。</p>     <p>数据结构如下所示：</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> {</span></li><li>  napi_tsfn_nonblocking,</li><li>  napi_tsfn_blocking</li><li>} napi_threadsafe_function_call_mode;</li></ol></pre></div></div>     <ul>      <li>       <p>napi_tsfn_nonblocking：napi_call_threadsafe_function是非阻塞的，如果队列已满，则返回napi_queue_full，从而阻止数据添加到队列中。</p></li>      <li>       <p>napi_tsfn_blocking：napi_call_threadsafe_function是阻塞的，直至队列中有空间可用。</p></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="内存管理类型">内存管理类型<i class="anchor-icon anchor-icon-link" anchorid="内存管理类型" tips="复制节点链接"></i></h3>          <p>Node-API包含以下内存管理类型：</p>     <p><strong>napi_handle_scope</strong></p>     <p>napi_handle_scope数据类型是用来管理ArkTS/JS对象的生命周期的。它允许ArkTS/JS对象在一定范围内保持活动状态，以便在ArkTS/JS代码中使用。在创建napi_handle_scope时，所有在该范围内创建的ArkTS/JS对象都会保持活动状态，直到scope被关闭。这样可以做到ArkTS/JS对象生命周期最小化，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/napi-guidelines#生命周期管理">避免发生内存泄漏问题</a>。同时，napi_handle_scope也可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-scenario-stability-cppcrash#section1662118147417" target="_blank">生命周期类问题注意事项</a></p>     <p><strong>napi_escapable_handle_scope</strong></p>     <ul>      <li>       <p>由napi_open_escapable_handle_scope接口创建，由napi_close_escapable_handle_scope接口关闭。</p></li>      <li>       <p>表示一种特殊类型的句柄范围，用于将在escapable_handle_scope范围内创建的值返回给父scope。</p></li>      <li>       <p>用于napi_escape_handle接口，将ArkTS/JS对象逃逸到父scope，以便在外部作用域使用。</p></li>     </ul>     <p><strong>napi_ref</strong></p>     <p>指向napi_value，允许用户管理ArkTS/JS值的生命周期。</p>     <p><strong>napi_type_tag</strong></p>     <p>该结构体定义了一个包含两个无符号64位整数的类型标签，用于标识一个Node-API值的类型信息。</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span></li><li>  <span class="hljs-type">uint64_t</span> lower;</li><li>  <span class="hljs-type">uint64_t</span> upper;</li><li>} napi_type_tag;</li></ol></pre></div></div>     <ul>      <li>       <p>存储了两个无符号64位整数的128位值，用它来标记ArkTS/JS对象，确保它们属于某种类型。</p></li>      <li>       <p>比napi_instanceof更强的类型检查，如果对象的原型被操纵，napi_instanceof可能会存在误报。</p></li>      <li>       <p>type_tag与napi_wrap结合非常有用，因为它确保从包装对象检索的指针可以安全地转换为与先前应用于JavaScript对象的类型标记相对应的Native类型。</p></li>     </ul>     <p><strong>napi_async_cleanup_hook_handle</strong></p>     <p>napi_async_cleanup_hook_handle是Node-API中用于管理异步资源生命周期的一种机制。它允许注册一个清理钩子（cleanup hook），该钩子仅在当前napi_env环境生命周期结束时被调用。通过使用 napi_async_cleanup_hook_handle，可以确保某些异步资源在环境销毁前得到妥善释放，从而避免资源泄漏。此外，在Node-API实现中，只要该结构未被释放，会延迟整个 napi_env 环境的销毁。在HarmonyOS中，该接口的行为基本等同于env生命周期相关的清理钩子，除了支持重复注册相同的上下文数据（data）外，其余行为与标准的env清理钩子一致。</p>     <p><strong>napi_critical_scope（扩展能力）</strong></p>     <p>napi_critical_scope是Node-API中，用于创建临界接口执行环境的机制。它由napi_open_critical_scope接口创建，由napi_close_critical_scope接口关闭。</p>     <p>临界接口：需要在临界区作用域内执行的接口，通常接口名中含有critical关键字。</p>     <p><strong>napi_strong_ref（扩展能力）</strong></p>     <p>指向napi_value，允许用户管理ArkTS对象的生命周期。</p>     <p><strong>提示：</strong> napi_strong_ref与napi_ref相比，具有更高的创建效率，但支持的功能受限（如：不支持强弱引用转换等）。</p>    </div>    <div class="tiledSection">     <h3 id="回调类型">回调类型<i class="anchor-icon anchor-icon-link" anchorid="回调类型" tips="复制节点链接"></i></h3>          <p>Node-API包含以下回调类型：</p>     <p><strong>napi_callback_info</strong></p>     <p>Native侧获取JS侧参数信息，传递给napi_get_cb_info，用于获取JS侧入参信息。</p>     <p><strong>napi_callback</strong></p>     <p>表示用户定义的Native函数，暴露给ArkTS/JS，即ArkTS/JS侧调用的接口；一般不需要在callback中创建handle或者callback scope。</p>     <p>基本用法如下：</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-title function_">napi_value</span> <span class="hljs-params">(*napi_callback)</span><span class="hljs-params">(napi_env, napi_callback_info)</span>;</li></ol></pre></div></div>     <p><strong>napi_finalize</strong></p>     <p>函数指针，用于传入napi_create_threadsafe_function、napi_set_instance_data、napi_wrap、napi_add_finalizer等接口。napi_finalize在对象被回收时会被调用。</p>     <p><strong>napi_async_execute_callback</strong></p>     <p>函数指针，用于napi_create_async_work接口。</p>     <ul>      <li>       <p>异步执行的Native函数，从工作池线程调用，可与事件循环线程并行执行。</p></li>      <li>       <p>函数实现中必须避免调用非线程安全的Node-API。</p></li>      <li>       <p>Node-API调用可以在napi_async_complete_callback中执行。</p></li>     </ul>     <p><strong>napi_async_complete_callback</strong></p>     <p>napi_async_complete_callback用于异步操作完成后的回调。当需要进行异步操作时，可以使用napi_create_async_work函数创建一个异步操作任务，并指定一个napi_async_complete_callback回调函数，在异步操作完成后会自动调用该回调函数，以便进行后续的处理。该回调函数的参数包括当前异步操作任务的状态和返回值等信息，可以根据这些信息进行相应的处理。</p>     <p><strong>napi_threadsafe_function_call_js</strong></p>     <p>函数指针，在事件循环线程中执行，可与ArkTS/JS交互，从而实现更加复杂的功能，用于napi_create_threadsafe_function(napi_env env,…,napi_threadsafe_function_call_js call_js_cb,...)接口。</p>     <p><strong>napi_cleanup_hook</strong></p>     <p>函数指针，用于napi_add_env_cleanup_hook接口，当环境销毁时会被执行。</p>     <p><strong>napi_async_cleanup_hook</strong></p>     <p>函数指针，用于napi_add_async_cleanup_hook接口，当环境销毁时会被执行。</p>    </div>    <div class="tiledSection">     <h3 id="调度优先级">调度优先级<i class="anchor-icon anchor-icon-link" anchorid="调度优先级" tips="复制节点链接"></i></h3>          <p>QoS决定了线程调度的优先级，等级定义如下：</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> {</span></li><li>    napi_qos_background = <span class="hljs-number">0</span>,</li><li>    napi_qos_utility = <span class="hljs-number">1</span>,</li><li>    napi_qos_default = <span class="hljs-number">2</span>,</li><li>    napi_qos_user_initiated = <span class="hljs-number">3</span>,</li><li>} <span class="hljs-type">napi_qos_t</span>;</li></ol></pre></div></div>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.3.1.1" valign="top" width="50%">QoS等级</th>         <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.3.1.2" valign="top" width="50%">适用场景</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_qos_background</td>         <td class="cellrowborder" valign="top" width="50%">低等级，用户不可见任务，例如数据同步、备份。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_qos_utility</td>         <td class="cellrowborder" valign="top" width="50%">中低等级，不需要立即看到响应效果的任务，例如下载或导入数据。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_qos_default</td>         <td class="cellrowborder" valign="top" width="50%">默认。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_qos_user_initiated</td>         <td class="cellrowborder" valign="top" width="50%">高等级，用户触发并且可见进展，例如打开文档。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="事件循环模式">事件循环模式<i class="anchor-icon anchor-icon-link" anchorid="事件循环模式" tips="复制节点链接"></i></h3>          <p>napi提供了运行底层事件循环的两种模式, 其定义如下：</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> {</span></li><li>    napi_event_mode_default = <span class="hljs-number">0</span>,</li><li>    napi_event_mode_nowait = <span class="hljs-number">1</span>,</li><li>} napi_event_mode;</li></ol></pre></div></div>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.12.4.1.3.1.1" valign="top" width="50%">事件循环运行模式</th>         <th align="left" class="cellrowborder" id="mcps1.3.12.4.1.3.1.2" valign="top" width="50%">解释说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_event_mode_default</td>         <td class="cellrowborder" valign="top" width="50%">阻塞式的运行底层事件循环，直到循环中没有或活跃的uv_handle句柄时退出事件循环。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_event_mode_nowait</td>         <td class="cellrowborder" valign="top" width="50%">非阻塞式的运行底层事件循环，尝试去处理一个任务，处理完之后退出事件循环；如果事件循环中没有任务，立刻退出事件循环。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="线程安全任务优先级">线程安全任务优先级<i class="anchor-icon anchor-icon-link" anchorid="线程安全任务优先级" tips="复制节点链接"></i></h3>          <p>napi提供了线程安全任务的优先级, 底层任务队列中的任务会根据其优先级被依次执行, 优先级的定义如下：</p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> {</span></li><li>    napi_priority_immediate = <span class="hljs-number">0</span>,</li><li>    napi_priority_high = <span class="hljs-number">1</span>,</li><li>    napi_priority_low = <span class="hljs-number">2</span>,</li><li>    napi_priority_idle = <span class="hljs-number">3</span>,</li><li>} napi_task_priority;</li></ol></pre></div></div>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.3.1.1" valign="top" width="50%">任务优先级</th>         <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.3.1.2" valign="top" width="50%">解释说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_priority_immediate</td>         <td class="cellrowborder" valign="top" width="50%">该优先级的级别最高。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_priority_high</td>         <td class="cellrowborder" valign="top" width="50%">该优先级的级别低于napi_priority_immediate。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_priority_low</td>         <td class="cellrowborder" valign="top" width="50%">该优先级的级别低于napi_priority_immediate和napi_priority_high。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_priority_idle</td>         <td class="cellrowborder" valign="top" width="50%">该优先级的级别最低。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="支持的node-api接口">支持的Node-API接口<i class="anchor-icon anchor-icon-link" anchorid="支持的node-api接口" tips="复制节点链接"></i></h2>          <p>Node-API接口在Node.js提供的原生模块基础上扩展，目前支持部分接口，具体可见下文。</p>    </div>    <div class="tiledSection">     <h3 id="异步安全线程相关" class="firsth2">异步安全线程相关<i class="anchor-icon anchor-icon-link" anchorid="异步安全线程相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.15.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.15.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_threadsafe_function</td>         <td class="cellrowborder" valign="top" width="50%">创建线程安全函数。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_threadsafe_function_context</td>         <td class="cellrowborder" valign="top" width="50%">获取线程安全函数中的context。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_call_threadsafe_function</td>         <td class="cellrowborder" valign="top" width="50%">调用线程安全函数。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_acquire_threadsafe_function</td>         <td class="cellrowborder" valign="top" width="50%">指示线程安全函数可以开始使用。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_release_threadsafe_function</td>         <td class="cellrowborder" valign="top" width="50%">指示线程安全函数将停止使用。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_ref_threadsafe_function</td>         <td class="cellrowborder" valign="top" width="50%">指示在主线程上运行的事件循环在线程安全函数被销毁之前不应退出。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_unref_threadsafe_function</td>         <td class="cellrowborder" valign="top" width="50%">指示在主线程上运行的事件循环可能会在线程安全函数被销毁之前退出。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="buffer相关">buffer相关<i class="anchor-icon anchor-icon-link" anchorid="buffer相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.16.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.16.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_buffer</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个指定大小的ArkTS Buffer。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_buffer_copy</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个指定大小的ArkTS Buffer，并以给定数据进行初始化。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_external_buffer</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个指定大小的ArkTS Buffer，使用给定的数据作为buffer对象的底层缓冲区，该接口可为Buffer附带额外数据。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_buffer_info</td>         <td class="cellrowborder" valign="top" width="50%">获取JS Buffer底层data及其长度。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_buffer</td>         <td class="cellrowborder" valign="top" width="50%">判断给定JS value是否为Buffer对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_external_arraybuffer</td>         <td class="cellrowborder" valign="top" width="50%">分配一个附加有外部数据的JS ArrayBuffer。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="string相关">string相关<i class="anchor-icon anchor-icon-link" anchorid="string相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.17.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.17.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_string_utf16</td>         <td class="cellrowborder" valign="top" width="50%">通过UTF16编码的C字符串数据创建ArkTS String。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_string_utf16</td>         <td class="cellrowborder" valign="top" width="50%">获取给定ArkTS value对应的UTF16编码的字符串。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_string_latin1</td>         <td class="cellrowborder" valign="top" width="50%">通过ISO-8859-1编码的C字符串数据创建ArkTS String。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_string_utf8</td>         <td class="cellrowborder" valign="top" width="50%">通过UTF8编码的C字符串数据创建ArkTS String。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_string_latin1</td>         <td class="cellrowborder" valign="top" width="50%">获取给定ArkTS value对应的ISO-8859-1编码的字符串。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_string_utf8</td>         <td class="cellrowborder" valign="top" width="50%">获取给定ArkTS value对应的UTF8编码的字符串。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="date相关">date相关<i class="anchor-icon anchor-icon-link" anchorid="date相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.18.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.18.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_date</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的double数据创建ArkTS Date。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_date_value</td>         <td class="cellrowborder" valign="top" width="50%">获取给定ArkTS Date对应的C double值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_date</td>         <td class="cellrowborder" valign="top" width="50%">判断给定ArkTS value是否为ArkTS Date对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="arraybuffer相关">arraybuffer相关<i class="anchor-icon anchor-icon-link" anchorid="arraybuffer相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.19.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.19.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_arraybuffer_info</td>         <td class="cellrowborder" valign="top" width="50%">获取ArrayBuffer的底层缓冲区及其长度。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_arraybuffer</td>         <td class="cellrowborder" valign="top" width="50%">判断给定ArkTS value是否为ArrayBuffer。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_detach_arraybuffer</td>         <td class="cellrowborder" valign="top" width="50%">分离给定ArrayBuffer的底层数据。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_detached_arraybuffer</td>         <td class="cellrowborder" valign="top" width="50%">判断给定的ArrayBuffer是否已被分离。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_arraybuffer</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个指定大小的JS ArrayBuffer。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="module相关">module相关<i class="anchor-icon anchor-icon-link" anchorid="module相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.20.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.20.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_module_register</td>         <td class="cellrowborder" valign="top" width="50%">native模块注册接口。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="生命周期相关">生命周期相关<i class="anchor-icon anchor-icon-link" anchorid="生命周期相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.21.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.21.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_open_handle_scope</td>         <td class="cellrowborder" valign="top" width="50%">创建一个napi_handle_scope。需要使用napi_close_handle_scope进行关闭。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_close_handle_scope</td>         <td class="cellrowborder" valign="top" width="50%">关闭传入的napi_handle_scope，关闭后，全部在其中产生的napi_value都将被关闭。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_open_escapable_handle_scope</td>         <td class="cellrowborder" valign="top" width="50%">创建出一个可逃逸的handle scope，可将范围内声明的值返回到父作用域。需要使用napi_close_escapable_handle_scope进行关闭。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_close_escapable_handle_scope</td>         <td class="cellrowborder" valign="top" width="50%">关闭传入的可逃逸的handle scope。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_escape_handle</td>         <td class="cellrowborder" valign="top" width="50%">提升传入的JS Object的生命周期到其父作用域。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_reference</td>         <td class="cellrowborder" valign="top" width="50%">为Object创建一个napi_ref。调用者需要自己管理napi_ref生命周期。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_delete_reference</td>         <td class="cellrowborder" valign="top" width="50%">删除传入的napi_ref。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_reference_ref</td>         <td class="cellrowborder" valign="top" width="50%">增加传入的napi_ref的引用计数，并获取新的计数。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_reference_unref</td>         <td class="cellrowborder" valign="top" width="50%">减少传入的napi_ref的引用计数，并获取新的计数。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_reference_value</td>         <td class="cellrowborder" valign="top" width="50%">获取与napi_ref相关联的JS Object。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_add_finalizer</td>         <td class="cellrowborder" valign="top" width="50%">当ArkTS Object中的对象被垃圾回收时调用注册的napi_finalize回调。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="promise相关">promise相关<i class="anchor-icon anchor-icon-link" anchorid="promise相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.22.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.22.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_promise</td>         <td class="cellrowborder" valign="top" width="50%">创建一个Promise对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_resolve_deferred</td>         <td class="cellrowborder" valign="top" width="50%">对Promise关联的deferred对象进行兑现。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_reject_deferred</td>         <td class="cellrowborder" valign="top" width="50%">对Promise关联的deferred对象进行拒绝。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_promise</td>         <td class="cellrowborder" valign="top" width="50%">判断给定napi_value是否为Promise对象。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="array相关">array相关<i class="anchor-icon anchor-icon-link" anchorid="array相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.23.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.23.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_array</td>         <td class="cellrowborder" valign="top" width="50%">创建一个ArkTS Array。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_array_with_length</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个指定长度的ArkTS Array。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_array_length</td>         <td class="cellrowborder" valign="top" width="50%">获取array的length。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_array</td>         <td class="cellrowborder" valign="top" width="50%">判断给定ArkTS value是否为array。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_set_element</td>         <td class="cellrowborder" valign="top" width="50%">在给定Object的指定索引处，设置属性值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_element</td>         <td class="cellrowborder" valign="top" width="50%">获取给定Object指定索引处的元素。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_has_element</td>         <td class="cellrowborder" valign="top" width="50%">若给定Object的指定索引处拥有属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_delete_element</td>         <td class="cellrowborder" valign="top" width="50%">尝试删除给定Object的指定索引处的元素。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_typedarray</td>         <td class="cellrowborder" valign="top" width="50%">通过现有的ArrayBuffer创建一个ArkTS TypeArray。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_typedarray</td>         <td class="cellrowborder" valign="top" width="50%">判断给定ArkTS value是否为TypeArray。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_typedarray_info</td>         <td class="cellrowborder" valign="top" width="50%">获取给定TypedArray的各种属性（例如：类型，长度，字节偏移量，ArrayBuffer等）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_dataview</td>         <td class="cellrowborder" valign="top" width="50%">通过现有的ArrayBuffer创建一个ArkTS DataView。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_dataview</td>         <td class="cellrowborder" valign="top" width="50%">判断给定ArkTS value是否为DataView。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_dataview_info</td>         <td class="cellrowborder" valign="top" width="50%">获取给定DataView的各种属性。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="primitive相关">primitive相关<i class="anchor-icon anchor-icon-link" anchorid="primitive相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.24.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.24.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_boolean</td>         <td class="cellrowborder" valign="top" width="50%">根据给定的C boolean值，获取JS Boolean对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_global</td>         <td class="cellrowborder" valign="top" width="50%">获取global对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_null</td>         <td class="cellrowborder" valign="top" width="50%">获取null对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_undefined</td>         <td class="cellrowborder" valign="top" width="50%">获取undefined对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_coerce_to_bool</td>         <td class="cellrowborder" valign="top" width="50%">将给定的JS value强转成JS Boolean。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_coerce_to_number</td>         <td class="cellrowborder" valign="top" width="50%">将给定的JS value强转成JS Number。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_coerce_to_object</td>         <td class="cellrowborder" valign="top" width="50%">将给定的JS value强转成JS Object。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_coerce_to_string</td>         <td class="cellrowborder" valign="top" width="50%">将给定的JS value强转成JS String。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="class相关">class相关<i class="anchor-icon anchor-icon-link" anchorid="class相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.25.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.25.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_new_instance</td>         <td class="cellrowborder" valign="top" width="50%">通过给定的构造函数，构建一个实例。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_new_target</td>         <td class="cellrowborder" valign="top" width="50%">获取构造函数调用的new.target。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_define_class</td>         <td class="cellrowborder" valign="top" width="50%">定义与C++类相对应的JavaScript类。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_wrap</td>         <td class="cellrowborder" valign="top" width="50%">在ArkTS对象上绑定一个Node-API模块对象实例。这个函数通常在将Node-API模块对象与ArkTS对象进行绑定时使用，以便在ArkTS中使用Native方法和属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_unwrap</td>         <td class="cellrowborder" valign="top" width="50%">从ArkTS对象上获取之前绑定的Node-API模块对象实例。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_remove_wrap</td>         <td class="cellrowborder" valign="top" width="50%">从ArkTS对象上获取之前绑定的Node-API模块对象实例，并解除绑定。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="object相关">object相关<i class="anchor-icon anchor-icon-link" anchorid="object相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.26.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.26.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_prototype</td>         <td class="cellrowborder" valign="top" width="50%">获取给定ArkTS Object的prototype。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_object</td>         <td class="cellrowborder" valign="top" width="50%">创建一个默认的ArkTS Object。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_object_freeze</td>         <td class="cellrowborder" valign="top" width="50%">冻结给定的对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_object_seal</td>         <td class="cellrowborder" valign="top" width="50%">密封给定的对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_typeof</td>         <td class="cellrowborder" valign="top" width="50%">获取给定ArkTS value的ArkTS Type。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_instanceof</td>         <td class="cellrowborder" valign="top" width="50%">判断给定object是否为给定constructor的实例。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_type_tag_object</td>         <td class="cellrowborder" valign="top" width="50%">将tag指针的值与Object关联。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_check_object_type_tag</td>         <td class="cellrowborder" valign="top" width="50%">判断给定的tag指针是否被关联到了ArkTS Object上。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_symbol</td>         <td class="cellrowborder" valign="top" width="50%">创建一个ArkTS Symbol对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_external</td>         <td class="cellrowborder" valign="top" width="50%">用于创建一个ArkTS外部对象，该对象可以用于将C/C++中的自定义数据结构或对象传递到JS中，并且可以在ArkTS中访问其属性和方法。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_external</td>         <td class="cellrowborder" valign="top" width="50%">用于获得napi_create_external创建的绑定了外部数据的ArkTS值，此函数可以在ArkTS和C/C++之间传递数据。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="基本数据类型相关">基本数据类型相关<i class="anchor-icon anchor-icon-link" anchorid="基本数据类型相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.27.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.27.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_int32</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的int32数据创建JS number。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_uint32</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的uint32数据创建JS number。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_int64</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的int64数据创建JS number。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_double</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的double数据创建JS number。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_int32</td>         <td class="cellrowborder" valign="top" width="50%">获取给定JS number对应的C int32值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_uint32</td>         <td class="cellrowborder" valign="top" width="50%">获取给定JS number对应的C uint32值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_int64</td>         <td class="cellrowborder" valign="top" width="50%">获取给定JS number对应的C int64值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_double</td>         <td class="cellrowborder" valign="top" width="50%">获取给定JS number对应的C double值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_bool</td>         <td class="cellrowborder" valign="top" width="50%">获取给定js Boolean对应的C bool值。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="bigint相关">bigint相关<i class="anchor-icon anchor-icon-link" anchorid="bigint相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.28.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.28.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_bigint_int64</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的int64数据创建JS BigInt。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_bigint_uint64</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的uint64数据创建JS BigInt。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_bigint_words</td>         <td class="cellrowborder" valign="top" width="50%">通过一个C的uint64数组创建单个JS BigInt。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_bigint_int64</td>         <td class="cellrowborder" valign="top" width="50%">获取给定JS BigInt对应的C int64值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_bigint_uint64</td>         <td class="cellrowborder" valign="top" width="50%">获取给定JS BigInt对应的C uint64值。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_value_bigint_words</td>         <td class="cellrowborder" valign="top" width="50%">获取给定JS BigInt对应的信息，包括符号位、64位小端序数组和数组中的元素个数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="异常和错误相关">异常和错误相关<i class="anchor-icon anchor-icon-link" anchorid="异常和错误相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.29.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.29.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_throw</td>         <td class="cellrowborder" valign="top" width="50%">抛出一个JS value。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_throw_error</td>         <td class="cellrowborder" valign="top" width="50%">用于抛出一个带文本信息的ArkTS Error。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_throw_type_error</td>         <td class="cellrowborder" valign="top" width="50%">抛出一个带文本信息的ArkTS TypeError。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_throw_range_error</td>         <td class="cellrowborder" valign="top" width="50%">抛出一个带文本信息的ArkTS RangeError。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_error</td>         <td class="cellrowborder" valign="top" width="50%">判断napi_value是否表示为一个error对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_error</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个带文本信息的ArkTS Error。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_type_error</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个带文本信息的ArkTS Error对象</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_range_error</td>         <td class="cellrowborder" valign="top" width="50%">创建并获取一个带文本信息的ArkTS Error对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_and_clear_last_exception</td>         <td class="cellrowborder" valign="top" width="50%">获取并清除最近一次出现的异常。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_exception_pending</td>         <td class="cellrowborder" valign="top" width="50%">判断是否出现了异常。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_fatal_error</td>         <td class="cellrowborder" valign="top" width="50%">引发致命错误以立即终止进程。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_last_error_info</td>         <td class="cellrowborder" valign="top" width="50%">获取napi_extended_error_info结构体，其中包含最近一次出现的error信息。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_fatal_exception</td>         <td class="cellrowborder" valign="top" width="50%">抛出一个致命异常并终止进程, 同时产生相应的crash日志。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="属性相关">属性相关<i class="anchor-icon anchor-icon-link" anchorid="属性相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.30.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.30.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_property_names</td>         <td class="cellrowborder" valign="top" width="50%">以字符串数组的形式获取对象的可枚举属性的名称。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_set_property</td>         <td class="cellrowborder" valign="top" width="50%">对给定Object设置属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_property</td>         <td class="cellrowborder" valign="top" width="50%">获取给定Object的给定属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_has_property</td>         <td class="cellrowborder" valign="top" width="50%">判断给定对象中是否存在给定属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_delete_property</td>         <td class="cellrowborder" valign="top" width="50%">尝试从给定Object中删除给定key属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_has_own_property</td>         <td class="cellrowborder" valign="top" width="50%">判断给定Object中是否有名为key的own property。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_set_named_property</td>         <td class="cellrowborder" valign="top" width="50%">对给定Object设置一个给定名称的属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_named_property</td>         <td class="cellrowborder" valign="top" width="50%">获取给定Object中指定名称的属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_has_named_property</td>         <td class="cellrowborder" valign="top" width="50%">判断给定Object中是否有给定名称的属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_define_properties</td>         <td class="cellrowborder" valign="top" width="50%">批量的向给定Object中定义属性。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_all_property_names</td>         <td class="cellrowborder" valign="top" width="50%">获取一个数组，其中包含此对象过滤后的属性名称。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="异步任务相关">异步任务相关<i class="anchor-icon anchor-icon-link" anchorid="异步任务相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.31.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.31.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_async_work</td>         <td class="cellrowborder" valign="top" width="50%">创建一个异步工作对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_delete_async_work</td>         <td class="cellrowborder" valign="top" width="50%">释放先前创建的异步工作对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_queue_async_work</td>         <td class="cellrowborder" valign="top" width="50%">将异步工作对象加到队列，由底层去调度执行。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_cancel_async_work</td>         <td class="cellrowborder" valign="top" width="50%">取消入队的异步任务。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="自定义异步操作">自定义异步操作<i class="anchor-icon anchor-icon-link" anchorid="自定义异步操作" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.32.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.32.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_async_init</td>         <td class="cellrowborder" valign="top" width="50%">创建一个异步资源上下文环境（不支持与async_hook相关能力）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_make_callback</td>         <td class="cellrowborder" valign="top" width="50%">在异步资源上下文环境中回调JS函数（不支持与async_hook相关能力）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_async_destroy</td>         <td class="cellrowborder" valign="top" width="50%">销毁先前创建的异步资源上下文环境（不支持与async_hook相关能力）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_open_callback_scope</td>         <td class="cellrowborder" valign="top" width="50%">创建一个回调作用域（不支持与async_hook相关能力）。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_close_callback_scope</td>         <td class="cellrowborder" valign="top" width="50%">关闭先前创建的回调作用域（不支持与async_hook相关能力）。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="uv相关">uv相关<i class="anchor-icon anchor-icon-link" anchorid="uv相关" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.33.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.33.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_uv_event_loop</td>         <td class="cellrowborder" valign="top" width="50%">获取当前libuv loop实例。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="函数调用">函数调用<i class="anchor-icon anchor-icon-link" anchorid="函数调用" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.34.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.34.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_call_function</td>         <td class="cellrowborder" valign="top" width="50%">在C/C++侧调用JS方法。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_cb_info</td>         <td class="cellrowborder" valign="top" width="50%">从给定的callback info中获取有关调用的详细信息，如参数和this指针。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="环境生命周期">环境生命周期<i class="anchor-icon anchor-icon-link" anchorid="环境生命周期" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.35.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.35.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_set_instance_data</td>         <td class="cellrowborder" valign="top" width="50%">绑定与当前运行的环境相关联的数据项。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_instance_data</td>         <td class="cellrowborder" valign="top" width="50%">检索与当前运行的环境相关联的数据项。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="对象生命周期管理">对象生命周期管理<i class="anchor-icon anchor-icon-link" anchorid="对象生命周期管理" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.36.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.36.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_add_env_cleanup_hook</td>         <td class="cellrowborder" valign="top" width="50%">注册环境清理钩子函数。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_remove_env_cleanup_hook</td>         <td class="cellrowborder" valign="top" width="50%">取消环境清理钩子函数。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_add_async_cleanup_hook</td>         <td class="cellrowborder" valign="top" width="50%">注册清理异步钩子函数。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_remove_async_cleanup_hook</td>         <td class="cellrowborder" valign="top" width="50%">取消清理异步钩子函数。</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h3 id="扩展能力">扩展能力<i class="anchor-icon anchor-icon-link" anchorid="扩展能力" tips="复制节点链接"></i></h3>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/napi#node-api组件扩展的符号列表" target="_blank">Node-API组件扩展的符号列表</a></p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.37.3.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.37.3.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_queue_async_work_with_qos</td>         <td class="cellrowborder" valign="top" width="50%">将异步工作对象加到队列，由底层根据传入的qos优先级去调度执行。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_run_script_path</td>         <td class="cellrowborder" valign="top" width="50%">运行指定的abc文件。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_load_module</td>         <td class="cellrowborder" valign="top" width="50%">将abc文件作为模块加载，返回模块的命名空间。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_load_module_with_info</td>         <td class="cellrowborder" valign="top" width="50%">将abc文件作为模块加载，返回模块的命名空间，可在ArkTS基础运行时环境中使用。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_object_with_properties</td>         <td class="cellrowborder" valign="top" width="50%">使用给定的napi_property_descriptor创建js Object。descriptor的键名必须为string，且不可转为number。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_object_with_named_properties</td>         <td class="cellrowborder" valign="top" width="50%">使用给定的napi_value和键名创建js Object。键名必须为string，且不可转为number。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_coerce_to_native_binding_object</td>         <td class="cellrowborder" valign="top" width="50%">强制将js Object和Native对象绑定。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_ark_runtime</td>         <td class="cellrowborder" valign="top" width="50%">创建基础运行时环境。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_destroy_ark_runtime</td>         <td class="cellrowborder" valign="top" width="50%">销毁基础运行时环境。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_run_event_loop</td>         <td class="cellrowborder" valign="top" width="50%">启动底层的事件循环。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_stop_event_loop</td>         <td class="cellrowborder" valign="top" width="50%">停止底层的事件循环。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_serialize</td>         <td class="cellrowborder" valign="top" width="50%">将ArkTS对象序列化为native数据。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_deserialize</td>         <td class="cellrowborder" valign="top" width="50%">将native数据反序列化为ArkTS对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_delete_serialization_data</td>         <td class="cellrowborder" valign="top" width="50%">删除序列化数据。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_call_threadsafe_function_with_priority</td>         <td class="cellrowborder" valign="top" width="50%">按照指定的优先级和入队策略，将任务投递到ArkTS主线程中。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_is_sendable</td>         <td class="cellrowborder" valign="top" width="50%">判断给定的JS value是否是Sendable的。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_define_sendable_class</td>         <td class="cellrowborder" valign="top" width="50%">创建一个Sendable类。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_sendable_object_with_properties</td>         <td class="cellrowborder" valign="top" width="50%">使用给定的napi_property_descriptor创建一个Sendable对象。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_sendable_array</td>         <td class="cellrowborder" valign="top" width="50%">创建一个Sendable数组。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_sendable_array_with_length</td>         <td class="cellrowborder" valign="top" width="50%">创建一个指定长度的Sendable数组。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_sendable_arraybuffer</td>         <td class="cellrowborder" valign="top" width="50%">创建一个Sendable ArrayBuffer。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_sendable_typedarray</td>         <td class="cellrowborder" valign="top" width="50%">创建一个Sendable TypedArray。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_wrap_sendable</td>         <td class="cellrowborder" valign="top" width="50%">包裹一个native实例到ArkTS对象中。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_wrap_sendable_with_size</td>         <td class="cellrowborder" valign="top" width="50%">包裹一个native实例到ArkTS对象中并指定大小。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_unwrap_sendable</td>         <td class="cellrowborder" valign="top" width="50%">获取ArkTS对象包裹的native实例。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_remove_wrap_sendable</td>         <td class="cellrowborder" valign="top" width="50%">移除并获取ArkTS对象包裹的native实例，移除后回调将不再触发，需手动delete释放内存。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_wrap_enhance</td>         <td class="cellrowborder" valign="top" width="50%">在ArkTS对象上绑定一个Node-API模块对象实例并指定实例大小，开发者可以指定绑定的回调函数是否异步执行，如果异步执行，则回调函数必须是线程安全的。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_ark_context</td>         <td class="cellrowborder" valign="top" width="50%">创建一个新的上下文环境。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_switch_ark_context</td>         <td class="cellrowborder" valign="top" width="50%">切换到指定的运行时上下文环境。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_destroy_ark_context</td>         <td class="cellrowborder" valign="top" width="50%">销毁通过napi_create_ark_context创建的上下文环境。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_open_critical_scope</td>         <td class="cellrowborder" valign="top" width="50%">打开临界区作用域。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_close_critical_scope</td>         <td class="cellrowborder" valign="top" width="50%">关闭临界区作用域。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_buffer_string_utf16_in_critical_scope</td>         <td class="cellrowborder" valign="top" width="50%">获取ArkTS String的UTF-16编码内存缓冲区数据。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_create_strong_reference</td>         <td class="cellrowborder" valign="top" width="50%">创建指向ArkTS对象的强引用。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_delete_strong_reference</td>         <td class="cellrowborder" valign="top" width="50%">删除强引用。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_strong_reference_value</td>         <td class="cellrowborder" valign="top" width="50%">根据强引用对象获取其关联的ArkTS对象值。</td>        </tr>             </tbody></table></div>     </div>     <p><strong>napi_queue_async_work_with_qos</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_queue_async_work_with_qos</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                           napi_async_work work,</span></li><li><span class="hljs-params">                                           <span class="hljs-type">napi_qos_t</span> qos)</span>;</li></ol></pre></div></div>     <p>用法同napi_queue_async_work，但可以指定QoS等级。napi_queue_async_work_with_qos使用方法可参考指定异步任务调度优先级。QoS详细介绍可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/qos-guidelines">QoS 开发指导</a>。</p>     <p><strong>napi_run_script_path</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_run_script_path</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                 <span class="hljs-type">const</span> <span class="hljs-type">char</span>* abcPath,</span></li><li><span class="hljs-params">                                 napi_value* result)</span>;</li></ol></pre></div></div>     <p>**注：**使用限制说明文档：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs/faqs-ndk-65" target="_blank">使用napi_run_script_path接口执行包内abc文件的使用限制</a></p>     <p><strong>napi_load_module</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_load_module</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                             <span class="hljs-type">const</span> <span class="hljs-type">char</span>* path,</span></li><li><span class="hljs-params">                             napi_value* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_object_with_properties</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_object_with_properties</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                               napi_value* result,</span></li><li><span class="hljs-params">                                               <span class="hljs-type">size_t</span> property_count,</span></li><li><span class="hljs-params">                                               <span class="hljs-type">const</span> napi_property_descriptor* properties)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_object_with_named_properties</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_object_with_named_properties</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                                     napi_value* result,</span></li><li><span class="hljs-params">                                                     <span class="hljs-type">size_t</span> property_count,</span></li><li><span class="hljs-params">                                                     <span class="hljs-type">const</span> <span class="hljs-type">char</span>** keys,</span></li><li><span class="hljs-params">                                                     <span class="hljs-type">const</span> napi_value* values)</span>;</li></ol></pre></div></div>     <p><strong>napi_coerce_to_native_binding_object</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_coerce_to_native_binding_object</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                                 napi_value js_object,</span></li><li><span class="hljs-params">                                                 napi_native_binding_detach_callback detach_cb,</span></li><li><span class="hljs-params">                                                 napi_native_binding_attach_callback attach_cb,</span></li><li><span class="hljs-params">                                                 <span class="hljs-type">void</span>* native_object,</span></li><li><span class="hljs-params">                                                 <span class="hljs-type">void</span>* hint)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_ark_runtime</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_ark_runtime</span><span class="hljs-params">(napi_env *env)</span>;</li></ol></pre></div></div>     <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-napi-ark-runtime">使用napi_create_ark_runtime、napi_destroy_ark_runtime接口创建ArkTS运行时环境</a>。</p>     <p><strong>napi_destroy_ark_runtime</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_destroy_ark_runtime</span><span class="hljs-params">(napi_env *env)</span>;</li></ol></pre></div></div>     <p><strong>napi_run_event_loop</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_run_event_loop</span><span class="hljs-params">(napi_env env, napi_event_mode mode)</span>;</li></ol></pre></div></div>     <p>开发者只能在自己通过napi_create_ark_runtime创建的ArkTS运行环境中调用napi_run_event_loop与napi_stop_event_loop接口，使用方法可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/use-napi-event-loop">使用扩展的Node-API接口在异步线程中运行和停止事件循环</a>。</p>     <p><strong>napi_stop_event_loop</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_stop_event_loop</span><span class="hljs-params">(napi_env env)</span>;</li></ol></pre></div></div>     <p><strong>napi_serialize</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_serialize</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                           napi_value object,</span></li><li><span class="hljs-params">                           napi_value transfer_list,</span></li><li><span class="hljs-params">                           napi_value clone_list,</span></li><li><span class="hljs-params">                           <span class="hljs-type">void</span>** result)</span>;</li></ol></pre></div></div>     <p><strong>napi_deserialize</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_deserialize</span><span class="hljs-params">(napi_env env, <span class="hljs-type">void</span>* buffer, napi_value* object)</span>;</li></ol></pre></div></div>     <p><strong>napi_delete_serialization_data</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_delete_serialization_data</span><span class="hljs-params">(napi_env env, <span class="hljs-type">void</span>* buffer)</span>;</li></ol></pre></div></div>     <p><strong>napi_call_threadsafe_function_with_priority</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_call_threadsafe_function_with_priority</span><span class="hljs-params">(napi_threadsafe_function func,</span></li><li><span class="hljs-params">                                                        <span class="hljs-type">void</span> *data,</span></li><li><span class="hljs-params">                                                        napi_task_priority priority,</span></li><li><span class="hljs-params">                                                        <span class="hljs-type">bool</span> isTail)</span>;</li></ol></pre></div></div>     <p><strong>napi_is_sendable</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_is_sendable</span><span class="hljs-params">(napi_env env, napi_value value, <span class="hljs-type">bool</span>* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_define_sendable_class</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_define_sendable_class</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                       <span class="hljs-type">const</span> <span class="hljs-type">char</span>* utf8name,</span></li><li><span class="hljs-params">                                       <span class="hljs-type">size_t</span> length,</span></li><li><span class="hljs-params">                                       napi_callback constructor,</span></li><li><span class="hljs-params">                                       <span class="hljs-type">void</span>* data,</span></li><li><span class="hljs-params">                                       <span class="hljs-type">size_t</span> property_count,</span></li><li><span class="hljs-params">                                       <span class="hljs-type">const</span> napi_property_descriptor* properties,</span></li><li><span class="hljs-params">                                       napi_value parent,</span></li><li><span class="hljs-params">                                       napi_value* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_sendable_object_with_properties</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_sendable_object_with_properties</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                                        <span class="hljs-type">size_t</span> property_count,</span></li><li><span class="hljs-params">                                                        <span class="hljs-type">const</span> napi_property_descriptor* properties,</span></li><li><span class="hljs-params">                                                        napi_value* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_sendable_array</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_sendable_array</span><span class="hljs-params">(napi_env env, napi_value* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_sendable_array_with_length</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_sendable_array_with_length</span><span class="hljs-params">(napi_env env, <span class="hljs-type">size_t</span> length, napi_value* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_sendable_arraybuffer</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_sendable_arraybuffer</span><span class="hljs-params">(napi_env env, <span class="hljs-type">size_t</span> byte_length, <span class="hljs-type">void</span>** data, napi_value* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_sendable_typedarray</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_sendable_typedarray</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                            napi_typedarray_type type,</span></li><li><span class="hljs-params">                                            <span class="hljs-type">size_t</span> length,</span></li><li><span class="hljs-params">                                            napi_value arraybuffer,</span></li><li><span class="hljs-params">                                            <span class="hljs-type">size_t</span> byte_offset,</span></li><li><span class="hljs-params">                                            napi_value* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_wrap_sendable</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_wrap_sendable</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                               napi_value js_object,</span></li><li><span class="hljs-params">                               <span class="hljs-type">void</span>* native_object,</span></li><li><span class="hljs-params">                               napi_finalize finalize_cb,</span></li><li><span class="hljs-params">                               <span class="hljs-type">void</span>* finalize_hint)</span>;</li></ol></pre></div></div>     <p><strong>napi_wrap_sendable_with_size</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_wrap_sendable_with_size</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                         napi_value js_object,</span></li><li><span class="hljs-params">                                         <span class="hljs-type">void</span>* native_object,</span></li><li><span class="hljs-params">                                         napi_finalize finalize_cb,</span></li><li><span class="hljs-params">                                         <span class="hljs-type">void</span>* finalize_hint,</span></li><li><span class="hljs-params">                                         <span class="hljs-type">size_t</span> native_binding_size)</span>;</li></ol></pre></div></div>     <p><strong>napi_unwrap_sendable</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_unwrap_sendable</span><span class="hljs-params">(napi_env env, napi_value js_object, <span class="hljs-type">void</span>** result)</span>;</li></ol></pre></div></div>     <p><strong>napi_remove_wrap_sendable</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_remove_wrap_sendable</span><span class="hljs-params">(napi_env env, napi_value js_object, <span class="hljs-type">void</span>** result)</span>;</li></ol></pre></div></div>     <p><strong>napi_wrap_enhance</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_wrap_enhance</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                              napi_value js_object,</span></li><li><span class="hljs-params">                              <span class="hljs-type">void</span>* native_object,</span></li><li><span class="hljs-params">                              napi_finalize finalize_cb,</span></li><li><span class="hljs-params">                              <span class="hljs-type">bool</span> async_finalizer,</span></li><li><span class="hljs-params">                              <span class="hljs-type">void</span>* finalize_hint,</span></li><li><span class="hljs-params">                              <span class="hljs-type">size_t</span> native_binding_size,</span></li><li><span class="hljs-params">                              napi_ref* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_ark_context</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_ark_context</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                    napi_env* newEnv)</span>;</li></ol></pre></div></div>     <p><strong>napi_switch_ark_context</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_switch_ark_context</span><span class="hljs-params">(napi_env env)</span>;</li></ol></pre></div></div>     <p><strong>napi_destroy_ark_context</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_destroy_ark_context</span><span class="hljs-params">(napi_env env)</span>;</li></ol></pre></div></div>     <p><strong>napi_open_critical_scope</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_open_critical_scope</span><span class="hljs-params">(napi_env env, napi_critical_scope* scope)</span>;</li></ol></pre></div></div>     <p><strong>napi_close_critical_scope</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_close_critical_scope</span><span class="hljs-params">(napi_env env, napi_critical_scope scope)</span>;</li></ol></pre></div></div>     <p><strong>napi_get_buffer_string_utf16_in_critical_scope</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_get_buffer_string_utf16_in_critical_scope</span><span class="hljs-params">(napi_env env,</span></li><li><span class="hljs-params">                                                           napi_value value,</span></li><li><span class="hljs-params">                                                           <span class="hljs-type">const</span> <span class="hljs-type">char16_t</span>** buffer,</span></li><li><span class="hljs-params">                                                           <span class="hljs-type">size_t</span>* length)</span>;</li></ol></pre></div></div>     <p><strong>napi_create_strong_reference</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_create_strong_reference</span><span class="hljs-params">(napi_env env, napi_value value, napi_strong_ref* result)</span>;</li></ol></pre></div></div>     <p><strong>napi_delete_strong_reference</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_delete_strong_reference</span><span class="hljs-params">(napi_env env, napi_strong_ref ref)</span></li></ol></pre></div></div>     <p><strong>napi_get_strong_reference_value</strong></p>     <div _ngcontent-wqt-c106="" class="highlight-div"><div _ngcontent-wqt-c106="" class="highlight-div-header"><div _ngcontent-wqt-c106="" class="highlight-div-header-left"><div _ngcontent-wqt-c106="" class="handle-button expand-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wqt-c106="" class="highlight-div-header-right"><div _ngcontent-wqt-c106="" class="handle-button ai-button"></div><div _ngcontent-wqt-c106="" class="handle-button line-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wqt-c106="" class="handle-button theme-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wqt-c106="" class="handle-button copy-button"><div _ngcontent-wqt-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wqt-c106="" class="highlight-scroll-div"><pre class="c prettyprint linenums hljs language-c" hw-language="c" data-highlighted="yes"><ol class="linenums"><li>napi_status <span class="hljs-title function_">napi_get_strong_reference_value</span><span class="hljs-params">(napi_env env, napi_strong_ref ref, napi_value* result)</span></li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="其他实用工具">其他实用工具<i class="anchor-icon anchor-icon-link" anchorid="其他实用工具" tips="复制节点链接"></i></h3>          <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.38.2.1.3.1.1" valign="top" width="50%">接口</th>         <th align="left" class="cellrowborder" id="mcps1.3.38.2.1.3.1.2" valign="top" width="50%">功能说明</th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="50%">napi_get_version</td>         <td class="cellrowborder" valign="top" width="50%">获取Node运行时支持的最高 NAPI 版本。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">node_api_get_module_file_name</td>         <td class="cellrowborder" valign="top" width="50%">用于获取加载项加载位置的绝对路径。</td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="50%">napi_strict_equals</td>         <td class="cellrowborder" valign="top" width="50%">当需要确保两个值不仅值相等且类型也相同时（例如处理特定类型的数据结构或算法时），可以使用napi_strict_equals来保证数据一致性。</td>        </tr>             </tbody></table></div>     </div>    </div>   </div>   <div></div></div>