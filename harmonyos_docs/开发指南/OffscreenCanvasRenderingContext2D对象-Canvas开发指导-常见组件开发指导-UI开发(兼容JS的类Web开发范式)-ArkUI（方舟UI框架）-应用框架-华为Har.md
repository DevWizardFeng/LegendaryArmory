<h1 _ngcontent-fnu-c119="" class="doc-title ng-star-inserted" title="OffscreenCanvasRenderingContext2D对象"> OffscreenCanvasRenderingContext2D对象 </h1>

<div _ngcontent-fnu-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>使用OffscreenCanvas在离屏Canvas画布组件上进行绘制，绘制对象可以是矩形、文本、图片等。 离屏，即GPU在当前缓冲区以外新开辟的一个缓冲区。具体请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-offscreencanvasrenderingcontext2d" target="_blank">OffscreenCanvasRenderingContext2D对象</a>。</p>    <p>以下示例创建了一个OffscreenCanvas画布，再在画布上创建一个getContext2d对象，并设置filter属性改变图片样式。</p>    <div _ngcontent-fnu-c106="" class="highlight-div"><div _ngcontent-fnu-c106="" class="highlight-div-header"><div _ngcontent-fnu-c106="" class="highlight-div-header-left"><div _ngcontent-fnu-c106="" class="handle-button expand-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fnu-c106="" class="highlight-div-header-right"><div _ngcontent-fnu-c106="" class="handle-button ai-button"></div><div _ngcontent-fnu-c106="" class="handle-button line-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fnu-c106="" class="handle-button theme-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fnu-c106="" class="handle-button copy-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fnu-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"change()"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"blur(5px)"</span>&gt;</span>blur<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"grayscale(50%)"</span>&gt;</span>grayscale<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"hue-rotate(45deg)"</span>&gt;</span>hue-rotate<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"invert(100%)"</span>&gt;</span>invert<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"drop-shadow(8px 8px 10px green)"</span>&gt;</span>drop-shadow<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"brightness(0.4)"</span>&gt;</span>brightness<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"opacity(0.25)"</span>&gt;</span>opacity<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"saturate(30%)"</span>&gt;</span>saturate<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sepia(60%)"</span>&gt;</span>sepia<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"contrast(200%)"</span>&gt;</span>contrast<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>    <div _ngcontent-fnu-c106="" class="highlight-div"><div _ngcontent-fnu-c106="" class="highlight-div-header"><div _ngcontent-fnu-c106="" class="highlight-div-header-left"><div _ngcontent-fnu-c106="" class="handle-button expand-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fnu-c106="" class="highlight-div-header-right"><div _ngcontent-fnu-c106="" class="handle-button ai-button"></div><div _ngcontent-fnu-c106="" class="handle-button line-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fnu-c106="" class="handle-button theme-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fnu-c106="" class="handle-button copy-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fnu-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li>select{</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">250px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: white;</li><li>}</li></ol></pre></div></div>    <div _ngcontent-fnu-c106="" class="highlight-div"><div _ngcontent-fnu-c106="" class="highlight-div-header"><div _ngcontent-fnu-c106="" class="highlight-div-header-left"><div _ngcontent-fnu-c106="" class="handle-button expand-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fnu-c106="" class="highlight-div-header-right"><div _ngcontent-fnu-c106="" class="handle-button ai-button"></div><div _ngcontent-fnu-c106="" class="handle-button line-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fnu-c106="" class="handle-button theme-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fnu-c106="" class="handle-button copy-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fnu-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">import</span> promptAction <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.promptAction'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>:{</li><li>    <span class="hljs-attr">el</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">ctx</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">offscreen</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">offCanvas</span>: <span class="hljs-literal">null</span>,</li><li>    <span class="hljs-attr">img</span>: <span class="hljs-literal">null</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas1</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offscreen</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">600</span>, <span class="hljs-number">500</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offscreen</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();</li><li>    <span class="hljs-comment">// "common/images/2.png"需要替换为开发者所需的图像资源文件</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>.<span class="hljs-property">src</span> = <span class="hljs-string">'common/images/2.png'</span>;</li><li>    <span class="hljs-comment">// 图片成功获取触发方法</span></li><li>    <span class="hljs-keyword">let</span> _this = <span class="hljs-variable language_">this</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      _this.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">drawImage</span>(_this.<span class="hljs-property">img</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>    };</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {</li><li>      promptAction.<span class="hljs-title function_">showToast</span>({<span class="hljs-attr">message</span>:<span class="hljs-string">"error"</span>,<span class="hljs-attr">duration</span>:<span class="hljs-number">2000</span>})</li><li>    };</li><li>    <span class="hljs-keyword">var</span> bitmap = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offscreen</span>.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  },</li><li>  <span class="hljs-title function_">change</span>(<span class="hljs-params">e</span>){</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-property">filter</span> = e.<span class="hljs-property">newValue</span>;<span class="hljs-variable language_">this</span>.<span class="hljs-property">offCanvas</span>.<span class="hljs-title function_">drawImage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">img</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>);</li><li>    <span class="hljs-keyword">var</span> bitmap = <span class="hljs-variable language_">this</span>.<span class="hljs-property">offscreen</span>.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  },</li><li>}</li></ol></pre></div></div>    <p><span><img originheight="317" originwidth="280" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114936.86611658418219557355284767571780:50001231000000:2800:BCED88033C26CAC26D4C531FA520E1C06017140554908CC891C033E6C7DECD3B.gif" class="notEnlarge" width="280" height="317"></span></p>    <div class="tiledSection">     <h2 id="判断位置">判断位置<i class="anchor-icon anchor-icon-link" anchorid="判断位置" tips="复制节点链接"></i></h2>          <p>使用isPointInPath判断坐标点是否在路径的区域内，使用isPointInStroke判断坐标点是否在路径的边缘线上，并在页面上显示返回结果。</p>     <div _ngcontent-fnu-c106="" class="highlight-div"><div _ngcontent-fnu-c106="" class="highlight-div-header"><div _ngcontent-fnu-c106="" class="highlight-div-header-left"><div _ngcontent-fnu-c106="" class="handle-button expand-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fnu-c106="" class="highlight-div-header-right"><div _ngcontent-fnu-c106="" class="handle-button ai-button"></div><div _ngcontent-fnu-c106="" class="handle-button line-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fnu-c106="" class="handle-button theme-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fnu-c106="" class="handle-button copy-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fnu-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>坐标：{{X}}, {{Y}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>In path:{{textValue}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>In stroke:{{textValue1}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"canvas"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"change"</span>&gt;</span>Add(50)<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-fnu-c106="" class="highlight-div"><div _ngcontent-fnu-c106="" class="highlight-div-header"><div _ngcontent-fnu-c106="" class="highlight-div-header-left"><div _ngcontent-fnu-c106="" class="handle-button expand-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fnu-c106="" class="highlight-div-header-right"><div _ngcontent-fnu-c106="" class="handle-button ai-button"></div><div _ngcontent-fnu-c106="" class="handle-button line-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fnu-c106="" class="handle-button theme-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fnu-c106="" class="handle-button copy-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fnu-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>  <span class="hljs-attribute">display</span>: flex;</li><li>}</li><li><span class="hljs-selector-tag">canvas</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fdfdfd</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;</li><li>}</li><li><span class="hljs-selector-class">.content</span>{</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>}</li><li>text{</li><li>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">80px</span>;</li><li>  <span class="hljs-attribute">text-align</span>: center;</li><li>}</li><li><span class="hljs-selector-tag">button</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">180px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">75px</span>;</li><li>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-fnu-c106="" class="highlight-div"><div _ngcontent-fnu-c106="" class="highlight-div-header"><div _ngcontent-fnu-c106="" class="highlight-div-header-left"><div _ngcontent-fnu-c106="" class="handle-button expand-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fnu-c106="" class="highlight-div-header-right"><div _ngcontent-fnu-c106="" class="handle-button ai-button"></div><div _ngcontent-fnu-c106="" class="handle-button line-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fnu-c106="" class="handle-button theme-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fnu-c106="" class="handle-button copy-button"><div _ngcontent-fnu-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fnu-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">textValue</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">textValue1</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">X</span>:<span class="hljs-number">0</span>,</li><li>    <span class="hljs-attr">Y</span>:<span class="hljs-number">250</span>,</li><li>  },</li><li>  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">let</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);</li><li>    <span class="hljs-keyword">let</span> offscreen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">500</span>,<span class="hljs-number">500</span>);</li><li>    <span class="hljs-keyword">let</span> offscreenCanvasCtx = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    <span class="hljs-keyword">let</span> offscreenCanvasCtx1 = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    offscreenCanvasCtx1.<span class="hljs-title function_">arc</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">Y</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>);</li><li>    offscreenCanvasCtx.<span class="hljs-property">lineWidth</span>=<span class="hljs-number">20</span>;</li><li>    offscreenCanvasCtx.<span class="hljs-title function_">rect</span>(<span class="hljs-number">200</span>,<span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    offscreenCanvasCtx.<span class="hljs-title function_">stroke</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textValue1</span> = offscreenCanvasCtx.<span class="hljs-title function_">isPointInStroke</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">Y</span>)?<span class="hljs-string">'true'</span>:<span class="hljs-string">'false'</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textValue</span> = offscreenCanvasCtx.<span class="hljs-title function_">isPointInPath</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">Y</span>)?<span class="hljs-string">'true'</span>:<span class="hljs-string">'false'</span>;</li><li>    <span class="hljs-keyword">let</span> bitmap = offscreen.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>    canvas.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  },</li><li>  <span class="hljs-title function_">change</span>(<span class="hljs-params"></span>){</li><li>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span> &lt; <span class="hljs-number">500</span>){</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span>+<span class="hljs-number">50</span>;</li><li>    }<span class="hljs-keyword">else</span>{</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span> = <span class="hljs-number">0</span>;</li><li>    }</li><li>    <span class="hljs-keyword">let</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);</li><li>    <span class="hljs-keyword">let</span> offscreen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OffscreenCanvas</span>(<span class="hljs-number">500</span>,<span class="hljs-number">500</span>);</li><li>    <span class="hljs-keyword">let</span> offscreenCanvasCtx = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    <span class="hljs-keyword">let</span> offscreenCanvasCtx1 = offscreen.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);</li><li>    offscreenCanvasCtx1.<span class="hljs-title function_">arc</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">Y</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6.28</span>)</li><li>    offscreenCanvasCtx.<span class="hljs-property">lineWidth</span>=<span class="hljs-number">20</span></li><li>    offscreenCanvasCtx.<span class="hljs-title function_">rect</span>(<span class="hljs-number">200</span>,<span class="hljs-number">150</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);</li><li>    offscreenCanvasCtx.<span class="hljs-title function_">stroke</span>();</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textValue1</span> = offscreenCanvasCtx.<span class="hljs-title function_">isPointInStroke</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">Y</span>)?<span class="hljs-string">'true'</span>:<span class="hljs-string">'false'</span>;</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">textValue</span> = offscreenCanvasCtx.<span class="hljs-title function_">isPointInPath</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">X</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">Y</span>)?<span class="hljs-string">'true'</span>:<span class="hljs-string">'false'</span>;</li><li>    <span class="hljs-keyword">let</span> bitmap = offscreen.<span class="hljs-title function_">transferToImageBitmap</span>();</li><li>    canvas.<span class="hljs-title function_">transferFromImageBitmap</span>(bitmap);</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="546" originwidth="313" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114936.83417281764945300284499303239001:50001231000000:2800:47512B44EF98D3E24613EFCAB27698A3BDDEFB68C2892505E8259C2A88E04658.gif" width="313" height="546"></span></p>    </div>   </div>   <div></div></div>