<h1 _ngcontent-ilh-c119="" class="doc-title ng-star-inserted" title="PageAbility的生命周期"> PageAbility的生命周期 </h1>

<div _ngcontent-ilh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>PageAbility生命周期是PageAbility被调度到INACTIVE、ACTIVE、BACKGROUND等各个状态的统称。PageAbility生命周期流转及状态说明如图1、表1所示。</p> <p> <strong>图1</strong> PageAbility生命周期流转</p> <p><span><img originheight="282" originwidth="702" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114921.41043990269546413210300052362125:50001231000000:2800:E4312F814C2B961F1E799A89E734E1E8890C5655566BE7914FE1A9C04E9CF850.png" width="702" height="282"></span></p> <p> <strong>表1</strong> PageAbility生命周期状态说明</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.1.3.1.1" valign="top" width="50%">生命周期状态</th> <th align="left" class="cellrowborder" id="mcps1.3.5.1.3.1.2" valign="top" width="50%">生命周期状态说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">UNINITIALIZED</td> <td class="cellrowborder" valign="top" width="50%">未初始状态，为临时状态，PageAbility被创建后会由UNINITIALIZED状态进入INITIAL状态。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">INITIAL</td> <td class="cellrowborder" valign="top" width="50%">初始化状态，也表示停止状态，表示当前PageAbility未运行，PageAbility被启动后由INITIAL态进入INACTIVE状态。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">INACTIVE</td> <td class="cellrowborder" valign="top" width="50%">失去焦点状态，表示当前窗口已显示但是无焦点状态。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">ACTIVE</td> <td class="cellrowborder" valign="top" width="50%">前台激活状态，表示当前窗口已显示，并获取焦点。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">BACKGROUND</td> <td class="cellrowborder" valign="top" width="50%">后台状态，表示当前PageAbility退到后台，PageAbility在被销毁后由BACKGROUND状态进入INITIAL状态，或者重新被激活后由BACKGROUND状态进入ACTIVE状态。</td> </tr>  </tbody></table></div> </div> <p>应用开发者可以在app.js/app.ets中实现生命周期相关回调函数，PageAbility生命周期相关回调函数见下表。</p> <p> <strong>表2</strong> PageAbility生命周期回调接口说明</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.1.3.1.1" valign="top" width="50%">接口名</th> <th align="left" class="cellrowborder" id="mcps1.3.8.1.3.1.2" valign="top" width="50%">接口描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">onCreate()</td> <td class="cellrowborder" valign="top" width="50%">Ability第一次启动时调用onCreate方法，开发者可以在该方法里做一些应用初始化工作。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">onDestroy()</td> <td class="cellrowborder" valign="top" width="50%">应用退出，销毁Ability对象前调用onDestroy方法，开发者可以在该方法里做一些回收资源、清空缓存等应用退出前的准备工作。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">onActive()</td> <td class="cellrowborder" valign="top" width="50%">Ability切换到前台，并且已经获取焦点时调用onActive方法。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">onInactive()</td> <td class="cellrowborder" valign="top" width="50%">Ability失去焦点时调用onInactive方法，Ability在进入后台状态时会先失去焦点，再进入后台。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">onShow()</td> <td class="cellrowborder" valign="top" width="50%">Ability由后台不可见状态切换到前台可见状态调用onShow方法，此时用户在屏幕可以看到该Ability。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">onHide()</td> <td class="cellrowborder" valign="top" width="50%">Ability由前台切换到后台不可见状态时调用onHide方法，此时用户在屏幕看不到该Ability。</td> </tr>  </tbody></table></div> </div> <p>PageAbility生命周期回调与生命周期状态的关系如下图所示。</p> <p> <strong>图2</strong> PageAbility生命周期回调与生命周期状态的关系</p> <p><span><img originheight="623" originwidth="322" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114921.71704366020244649005644424595681:50001231000000:2800:FFACFC3BCB145E162B51408F84B870A58500398357AA3D15288F77AA9F44F741.png" width="322" height="623"></span></p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"> <ol><li>PageAbility的生命周期回调均为同步接口。</li><li>目前app.js环境中仅支持onCreate和onDestroy回调，app.ets环境支持全量生命周期回调。</li></ol>  </div></div></div> </div> <div></div></div>