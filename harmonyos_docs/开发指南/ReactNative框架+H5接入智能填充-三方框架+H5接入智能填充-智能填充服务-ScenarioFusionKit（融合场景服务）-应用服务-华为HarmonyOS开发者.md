<h1 _ngcontent-npn-c119="" class="doc-title ng-star-inserted" title="React Native框架+H5接入智能填充"> React Native框架+H5接入智能填充 </h1>

<div _ngcontent-npn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div><div class="hw-editor-tip warn"><div class="title">注意</div><div class="content"><p>目前仅支持已适配HarmonyOS的三方框架应用使用。</p> <p>HarmonyOS版React Native环境搭建请参考官方文档<a href="https://gitcode.com/openharmony-sig/ohos_react_native?source_module=search_result_repo" target="_blank">React Native环境搭建指导</a>。</p> </div></div></div> <div class="tiledSection"><h2 id="section156723761717">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section156723761717" tips="复制节点链接"></i></h2><ul><li>设备智能填充开关必须处于打开状态，请前往“设置 &gt; 隐私和安全 &gt; 智能填充”页面开启开关。</li><li>设备已连接互联网并且登录华为账号。</li><li>该应用需已接入<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-introduction-to-smart-fill#section1167564853816" target="_blank">智能填充服务</a>。</li></ul> </div> <div class="tiledSection"><h2 id="section421073715169">开发准备<i class="anchor-icon anchor-icon-link" anchorid="section421073715169" tips="复制节点链接"></i></h2><p>配置React Native已适配HarmonyOS的工程。</p> </div> <div class="tiledSection"><h2 id="section16681131619432">React Native输入框效果图<i class="anchor-icon anchor-icon-link" anchorid="section16681131619432" tips="复制节点链接"></i></h2><p><span><img height="451.88346" originheight="792" originwidth="383" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114657.53617870647313816821196679361788:50001231000000:2800:CF8D757C230E3D420D7A677C69BAFE745CED321A9B3391C31DE2743A748B6EB3.png" title="点击放大" width="218.52432000000002"></span></p> </div> <div class="tiledSection"><h2 id="section14936162320716">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section14936162320716" tips="复制节点链接"></i></h2><p>在React Native输入框TextInput需要配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-mappingrelationship#section182639485919">textContentType</a>属性来支持智能填充，代码如下：</p> <div _ngcontent-npn-c106="" class="highlight-div"><div _ngcontent-npn-c106="" class="highlight-div-header"><div _ngcontent-npn-c106="" class="highlight-div-header-left"><div _ngcontent-npn-c106="" class="handle-button expand-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-npn-c106="" class="highlight-div-header-right"><div _ngcontent-npn-c106="" class="handle-button ai-button"></div><div _ngcontent-npn-c106="" class="handle-button line-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-npn-c106="" class="handle-button theme-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-npn-c106="" class="handle-button copy-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-npn-c106="" class="highlight-scroll-div"><pre class="javascript prettyprint linenums hljs language-javascript" hw-language="javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">TextInput</span>, <span class="hljs-title class_">View</span>, <span class="hljs-title class_">StyleSheet</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({</li><li>  <span class="hljs-attr">default</span>: {</li><li>    <span class="hljs-attr">borderWidth</span>: <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-property">hairlineWidth</span>,</li><li>    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'#0f0f0f'</span>,</li><li>    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">13</span>,</li><li>    <span class="hljs-attr">padding</span>: <span class="hljs-number">4</span>,</li><li>    <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>,</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,</li><li>  },</li><li>  <span class="hljs-attr">labelContainer</span>: {</li><li>    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>,</li><li>    <span class="hljs-attr">marginVertical</span>: <span class="hljs-number">2</span>,</li><li>  },</li><li>  <span class="hljs-attr">label</span>: {</li><li>    <span class="hljs-attr">width</span>: <span class="hljs-number">140</span>,</li><li>    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'right'</span>,</li><li>    <span class="hljs-attr">marginRight</span>: <span class="hljs-number">10</span>,</li><li>    <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">2</span>,</li><li>    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">15</span>,</li><li>  },</li><li>  <span class="hljs-attr">inputContainer</span>: {</li><li>    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,</li><li>  }</li><li>});</li><li><span class="hljs-keyword">class</span> <span class="hljs-title class_">WithLabel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&lt;$FlowFixMeProps&gt; {</li><li>  <span class="hljs-title function_">render</span>(): <span class="hljs-title class_">React</span>.<span class="hljs-property">Node</span> {</li><li>    <span class="hljs-keyword">return</span> (</li><li>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.labelContainer}</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.label}</span>&gt;</span>{this.props.label}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.inputContainer}</span>&gt;</span>{this.props.children}<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span></li><li>    );</li><li>  }</li><li>}</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">RNTesterApp</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-keyword">return</span> (</li><li>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{width:</span> '<span class="hljs-attr">100</span>%', <span class="hljs-attr">height:</span> '<span class="hljs-attr">100</span>%'}}&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"昵称"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"nickname"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span> /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"姓名"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span> /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"手机号"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"telephoneNumber"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span> /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"邮件"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"emailAddress"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span> /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"身份证号"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"idCardNumber"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span> /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"全部地址"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"formatAddress"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span> /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"带街道的详细地址"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"fullStreetAddress"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span>  /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WithLabel</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"不带街道的详细地址"</span>&gt;</span></span></li><li><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">textContentType</span>=<span class="hljs-string">"detailInfoWithoutStreet"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.default}</span> /&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">WithLabel</span>&gt;</span></span></li><li><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span></li><li>  );</li><li>};</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RNTesterApp</span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section159141540174314">React Native框架中加载的H5页面效果图<i class="anchor-icon anchor-icon-link" anchorid="section159141540174314" tips="复制节点链接"></i></h2><p><span><img height="487.79346000000004" originheight="792" originwidth="383" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114657.88895049625169087629690619411664:50001231000000:2800:6867331B2F9ECE78EEEEEE468A5FCE8C6FEAA6722AFD5A913D03FC234E9AD4BC.png" title="点击放大" width="235.889731"></span></p> <p>React Native框架加载H5页面场景，通过给form表单的input输入框（form表单的子节点）配置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-mappingrelationship#section4813203065916">autocomplete</a>属性来支持智能填充，代码如下：</p> <div _ngcontent-npn-c106="" class="highlight-div"><div _ngcontent-npn-c106="" class="highlight-div-header"><div _ngcontent-npn-c106="" class="highlight-div-header-left"><div _ngcontent-npn-c106="" class="handle-button expand-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-npn-c106="" class="highlight-div-header-right"><div _ngcontent-npn-c106="" class="handle-button ai-button"></div><div _ngcontent-npn-c106="" class="handle-button line-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-npn-c106="" class="handle-button theme-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-npn-c106="" class="handle-button copy-button"><div _ngcontent-npn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-npn-c106="" class="highlight-scroll-div"><pre class="javascript prettyprint linenums hljs language-javascript" hw-language="javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">WebView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-webview'</span>;</li><li>
</li><li><span class="hljs-keyword">const</span> <span class="hljs-title function_">RNTesterApp</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-keyword">return</span> (</li><li>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{width:</span> '<span class="hljs-attr">100</span>%', <span class="hljs-attr">height:</span> '<span class="hljs-attr">100</span>%'}}&gt;</span></span></li><li><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">WebView</span></span></span></li><li><span class="language-xml">        <span class="hljs-attr">source</span>=<span class="hljs-string">{require(</span>'<span class="hljs-attr">.</span>/<span class="hljs-attr">autofill_h5.html</span>')}</span></li><li><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">{{flex:</span> <span class="hljs-attr">1</span>, <span class="hljs-attr">paddingTop:</span> <span class="hljs-attr">50</span>}}</span></li><li><span class="language-xml">      /&gt;</span></li><li><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span></li><li>  );</li><li>};</li><li>
</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RNTesterApp</span>;</li></ol></pre></div></div> <p>autofill_h5.html实现参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-h5#li5559949121818">示例代码</a>。</p> </div> </div> <div></div></div>