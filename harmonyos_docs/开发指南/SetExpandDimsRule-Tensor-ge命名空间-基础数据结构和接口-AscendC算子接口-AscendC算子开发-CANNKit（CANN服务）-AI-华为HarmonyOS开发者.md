<h1 _ngcontent-hmx-c119="" class="doc-title ng-star-inserted" title="SetExpandDimsRule"> SetExpandDimsRule </h1>

<div _ngcontent-hmx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section106509mcpsimp">函数功能<i class="anchor-icon anchor-icon-link" anchorid="section106509mcpsimp" tips="复制节点链接"></i></h2><p>设置Tensor的补维规则。</p> <p>补维是指在原有shape的基础上，添加一到多个维度。例如原shape[2,2]有两根轴，那么在两根轴中间补两维后的shape为[2,1,1,2]，补维后shape的第0、3根轴被称为原始轴，第1、2根轴被称为补维轴。</p> <p>通过1和0描述补维规则，1代表当前轴为补维轴，0代表当前轴为原始轴，从左到右依次代表当前shape每根轴的来源，例如：</p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表1 </b>补维规则示例</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.1.5.2.4.1.1" valign="top" width="33.33333333333333%"><p>补维规则</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.1.5.2.4.1.2" valign="top" width="33.33333333333333%"><p>补维前shape</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.1.5.2.4.1.3" valign="top" width="33.33333333333333%"><p>补维后shape</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>0110</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>[2, 2]</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>[2, 1, 1, 2]</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>100</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>[2, 3]</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>[1, 2, 3]</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="33.33333333333333%"><p>1000</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>[2, 3]</p> </td> <td class="cellrowborder" valign="top" width="33.33333333333333%"><p>补维规则与补维前shape不匹配，规则指定原始轴有3根，但原始shape只有2根轴，补维报错。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section106550mcpsimp">函数原型<i class="anchor-icon anchor-icon-link" anchorid="section106550mcpsimp" tips="复制节点链接"></i></h2><div _ngcontent-hmx-c106="" class="highlight-div"><div _ngcontent-hmx-c106="" class="highlight-div-header"><div _ngcontent-hmx-c106="" class="highlight-div-header-left"><div _ngcontent-hmx-c106="" class="handle-button expand-button"><div _ngcontent-hmx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-hmx-c106="" class="highlight-div-header-right"><div _ngcontent-hmx-c106="" class="handle-button ai-button"></div><div _ngcontent-hmx-c106="" class="handle-button line-button"><div _ngcontent-hmx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-hmx-c106="" class="handle-button theme-button"><div _ngcontent-hmx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-hmx-c106="" class="handle-button copy-button"><div _ngcontent-hmx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-hmx-c106="" class="highlight-scroll-div"><pre class="cpp prettyprint linenums hljs language-cpp" hw-language="cpp" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-function">graphStatus <span class="hljs-title">SetExpandDimsRule</span><span class="hljs-params">(<span class="hljs-type">const</span> AscendString &amp;expand_dims_rule)</span></span>;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="section106554mcpsimp">参数说明<i class="anchor-icon anchor-icon-link" anchorid="section106554mcpsimp" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.1" valign="top" width="21%"><p>参数名</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.2" valign="top" width="16%"><p>输入/输出</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.4.1.3" valign="top" width="63%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="21%"><p>expand_dims_rule</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>输入</p> </td> <td class="cellrowborder" valign="top" width="63%"><p>待设置的expand_dims_rule补维规则，采用字符串形式表示补维。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section106577mcpsimp">返回值<i class="anchor-icon anchor-icon-link" anchorid="section106577mcpsimp" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.1" valign="top" width="21.52%"><p>类型</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.3.1.2" valign="top" width="78.48%"><p>描述</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="21.52%"><p>graphStatus</p> </td> <td class="cellrowborder" valign="top" width="78.48%"><p>设置成功返回GRAPH_SUCCESS，否则，返回GRAPH_FAILED。</p> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section106600mcpsimp">异常处理<i class="anchor-icon anchor-icon-link" anchorid="section106600mcpsimp" tips="复制节点链接"></i></h2><p>无</p> </div> <div class="tiledSection"><h2 id="section106603mcpsimp">约束说明<i class="anchor-icon anchor-icon-link" anchorid="section106603mcpsimp" tips="复制节点链接"></i></h2><p>无</p> </div> </div> <div></div></div>