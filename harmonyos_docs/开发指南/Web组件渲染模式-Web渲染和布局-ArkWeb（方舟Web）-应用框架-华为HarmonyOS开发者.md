<h1 _ngcontent-fru-c119="" class="doc-title ng-star-inserted" title="Web组件渲染模式"> Web组件渲染模式 </h1>

<div _ngcontent-fru-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>Web组件提供了两种可配置的渲染模式，能够根据不同的容器大小进行适配，从而满足使用场景中对容器尺寸的需求。</p>    <div class="tiledSection">     <h2 id="异步渲染模式默认">异步渲染模式（默认）<i class="anchor-icon anchor-icon-link" anchorid="异步渲染模式默认" tips="复制节点链接"></i></h2>          <p>异步渲染模式下（renderMode: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-e#rendermode12" target="_blank">RenderMode</a>.ASYNC_RENDER），Web组件作为图形surface节点，独立送显。建议在仅由Web组件构成的应用页面中使用此模式，以提高性能并降低功耗。</p>     <ul>      <li>Web组件的宽高不能超过7,680px（物理像素），超过会导致白屏。</li>      <li>不支持动态切换模式。</li>     </ul>     <p>开发者预期Web组件作为主体显示应用页面，如图一所示，在此场景下，Web组件高度正好为一屏或接近一屏（内嵌在navigation中）。加载的H5页面高度大于Web组件高度，Web内部将产生滚动条，用户可以通过在Web内部滑动来浏览H5页面的信息。只需使用Web组件即可实现应用业务主体内容，建议采用异步渲染模式以提升性能。</p>     <p><strong>图一 异步渲染模式场景</strong></p>     <p><span><img originheight="601" originwidth="364" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114722.00960605084137213981930972666923:50001231000000:2800:967A0467D32A3A91169A780D7543BE9A4086FE742DDDFD358560B8D3DA4701B9.png" width="364" height="601"></span></p>    </div>    <div class="tiledSection">     <h2 id="同步渲染模式">同步渲染模式<i class="anchor-icon anchor-icon-link" anchorid="同步渲染模式" tips="复制节点链接"></i></h2>          <p>同步渲染模式下（renderMode: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web-e#rendermode12" target="_blank">RenderMode</a>.SYNC_RENDER），Web组件作为图形canvas节点，Web渲染跟随系统组件一起送显，可以渲染更长Web组件内容，但会增加性能消耗。</p>     <ul>      <li>不支持DSS合成。</li>      <li>不支持动态切换模式。</li>     </ul>     <p>开发者预期Web作为富文本显示的载体，成为应用页面的一部分，与其他ArkUI组件共同滑动交互。如图二所示，H5页面与Web组件高度一致，Web内部不生成滚动条，作为一个超长组件展示，通过Scroll组件实现应用内部的滚动，确保用户能够平滑浏览Web内容及其他ArkUI组件的内容。需要Web作为业务内容的一部分渲染超长组件，不允许Web内部生成滚动条，与其余ArkUI组件协同完成页面布局，建议采用同步渲染模式，支持超长页面的渲染。</p>     <p><strong>图二 同步渲染模式场景</strong></p>     <p><span><img originheight="613" originwidth="608" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114722.98468879327217828654319445405386:50001231000000:2800:0CC835F26E70E24200ECFD072CABFBF3979EF73BFB8C817AFDE8D4CF1E3ACD48.png" width="608" height="613"></span></p>    </div>    <div class="tiledSection">     <h2 id="示例代码">示例代码<i class="anchor-icon anchor-icon-link" anchorid="示例代码" tips="复制节点链接"></i></h2>          <div _ngcontent-fru-c106="" class="highlight-div"><div _ngcontent-fru-c106="" class="highlight-div-header"><div _ngcontent-fru-c106="" class="highlight-div-header-left"><div _ngcontent-fru-c106="" class="handle-button expand-button"><div _ngcontent-fru-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-fru-c106="" class="highlight-div-header-right"><div _ngcontent-fru-c106="" class="handle-button ai-button"></div><div _ngcontent-fru-c106="" class="handle-button line-button"><div _ngcontent-fru-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-fru-c106="" class="handle-button theme-button"><div _ngcontent-fru-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-fru-c106="" class="handle-button copy-button"><div _ngcontent-fru-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-fru-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// renderMode.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebHeightPage</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-attr">webviewController</span>: <span class="hljs-title class_">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>()</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>     <span class="hljs-title class_">Column</span>() {</li><li>         <span class="hljs-title class_">Web</span>({</li><li>             <span class="hljs-attr">src</span>: <span class="hljs-string">"https://www.example.com/"</span>,</li><li>             <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">webviewController</span>,</li><li>             <span class="hljs-attr">renderMode</span>: <span class="hljs-title class_">RenderMode</span>.<span class="hljs-property">ASYNC_RENDER</span> <span class="hljs-comment">// 设置渲染模式</span></li><li>         })</li><li>     }</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>   </div>   <div></div></div>