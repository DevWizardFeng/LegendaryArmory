<h1 _ngcontent-uvn-c119="" class="doc-title ng-star-inserted" title="Web组件焦点管理"> Web组件焦点管理 </h1>

<div _ngcontent-uvn-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>开发者可利用Web组件的焦点管理功能，有效管理Web组件的聚焦与失焦，同时利用H5侧的W3C标准接口，管理网页界面上唯一可交互的元素聚焦与失焦。</p>    <ul>     <li>      <p>Web组件与ArkUI组件焦点控制的常用接口及其使用场景：</p>      <ol>       <li>通过requestFocus主动请求Web组件获焦：当应用内有多个组件时，开发者可通过Web组件的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#requestfocus" target="_blank">requestFocus</a>接口，主动将焦点转移到Web组件。</li>       <li>根据焦点情况更改Web组件样式：组件监听焦点事件上报，为组件修改样式，例如边框、背景色等，以提供视觉和交互反馈。</li>      </ol></li>     <li>      <p>Web组件内H5元素焦点控制的常用接口及其使用场景：</p>      <ol>       <li>通过tabindex属性管理元素焦点：定义Web组件内元素的焦点顺序。可以通过将元素的tabindex设置为"-1"，使其能够通过脚本进行聚焦，同时在CSS中对元素的可见性进行控制。</li>       <li>键盘事件更新焦点位置：监听键盘事件，例如Tab键，依据用户的操作更新Web内元素焦点位置。</li>       <li>根据焦点情况更改Web组件内元素样式：为焦点元素添加样式，例如边框、背景色等，以提供视觉和交互反馈。</li>      </ol></li>    </ul>    <div class="tiledSection">     <h2 id="基础概念">基础概念<i class="anchor-icon anchor-icon-link" anchorid="基础概念" tips="复制节点链接"></i></h2>          <p>Web组件焦点、焦点链和走焦的详情说明请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-common-events-focus-event#基础概念">ArkUI焦点基础概念</a>。</p>     <ul>      <li>焦点：       <ul>        <li>组件焦点：指当前应用界面上唯一的一个可交互元素。</li>        <li>网页内元素焦点：指当前网页界面上唯一的一个可交互元素。</li>       </ul></li>      <li>走焦：       <ul>        <li>组件走焦：指焦点在应用内的组件之间转移的行为。这一过程对用户是透明的，开发者可以通过监听onFocus（焦点获取）和onBlur（焦点失去）事件来捕捉这些变化。</li>        <li>网页内元素走焦：指焦点在网页内的元素之间转移的行为。该行为遵循W3C标准，开发者可以通过监听focus（在元素获取焦点时触发）和blur（在元素失去焦点时触发）事件来捕捉这些变化。</li>       </ul></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="web组件走焦规范">Web组件走焦规范<i class="anchor-icon anchor-icon-link" anchorid="web组件走焦规范" tips="复制节点链接"></i></h2>          <p>根据走焦的触发方式，可以分为主动走焦和被动走焦，Web组件走焦规范详情参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-common-events-focus-event#走焦规范">ArkUI走焦规范</a>。</p>    </div>    <div class="tiledSection">     <h3 id="主动走焦" class="firsth2">主动走焦<i class="anchor-icon anchor-icon-link" anchorid="主动走焦" tips="复制节点链接"></i></h3>          <p>指开发者或用户主观行为导致的焦点移动。包括：使用requestFocus申请焦点、外接键盘的按键走焦（Tab键/Shift+Tab键）、点击申请焦点（手势/鼠标/触摸板）等导致的焦点转移。</p>     <ul>      <li>       <p>requestFocus</p>       <p>详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/web-focus#web组件与arkui组件焦点控制">Web组件与ArkUI组件焦点控制</a>，可以主动将焦点转移到Web组件上。</p></li>      <li>       <p>按键走焦</p>       <ul>        <li>支持ArkWeb与其他组件通过Tab键、Shift+Tab键走焦。</li>        <li>支持ArkWeb内部网页元素通过Tab键、Shift+Tab键走焦，网页元素走焦完成后，抛回ArkUI继续框架侧走焦。</li>       </ul></li>      <li>       <p>点击申请获焦</p>       <p>开发者或用户可通过手势、鼠标或触摸板点击Web组件，使其主动获得焦点。当具体点击到Web组件内的某个元素时，该元素能够获得焦点，例如：点击网页内的输入框，可使其从不可编辑状态转变为可编辑状态，并激活输入法。</p></li>     </ul>    </div>    <div class="tiledSection">     <h3 id="被动走焦">被动走焦<i class="anchor-icon anchor-icon-link" anchorid="被动走焦" tips="复制节点链接"></i></h3>          <p>被动走焦指焦点因系统或其他操作而转移，无需开发者直接干预，是焦点系统的默认行为。</p>     <p>被动走焦的场景有：</p>     <ul>      <li>       <p>组件删除：当焦点所在的Web组件被移除时，系统会按照先向后再向前的原则，将焦点转移至相邻的同级组件。若所有同级组件均不可获焦，则焦点将被释放，并通知其父级组件进行焦点处理。</p></li>      <li>       <p>属性变更：若将处于焦点状态的组件的focusable或enabled属性设置为false，或者将visibility属性设置为不可见，系统将自动转移焦点至其他可获焦组件，转移方式同组件删除。</p></li>      <li>       <p>Web组件不可见：ArkWeb获焦后，应用前后台切换、页面切换、Navigation导航等场景，ArkWeb会失焦再获焦。</p></li>      <li>       <p>Web组件加载网页：ArkWeb通过src、loadUrl、loadData加载网页，默认会获取焦点，但若此时web组件为不可获焦状态则会获焦失败（常见的不可获焦状态原因有：过场动画过程中父组件不可获焦、应用侧设置了web组件或其父组件不可获焦属性等），应用侧可以调用主动申请获焦接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#requestfocus" target="_blank">requestFocus</a>再次尝试使web组件获焦。当获焦成功后，应用侧onFocus、W3C focus事件均会上报。</p></li>      <li>       <p>autofocus样式：设置了autofocus样式的元素网页完成加载时默认获焦。若该元素支持文本输入，则输入框会有光标闪烁，但不会弹出软键盘。如需自动弹出软键盘，可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/web-docking-softkeyboard#软键盘自动弹出">软键盘自动弹出</a>。</p></li>      <li>       <p>菜单弹出：ArkUI的overlay属性类型组件默认抢焦，在与此类组件结合的ArkWeb场景中（<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-menu" target="_blank">menu</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-datepicker" target="_blank">datepicker</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-timepicker" target="_blank">timepicker</a>、下拉框、弹窗等），ArkWeb均会失焦。</p></li>     </ul>    </div>    <div class="tiledSection">     <h2 id="web组件与arkui组件焦点控制">Web组件与ArkUI组件焦点控制<i class="anchor-icon anchor-icon-link" anchorid="web组件与arkui组件焦点控制" tips="复制节点链接"></i></h2>          <ul>      <li>应用侧通用获焦回调接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-focus-event#onfocus" target="_blank">onFocus</a>，获焦事件回调，绑定该接口的组件获焦时，回调响应。</li>      <li>应用侧通用失焦回调接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-focus-event#onblur" target="_blank">onBlur</a>，失焦事件回调，绑定该接口的组件失焦时，回调响应。</li>      <li>应用侧主动申请获焦接口<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-apis-webview-webviewcontroller#requestfocus" target="_blank">requestFocus</a>，组件主动申请获焦。</li>      <li>设置组件是否可获焦：应用可以通过设置<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-focus#focusable" target="_blank">focusable</a>属性，控制Web组件是否能够获取焦点。Web组件默认可获焦。</li>     </ul>     <p><strong>示例：</strong></p>     <ol>      <li>requestFocus接口允许应用开发者主动控制让Web组件获焦。</li>      <li>onFocus和onBlur两个接口通常成对使用，来监听组件的焦点变化。</li>     </ol>     <div _ngcontent-uvn-c106="" class="highlight-div"><div _ngcontent-uvn-c106="" class="highlight-div-header"><div _ngcontent-uvn-c106="" class="highlight-div-header-left"><div _ngcontent-uvn-c106="" class="handle-button expand-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvn-c106="" class="highlight-div-header-right"><div _ngcontent-uvn-c106="" class="handle-button ai-button"></div><div _ngcontent-uvn-c106="" class="handle-button line-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvn-c106="" class="handle-button theme-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvn-c106="" class="handle-button copy-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>  <span class="hljs-attr">controller2</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">webBorderColor</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>;</li><li>  <span class="hljs-meta">@State</span> <span class="hljs-attr">webBorderColor2</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>;</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Row</span>() {</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'web1 requestFocus'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">try</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">requestFocus</span>();</li><li>            } <span class="hljs-keyword">catch</span> (error) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ErrorCode: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).code}</span>,  Message: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).message}</span>`</span>);</li><li>            }</li><li>          });</li><li>        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'web2 requestFocus'</span>)</li><li>          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {</li><li>            <span class="hljs-keyword">try</span> {</li><li>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller2</span>.<span class="hljs-title function_">requestFocus</span>();</li><li>            } <span class="hljs-keyword">catch</span> (error) {</li><li>              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ErrorCode: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).code}</span>,  Message: <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).message}</span>`</span>);</li><li>            }</li><li>          });</li><li>      }</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>        .<span class="hljs-title function_">onFocus</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">webBorderColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">onBlur</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">webBorderColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">3</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">webBorderColor</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"45%"</span>)</li><li>
</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-string">'www.example.com'</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller2</span> })</li><li>        .<span class="hljs-title function_">onFocus</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">webBorderColor2</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">onBlur</span>(<span class="hljs-function">() =&gt;</span> {</li><li>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">webBorderColor2</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span>;</li><li>        })</li><li>        .<span class="hljs-title function_">margin</span>(<span class="hljs-number">3</span>)</li><li>        .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">10</span>)</li><li>        .<span class="hljs-title function_">borderColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">webBorderColor2</span>)</li><li>        .<span class="hljs-title function_">height</span>(<span class="hljs-string">"45%"</span>)</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong>示例图1</strong> 组件焦点获焦/失焦事件</p>     <p>通过requestFocus接口主动请求获焦，并监听通用接口onFocus和onBlur事件，改变Web组件边框颜色。</p>     <p><span><img originheight="576" originwidth="906" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114738.45481132754102411936215325575066:50001231000000:2800:056A3920869D8C4455706FBF57A071B047A18ADBE382D62B0CA494695FACDB73.gif" width="906" height="576"></span></p>    </div>    <div class="tiledSection">     <h2 id="web组件内h5元素焦点控制">Web组件内H5元素焦点控制<i class="anchor-icon anchor-icon-link" anchorid="web组件内h5元素焦点控制" tips="复制节点链接"></i></h2>          <ul>      <li>W3C标准事件focus，前端感知网页获焦</li>     </ul>     <div _ngcontent-uvn-c106="" class="highlight-div"><div _ngcontent-uvn-c106="" class="highlight-div-header"><div _ngcontent-uvn-c106="" class="highlight-div-header-left"><div _ngcontent-uvn-c106="" class="handle-button expand-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvn-c106="" class="highlight-div-header-right"><div _ngcontent-uvn-c106="" class="handle-button ai-button"></div><div _ngcontent-uvn-c106="" class="handle-button line-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvn-c106="" class="handle-button theme-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvn-c106="" class="handle-button copy-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"focus"</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {});</li><li>
</li><li>onfocus = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {};</li></ol></pre></div></div>     <ul>      <li>W3C标准事件blur，前端感知网页失焦</li>     </ul>     <div _ngcontent-uvn-c106="" class="highlight-div"><div _ngcontent-uvn-c106="" class="highlight-div-header"><div _ngcontent-uvn-c106="" class="highlight-div-header-left"><div _ngcontent-uvn-c106="" class="handle-button expand-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvn-c106="" class="highlight-div-header-right"><div _ngcontent-uvn-c106="" class="handle-button ai-button"></div><div _ngcontent-uvn-c106="" class="handle-button line-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvn-c106="" class="handle-button theme-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvn-c106="" class="handle-button copy-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-javascript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"blur"</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {});</li><li>
</li><li>onblur = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {};</li></ol></pre></div></div>     <ul>      <li>W3C autofocus，表示元素应在页面加载时或其所属的 dialog 显示时被聚焦</li>     </ul>     <div _ngcontent-uvn-c106="" class="highlight-div"><div _ngcontent-uvn-c106="" class="highlight-div-header"><div _ngcontent-uvn-c106="" class="highlight-div-header-left"><div _ngcontent-uvn-c106="" class="handle-button expand-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvn-c106="" class="highlight-div-header-right"><div _ngcontent-uvn-c106="" class="handle-button ai-button"></div><div _ngcontent-uvn-c106="" class="handle-button line-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvn-c106="" class="handle-button theme-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvn-c106="" class="handle-button copy-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvn-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-lua" data-highlighted="yes"><ol class="linenums"><li>&lt;<span class="hljs-built_in">input</span> name=<span class="hljs-string">"q"</span> autofocus /&gt;</li></ol></pre></div></div>     <p>在文档或对话框中，最多只能有一个元素具有 autofocus 属性。若应用于多个元素，第一个元素将获得焦点。</p>     <p><strong>示例：</strong></p>     <div _ngcontent-uvn-c106="" class="highlight-div"><div _ngcontent-uvn-c106="" class="highlight-div-header"><div _ngcontent-uvn-c106="" class="highlight-div-header-left"><div _ngcontent-uvn-c106="" class="handle-button expand-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvn-c106="" class="highlight-div-header-right"><div _ngcontent-uvn-c106="" class="handle-button ai-button"></div><div _ngcontent-uvn-c106="" class="handle-button line-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvn-c106="" class="handle-button theme-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvn-c106="" class="handle-button copy-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvn-c106="" class="highlight-scroll-div"><pre class="ts prettyprint linenums hljs language-typescript" hw-language="ts" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// xxx.ets</span></li><li><span class="hljs-keyword">import</span> { webview } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkWeb'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li><li>
</li><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">WebComponent</span> {</li><li>  <span class="hljs-attr">controller</span>: webview.<span class="hljs-property">WebviewController</span> = <span class="hljs-keyword">new</span> webview.<span class="hljs-title class_">WebviewController</span>();</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Column</span>() {</li><li>      <span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: $rawfile(<span class="hljs-string">"test.html"</span>), <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })</li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <div _ngcontent-uvn-c106="" class="highlight-div"><div _ngcontent-uvn-c106="" class="highlight-div-header"><div _ngcontent-uvn-c106="" class="highlight-div-header-left"><div _ngcontent-uvn-c106="" class="handle-button expand-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uvn-c106="" class="highlight-div-header-right"><div _ngcontent-uvn-c106="" class="handle-button ai-button"></div><div _ngcontent-uvn-c106="" class="handle-button line-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uvn-c106="" class="handle-button theme-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uvn-c106="" class="handle-button copy-button"><div _ngcontent-uvn-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uvn-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// test.html</span></li><li>&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;</li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"form"</span>&gt;</span></span></li><li><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"text input"</span> /&gt;</span></span></li><li><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"password"</span> /&gt;</span></span></li><li><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span></li><li><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span></li><li><span class="language-xml"><span class="hljs-keyword">const</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"form"</span>);</span></li><li><span class="language-xml"></span></li><li><span class="language-xml">form.<span class="hljs-title function_">addEventListener</span>(</span></li><li><span class="language-xml">  <span class="hljs-string">"focus"</span>,</span></li><li><span class="language-xml">  <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</span></li><li><span class="language-xml">    event.<span class="hljs-property">target</span>.<span class="hljs-property">style</span>.<span class="hljs-property">background</span> = <span class="hljs-string">"pink"</span>;</span></li><li><span class="language-xml">  },</span></li><li><span class="language-xml">  <span class="hljs-literal">true</span>,</span></li><li><span class="language-xml">);</span></li><li><span class="language-xml"></span></li><li><span class="language-xml">form.<span class="hljs-title function_">addEventListener</span>(</span></li><li><span class="language-xml">  <span class="hljs-string">"blur"</span>,</span></li><li><span class="language-xml">  <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {</span></li><li><span class="language-xml">    event.<span class="hljs-property">target</span>.<span class="hljs-property">style</span>.<span class="hljs-property">background</span> = <span class="hljs-string">""</span>;</span></li><li><span class="language-xml">  },</span></li><li><span class="language-xml">  <span class="hljs-literal">true</span>,</span></li><li><span class="language-xml">);</span></li><li><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></li><li><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></li></ol></pre></div></div>     <p><strong>示例图2</strong> Web组件内元素焦点获焦/失焦事件</p>     <p>通过监听W3C接口focus和blur事件，改变输入背景色。</p>     <p><span><img originheight="126" originwidth="648" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114738.68153623879774589546003825030776:50001231000000:2800:52FCDFBCDD01AC13CD7378DFBF16E8F92403DD41547CAEC74A90764A64F2EBF1.gif" width="648" height="126"></span></p>    </div>   </div>   <div></div></div>