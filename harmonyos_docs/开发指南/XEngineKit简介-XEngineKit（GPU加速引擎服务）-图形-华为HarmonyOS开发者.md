<h1 _ngcontent-itx-c119="" class="doc-title ng-star-inserted" title="XEngine Kit 简介"> XEngine Kit 简介 </h1>

<div _ngcontent-itx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>XEngine Kit（GPU加速引擎服务）提供基于马良GPU的性能提升方案，包括GPU/AI超分能力、自适应VRS（Variable Rate Shading，可变速率着色）、Subpass Shading、光线追踪技术（包括反射、阴影、环境光遮蔽和全局光照，Ray-Traced Reflection, Shadow, Ambient Occlusion and Global Illumination）和高性能着色器(High performance shaders，简称HPS)等，通过图形算法以及软硬件优化，让用户拥有更高画质、更高性能、更低功耗的3D游戏/应用、AR/VR体验。</p> <div class="tiledSection"><h2 id="section811431319139">基本概念<i class="anchor-icon anchor-icon-link" anchorid="section811431319139" tips="复制节点链接"></i></h2><p>在进行XEngine Kit开发前，建议开发者提前了解以下基本概念：</p> <ul><li><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-xcomponent" target="_blank">XComponent</a>组件：是一种绘制组件，通常用于满足开发者较为复杂的自定义绘制需求，例如相机预览流的显示和游戏画面的绘制。</li><li>可变速率着色（Variable Rate Shading，简称VRS）：是一种图形功能，允许应用程序独立于渲染目标的分辨率来控制像素着色器调用的频率。自适应可变速率着色（Adaptive VRS）在VRS的基础上，添加了可动态调整的着色率，能够大幅提升渲染性能。</li><li>基于瓦片的延迟渲染（Tile-Based Deferred Rendering，TBDR）：是一种渲染技术，它结合了即时渲染（Immediate Mode Rendering, IMR）和延迟渲染（Deferred Rendering）的优点，旨在提高渲染效率和减少内存访问。</li><li>动态漫反射全局光照（Dynamic Diffuse Global Illumination，简称DDGI）：是一种实时渲染技术，旨在模拟光线在场景中经多次漫反射后的全局光照效果，以提升画面真实感。</li></ul> </div> <div class="tiledSection"><h2 id="section67952025102912">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section67952025102912" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section1794452616377" class="firsth2">优化细节画质，降低能耗<i class="anchor-icon anchor-icon-link" anchorid="section1794452616377" tips="复制节点链接"></i></h3><p>当GPU性能不足以支持渲染高分辨率场景时，为了提高用户体验，可以使用超分能力，将较低分辨率图像通过超分重建为高分辨率图像。相较于直接渲染高分辨率图像，使用超分能力能够降低GPU渲染负载，降低功耗。目前支持以下3种超分能力：</p> <ul><li>空域GPU超分：基于单帧图像的空域超采样，开销最低。</li><li>空域AI超分：GPU/NPU协同空域超采样，效果更好。</li><li>时域AI超分：GPU/NPU协同时域超采样，抗锯齿效果明显，画质更优，倍率更高。</li></ul> </div> <div class="tiledSection"><h3 id="section118111541266">画质视觉无损，智能降低渲染开销<i class="anchor-icon anchor-icon-link" anchorid="section118111541266" tips="复制节点链接"></i></h3><p>当GPU性能限制，不能持续为输出图像的每个像素提供相同质量级别的渲染结果时，可使用自适应VRS功能，其通过合理分配画面的计算资源，视觉无损降低渲染频次，使不同的渲染图像使用不同的渲染速率，能够有效提高渲染性能。</p> </div> <div class="tiledSection"><h3 id="section647054019407">降低带宽开销，提升性能<i class="anchor-icon anchor-icon-link" anchorid="section647054019407" tips="复制节点链接"></i></h3><p>对于<span style="color: rgb(29,29,26);">TBDR</span><span style="color: rgb(29,29,26);">（Tile-Based Deferred Rendering，基于瓦片的延迟渲染）和</span><span style="color: rgb(29,29,26);">Forward+</span>管线，Subpass Shading能力可以有效降低带宽开销，提升性能。</p> </div> <div class="tiledSection"><h3 id="section15609122616288">光线追踪加速技术，高效利用硬件光追能力<i class="anchor-icon anchor-icon-link" anchorid="section15609122616288" tips="复制节点链接"></i></h3><p>当GPU支持硬件光线追踪能力时，可以使用光线追踪渲染技术，提升场景的光影效果和画面质量。</p> <ul><li><strong>反射、阴影和环境光遮蔽</strong><p>XEngine提供开箱即用的光线追踪渲染技术，包括反射(Reflection)、阴影（Shadow）和环境光遮蔽（Ambient Occlusion，AO）效果的相关API。相比于这些效果的传统光线追踪实现方式，XEngine可以在较少光线数的情况下达成较高的画质表现，实现同等画质GPU负载更轻，同等负载下画质更好。</p> </li><li><strong>全局光照</strong><p>XEngine全局光照解决方案，基于硬件光线追踪、AI渲染和端云结合渲染等技术，实现移动端的实时全局光照，包括动态漫反射全局光照（Dynamic Diffuse Global Illumination，DDGI）和神经网络全局光照（Neural Network Global Illumination，NNGI）两种技术。DDGI更轻量级，配合端云渲染能效更佳，而NNGI则能够提供移动端更好的动态GI画质。</p> </li></ul> </div> <div class="tiledSection"><h3 id="section5213027114718">高性能GPU排序<i class="anchor-icon anchor-icon-link" anchorid="section5213027114718" tips="复制节点链接"></i></h3><p>高性能GPU排序可以帮助我们更快地将乱序信息进行整齐排列，降低排序时延，提升性能。</p> </div> <div class="tiledSection"><h2 id="section624112515458">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section624112515458" tips="复制节点链接"></i></h2><ul><li>在调用XEngine Kit能力前，需要先通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/syscap#判断-api-是否可以使用" target="_blank">Syscap</a>查询您的目标设备是否支持SystemCapability.Graphic.XEngine系统能力。</li><li>支持的设备类型：Phone、Tablet、PC/2in1、TV。</li><li>XEngine Kit特性仅在使用马良GPU芯片的设备上受支持。不同设备支持的特性范围有所差异，可以通过以下方式查询设备支持的特性列表：<p>- 对于OpenGL ES，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/xengine-kit-xengine#ga76f9695fa41c6664e949cdba586699c0" target="_blank">HMS_XEG_GetString</a>扩展特性查询接口进行查询。</p> <p>- 对于Vulkan，使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/xengine-kit-xengine#ga686e40e383c8e946b36c11b4073e77c3" target="_blank">HMS_XEG_EnumerateDeviceExtensionProperties</a>扩展特性查询接口进行查询。</p> <p>两种方式均返回所支持的特性列表，具体使用方式参考各个特性的示例代码。</p> </li></ul> </div> <div class="tiledSection"><h2 id="section10713726133715">模拟器支持情况<i class="anchor-icon anchor-icon-link" anchorid="section10713726133715" tips="复制节点链接"></i></h2><p>本Kit暂不支持模拟器。</p> </div> </div> <div></div></div>