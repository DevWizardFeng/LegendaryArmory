<h1 _ngcontent-yjh-c119="" class="doc-title ng-star-inserted" title="ascendebug调测工具参数说明"> ascendebug调测工具参数说明 </h1>

<div _ngcontent-yjh-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section485712572223">整体说明<i class="anchor-icon anchor-icon-link" anchorid="section485712572223" tips="复制节点链接"></i></h2><p>可通过<strong>ascendebug -h</strong>或<strong>ascendebug --help</strong>查看工具支持的所有调测模式，具体参见表1。</p> </div>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><caption><b>表1 </b>支持的命令行调测模式</caption><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.2.2.4.1.1" valign="top" width="15%"><p>参数</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.2.4.1.2" valign="top" width="50%"><p>模式说明</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.2.2.4.1.3" valign="top" width="35%"><p>备注</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="15%"><p>tiling</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>主要对算子Tiling代码进行调测，具体参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-tiling-tuning">Tiling调测功能</a>。</p> </td> <td class="cellrowborder" valign="top" width="35%"><p>通过<strong>ascendebug tiling -h</strong>或<strong>ascendebug tiling --help</strong>查看Tiling调测涉及的所有参数。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>kernel</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>主要对Device侧算子Kernel代码进行精度和性能调测，包含CPU、NPU、Simulator调测功能，具体参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-cpu-twin-debugging">CPU孪生调试功能</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-simulator-performance-simulation">Simulator性能仿真功能</a>等章节。</p> </td> <td class="cellrowborder" valign="top" width="35%"><p>通过<strong>ascendebug kernel -h</strong>或<strong>ascendebug kernel --help</strong>查看CPU、NPU、Simulator调测涉及的所有参数。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>参数NPU暂不支持。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>json</p> </td> <td class="cellrowborder" valign="top" width="50%"><p>主要提供数据准备阶段如何生成算子json配置模板，具体参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-obtaining-the-json-configuration">算子json配置模板获取</a>。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>当前仅适用于标准自定义算子工程场景、built-in工程场景。</p> </div></div></div> </td> <td class="cellrowborder" valign="top" width="35%"><p>通过<strong>ascendebug json convert -h</strong>或<strong>ascendebug json convert --help</strong>查看涉及的所有参数。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>mc2parse</p> </td> <td class="cellrowborder" rowspan="2" valign="top" width="50%"><p>预留参数项，开发者无需关注。</p> </td> <td class="cellrowborder" rowspan="2" valign="top" width="35%"><p>-</p> </td> </tr> <tr><td class="cellrowborder" valign="top"><p>op_compiler</p> </td> </tr>  </tbody></table></div> </div> <div class="tiledSection"><h2 id="section17161512192310">Tiling调测参数<i class="anchor-icon anchor-icon-link" anchorid="section17161512192310" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.1" valign="top" width="14.000000000000002%"><p>参数（区分大小写）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.2" valign="top" width="17%"><p>说明</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.3" valign="top" width="6%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.4" valign="top" width="17%"><p>默认值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.6.1.5" valign="top" width="46%"><p>备注</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>tiling</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>开启Tiling调测的固定参数。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>无。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--chip-version</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>Kirin AI处理器的版本。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无。</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>在运行环境上通过命令行获取：</p> <div _ngcontent-yjh-c106="" class="highlight-div"><div _ngcontent-yjh-c106="" class="highlight-div-header"><div _ngcontent-yjh-c106="" class="highlight-div-header-left"><div _ngcontent-yjh-c106="" class="handle-button expand-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yjh-c106="" class="highlight-div-header-right"><div _ngcontent-yjh-c106="" class="handle-button ai-button"></div><div _ngcontent-yjh-c106="" class="handle-button line-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yjh-c106="" class="handle-button theme-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yjh-c106="" class="handle-button copy-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yjh-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc -t {target} shell param get ohos.boot.chiptype</li></ol></pre></div></div> <p>target：设备的SN码，可以通过hdc list targets获取当前环境上所有设备的SN码。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>-i，--install-path</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>CANN软件安装后文件存储路径。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>工具自动获取。</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>不支持，开发者无需关注。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>-w，--work-dir</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>调测结果的存放路径。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>缺省为当前执行路径下/debug_workspace/${op_type}文件夹（若无则会自动新建）。</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>调测工作目录，可用于存放调测中各种临时文件、结果文件。例如/home/debug_workspace/AddCustom/tiling。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>-j，--json-file</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>算子信息json配置文件，配置算子输入/输出/属性信息。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>json配置文件必须是绝对路径，其配置项说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-preparing-input-data-and-benchmark">输入数据和标杆数据准备</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--log-level</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>日志级别。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>info</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>支持debug 、info、warning、error级别。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--log-file</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>日志文件路径。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>缺省值为当前目录下的debug_op.log文件（若无则会新建）。</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>根据设置的--log-level存放程序执行过程中的日志信息。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--repo-type</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>算子开发场景类型。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>customize</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>根据实际情况设置。</p> <ul><li>minimalist：核函数直调工程场景。</li><li>customize：标准自定义算子工程。</li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--customize-path</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>自定义算子包的安装目录。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>开发者无需关注，当前固定为${install_path}/ddk/ tools/tools_ascendc/custom_op/${chip-version}。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>仅当--repo-type为customize，该参数生效。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--tiling-json</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>Tiling json文件路径（绝对路径），用于生成自定义Tiling data。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--repo-path</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>算子源码仓所在路径（绝对路径）。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--recompile-tiling</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>是否重新编译算子Tiling so，无需配置值。</p> </td> <td class="cellrowborder" valign="top" width="6%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section28071649102319">CPU调测参数<i class="anchor-icon anchor-icon-link" anchorid="section28071649102319" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.4.2.1.6.1.1" valign="top" width="14.000000000000002%"><p>参数（区分大小写）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.6.1.2" valign="top" width="16%"><p>说明</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.6.1.3" valign="top" width="7.000000000000001%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.6.1.4" valign="top" width="17%"><p>默认值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.4.2.1.6.1.5" valign="top" width="46%"><p>备注</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>kernel</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>开启CPU调测功能的固定参数。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>-b，--backend</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子调试类型。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>npu</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>CPU调测场景设为cpu。</p> <ul><li>cpu：CPU调测场景。</li><li>npu：NPU调测场景。</li><li>simulator：仿真器调测场景。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>参数npu暂不支持。</p> </div></div></div> </li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--chip-version</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>Kirin AI处理器SoCNPU IP加速器的版本。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>工具自动获取对应版本。</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>在运行环境上通过命令行获取：</p> <div _ngcontent-yjh-c106="" class="highlight-div"><div _ngcontent-yjh-c106="" class="highlight-div-header"><div _ngcontent-yjh-c106="" class="highlight-div-header-left"><div _ngcontent-yjh-c106="" class="handle-button expand-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yjh-c106="" class="highlight-div-header-right"><div _ngcontent-yjh-c106="" class="handle-button ai-button"></div><div _ngcontent-yjh-c106="" class="handle-button line-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yjh-c106="" class="handle-button theme-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yjh-c106="" class="handle-button copy-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yjh-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc -t {target} shell param get ohos.boot.chiptype</li></ol></pre></div></div> <p>target：设备的SN码，可以通过hdc list targets获取当前环境上所有设备的SN码。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>-i，--install-path</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>ddk安装后文件存储路径。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>工具自动获取对应路径</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>不支持，开发者无需关注。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>-w，--work-dir</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>调测结果的存放路径。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>缺省为当前执行路径下/debug_workspace/${op_type}文件夹（若无则会自动新建）。</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>调测工作目录，可用于存放调测中各种临时文件、结果文件。例如/home/debug_workspace/AddCustom/cpu。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>-j，--json-file</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子信息json配置文件，配置算子输入/输出/属性信息。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>json配置文件必须是绝对路径，其配置项说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-preparing-input-data-and-benchmark">输入数据和标杆数据准备</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--log-level</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>日志级别。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>info</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>支持debug 、info、warning、error级别。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--log-file</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>日志文件路径。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>缺省值为当前目录下的debug_op.log文件（若无则会新建）。</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>根据设置的--log-level存放程序执行过程中的日志信息。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--repo-type</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子开发场景类型。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>customize</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>根据实际情况设置。</p> <ul><li>minimalist：核函数直调工程场景。</li><li>customize：标准自定义算子工程。</li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--customize-path</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>自定义算子包的安装目录。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>开发者无需关注，当前固定为${install_path}/ddk/ tools/tools_ascendc/custom_op/${chip-version}。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>仅当--repo-type为customize，该参数生效。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--dump-mode</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>PRINTF/DumpTensor/DumpAccChkPoint/assert打印功能的模式。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>若不设置表示关闭打印功能，若开启支持如下取值：</p> <p>normal： 使能通用的打印功能。</p> <p>更多打印功能说明参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-commissioning-function-printf">更多功能</a>。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>CPU调测场景中printf采用C++自身打印功能，不受<strong>dump-mode</strong>参数控制。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--core-type</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子类型。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>AiCore</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>根据实际算子情况填写，可选值为AiCore、CubeCore、VectorCore</p> <p>Kirin9020/KirinX90系列处理器中的算子，一般使用了AI Cube计算单元，其算子类型为AiCore。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--rel-err-thd</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>精度比对的相对误差阈值。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>0.005</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--abs-err-thd</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>精度比对的绝对误差阈值。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>0.005</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--block-num</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>设置运行的核个数。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>如果有tiling bin文件，则使用其对应的block_num值，否则根据实际情况自行配置。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--npucheck</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>npucheck功能开关，提供CPU侧内存校验、异常检测功能。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>true</p> </td> <td class="cellrowborder" valign="top" width="46%"><ul><li>true: 开启内存校验功能。</li><li>false:关闭内存校验功能。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>该参数与--dump-mode打印功能冲突，因为打印会对内存做特殊处理。</li></ul> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--tiling-bin</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>使用开发者传入的tiling.bin进行编译。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>传入的Tiling bin是带绝对路径的文件名，文件命名规则为tiling_data_tiling_key_${tiling_key}_block_dim_${block_num}_workspace_${workspace}.bin，确保tiling_key、block_num、workspace与Tiling bin文件匹配。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>该参数与--tiling-so、--tiling-json、--recompile-tiling冲突，不支持同时设置。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--tiling-so</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>使用开发者传入的liboptiling.so进行编译。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><p>该参数与--tiling-bin、--tiling-json、--recompile-tiling冲突，不支持同时设置。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--tiling-json</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>Tiling json文件路径（绝对路径），用于生成自定义Tiling data。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--repo-path</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子源码仓所在路径（绝对路径）。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.000000000000002%"><p>--recompile-tiling</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>是否重新编译算子Tiling so，无需配置值。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="46%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section1351011652416">NPU调测参数<i class="anchor-icon anchor-icon-link" anchorid="section1351011652416" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.2.1.6.1.1" valign="top" width="14.85148514851485%"><p>参数（区分大小写）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.6.1.2" valign="top" width="14.85148514851485%"><p>说明</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.6.1.3" valign="top" width="7.920792079207921%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.6.1.4" valign="top" width="14.85148514851485%"><p>默认值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.2.1.6.1.5" valign="top" width="47.52475247524753%"><p>备注</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>kernel</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>开启NPU调测功能的固定参数。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>-b，--backend</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>算子调试类型。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>npu</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>NPU调测场景设为npu。</p> <ul><li>cpu：CPU调测场景。</li><li>npu：NPU调测场景。</li><li>simulator：仿真器调测场景。</li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--chip-version</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>Kirin AI处理器SoCNPU IP加速器的版本。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>工具自动获取对应版本。</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>在运行环境上通过命令行获取：</p> <div _ngcontent-yjh-c106="" class="highlight-div"><div _ngcontent-yjh-c106="" class="highlight-div-header"><div _ngcontent-yjh-c106="" class="highlight-div-header-left"><div _ngcontent-yjh-c106="" class="handle-button expand-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yjh-c106="" class="highlight-div-header-right"><div _ngcontent-yjh-c106="" class="handle-button ai-button"></div><div _ngcontent-yjh-c106="" class="handle-button line-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yjh-c106="" class="handle-button theme-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yjh-c106="" class="handle-button copy-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yjh-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc -t {target} shell param get ohos.boot.chiptype</li></ol></pre></div></div> <p>target：设备的SN码，可以通过hdc list targets获取当前环境上所有设备的SN码。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>-i，--install-path</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>ascendc软件安装后文件存储路径。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>工具自动获取。</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>不支持，开发者无需关注。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>-w，--work-dir</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>调测结果的存放路径。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>缺省为当前执行路径下/debug_workspace/${op_type}文件夹（若无则会自动新建）。</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>调测工作目录，可用于存放调测中各种临时文件、结果文件。例如/home/debug_workspace/AddCustom/npu。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>-j，--json-file</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>算子信息json配置文件，配置算子输入/输出/属性信息。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>json配置文件必须是绝对路径，其配置项说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-preparing-input-data-and-benchmark">输入数据和标杆数据准备</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--log-level</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>日志级别。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>info</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>支持debug 、info、warning、error级别。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--log-file</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>日志文件路径。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>缺省值为当前目录下的debug_op.log文件（若无则会新建）。</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>根据设置的--log-level存放程序执行过程中的日志信息。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--repo-type</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>算子开发场景类型。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>customize</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>根据实际情况设置。</p> <ul><li>minimalist：核函数直调工程场景。</li><li>customize：标准自定义算子工程。</li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--customize-path</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>自定义算子包的安装目录。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>开发者无需关注，当前固定为${install_path}/ddk/ tools/tools_ascendc/custom_op/${chip-version}。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>仅当--repo-type为customize，该参数生效。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--dump-mode</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>printf/PRINTF/DumpTensor/DumpAccChkPoint/assert/时间戳打印功能的模式。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>若不设置表示关闭打印功能，若开启支持如下取值：</p> <p>normal： 使能通用的打印功能。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>当取值为normal时，不支持与--profiling同时开启。</p> </div></div></div> <p>更多打印功能说明参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-commissioning-function-printf">更多功能</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--core-type</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>算子类型。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>AiCore</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>根据实际算子情况填写，可选值为AiCore、CubeCore、VectorCore为预留参数，开发者无需关注。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--rel-err-thd</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>精度比对的相对误差阈值。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>0.005</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--abs-err-thd</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>精度比对的绝对误差阈值。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>0.005</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>-d，--device-id</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>设置运行的device id。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>0</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>-t，--timeout</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>设置运行超时时间，单位秒。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>600</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--block-num</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>设置运行的核个数。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>如果有Tiling bin文件，则使用其对应的block_num值，否则根据实际情况自行配置。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--profiling</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>Profiling功能开关，无需配置值。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><ul><li>基础采集：无配置值，默认采集PipeUtilization数据（pmu数据）。</li><li>高级采集：支持采集多种运行性能数据，可通过--profiling ${profiling_metrics}设置，${profiling_metrics}取值如下。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--loop</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>当使能Profiling时，设置上板执行次数。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>10</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--kernel-bin</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>指定已编译好的Kernel bin文件。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>当该参数生效时，会跳过编译流程，直接用指定的kernel bin文件执行。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--tiling-bin</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>使用开发者传入的Tiling.bin进行编译。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>传入的Tiling bin是带绝对路径的文件名，文件命名规则为tiling_data_tiling_key_${tiling_key}_block_dim_${block_num}_workspace_${workspace}.bin，确保tiling_key、block_num、workspace与Tiling bin文件匹配。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>该参数与--tiling-so、--tiling-json、--recompile-tiling冲突，不支持同时设置。</li><li>预留参数项，开发者无需关注。</li></ul> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--tiling-so</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>使用开发者传入的liboptiling.so进行编译。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>该参数与--tiling-bin、--tiling-json、--recompile-tiling冲突，不支持同时设置。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--tiling-json</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>Tiling json文件路径（绝对路径），用于生成自定义Tiling data。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--repo-path</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>算子源码仓所在路径（绝对路径）。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--recompile-tiling</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>是否重新编译算子Tiling so，无需配置值。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--npu-compile-type</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>设置调测场景下Kernel.o文件编译方式。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>opc</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>当--repo-type为cann_dev、ops_adv时支持CCEC和opc两种编译方式，minimalist默认使用CCEC，customize、op_contrib默认使用opc。</p> <ul><li>opc：AscendC框架自带的编译方式。</li><li>CCEC：本工具基于毕昇编译器自动拼接编译选项得到的编译方式，毕昇编译器介绍参见《<a href="https://www.hiascend.com/document/detail/zh/canncommercial/82RC1/index/index.html" target="_blank">毕昇编译器使用指南</a>》。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--compile-option</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>设置opc编译场景下的自定义参数。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--syncall</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>硬同步功能的使能开关，无需配置值。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--task-ration</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>设置核函数运行时的block数分配方式比例，例如“--task-ration 1:1”。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><p>当--repo-type为ops_adv、cann_dev且--npu-compile-type为CCEC时，该参数才生效。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="14.85148514851485%"><p>--memory-check</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>是否开启内存检测功能。</p> </td> <td class="cellrowborder" valign="top" width="7.920792079207921%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="14.85148514851485%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="47.52475247524753%"><ul><li>未设置：默认关闭。<p>oom：开启内存异常检测，主要检测内存泄漏、非法释放、非法读写、越界访问。</p> </li><li>oob：开启内存异常检测，主要检测越界访问。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>与--dump-mode参数冲突，不支持同时开启。</li><li>仅当--repo-type为cann_dev、customize、ops_adv，且--npu-compile-type为opc时，该参数生效。</li><li>当--repo-type为minimalist、op_contrib，不支持设置该参数。</li><li>预留参数项，开发者无需关注。</li></ul> </div></div></div> </td> </tr>  </tbody></table></div> </div> </div> <div class="tiledSection"><h2 id="section10645104532410">Simulator仿真参数<i class="anchor-icon anchor-icon-link" anchorid="section10645104532410" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.1" valign="top" width="15%"><p>参数（区分大小写）</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.2" valign="top" width="16%"><p>说明</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.3" valign="top" width="7.000000000000001%"><p>是否必选</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.4" valign="top" width="17%"><p>默认值</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.2.1.6.1.5" valign="top" width="45%"><p>备注</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="15%"><p>kernel</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>开启仿真功能的固定参数。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>无</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>-b，--backend</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子调试类型。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>npu</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>性能仿真场景设为simulator。</p> <ul><li>cpu：CPU调测场景。</li><li>npu：NPU调测场景。</li><li>simulator：仿真器调测场景。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>参数npu暂不支持。</p> </div></div></div> </li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--chip-version</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>Kirin AI处理器SoCNPU IP加速器的版本。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>工具自动获取对应版本。</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>在运行环境上通过命令行获取：</p> <div _ngcontent-yjh-c106="" class="highlight-div"><div _ngcontent-yjh-c106="" class="highlight-div-header"><div _ngcontent-yjh-c106="" class="highlight-div-header-left"><div _ngcontent-yjh-c106="" class="handle-button expand-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-yjh-c106="" class="highlight-div-header-right"><div _ngcontent-yjh-c106="" class="handle-button ai-button"></div><div _ngcontent-yjh-c106="" class="handle-button line-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-yjh-c106="" class="handle-button theme-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-yjh-c106="" class="handle-button copy-button"><div _ngcontent-yjh-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-yjh-c106="" class="highlight-scroll-div"><pre class="shell prettyprint linenums hljs language-shell" hw-language="shell" data-highlighted="yes"><ol class="linenums"><li>hdc -t {target} shell param get ohos.boot.chiptype</li></ol></pre></div></div> <p>target：设备的SN码，可以通过hdc list targets获取当前环境上所有设备的SN码。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>-i，--install-path</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>ascendc软件安装后文件存储路径。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>工具自动获取。</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>不支持，开发者无需关注。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>-w，--work-dir</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>调测结果的存放路径。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>缺省为当前执行路径下/debug_workspace/${op_type}文件夹（若无则会自动新建）。</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>调测工作目录，可用于存放调测中各种临时文件、结果文件。例如/home/debug_workspace/AddCustom/simulator。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>-j，--json-file</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子信息json配置文件，配置算子输入/输出/属性信息。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>是</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>json配置文件必须是绝对路径，其配置项说明详见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-preparing-input-data-and-benchmark">输入数据和标杆数据准备</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--log-level</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>日志级别。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>info</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>支持debug 、info、warning、error级别。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--log-file</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>日志文件路径。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>缺省值为当前目录下的debug_op.log文件（若无则会新建）。</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>根据设置的--log-level存放程序执行过程中的日志信息。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--repo-type</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子开发场景类型。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>customize</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>根据实际情况设置。</p> <ul><li>minimalist：核函数直调工程场景。</li><li>customize：标准自定义算子工程。</li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--customize-path</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>自定义算子包的安装目录。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>开发者无需关注，当前固定为${install_path}/ddk/ tools/tools_ascendc/custom_op/${chip-version}。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>仅当--repo-type为customize，该参数生效。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--dump-mode</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>printf/PRINTF/DumpTensor/DumpAccChkPoint/assert打印功能的模式。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>若不设置表示关闭打印功能，若开启支持如下取值：</p> <ul><li>normal： 使能通用的打印功能。</li><li>acc_chk：使能偏移位置打印Tensor（DumpAccChkPoint功能）。使能分阶段打印功能。</li></ul> <p>更多打印功能说明参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/cannkit-commissioning-function-printf">更多功能</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--core-type</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子类型。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>AiCore</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>根据实际算子情况填写，可选值为AiCore、CubeCore、VectorCore。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>-t，--timeout</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>设置运行超时时间，单位秒。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>600</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>CAModel运行时间比较长，一般设为1200s， 开发者可根据实际情况修改。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--block-num</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>设置运行的核个数。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>CAModel场景一般单核运行，设置为1。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--kernel-bin</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>指定已编译好的kernel bin文件。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>当该参数生效时，会跳过编译流程，直接用指定的kernel bin文件执行。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--simulator-mode</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>仿真器模式设置。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>camodel</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>支持camodel、esl、biprof模式，目前仅支持camodel模式。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>当--simulator-mode为biprof时，会使能biprof分析插件帮助开发者生成结果流水图，并不影响Camodel/Esl的模拟仿真流程。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--simu-pkg-path</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>设置仿真器安装包路径。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>当--simulator-mode为camodel时，不需要设置该参数，跑Esl仿真时需要设置该参数指定Esl包路径。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--tiling-bin</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>使用开发者传入的tiling.bin进行编译。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>传入的Tiling bin是带绝对路径的文件名，文件命名规则为tiling_data_tiling_key_${tiling_key}_block_dim_${block_num}_workspace_${workspace}.bin，确保tiling_key、block_num、workspace与Tiling bin文件匹配。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>该参数与--tiling-so、--tiling-json、--recompile-tiling冲突，不支持同时设置。</li><li>预留参数项，开发者无需关注。</li></ul> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--tiling-so</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>使用开发者传入的liboptiling.so进行编译。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>该参数与--tiling-bin、--tiling-json、--recompile-tiling冲突，不支持同时设置。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--tiling-json</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>Tiling json文件路径（绝对路径），用于生成自定义Tiling data。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>仅当--repo-type为ops_adv、cann_dev，该参数生效。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>该参数与--tiling-so、--tiling-bin、--recompile-tiling冲突，不支持同时设置。</li><li>预留参数项，开发者无需关注。</li></ul> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--repo-path</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>算子源码仓所在路径（绝对路径）。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>仅当--repo-type为ops_adv、cann_dev、op_contrib，该参数生效。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--recompile-tiling</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>是否重新编译算子Tiling so，无需配置值。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><ul><li>若设置了，默认根据算子源码仓重新编译Tiling so。</li><li>若未设置，工具自动查找DDK包下的so文件，开发者无需关注。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul><li>仅当--repo-type为ops_adv、cann_dev、op_contrib，该参数才生效。</li><li>该参数与--tiling-so、--tiling-bin、--tiling-json冲突，不支持同时设置。</li><li>预留参数项，开发者无需关注。</li></ul> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--npu-compile-type</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>设置调测场景下Kernel.o文件编译方式。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>opc</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>当--repo-type为cann_dev、ops_adv时支持CCEC和opc两种编译方式，minimalist默认使用CCEC，customize、op_contrib默认使用opc。</p> <ul><li>opc：AscendC框架自带的编译方式。</li><li>CCEC：本工具基于毕昇编译器自动拼接编译选项得到的编译方式，毕昇编译器介绍参见《<a href="https://www.hiascend.com/document/detail/zh/canncommercial/82RC1/index/index.html" target="_blank">毕昇编译器使用指南</a>》。<div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </li></ul> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--compile-option</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>opc编译时是否开启个性化单算子编译调试能力。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>xx</p> </td> <td class="cellrowborder" valign="top" width="45%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--syncall</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>硬同步功能的使能开关，无需配置值。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr> <tr><td class="cellrowborder" valign="top" width="15%"><p>--task-ration</p> </td> <td class="cellrowborder" valign="top" width="16%"><p>设置核函数运行时的block数分配方式比例，例如“--task-ration 1:1”。</p> </td> <td class="cellrowborder" valign="top" width="7.000000000000001%"><p>否</p> </td> <td class="cellrowborder" valign="top" width="17%"><p>无</p> </td> <td class="cellrowborder" valign="top" width="45%"><p>当--repo-type为ops_adv、cann_dev且--npu-compile-type为CCEC时，该参数才生效。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>预留参数项，开发者无需关注。</p> </div></div></div> </td> </tr>  </tbody></table></div> </div> </div> </div> <div></div></div>