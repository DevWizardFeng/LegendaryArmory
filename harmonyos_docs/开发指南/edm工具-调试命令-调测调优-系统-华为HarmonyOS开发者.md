<h1 _ngcontent-pin-c119="" class="doc-title ng-star-inserted" title="edm工具"> edm工具 </h1>

<div _ngcontent-pin-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><p>Enterprise Device Manager（企业设备管理工具，简称为edm），为设备管理应用提供调试和测试能力，例如激活企业设备管理拓展能力、解除激活企业设备管理拓展能力。</p>  <div class="tiledSection"><h2 id="环境要求">环境要求<i class="anchor-icon anchor-icon-link" anchorid="环境要求" tips="复制节点链接"></i></h2><p>在使用本工具前，开发者需要先获取hdc工具，执行hdc shell。</p> </div>  <div class="tiledSection"><h2 id="edm工具命令列表">edm工具命令列表<i class="anchor-icon anchor-icon-link" anchorid="edm工具命令列表" tips="复制节点链接"></i></h2> <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.1" valign="top" width="50%">命令</th> <th align="left" class="cellrowborder" id="mcps1.3.3.2.1.3.1.2" valign="top" width="50%">描述</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">help</td> <td class="cellrowborder" valign="top" width="50%">帮助命令，用于查询edm支持的命令信息。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">enable-admin</td> <td class="cellrowborder" valign="top" width="50%">激活命令，用于激活企业设备管理拓展能力，目标组件必须为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/mdm-kit-admin">enterpriseAdmin类型的ExtensionAbility</a>。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">disable-admin</td> <td class="cellrowborder" valign="top" width="50%">解除激活命令，用于解除激活企业设备管理拓展能力。</td> </tr>  </tbody></table></div> </div> </div>  <div class="tiledSection"><h2 id="帮助命令help">帮助命令（help）<i class="anchor-icon anchor-icon-link" anchorid="帮助命令help" tips="复制节点链接"></i></h2><div _ngcontent-pin-c106="" class="highlight-div"><div _ngcontent-pin-c106="" class="highlight-div-header"><div _ngcontent-pin-c106="" class="highlight-div-header-left"><div _ngcontent-pin-c106="" class="handle-button expand-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pin-c106="" class="highlight-div-header-right"><div _ngcontent-pin-c106="" class="handle-button ai-button"></div><div _ngcontent-pin-c106="" class="handle-button line-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pin-c106="" class="handle-button theme-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pin-c106="" class="handle-button copy-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pin-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 显示帮助信息</span></li><li>edm <span class="hljs-built_in">help</span></li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="激活命令enable-admin">激活命令（enable-admin）<i class="anchor-icon anchor-icon-link" anchorid="激活命令enable-admin" tips="复制节点链接"></i></h2><div _ngcontent-pin-c106="" class="highlight-div"><div _ngcontent-pin-c106="" class="highlight-div-header"><div _ngcontent-pin-c106="" class="highlight-div-header-left"><div _ngcontent-pin-c106="" class="handle-button expand-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pin-c106="" class="highlight-div-header-right"><div _ngcontent-pin-c106="" class="handle-button ai-button"></div><div _ngcontent-pin-c106="" class="handle-button line-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pin-c106="" class="handle-button theme-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pin-c106="" class="handle-button copy-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pin-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 显示帮助信息</span></li><li>edm enable-admin -h</li><li><span class="hljs-comment"># 激活</span></li><li>edm enable-admin -n &lt;bundleName&gt; -a &lt;abilityName&gt; [-t &lt;adminType&gt;]</li></ol></pre></div></div> <p><strong>激活命令参数列表</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.4.1.3.1.1" valign="top" width="50%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.5.4.1.3.1.2" valign="top" width="50%">参数说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">-h/--help</td> <td class="cellrowborder" valign="top" width="50%">帮助信息。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-n/--bundle-name</td> <td class="cellrowborder" valign="top" width="50%">必选参数，bundleName。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-a/--ability-name</td> <td class="cellrowborder" valign="top" width="50%">必选参数，abilityName。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-t/--admin-type</td> <td class="cellrowborder" valign="top" width="50%"><p>可选参数，adminType。</p> <p>取值如下：</p> <p>super - 表示激活为超级设备管理应用。</p> <p>byod - 表示激活为BYOD（自带设备办公）设备管理应用。</p> <p>缺省值为super。</p> </td> </tr>  </tbody></table></div> </div> <p> <strong>示例</strong>：</p> <div _ngcontent-pin-c106="" class="highlight-div"><div _ngcontent-pin-c106="" class="highlight-div-header"><div _ngcontent-pin-c106="" class="highlight-div-header-left"><div _ngcontent-pin-c106="" class="handle-button expand-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pin-c106="" class="highlight-div-header-right"><div _ngcontent-pin-c106="" class="handle-button ai-button"></div><div _ngcontent-pin-c106="" class="handle-button line-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pin-c106="" class="handle-button theme-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pin-c106="" class="handle-button copy-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pin-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 激活一个所在应用包名为com.example.mdmsample，类名为EnterpriseAdminAbility的EnterpriseAdminExtensionAbility。</span></li><li>edm enable-admin -n com.example.mdmsample -a com.example.mdmsample.EnterpriseAdminAbility</li><li><span class="hljs-comment"># 执行结果</span></li><li>enable-admin success.</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="解除激活命令disable-admin">解除激活命令（disable-admin）<i class="anchor-icon anchor-icon-link" anchorid="解除激活命令disable-admin" tips="复制节点链接"></i></h2><div _ngcontent-pin-c106="" class="highlight-div"><div _ngcontent-pin-c106="" class="highlight-div-header"><div _ngcontent-pin-c106="" class="highlight-div-header-left"><div _ngcontent-pin-c106="" class="handle-button expand-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pin-c106="" class="highlight-div-header-right"><div _ngcontent-pin-c106="" class="handle-button ai-button"></div><div _ngcontent-pin-c106="" class="handle-button line-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pin-c106="" class="handle-button theme-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pin-c106="" class="handle-button copy-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pin-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 显示帮助信息</span></li><li>edm disable-admin -h</li><li><span class="hljs-comment"># 解除激活</span></li><li>edm disable-admin -n &lt;bundleName&gt;</li></ol></pre></div></div> <p><strong>解除激活命令参数列表</strong></p>  <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.4.1.3.1.1" valign="top" width="50%">参数</th> <th align="left" class="cellrowborder" id="mcps1.3.6.4.1.3.1.2" valign="top" width="50%">参数说明</th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="50%">-h/--help</td> <td class="cellrowborder" valign="top" width="50%">帮助信息。</td> </tr> <tr><td class="cellrowborder" valign="top" width="50%">-n/--bundle-name</td> <td class="cellrowborder" valign="top" width="50%">必选参数，bundleName。</td> </tr>  </tbody></table></div> </div> <p> <strong>示例</strong>：</p> <div _ngcontent-pin-c106="" class="highlight-div"><div _ngcontent-pin-c106="" class="highlight-div-header"><div _ngcontent-pin-c106="" class="highlight-div-header-left"><div _ngcontent-pin-c106="" class="handle-button expand-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-pin-c106="" class="highlight-div-header-right"><div _ngcontent-pin-c106="" class="handle-button ai-button"></div><div _ngcontent-pin-c106="" class="handle-button line-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-pin-c106="" class="handle-button theme-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-pin-c106="" class="handle-button copy-button"><div _ngcontent-pin-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-pin-c106="" class="highlight-scroll-div"><pre class="bash prettyprint linenums hljs language-bash" hw-language="bash" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment"># 解除激活所在应用包名为com.example.mdmsample的EnterpriseAdminExtensionAbility。</span></li><li>edm disable-admin -n com.example.mdmsample</li><li><span class="hljs-comment"># 执行结果</span></li><li>disable-admin success.</li></ol></pre></div></div> </div>  <div class="tiledSection"><h2 id="edm工具错误信息">edm工具错误信息<i class="anchor-icon anchor-icon-link" anchorid="edm工具错误信息" tips="复制节点链接"></i></h2></div>  <div class="tiledSection"><h3 id="error-command-requires-option" class="firsth2">error: command requires option<i class="anchor-icon anchor-icon-link" anchorid="error-command-requires-option" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p>未传入bundleName和abilityName。</p> <p><strong>可能原因</strong></p> <p>未传入bundleName和abilityName。</p> <p><strong>处理步骤</strong></p> <p>1、如果当前使用的命令是enable-admin，请补充-n &lt;bundle-name&gt;和-a &lt;ability-name&gt;参数。</p> <p>2、如果当前使用的命令是disable-admin，请补充-n &lt;bundle-name&gt;参数。</p> </div>  <div class="tiledSection"><h3 id="error--n---bundle-name-option-requires-an-argument">error: -n, --bundle-name option requires an argument<i class="anchor-icon anchor-icon-link" anchorid="error--n---bundle-name-option-requires-an-argument" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p>传入的bundleName为空。</p> <p><strong>可能原因</strong></p> <p>传入的bundleName为空。</p> <p><strong>处理步骤</strong></p> <p>检查-n后的参数，请补充bundleName。</p> </div>  <div class="tiledSection"><h3 id="error--a---ability-name-option-requires-an-argument">error: -a, --ability-name option requires an argument<i class="anchor-icon anchor-icon-link" anchorid="error--a---ability-name-option-requires-an-argument" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p> 传入的abilityName为空。</p> <p><strong>可能原因</strong></p> <p> 传入的abilityName为空。</p> <p><strong>处理步骤</strong></p> <p>检查-a后的参数，请补充abilityName。</p> </div>  <div class="tiledSection"><h3 id="error-unknown-option">error: unknown option<i class="anchor-icon anchor-icon-link" anchorid="error-unknown-option" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p> 传入了未知的参数。</p> <p><strong>可能原因</strong></p> <p> 传入了未知的参数。</p> <p><strong>处理步骤</strong></p> <p>请确认参数是否在参数列表中。</p> </div>  <div class="tiledSection"><h3 id="error--n-bundle-name-is-expected">error: -n &lt;bundle-name&gt; is expected<i class="anchor-icon anchor-icon-link" anchorid="error--n-bundle-name-is-expected" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p>未传入bundleName。</p> <p><strong>可能原因</strong></p> <p>未传入bundleName。</p> <p><strong>处理步骤</strong></p> <p>请补充-n &lt;bundle-name&gt;。</p> </div>  <div class="tiledSection"><h3 id="error--a-ability-name-is-expected">error: -a &lt;ability-name&gt; is expected<i class="anchor-icon anchor-icon-link" anchorid="error--a-ability-name-is-expected" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p>未传入abilityName。</p> <p><strong>可能原因</strong></p> <p>未传入abilityName。</p> <p><strong>处理步骤</strong></p> <p>请补充-a &lt;ability-name&gt;。</p> </div>  <div class="tiledSection"><h3 id="section9200003-error-the-administrator-ability-component-is-invalid">9200003 error: the administrator ability component is invalid<i class="anchor-icon anchor-icon-link" anchorid="section9200003-error-the-administrator-ability-component-is-invalid" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p>传入的bundleName或者abilityName不正确或者不是enterpriseAdmin类型的ExtensionAbility。</p> <p><strong>可能原因</strong></p> <p>1、传入的bundleName不正确。</p> <p>2、传入的abilityName不正确。</p> <p>3、传入的不是enterpriseAdmin类型的ExtensionAbility。</p> <p><strong>处理步骤</strong></p> <p>查询应用的bundleName和enterpriseAdmin类型的ExtensionAbility的abilityName，并将其传入到参数中。</p> </div>  <div class="tiledSection"><h3 id="section9200004-error-failed-to-enable-the-administrator-application-of-the-device">9200004 error: failed to enable the administrator application of the device<i class="anchor-icon anchor-icon-link" anchorid="section9200004-error-failed-to-enable-the-administrator-application-of-the-device" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p>激活失败。</p> <p><strong>可能原因</strong></p> <p>1、传入的bundleName不正确。</p> <p>2、传入的不是enterpriseAdmin类型的ExtensionAbility。</p> <p>3、存在已激活的正式的enterpriseAdmin类型的ExtensionAbility。</p> <p><strong>处理步骤</strong></p> <p>1、查询应用的bundleName和enterpriseAdmin类型的ExtensionAbility的abilityName，并将其传入到参数中。</p> <p>2、请使用未被管控的设备进行调试。</p> </div>  <div class="tiledSection"><h3 id="section9200005-error-failed-to-disable-the-administrator-application-of-the-device">9200005 error: failed to disable the administrator application of the device<i class="anchor-icon anchor-icon-link" anchorid="section9200005-error-failed-to-disable-the-administrator-application-of-the-device" tips="复制节点链接"></i></h3><p><strong>错误描述</strong></p> <p>解除激活失败。</p> <p><strong>可能原因</strong></p> <p>1、此组件未被激活。</p> <p>2、此组件不是通过hdc命令被激活的。</p> <p>3、解除激活失败。</p> <p><strong>处理步骤</strong></p> <p>查询可以被hdc命令解除激活的应用的bundleName，并将其传入到参数中。</p> </div> </div> <div></div></div>