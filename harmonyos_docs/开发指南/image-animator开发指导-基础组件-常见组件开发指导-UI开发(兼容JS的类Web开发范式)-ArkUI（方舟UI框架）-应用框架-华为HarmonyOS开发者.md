<h1 _ngcontent-sva-c119="" class="doc-title ng-star-inserted" title="image-animator开发指导"> image-animator开发指导 </h1>

<div _ngcontent-sva-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <p>image-animator组件为图片帧动画播放器。具体用法请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-image-animator" target="_blank">image-animator</a>。</p>    <div class="tiledSection">     <h2 id="创建image-animator组件">创建image-animator组件<i class="anchor-icon anchor-icon-link" anchorid="创建image-animator组件" tips="复制节点链接"></i></h2>          <p>在pages/index目录下的hml文件中创建一个image-animator组件，css文件中编写组件样式，js文件中引用图片。</p>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">image-animator</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"animator"</span> <span class="hljs-attr">images</span>=<span class="hljs-string">"{{frames}}"</span> <span class="hljs-attr">duration</span>=<span class="hljs-string">"3s"</span>/&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>}</li><li><span class="hljs-selector-class">.animator</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">frames</span>: [</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">"/common/landscape1.jpg"</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">"/common/landscape2.jpg"</span>,</li><li>      }</li><li>    ],</li><li>  },</li><li>};</li></ol></pre></div></div>     <p><span><img originheight="411" originwidth="228" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114946.06336085468167978204373180538110:50001231000000:2800:A66006E6A8C928673D9AD7295935B75C0F9E6A30AFB334A1F3487A3F18F0B8B5.gif" class="notEnlarge" width="228" height="411"></span></p>    </div>    <div class="tiledSection">     <h2 id="设置image-animator组件属性">设置image-animator组件属性<i class="anchor-icon anchor-icon-link" anchorid="设置image-animator组件属性" tips="复制节点链接"></i></h2>          <p>添加iteration（播放次数）、reverse（播放顺序）、fixedsize（图片大小是否固定为组件大小）、duration（播放时长）和fillmode（执行结束后的状态）属性，控制图片的播放效果。</p>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">image-animator</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"animator"</span> <span class="hljs-attr">fixedsize</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">iteration</span>=<span class="hljs-string">'2'</span> <span class="hljs-attr">reverse</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"animator"</span> <span class="hljs-attr">fillmode</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">images</span>=<span class="hljs-string">"{{frames}}"</span>   <span class="hljs-attr">duration</span>=<span class="hljs-string">"5s"</span> /&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>}</li><li><span class="hljs-selector-class">.animator</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.js</span></li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">frames</span>: [</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape1.jpg'</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-string">'250px'</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-string">'250px'</span>,</li><li>        <span class="hljs-attr">left</span>: <span class="hljs-string">'150px'</span>,</li><li>        <span class="hljs-attr">top</span>: <span class="hljs-string">'50px'</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape2.jpg'</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-string">'300px'</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-string">'300px'</span>,</li><li>        <span class="hljs-attr">left</span>: <span class="hljs-string">'150px'</span>,</li><li>        <span class="hljs-attr">top</span>: <span class="hljs-string">'100px'</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape1.jpg'</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-string">'350px'</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-string">'350px'</span>,</li><li>        <span class="hljs-attr">left</span>: <span class="hljs-string">'150px'</span>,</li><li>        <span class="hljs-attr">top</span>: <span class="hljs-string">'150px'</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape2.jpg'</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-string">'400px'</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-string">'400px'</span>,</li><li>        <span class="hljs-attr">left</span>: <span class="hljs-string">'150px'</span>,</li><li>        <span class="hljs-attr">top</span>: <span class="hljs-string">'200px'</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape3.jpg'</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-string">'450px'</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-string">'450px'</span>,</li><li>        <span class="hljs-attr">left</span>: <span class="hljs-string">'150px'</span>,</li><li>        <span class="hljs-attr">top</span>: <span class="hljs-string">'250px'</span>,</li><li>      },</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape4.jpg'</span>,</li><li>        <span class="hljs-attr">width</span>: <span class="hljs-string">'500px'</span>,</li><li>        <span class="hljs-attr">height</span>: <span class="hljs-string">'500px'</span>,</li><li>        <span class="hljs-attr">left</span>: <span class="hljs-string">'150px'</span>,</li><li>        <span class="hljs-attr">top</span>: <span class="hljs-string">'300px'</span>,</li><li>      },</li><li>    ],</li><li>  },</li><li>};</li></ol></pre></div></div>     <p><span><img originheight="411" originwidth="228" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114946.09062266387468638568397043155904:50001231000000:2800:20F1CDCB6539924352A0629E9B269DFF5C8BABAA3FCDD241187C5BCEA07D66BD.gif" class="notEnlarge" width="228" height="411"></span></p>     <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content">       <ul>        <li>         <p>如果在images属性中设置了单独的duration属性，在image-animator组件中设置的duration属性无效。</p></li>        <li>         <p>如果fixedsize属性值设置为true，图片的width 、height 、top 和left属性无效。</p></li>        <li>         <p>如果reverse属性值设置为false，表示从第1张图片播放到最后1张图片。 如果reverse属性值设置为true，表示从最后1张图片播放到第1张图片。</p></li>       </ul>      </div></div></div>    </div>    <div class="tiledSection">     <h2 id="绑定事件">绑定事件<i class="anchor-icon anchor-icon-link" anchorid="绑定事件" tips="复制节点链接"></i></h2>          <p>向image-animator组件添加start、pause、stop和resume事件。当图片播放器开始播放时触发start事件，当图片播放器被点击时触发pause事件，长按图片播放器触发resume事件，图片播放器停止播放时触发stop事件。</p>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"doc-page"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">image-animator</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"img"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"img"</span> <span class="hljs-attr">images</span>=<span class="hljs-string">"{{imginfo}}"</span> <span class="hljs-attr">iteration</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">duration</span>=<span class="hljs-string">"10s"</span> <span class="hljs-attr">onstart</span>=<span class="hljs-string">"popstart"</span> <span class="hljs-attr">onpause</span>=<span class="hljs-string">"poppause"</span>   <span class="hljs-attr">onstop</span>=<span class="hljs-string">"popstop"</span> <span class="hljs-attr">onresume</span>=<span class="hljs-string">"popresume"</span> <span class="hljs-attr">onlongpress</span>=<span class="hljs-string">"setresume"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"setpause"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">image-animator</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.doc-page</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>   <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>}</li><li><span class="hljs-selector-class">.img</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid orange;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.js</span></li><li><span class="hljs-keyword">import</span> promptAction <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.promptAction'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">imginfo</span>: [</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape1.jpg'</span>,</li><li>      },{</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape2.jpg'</span>,</li><li>      },{</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape3.jpg'</span>,</li><li>      },{</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape4.jpg'</span>,</li><li>      }</li><li>    ],</li><li>  },</li><li>  <span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) {</li><li>  },</li><li>  <span class="hljs-title function_">setpause</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">pause</span>()</li><li>  },</li><li>  <span class="hljs-title function_">setresume</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">resume</span>()</li><li>  },</li><li>  <span class="hljs-title function_">popstart</span>(<span class="hljs-params">e</span>) {</li><li>    promptAction.<span class="hljs-title function_">showToast</span>({</li><li>      <span class="hljs-attr">message</span>: <span class="hljs-string">'开始'</span></li><li>    })</li><li>  },</li><li>  <span class="hljs-title function_">poppause</span>(<span class="hljs-params">e</span>) {</li><li>    promptAction.<span class="hljs-title function_">showToast</span>({</li><li>      <span class="hljs-attr">message</span>: <span class="hljs-string">'暂停'</span></li><li>    })</li><li>  },</li><li>  <span class="hljs-title function_">popstop</span>(<span class="hljs-params">e</span>) {</li><li>    promptAction.<span class="hljs-title function_">showToast</span>({</li><li>      <span class="hljs-attr">message</span>: <span class="hljs-string">'停止'</span></li><li>    })</li><li>  },</li><li>  <span class="hljs-title function_">popresume</span>(<span class="hljs-params">e</span>) {</li><li>    promptAction.<span class="hljs-title function_">showToast</span>({</li><li>      <span class="hljs-attr">message</span>: <span class="hljs-string">'恢复'</span></li><li>    })</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="519" originwidth="228" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114946.39429801336529853830623533919434:50001231000000:2800:86778E6B158BCE5B86FEB46A87EC4175E345F14D750684EF056509DC4A479612.gif" class="notEnlarge" width="228" height="519"></span></p>    </div>    <div class="tiledSection">     <h2 id="场景示例">场景示例<i class="anchor-icon anchor-icon-link" anchorid="场景示例" tips="复制节点链接"></i></h2>          <p>在本场景中，开发者可通过开始播放、停止播放等按钮切换图片的播放状态。</p>     <p>image-animator组件通过调用start、pause、stop和resume方法控制图片的开始、暂停、停止和重新播放，通过getState方法查询图片的播放状态。</p>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="html prettyprint linenums hljs language-xml" hw-language="html" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">&lt;!-- xxx.hml --&gt;</span></li><li><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"doc-page"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">image-animator</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"img"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"img"</span> <span class="hljs-attr">images</span>=<span class="hljs-string">"{{imginfo}}"</span> <span class="hljs-attr">iteration</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">reverse</span>=<span class="hljs-string">"{{rev}}"</span> <span class="hljs-attr">duration</span>=<span class="hljs-string">"10s"</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">image-animator</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 700px;height:450px;margin-top: 40px;flex-direction:column;justify-content:space-around;"</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"开始播放"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"startimg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"暂停播放"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"pauseimg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"停止播放"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"stopimg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"重新播放"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"resumeimg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"获取播放状态"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"getimgstate"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"capsule"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{revVal}}"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"revimg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></li><li>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li><li><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="css prettyprint linenums hljs language-css" hw-language="css" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">/* xxx.css */</span></li><li><span class="hljs-selector-class">.doc-page</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">flex-direction</span>: column;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: center;</li><li>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F1F3F5</span>;</li><li>}</li><li><span class="hljs-selector-class">.img</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;</li><li>  <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid orange;</li><li>}</li><li><span class="hljs-selector-tag">button</span>{</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">260px</span></li><li>}</li><li><span class="hljs-selector-class">.container</span> {</li><li>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</li><li>  <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;</li><li>  <span class="hljs-attribute">align-items</span>: center;</li><li>  <span class="hljs-attribute">justify-content</span>: space-around;</li><li>}</li></ol></pre></div></div>     <div _ngcontent-sva-c106="" class="highlight-div"><div _ngcontent-sva-c106="" class="highlight-div-header"><div _ngcontent-sva-c106="" class="highlight-div-header-left"><div _ngcontent-sva-c106="" class="handle-button expand-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-sva-c106="" class="highlight-div-header-right"><div _ngcontent-sva-c106="" class="handle-button ai-button"></div><div _ngcontent-sva-c106="" class="handle-button line-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-sva-c106="" class="handle-button theme-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-sva-c106="" class="handle-button copy-button"><div _ngcontent-sva-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-sva-c106="" class="highlight-scroll-div"><pre class="js prettyprint linenums hljs language-javascript" hw-language="js" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// index.js</span></li><li><span class="hljs-keyword">import</span> promptAction <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.promptAction'</span>;</li><li><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {</li><li>  <span class="hljs-attr">data</span>: {</li><li>    <span class="hljs-attr">rev</span>:<span class="hljs-literal">false</span>,</li><li>    <span class="hljs-attr">imginfo</span>: [</li><li>      {</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape1.jpg'</span>,</li><li>      },{</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape2.jpg'</span>,</li><li>      },{</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape3.jpg'</span>,</li><li>      },{</li><li>        <span class="hljs-attr">src</span>: <span class="hljs-string">'common/landscape4.jpg'</span>,</li><li>      }</li><li>    ],</li><li>    <span class="hljs-attr">revVal</span>: <span class="hljs-string">'反向播放'</span></li><li>  },</li><li>  <span class="hljs-title function_">onInit</span>(<span class="hljs-params"></span>) {</li><li>  },</li><li>  <span class="hljs-title function_">startimg</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">start</span>()</li><li>  },</li><li>  <span class="hljs-title function_">pauseimg</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">pause</span>()</li><li>  },</li><li>  <span class="hljs-title function_">stopimg</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">stop</span>()</li><li>  },</li><li>  <span class="hljs-title function_">resumeimg</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">resume</span>()</li><li>  },</li><li>  <span class="hljs-title function_">getimgstate</span>(<span class="hljs-params">e</span>) {</li><li>    promptAction.<span class="hljs-title function_">showToast</span>({</li><li>      <span class="hljs-attr">message</span>: <span class="hljs-string">'当前状态：'</span> + <span class="hljs-variable language_">this</span>.$element(<span class="hljs-string">'img'</span>).<span class="hljs-title function_">getState</span>()</li><li>    })</li><li>  },</li><li>  <span class="hljs-title function_">revimg</span>(<span class="hljs-params">e</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rev</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">rev</span></li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">rev</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">revVal</span> = <span class="hljs-string">'正向播放'</span></li><li>    } <span class="hljs-keyword">else</span> {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">revVal</span> = <span class="hljs-string">'反向播放'</span></li><li>    }</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><span><img originheight="519" originwidth="228" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114946.12170036184390544274884025796639:50001231000000:2800:85256290BB4A6EDCDF46705B96005E6041EEB73C22AE63416A9FED0256E11642.gif" class="notEnlarge" width="228" height="519"></span></p>    </div>   </div>   <div></div></div>