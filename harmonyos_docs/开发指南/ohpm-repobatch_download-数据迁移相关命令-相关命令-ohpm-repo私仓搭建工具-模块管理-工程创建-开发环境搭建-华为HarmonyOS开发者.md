<h1 _ngcontent-upi-c119="" class="doc-title ng-star-inserted" title="ohpm-repo batch_download"> ohpm-repo batch_download </h1>

<div _ngcontent-upi-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001840983513"><p id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_p1258565433171146">批量下载ohpm-repo或OpenHarmony三方库中心仓的包文件。</p> <div class="tiledSection"><h2 id="section154219368103">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section154219368103" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478333730__p12851184321013">已成功执行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-export-pkginfo">export_pkginfo 命令</a>，生成pkgInfo_xxx.json文件。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_命令格式">命令格式<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_命令格式" tips="复制节点链接"></i></h2><div _ngcontent-upi-c106="" class="highlight-div"><div _ngcontent-upi-c106="" class="highlight-div-header"><div _ngcontent-upi-c106="" class="highlight-div-header-left"><div _ngcontent-upi-c106="" class="handle-button expand-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upi-c106="" class="highlight-div-header-right"><div _ngcontent-upi-c106="" class="handle-button ai-button"></div><div _ngcontent-upi-c106="" class="handle-button line-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upi-c106="" class="handle-button theme-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upi-c106="" class="handle-button copy-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_screen508937544171146" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span>-<span class="hljs-variable">repo</span> <span class="hljs-title class_">batch_download</span> &lt;<span class="hljs-title class_">pkg_list</span>&gt;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_功能描述">功能描述<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_功能描述" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_p1356456211171146">根据提供的包名列表用于批量下载ohpm-repo或OpenHarmony三方库中心仓的包文件，并导出zip文件。</p> <p id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_p955890169171146">说明：执行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-export-pkginfo">export_pkginfo 命令</a>生成的pkgInfo_xxx.json文件中记录着ohpm-repo或OpenHarmony三方库中心仓中所有已上架的包，若仅需要批量下载部分包文件，可以手动修改pkgInfo_xxx.json文件，命令只会批量下载pkgInfo_xxx.json文件中指定的包，包如果有其他依赖，所依赖的包也会一并下载。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_参数">参数<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_参数" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001792216429_deploy_root" class="firsth2">&lt;pkg_list&gt;<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_deploy_root" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_ul788620231171146"><li id="zh-cn_topic_0000001792216429_li758586668171146">类型： String</li><li id="zh-cn_topic_0000001792216429_li493161959171146">必填参数</li></ul> <p id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_p1980405737171146">必须在batch_download命令后面配置&lt;pkg_list&gt;参数，指定执行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-export-pkginfo">export_pkginfo 命令</a>导出的json文件。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376478_选项">选项<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376478_选项" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section8679814134119" class="firsth2">--public-registry<i class="anchor-icon anchor-icon-link" anchorid="section8679814134119" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478333730__ul1591211411014"><li id="li149127411019">默认值：无</li><li id="li1771371308">类型：URL</li></ul> <p id="ZH-CN_TOPIC_0000002478333730__p13895834503">在batch_download命令后面配置--public-registry &lt;string&gt;，指定OpenHarmony三方库中心仓registry地址下载包文件。</p> </div> <div class="tiledSection"><h3 id="section1228614284505">--http-proxy<i class="anchor-icon anchor-icon-link" anchorid="section1228614284505" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478333730__ul0286328195016"><li id="li5286122815019">默认值：无</li><li id="li928642813504">类型：String</li></ul> <p id="ZH-CN_TOPIC_0000002478333730__p62861428105018">在batch_download命令后面配置--http-proxy &lt;string&gt;，发起请求时将为上面配置的--public-registry地址设置代理。</p> </div> <div class="tiledSection"><h3 id="section187278597405">--not-use-proxy<i class="anchor-icon anchor-icon-link" anchorid="section187278597405" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478333730__ul9728195904013"><li id="li172895912407">默认值：无</li><li id="li10728165913403">类型：String</li></ul> <p id="ZH-CN_TOPIC_0000002478333730__p67282059204015">在batch_download命令后面配置--not-use-proxy &lt;string&gt;，发起请求时不会为指定的地址设置代理，如果有多个地址请使用英文逗号分割并使用url编码转换特殊字符。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_示例">示例<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_示例" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_p182910917171146">执行以下命令从ohpm-repo中批量下载包文件：</p> <div _ngcontent-upi-c106="" class="highlight-div"><div _ngcontent-upi-c106="" class="highlight-div-header"><div _ngcontent-upi-c106="" class="highlight-div-header-left"><div _ngcontent-upi-c106="" class="handle-button expand-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upi-c106="" class="highlight-div-header-right"><div _ngcontent-upi-c106="" class="handle-button ai-button"></div><div _ngcontent-upi-c106="" class="handle-button line-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upi-c106="" class="handle-button theme-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upi-c106="" class="handle-button copy-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php-template" id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_screen1879363329171146" data-highlighted="yes"><ol class="linenums"><li><span class="language-xml">ohpm-repo batch_download <span class="hljs-tag">&lt;<span class="hljs-name">pkgInfo_xxxx.json地址</span>&gt;</span></span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333730__zh-cn_topic_0000001792216429_p1450767419171146">结果示例：</p> <div _ngcontent-upi-c106="" class="highlight-div"><div _ngcontent-upi-c106="" class="highlight-div-header"><div _ngcontent-upi-c106="" class="highlight-div-header-left"><div _ngcontent-upi-c106="" class="handle-button expand-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upi-c106="" class="highlight-div-header-right"><div _ngcontent-upi-c106="" class="handle-button ai-button"></div><div _ngcontent-upi-c106="" class="handle-button line-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upi-c106="" class="handle-button theme-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upi-c106="" class="handle-button copy-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333730__screen1431514473313" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">batch_download</span> <span class="hljs-title class_">D</span>:\<span class="hljs-title class_">pkgInfo_1754733375315</span>.<span class="hljs-title class_">json</span></li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.349</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">download</span> <span class="hljs-string">"@ohos/test@1.0.0"</span> <span class="hljs-keyword">from</span> <span class="hljs-variable">repository</span> <span class="hljs-string">"ohpm"</span> <span class="hljs-variable">successfully</span><span class="hljs-string">".</span></li><li><span class="hljs-string">[2025-08-09T18:33:30.367] [INFO] default - download "</span>@<span class="hljs-title function_">ohos</span>/<span class="hljs-variable">test</span>-<span class="hljs-variable">two</span>@<span class="hljs-number">1.0</span><span class="hljs-number">.0</span><span class="hljs-string">" from repository "</span><span class="hljs-variable">ohpm</span><span class="hljs-string">" successfully"</span>.</li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.466</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">all</span> <span class="hljs-string">"6"</span> <span class="hljs-keyword">package</span>(<span class="hljs-variable">s</span>) <span class="hljs-variable">are</span> <span class="hljs-variable">successfully</span> <span class="hljs-variable">download</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.466</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">save</span> <span class="hljs-variable">the</span> .<span class="hljs-variable">zip</span> <span class="hljs-variable">file</span> <span class="hljs-variable">to</span> : <span class="hljs-string">"D:\batch_download_1754735610304.zip"</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">33</span>:<span class="hljs-number">30.467</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">Clear</span> <span class="hljs-variable">the</span> <span class="hljs-variable">cache</span>.</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333730__p6351316133219"></p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478333730__p2839017112013">1、生成的zip文件以仓库名作为目录，每个仓库目录中存在包文件和pkgInfo.json文件，pkgInfo.json文件记录每个包的<strong>文件名</strong>、<strong>包名</strong>、<strong>组织</strong>、<strong>上传者</strong>和<strong>Tag标签</strong>，用于在批量上传时准确指定ohpm-repo的数据库中某个用户为某个包的真实上传用户，同时将包的Tag标签一起上传。</p> <p id="ZH-CN_TOPIC_0000002478333730__p6113144211125">2、命令执行中，如果某个包的用户在ohpm-repo中不存在，将默认指定该包的上传用户为管理员用户或者组织的管理员用户。</p> <p id="ZH-CN_TOPIC_0000002478333730__p1943118346129">3、ohpm-repo从5.3.0开始支持多仓库配置，当从OpenHarmony三方库中心仓下载包，生成的包zip文件，目录名为ohpm，在后续执行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-batch-publish">batch_publish</a>命令时，默认导入ohpm-repo仓库名为ohpm的仓库中。</p> </div></div></div> <p id="ZH-CN_TOPIC_0000002478333730__p656175973119"></p> <div _ngcontent-upi-c106="" class="highlight-div"><div _ngcontent-upi-c106="" class="highlight-div-header"><div _ngcontent-upi-c106="" class="highlight-div-header-left"><div _ngcontent-upi-c106="" class="handle-button expand-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upi-c106="" class="highlight-div-header-right"><div _ngcontent-upi-c106="" class="handle-button ai-button"></div><div _ngcontent-upi-c106="" class="handle-button line-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upi-c106="" class="handle-button theme-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upi-c106="" class="handle-button copy-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-sql" id="ZH-CN_TOPIC_0000002478333730__screen77611317124411" data-highlighted="yes"><ol class="linenums"><li>batch_download_1754735610304.zip目录结构</li><li><span class="hljs-operator">+</span><span class="hljs-comment">---ohpm</span></li><li><span class="hljs-operator">|</span>       <span class="hljs-variable">@ohos</span><span class="hljs-operator">+</span>test<span class="hljs-operator">-</span>two<span class="hljs-variable">@1</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>.har</li><li><span class="hljs-operator">|</span>       <span class="hljs-variable">@ohos</span><span class="hljs-operator">+</span>test<span class="hljs-variable">@1</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>.har</li><li><span class="hljs-operator">|</span>       pkgInfo.json</li><li><span class="hljs-operator">|</span></li><li><span class="hljs-operator">+</span><span class="hljs-comment">---one</span></li><li><span class="hljs-operator">|</span>       <span class="hljs-variable">@ohos</span><span class="hljs-operator">+</span>test<span class="hljs-operator">-</span>four<span class="hljs-variable">@1</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>.har</li><li><span class="hljs-operator">|</span>       <span class="hljs-variable">@ohos</span><span class="hljs-operator">+</span>test<span class="hljs-operator">-</span>three<span class="hljs-variable">@1</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>.har</li><li><span class="hljs-operator">|</span>       pkgInfo.json</li><li><span class="hljs-operator">|</span></li><li>\<span class="hljs-comment">---two</span></li><li>        <span class="hljs-variable">@ohos</span><span class="hljs-operator">+</span>test<span class="hljs-operator">-</span>five<span class="hljs-variable">@1</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>.har</li><li>        <span class="hljs-variable">@ohos</span><span class="hljs-operator">+</span>test<span class="hljs-operator">-</span>six<span class="hljs-variable">@1</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>.har</li><li>        pkgInfo.json</li></ol></pre></div></div> <div _ngcontent-upi-c106="" class="highlight-div"><div _ngcontent-upi-c106="" class="highlight-div-header"><div _ngcontent-upi-c106="" class="highlight-div-header-left"><div _ngcontent-upi-c106="" class="handle-button expand-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upi-c106="" class="highlight-div-header-right"><div _ngcontent-upi-c106="" class="handle-button ai-button"></div><div _ngcontent-upi-c106="" class="handle-button line-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upi-c106="" class="handle-button theme-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upi-c106="" class="handle-button copy-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333730__screen1996312554468" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">batch_download_1754735610304</span>.<span class="hljs-variable">zip中ohpm目录中pkgInfo</span>.<span class="hljs-variable">json结构</span></li><li>{</li><li>  <span class="hljs-string">"packageArray"</span>: [</li><li>    {</li><li>      <span class="hljs-string">"packageFile"</span>: <span class="hljs-string">"@ohos+test@1.0.0.har"</span>,</li><li>      <span class="hljs-string">"packageName"</span>: <span class="hljs-string">"@ohos/test@1.0.0"</span>,</li><li>      <span class="hljs-string">"user"</span>: <span class="hljs-string">"admin"</span>,</li><li>      <span class="hljs-string">"userId"</span>: <span class="hljs-string">""</span>,</li><li>      <span class="hljs-string">"group"</span>: <span class="hljs-string">"ohos"</span>,</li><li>      <span class="hljs-string">"distTags"</span>: []</li><li>    },</li><li>    {</li><li>      <span class="hljs-string">"packageFile"</span>: <span class="hljs-string">"@ohos+test-two@1.0.0.har"</span>,</li><li>      <span class="hljs-string">"packageName"</span>: <span class="hljs-string">"@ohos/test-two@1.0.0"</span>,</li><li>      <span class="hljs-string">"user"</span>: <span class="hljs-string">"admin"</span>,</li><li>      <span class="hljs-string">"userId"</span>: <span class="hljs-string">""</span>,</li><li>      <span class="hljs-string">"group"</span>: <span class="hljs-string">"ohos"</span>,</li><li>      <span class="hljs-string">"distTags"</span>: []</li><li>    }</li><li>  ]</li><li>}</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333730__p14657154010254"></p> <p id="ZH-CN_TOPIC_0000002478333730__p1437213722613"></p> <p id="ZH-CN_TOPIC_0000002478333730__p17894108162611">执行以下命令从OpenHarmony三方库中心仓中批量下载包文件：</p> <div _ngcontent-upi-c106="" class="highlight-div"><div _ngcontent-upi-c106="" class="highlight-div-header"><div _ngcontent-upi-c106="" class="highlight-div-header-left"><div _ngcontent-upi-c106="" class="handle-button expand-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upi-c106="" class="highlight-div-header-right"><div _ngcontent-upi-c106="" class="handle-button ai-button"></div><div _ngcontent-upi-c106="" class="handle-button line-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upi-c106="" class="handle-button theme-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upi-c106="" class="handle-button copy-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-php-template" id="ZH-CN_TOPIC_0000002478333730__screen18946813262" data-highlighted="yes"><ol class="linenums"><li><span class="language-xml">ohpm-repo batch_download <span class="hljs-tag">&lt;<span class="hljs-name">pkgInfo_xxxx.json地址</span>&gt;</span> --public-registry <span class="hljs-tag">&lt;<span class="hljs-name">OpenHarmony三方库中心仓registry地址</span>&gt;</span> --http-proxy <span class="hljs-tag">&lt;<span class="hljs-name">配置代理地址</span>&gt;</span> --not-use-proxy <span class="hljs-tag">&lt;<span class="hljs-name">配置不使用代理</span>&gt;</span></span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333730__p138943816261">结果示例：</p> <div _ngcontent-upi-c106="" class="highlight-div"><div _ngcontent-upi-c106="" class="highlight-div-header"><div _ngcontent-upi-c106="" class="highlight-div-header-left"><div _ngcontent-upi-c106="" class="handle-button expand-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-upi-c106="" class="highlight-div-header-right"><div _ngcontent-upi-c106="" class="handle-button ai-button"></div><div _ngcontent-upi-c106="" class="handle-button line-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-upi-c106="" class="handle-button theme-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-upi-c106="" class="handle-button copy-button"><div _ngcontent-upi-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-upi-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333730__screen893418329131" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">batch_download</span> <span class="hljs-title class_">D</span>:\<span class="hljs-title class_">pkgInfo_1754734313921</span>.<span class="hljs-title class_">json</span> --<span class="hljs-keyword">public</span>-<span class="hljs-title class_">registry</span> <span class="hljs-title class_">https</span>:<span class="hljs-comment">//ohpm.openharmony.cn/ohpm/</span></li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">49</span>:<span class="hljs-number">38.833</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">A</span> <span class="hljs-variable">total</span> <span class="hljs-variable">of</span> <span class="hljs-number">95</span> <span class="hljs-keyword">package</span>(<span class="hljs-variable">s</span>) <span class="hljs-variable">successfully</span> <span class="hljs-variable">obtain</span> <span class="hljs-variable">download</span> <span class="hljs-variable">url</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">49</span>:<span class="hljs-number">38.834</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">A</span> <span class="hljs-variable">total</span> <span class="hljs-variable">of</span> <span class="hljs-number">95</span> <span class="hljs-keyword">package</span>(<span class="hljs-variable">s</span>) <span class="hljs-variable">are</span> <span class="hljs-variable">successfully</span> <span class="hljs-variable">downloaded</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">49</span>:<span class="hljs-number">38.834</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">A</span> <span class="hljs-variable">total</span> <span class="hljs-variable">of</span> <span class="hljs-number">95</span> <span class="hljs-keyword">package</span>(<span class="hljs-variable">s</span>) <span class="hljs-variable">are</span> <span class="hljs-variable">converted</span> <span class="hljs-variable">successfully</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">49</span>:<span class="hljs-number">38.834</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">Packing</span> <span class="hljs-variable">the</span> .<span class="hljs-variable">zip</span> <span class="hljs-variable">file</span>. . .</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">49</span>:<span class="hljs-number">39.820</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">save</span> <span class="hljs-variable">the</span> .<span class="hljs-variable">zip</span> <span class="hljs-variable">file</span> <span class="hljs-variable">to</span> : <span class="hljs-string">"D:\batch_download_1754736519129.zip"</span>.</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">08</span>-<span class="hljs-number">09</span><span class="hljs-variable">T18</span>:<span class="hljs-number">49</span>:<span class="hljs-number">39.820</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">Clear</span> <span class="hljs-variable">the</span> <span class="hljs-variable">cache</span>.</li></ol></pre></div></div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ol id="ZH-CN_TOPIC_0000002478333730__ol2094711317341"><li id="li1719623520227">如果ohpm-repo实例的数据存储类型为filedb，请执行ohpm-repo restart命令重启ohpm-repo服务，以便刷新ohpm-repo网站页面中的数据。该操作会影响正在使用ohpm-repo服务的用户，请提前告知。</li><li id="li094763173418">生成的zip文件中以仓库名作为目录，每个仓库目录中存在pkgInfo.json文件，其中记录了每个包的<strong>文件名</strong>、<strong>包名</strong>、<strong>组织</strong>、<strong>上传者和</strong><strong>Tag标签</strong>，用于在批量上传时准确指定ohpm-repo的数据库中某个用户为某个包的真实上传用户，同时将包的Tag标签一起上传。</li><li id="li186024803415">当执行batch_download命令时，某个中心仓包的组织为A，若为其指定ohpm-repo的数据库中某用户为其真实上传用户，ohpm-repo实例中不存在A组织，则该包的真实上传用户将设定为空，并且提醒用户手动创建A组织。之后执行批量上传时同样会提醒该包的A组织在ohpm-repo实例中不存在，需要先手动创建A组织。如果需要自动添加组织，使用batch_publish命令的可选参数--force，将会选取一个管理员用户作为A组织负责人，自动创建A组织后进行该包的上传。</li></ol> </div></div></div> </div> </div> <div></div></div>