<h1 _ngcontent-uol-c119="" class="doc-title ng-star-inserted" title="ohpm-repo export_pkgPermission"> ohpm-repo export_pkgPermission </h1>

<div _ngcontent-uol-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000002441711354"><p id="ZH-CN_TOPIC_0000002478333726__zh-cn_topic_0000001745376478_p434788841171146">ohpm-repo 5.4.0版本开始，支持导出包权限数据。</p> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376478_命令格式">命令格式<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376478_命令格式" tips="复制节点链接"></i></h2><div _ngcontent-uol-c106="" class="highlight-div"><div _ngcontent-uol-c106="" class="highlight-div-header"><div _ngcontent-uol-c106="" class="highlight-div-header-left"><div _ngcontent-uol-c106="" class="handle-button expand-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uol-c106="" class="highlight-div-header-right"><div _ngcontent-uol-c106="" class="handle-button ai-button"></div><div _ngcontent-uol-c106="" class="handle-button line-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uol-c106="" class="handle-button theme-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uol-c106="" class="handle-button copy-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uol-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" id="ZH-CN_TOPIC_0000002478333726__zh-cn_topic_0000001745376478_screen1718379831171146" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo export_pkgPermission <span class="hljs-selector-attr">[option]</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376478_功能描述">功能描述<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376478_功能描述" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478333726__p15849115045617">在当前的工作目录中，导出记录包权限的packagePermission_xxx.json文件。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376478_选项">选项<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376478_选项" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section66621244193" class="firsth2">--repos<i class="anchor-icon anchor-icon-link" anchorid="section66621244193" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478333726__ul3662943191"><li id="li26621244190">默认值：无</li></ul> </div> <ul id="ZH-CN_TOPIC_0000002478333726__ul1166311421920"><li id="li8663204111918">类型：String</li></ul> <p id="ZH-CN_TOPIC_0000002478333726__p1226271335715">在export_pkgPermission命令后面配置--repos &lt;string&gt;，导出ohpm-repo中指定仓库的包权限。多个仓库之间通过英文逗号分割，例如"export_pkgPermission --repos  one,two"，即导出仓库one和仓库two中的包权限。若未配置此参数，将默认导出ohpm-repo中所有仓库的包权限。</p> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376478_示例">示例<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376478_示例" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478333726__zh-cn_topic_0000001745376478_p1611915479171146"><strong>从ohpm-repo中导出所有仓库的包权限</strong></p> <div _ngcontent-uol-c106="" class="highlight-div"><div _ngcontent-uol-c106="" class="highlight-div-header"><div _ngcontent-uol-c106="" class="highlight-div-header-left"><div _ngcontent-uol-c106="" class="handle-button expand-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uol-c106="" class="highlight-div-header-right"><div _ngcontent-uol-c106="" class="handle-button ai-button"></div><div _ngcontent-uol-c106="" class="handle-button line-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uol-c106="" class="handle-button theme-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uol-c106="" class="handle-button copy-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uol-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002478333726__zh-cn_topic_0000001745376478_screen1427832549171146" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo export_pkgPermission</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333726__zh-cn_topic_0000001745376478_p1498161499171146">结果示例：</p> <div _ngcontent-uol-c106="" class="highlight-div"><div _ngcontent-uol-c106="" class="highlight-div-header"><div _ngcontent-uol-c106="" class="highlight-div-header-left"><div _ngcontent-uol-c106="" class="handle-button expand-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uol-c106="" class="highlight-div-header-right"><div _ngcontent-uol-c106="" class="handle-button ai-button"></div><div _ngcontent-uol-c106="" class="handle-button line-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uol-c106="" class="handle-button theme-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uol-c106="" class="handle-button copy-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uol-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333726__screen4739114716573" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">export_pkgPermission</span></li><li>...</li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">16</span><span class="hljs-variable">T14</span>:<span class="hljs-number">58</span>:<span class="hljs-number">24.806</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">successfully</span> <span class="hljs-variable">exported</span> <span class="hljs-variable">all</span> <span class="hljs-keyword">package</span> <span class="hljs-package">permissions</span>: <span class="hljs-title class_">saved</span> <span class="hljs-title class_">to</span> <span class="hljs-string">"D:\packagePermission_1758005904806.json"</span>.</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333726__p1471513881315"></p> <div _ngcontent-uol-c106="" class="highlight-div"><div _ngcontent-uol-c106="" class="highlight-div-header"><div _ngcontent-uol-c106="" class="highlight-div-header-left"><div _ngcontent-uol-c106="" class="handle-button expand-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uol-c106="" class="highlight-div-header-right"><div _ngcontent-uol-c106="" class="handle-button ai-button"></div><div _ngcontent-uol-c106="" class="handle-button line-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uol-c106="" class="handle-button theme-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uol-c106="" class="handle-button copy-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uol-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333726__screen1271911545583" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// packagePermission_1758005904806.json中记录着ohpm-repo中所有仓库的包权限</span></li><li>[</li><li>  {</li><li>    <span class="hljs-string">"repoName"</span>: <span class="hljs-string">"groupone"</span>,</li><li>    <span class="hljs-string">"packageName"</span>: <span class="hljs-string">"testone"</span>,</li><li>    <span class="hljs-string">"readPolicy"</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 记录包的可见性配置（1：公开可读，2：授权可读）</span></li><li>    <span class="hljs-string">"packagePermission"</span>: {</li><li>      <span class="hljs-string">"admin"</span>: <span class="hljs-number">4</span>, <span class="hljs-comment">// 记录用户名为admin的用户对该包的权限 （1：查看者权限，2：维护者权限，4：所有者权限）</span></li><li>      <span class="hljs-string">"user"</span>: <span class="hljs-number">2</span>,</li><li>    }</li><li>  },</li><li>  ...</li><li>  {</li><li>    <span class="hljs-string">"repoName"</span>: <span class="hljs-string">"ohpm"</span>,</li><li>    <span class="hljs-string">"packageName"</span>: <span class="hljs-string">"testtwo"</span>,</li><li>    <span class="hljs-string">"readPolicy"</span>: <span class="hljs-number">2</span>,</li><li>    <span class="hljs-string">"packagePermission"</span>: {</li><li>      <span class="hljs-string">"admin"</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-string">"user"</span>: <span class="hljs-number">4</span>,</li><li>    }</li><li>  }</li><li>]</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333726__p17786171535415"></p> <p id="ZH-CN_TOPIC_0000002478333726__p1534945072617"><strong>从ohpm-repo中仅导出仓库名为ohpm的包权限</strong></p> <div _ngcontent-uol-c106="" class="highlight-div"><div _ngcontent-uol-c106="" class="highlight-div-header"><div _ngcontent-uol-c106="" class="highlight-div-header-left"><div _ngcontent-uol-c106="" class="handle-button expand-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uol-c106="" class="highlight-div-header-right"><div _ngcontent-uol-c106="" class="handle-button ai-button"></div><div _ngcontent-uol-c106="" class="handle-button line-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uol-c106="" class="handle-button theme-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uol-c106="" class="handle-button copy-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uol-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" id="ZH-CN_TOPIC_0000002478333726__screen5349125082613" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo export_pkgPermission <span class="hljs-attr">--repos</span> ohpm</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478333726__p152091138202816">结果示例：</p> <div _ngcontent-uol-c106="" class="highlight-div"><div _ngcontent-uol-c106="" class="highlight-div-header"><div _ngcontent-uol-c106="" class="highlight-div-header-left"><div _ngcontent-uol-c106="" class="handle-button expand-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uol-c106="" class="highlight-div-header-right"><div _ngcontent-uol-c106="" class="handle-button ai-button"></div><div _ngcontent-uol-c106="" class="handle-button line-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uol-c106="" class="handle-button theme-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uol-c106="" class="handle-button copy-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uol-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333726__screen49218915293" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">PS</span> <span class="hljs-variable">D</span>:\&gt; <span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span> <span class="hljs-title class_">export_pkgPermission</span> --<span class="hljs-title class_">repos</span> <span class="hljs-title class_">ohpm</span></li><li>... </li><li>[<span class="hljs-number">2025</span>-<span class="hljs-number">09</span>-<span class="hljs-number">16</span><span class="hljs-variable">T15</span>:<span class="hljs-number">41</span>:<span class="hljs-number">06.124</span>] [<span class="hljs-variable">INFO</span>] <span class="hljs-variable">default</span> - <span class="hljs-variable">successfully</span> <span class="hljs-variable">exported</span> <span class="hljs-variable">all</span> <span class="hljs-keyword">package</span> <span class="hljs-package">permissions</span> <span class="hljs-keyword">for</span> <span class="hljs-variable">the</span> <span class="hljs-variable">specified</span> <span class="hljs-variable">repository</span>: <span class="hljs-title class_">saved</span> <span class="hljs-title class_">to</span> <span class="hljs-string">"D:\packagePermission_1758008466123.json"</span>.</li></ol></pre></div></div> <div _ngcontent-uol-c106="" class="highlight-div"><div _ngcontent-uol-c106="" class="highlight-div-header"><div _ngcontent-uol-c106="" class="highlight-div-header-left"><div _ngcontent-uol-c106="" class="handle-button expand-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-uol-c106="" class="highlight-div-header-right"><div _ngcontent-uol-c106="" class="handle-button ai-button"></div><div _ngcontent-uol-c106="" class="handle-button line-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-uol-c106="" class="handle-button theme-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-uol-c106="" class="handle-button copy-button"><div _ngcontent-uol-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-uol-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478333726__screen11305132962815" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// packagePermission_1758008466123.json中记录着ohpm-repo中仓库ohpm的包权限</span></li><li>[</li><li>  {</li><li>    <span class="hljs-string">"repoName"</span>: <span class="hljs-string">"ohpm"</span>,</li><li>    <span class="hljs-string">"packageName"</span>: <span class="hljs-string">"testtwo"</span>,</li><li>    <span class="hljs-string">"readPolicy"</span>: <span class="hljs-number">2</span>,</li><li>    <span class="hljs-string">"packagePermission"</span>: {</li><li>      <span class="hljs-string">"admin"</span>: <span class="hljs-number">2</span>,</li><li>      <span class="hljs-string">"user"</span>: <span class="hljs-number">4</span>,</li><li>    }</li><li>  },</li><li>  ...</li><li>]</li></ol></pre></div></div> </div> </div> <div></div></div>