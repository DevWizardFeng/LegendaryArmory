<h1 _ngcontent-bmm-c119="" class="doc-title ng-star-inserted" title="ohpm-repo pack"> ohpm-repo pack </h1>

<div _ngcontent-bmm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001749437792"><p id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_p1258565433171146">打包ohpm-repo部署目录文件。</p> <div class="tiledSection"><h2 id="section154219368103">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section154219368103" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478173738__p12851184321013">已成功执行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-start">start 命令</a>或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-restart">restart 命令</a>，ohpm-repo服务启动成功。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_命令格式">命令格式<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_命令格式" tips="复制节点链接"></i></h2><div _ngcontent-bmm-c106="" class="highlight-div"><div _ngcontent-bmm-c106="" class="highlight-div-header"><div _ngcontent-bmm-c106="" class="highlight-div-header-left"><div _ngcontent-bmm-c106="" class="handle-button expand-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bmm-c106="" class="highlight-div-header-right"><div _ngcontent-bmm-c106="" class="handle-button ai-button"></div><div _ngcontent-bmm-c106="" class="handle-button line-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bmm-c106="" class="handle-button theme-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bmm-c106="" class="handle-button copy-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bmm-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_screen508937544171146" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span>-<span class="hljs-variable">repo</span> <span class="hljs-title class_">pack</span> &lt;<span class="hljs-title class_">deploy_root</span>&gt;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_功能描述">功能描述<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_功能描述" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_p1356456211171146">用于打包ohpm-repo部署目录<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_关于-deploy_root">deploy_root</a>下的conf ，db和meta目录。</p> <p id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_p955890169171146">说明：</p> <ul id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_ul1389363583171146"><li id="zh-cn_topic_0000001792216429_li263434937171146">如果数据存储db模块使用的是mysql，则命令只会打包conf和meta目录全部内容。</li><li id="li10777543121311">如果数据存储db模块使用的是filedb，则命令打包conf，db和meta目录全部，且在命令执行过程中，会先将ohpm-repo服务设置为只读模式，等打包完成以后，再将ohpm-repo服务重置为读写模式。</li><li id="zh-cn_topic_0000001792216429_li1506378143171146">打包产物可通过ohpm-repo restore命令自动解压至&lt;deploy_root&gt;目录。</li></ul> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_参数">参数<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_参数" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001792216429_deploy_root" class="firsth2">&lt;deploy_root&gt;<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_deploy_root" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_ul788620231171146"><li id="zh-cn_topic_0000001792216429_li758586668171146">类型： String</li><li id="zh-cn_topic_0000001792216429_li493161959171146">必填参数</li></ul> <p id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_p1980405737171146">必须在pack命令后面配置&lt;deploy_root&gt;参数，指定待打包的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_关于-deploy_root">ohpm-repo私仓部署目录</a>。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216429_示例">示例<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216429_示例" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_p182910917171146">执行以下命令：</p> <div _ngcontent-bmm-c106="" class="highlight-div"><div _ngcontent-bmm-c106="" class="highlight-div-header"><div _ngcontent-bmm-c106="" class="highlight-div-header-left"><div _ngcontent-bmm-c106="" class="handle-button expand-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bmm-c106="" class="highlight-div-header-right"><div _ngcontent-bmm-c106="" class="handle-button ai-button"></div><div _ngcontent-bmm-c106="" class="handle-button line-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bmm-c106="" class="handle-button theme-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bmm-c106="" class="handle-button copy-button"><div _ngcontent-bmm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bmm-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_screen1879363329171146" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span>-<span class="hljs-variable">repo</span> <span class="hljs-variable">pack</span> <span class="hljs-variable">D</span>:\<span class="hljs-title class_">ohpm</span>-<span class="hljs-title class_">repo</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_p1450767419171146">结果示例：</p> <p id="ZH-CN_TOPIC_0000002478173738__zh-cn_topic_0000001792216429_p1168294913412"><span><img height="49.758891000000006" originheight="60" originwidth="808" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104735.63228409479145578470210771286118:50001231000000:2800:D5FF0C59969FD28AB2B2009AE0CA6B4C121A4997FAF80D1D93059591EDA05339.png" title="点击放大" width="670.32"></span></p> </div> </div> <div></div></div>