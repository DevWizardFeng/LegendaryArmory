<h1 _ngcontent-wka-c119="" class="doc-title ng-star-inserted" title="ohpm-repo restore"> ohpm-repo restore </h1>

<div _ngcontent-wka-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001796516541"><p id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_p783035752171146">将ohpm-repo pack打包产物替换&lt;deploy_root&gt;目录下相应文件，重启服务。</p> <div class="tiledSection"><h2 id="section154219368103">前提条件<i class="anchor-icon anchor-icon-link" anchorid="section154219368103" tips="复制节点链接"></i></h2><ul id="ZH-CN_TOPIC_0000002510293677__ul0629195682120"><li id="li1262914569212">已成功执行<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-start">start 命令</a>或者<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-restart">restart 命令</a>，ohpm-repo服务启动成功。</li><li id="li17909857152111">已获得由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-pack">pack 命令</a>打包的.zip 文件。</li></ul> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001748628064_命令格式">命令格式<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001748628064_命令格式" tips="复制节点链接"></i></h2><div _ngcontent-wka-c106="" class="highlight-div"><div _ngcontent-wka-c106="" class="highlight-div-header"><div _ngcontent-wka-c106="" class="highlight-div-header-left"><div _ngcontent-wka-c106="" class="handle-button expand-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wka-c106="" class="highlight-div-header-right"><div _ngcontent-wka-c106="" class="handle-button ai-button"></div><div _ngcontent-wka-c106="" class="handle-button line-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wka-c106="" class="handle-button theme-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wka-c106="" class="handle-button copy-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wka-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_screen823124903171146" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span>-<span class="hljs-variable">repo</span> <span class="hljs-title class_">restore</span> &lt;<span class="hljs-title class_">file_path</span>&gt;</li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001748628064_功能描述">功能描述<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001748628064_功能描述" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_p1379934168171146">该命令会停止当前ohpm-repo服务，并用打包文件&lt;file_path&gt;中的内容替换ohpm-repo部署根目录&lt;deploy_root&gt;的相应文件，然后重启ohpm-repo服务。该命令执行前必须已执行过ohpm-repo实例启动命令ohpm-repo start。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_ul1073831819433"><li id="zh-cn_topic_0000001748628064_li11738111810436">&lt;file_path&gt;：由ohpm-repo pack命令得到的打包产物。</li></ul> <p id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_p184542123431">支持相对和绝对路径配置，当配置为相对路径时，以当前命令行工作路径为根目录。</p> <ul id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_ul041054064316"><li id="zh-cn_topic_0000001748628064_li11410194054313">&lt;deploy_root&gt;：ohpm-repo部署根目录 执行install命令后，会创建一个名为OHPM_REPO_DEPLOY_ROOT的环境变量，记录的是<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo-configuration#zh-cn_topic_0000001745376470_关于-deploy_root">ohpm-repo私仓部署目录</a>。</li></ul> </div></div></div> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001748628064_参数">参数<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001748628064_参数" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001748628064_file_path" class="firsth2">&lt;file_path&gt;<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001748628064_file_path" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_ul1718187955171146"><li id="zh-cn_topic_0000001748628064_li1220639881171146">类型：String</li><li id="zh-cn_topic_0000001748628064_li199294373171146">必填参数</li></ul> <p id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_p754300052171146">指定待解压的打包文件路径。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001748628064_示例">示例<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001748628064_示例" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_p300292171146">执行以下命令：</p> <div _ngcontent-wka-c106="" class="highlight-div"><div _ngcontent-wka-c106="" class="highlight-div-header"><div _ngcontent-wka-c106="" class="highlight-div-header-left"><div _ngcontent-wka-c106="" class="handle-button expand-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-wka-c106="" class="highlight-div-header-right"><div _ngcontent-wka-c106="" class="handle-button ai-button"></div><div _ngcontent-wka-c106="" class="handle-button line-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-wka-c106="" class="handle-button theme-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-wka-c106="" class="handle-button copy-button"><div _ngcontent-wka-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-wka-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-bash" id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_screen51660450171146" data-highlighted="yes"><ol class="linenums"><li>ohpm-repo restore <span class="hljs-string">"D:\pack_1702625827995.zip"</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_p1135848947171146">结果示例：</p> <p id="ZH-CN_TOPIC_0000002510293677__zh-cn_topic_0000001748628064_p586403219171146"><span><img height="133.77273000000002" originheight="212" originwidth="1086" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104737.95425141376497431628058638943409:50001231000000:2800:280F1514ED11D28757E9D044B624CEC822726A6015ABC490B534EAFAA8EEAE66.png" title="点击放大" width="685.2825"></span></p> </div> </div> <div></div></div>