<h1 _ngcontent-evp-c119="" class="doc-title ng-star-inserted" title="ohpm dist-tags"> ohpm dist-tags </h1>

<div _ngcontent-evp-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001836658050"><p id="ZH-CN_TOPIC_0000002478334482__p579115383619">tag可标记一个三方库的某个版本，在install时可用tag代替版本号安装包。</p> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792216401_命令格式">命令格式<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792216401_命令格式" tips="复制节点链接"></i></h2><div _ngcontent-evp-c106="" class="highlight-div"><div _ngcontent-evp-c106="" class="highlight-div-header"><div _ngcontent-evp-c106="" class="highlight-div-header-left"><div _ngcontent-evp-c106="" class="handle-button expand-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-evp-c106="" class="highlight-div-header-right"><div _ngcontent-evp-c106="" class="handle-button ai-button"></div><div _ngcontent-evp-c106="" class="handle-button line-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-evp-c106="" class="handle-button theme-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-evp-c106="" class="handle-button copy-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-evp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478334482__screen173533010399" data-highlighted="yes"><ol class="linenums"><li><span class=""><span class="hljs-variable">ohpm</span> <span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span> [<span class="hljs-variable">subcommand</span>] [</span><span class="">&lt;</span><span class="">@<span class="hljs-title class_">group</span></span><span class="">&gt;</span><span class="">/]</span><span class="">&lt;</span><span class=""><span class="hljs-title class_">pkg</span></span><span class="">&gt;</span><span class="">[@</span><span class="">&lt;</span><span class=""><span class="hljs-title class_">version</span></span><span class="">&gt;</span><span class="">] </span><span class="">&lt;</span><span class=""><span class="hljs-title class_">tag</span></span><span class="">&gt;</span></li><li><span class="hljs-variable">alias</span>: <span class="hljs-title class_">dist</span>-<span class="hljs-title class_">tags</span></li></ol></pre></div></div> </div> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><ul id="ZH-CN_TOPIC_0000002478334482__ul14675102516413"><li id="li1047492910419">subcommand: 包含list、add、update、remove四个子命令。</li><li id="li84551231174118">@group: 三方库的命名空间，可选。</li><li id="li1651616347416">pkg: 三方库名称，必选。</li><li id="li15774153684119">version: 三方库的版本号，在add、update子命令时必选。</li><li id="li47781732153410">tag: 标签，在add、update、remove子命令时必选。tag必须以大小写字母或数字开头，只允许包含大小写字母、数字、点号(.)、下划线(_)和中划线(-)，最大长度为60个字符。</li></ul> </div></div></div> <div class="tiledSection"><h2 id="section419744416424">功能描述<i class="anchor-icon anchor-icon-link" anchorid="section419744416424" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334482__p15448468428">操作tag。分为查看三方库的所有tag，给三方库的某个版本添加tag，修改tag到三方库的另一个版本，删除三方库的某个tag。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p id="ZH-CN_TOPIC_0000002478334482__p11877132754213">"latest"是一个预设的标签，不允许直接通过dist-tags命令来进行修改。该标签自动指向最高的正式版本；若无正式版本，则默认指向最高的先行版本。</p> <p id="ZH-CN_TOPIC_0000002478334482__p9742122495312">以第三方库a为例，假定其版本序列包括"1.0.1-beta"、"1.0.1"和"2.0.1-beta"，在这种情况下，"latest"会自动映射到"1.0.1"，因为它是当前最高的正式版本。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section9366145616417">子命令<i class="anchor-icon anchor-icon-link" anchorid="section9366145616417" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001745217266_set" class="firsth2">list<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745217266_set" tips="复制节点链接"></i></h3><div _ngcontent-evp-c106="" class="highlight-div"><div _ngcontent-evp-c106="" class="highlight-div-header"><div _ngcontent-evp-c106="" class="highlight-div-header-left"><div _ngcontent-evp-c106="" class="handle-button expand-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-evp-c106="" class="highlight-div-header-right"><div _ngcontent-evp-c106="" class="handle-button ai-button"></div><div _ngcontent-evp-c106="" class="handle-button line-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-evp-c106="" class="handle-button theme-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-evp-c106="" class="handle-button copy-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-evp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001745217266_screen1105144982204137" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span> <span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span> <span class="hljs-variable">list</span> [&lt;@<span class="hljs-title class_">group</span>&gt;/]&lt;<span class="hljs-title class_">pkg</span>&gt;</li><li><span class="hljs-variable">alias</span>: <span class="hljs-title class_">ls</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001745217266_p276146778204137">列出指定三方库的所有标签。输出结果中，`latest`标签始终位于首位，其他标签按照字典序排列显示。</p> </div> <div class="tiledSection"><h3 id="section1021215300119">add<i class="anchor-icon anchor-icon-link" anchorid="section1021215300119" tips="复制节点链接"></i></h3><div _ngcontent-evp-c106="" class="highlight-div"><div _ngcontent-evp-c106="" class="highlight-div-header"><div _ngcontent-evp-c106="" class="highlight-div-header-left"><div _ngcontent-evp-c106="" class="handle-button expand-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-evp-c106="" class="highlight-div-header-right"><div _ngcontent-evp-c106="" class="handle-button ai-button"></div><div _ngcontent-evp-c106="" class="handle-button line-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-evp-c106="" class="handle-button theme-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-evp-c106="" class="handle-button copy-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-evp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478334482__screen921223071117" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span> <span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span> <span class="hljs-variable">add</span> [&lt;@<span class="hljs-title class_">group</span>&gt;/]&lt;<span class="hljs-title class_">pkg</span>&gt;[@&lt;<span class="hljs-title class_">version</span>&gt;] &lt;<span class="hljs-title class_">tag</span>&gt;</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334482__p16212153020111">给某个版本的三方库增加一个标签。若该三方库已存在相同标签，则添加操作将会失败。</p> </div> <div class="tiledSection"><h3 id="section86903591127">update<i class="anchor-icon anchor-icon-link" anchorid="section86903591127" tips="复制节点链接"></i></h3><div _ngcontent-evp-c106="" class="highlight-div"><div _ngcontent-evp-c106="" class="highlight-div-header"><div _ngcontent-evp-c106="" class="highlight-div-header-left"><div _ngcontent-evp-c106="" class="handle-button expand-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-evp-c106="" class="highlight-div-header-right"><div _ngcontent-evp-c106="" class="handle-button ai-button"></div><div _ngcontent-evp-c106="" class="handle-button line-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-evp-c106="" class="handle-button theme-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-evp-c106="" class="handle-button copy-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-evp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478334482__screen19690115921218" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span> <span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span> <span class="hljs-variable">update</span> [&lt;@<span class="hljs-title class_">group</span>&gt;/]&lt;<span class="hljs-title class_">pkg</span>&gt;[@&lt;<span class="hljs-title class_">version</span>&gt;] &lt;<span class="hljs-title class_">tag</span>&gt;</li><li><span class="hljs-variable">alias</span>: <span class="hljs-title class_">up</span></li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334482__p7690115911121">更新指定包的某个标签所对应的版本。如果指定的标签不存在，则更新操作将失败。</p> </div> <div class="tiledSection"><h3 id="section7885183381820">remove<i class="anchor-icon anchor-icon-link" anchorid="section7885183381820" tips="复制节点链接"></i></h3><div _ngcontent-evp-c106="" class="highlight-div"><div _ngcontent-evp-c106="" class="highlight-div-header"><div _ngcontent-evp-c106="" class="highlight-div-header-left"><div _ngcontent-evp-c106="" class="handle-button expand-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-evp-c106="" class="highlight-div-header-right"><div _ngcontent-evp-c106="" class="handle-button ai-button"></div><div _ngcontent-evp-c106="" class="handle-button line-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-evp-c106="" class="handle-button theme-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-evp-c106="" class="handle-button copy-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-evp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" id="ZH-CN_TOPIC_0000002478334482__screen158851433151813" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable">ohpm</span> <span class="hljs-variable">dist</span>-<span class="hljs-variable">tags</span> <span class="hljs-variable">remove</span> [&lt;@<span class="hljs-title class_">group</span>&gt;/]&lt;<span class="hljs-title class_">pkg</span>&gt; &lt;<span class="hljs-title class_">tag</span>&gt;</li><li><span class="hljs-variable">alias</span>: <span class="hljs-title class_">rm</span></li></ol></pre></div></div> </div> <p id="ZH-CN_TOPIC_0000002478334482__p2895132193910">删除指定包的一个标签。如果该标签并未存在于包中，则删除操作将会失败。</p> <div class="tiledSection"><h2 id="zh-cn_topic_0000001792256145_options">Options<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792256145_options" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="section10937415125116" class="firsth2">publish_id<i class="anchor-icon anchor-icon-link" anchorid="section10937415125116" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334482__ul11219193016517"><li id="li021923012512">默认值：""</li><li id="li182191330185113">类型：String</li></ul> <p id="ZH-CN_TOPIC_0000002478334482__p6219193065113">可以在 dist-tags 命令后面配置 --publish_id &lt;id&gt; 参数，指定发布码。</p> </div> <div class="tiledSection"><h3 id="section1259174395215">key_path<i class="anchor-icon anchor-icon-link" anchorid="section1259174395215" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334482__ul188541354175218"><li id="li385465465210">默认值：""</li><li id="li1854155445218">类型：String</li></ul> <p id="ZH-CN_TOPIC_0000002478334482__p4854185435210">可以在 dist-tags 命令后面配置 --key_path &lt;p&gt; 参数，指定ssh私钥路径。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001792256145_tag">registry<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792256145_tag" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_ul1021226189204137"><li id="zh-cn_topic_0000001792256145_li980305980204137">默认值：无</li><li id="zh-cn_topic_0000001792256145_li73356457204137">类型：URL</li></ul> <p id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_p1281930221204137">可以在 dist-tags 命令后面配置 --registry &lt;registry&gt; 参数，指定仓库地址；如果没有指定，默认从配置中获取仓库地址。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001792256145_publish_registry">publish_registry<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792256145_publish_registry" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_ul267704099204137"><li id="zh-cn_topic_0000001792256145_li446305995204137">默认值：""</li><li id="zh-cn_topic_0000001792256145_li1886279686204137">类型：URL</li></ul> <p id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_p925157274204137">可以在 dist-tags 命令后面配置 --publish_registry &lt;r&gt; 参数，指定发布仓库地址。如果未指定，默认从配置中获取发布仓库地址。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001792256145_fetch_timeout">fetch_timeout<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792256145_fetch_timeout" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_ul1234407645204137"><li id="zh-cn_topic_0000001792256145_li1347809524204137">默认值：60000</li><li id="zh-cn_topic_0000001792256145_li1094095951204137">类型： Number</li><li id="zh-cn_topic_0000001792256145_li1753555120204137">别名：ft</li></ul> <p id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_p137827259204137">可以在 dist-tags 命令后面配置 --ft &lt;number&gt;或者  --fetch_timeout &lt;number&gt; 参数，设置操作的超时时间，如果没有指定，默认超时时间为60000ms。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001792256145_strict_ssl">strict_ssl<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001792256145_strict_ssl" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_ul697136662204137"><li id="zh-cn_topic_0000001792256145_li1919960674204137">默认值：true</li><li id="zh-cn_topic_0000001792256145_li1580339764204137">类型： Boolean</li></ul> <p id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001792256145_p330125925204137">可以在 dist-tags 命令后面配置 --strict_ssl true 参数，校验 https 证书；配置 --strict_ssl false 参数，不校验 https 证书。</p> </div> <div class="tiledSection"><h2 id="section104491459193011">示例<i class="anchor-icon anchor-icon-link" anchorid="section104491459193011" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334482__p49250174315">如果想要通过使用tag，在oh-package.json5文件中引入包@ohos/axios的1.0.0版本，步骤如下：</p> <p id="ZH-CN_TOPIC_0000002478334482__p104041928123717">1.  通过ohpm dist-tags的子命令add，对包@ohos/axios的1.0.0版本添加标签名beta。</p> <div _ngcontent-evp-c106="" class="highlight-div"><div _ngcontent-evp-c106="" class="highlight-div-header"><div _ngcontent-evp-c106="" class="highlight-div-header-left"><div _ngcontent-evp-c106="" class="handle-button expand-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-evp-c106="" class="highlight-div-header-right"><div _ngcontent-evp-c106="" class="handle-button ai-button"></div><div _ngcontent-evp-c106="" class="handle-button line-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-evp-c106="" class="handle-button theme-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-evp-c106="" class="handle-button copy-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-evp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-sql" id="ZH-CN_TOPIC_0000002478334482__zh-cn_topic_0000001745217270_screen369140342204137" data-highlighted="yes"><ol class="linenums"><li>ohpm dist<span class="hljs-operator">-</span>tags <span class="hljs-keyword">add</span> <span class="hljs-variable">@ohos</span><span class="hljs-operator">/</span>axios<span class="hljs-variable">@1</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span> beta</li></ol></pre></div></div> <div class="p" id="ZH-CN_TOPIC_0000002478334482__p5338141314018">2.  在oh-package.json5文件中，使用标签beta引入包@ohos/axios的1.0.0版本。<div _ngcontent-evp-c106="" class="highlight-div"><div _ngcontent-evp-c106="" class="highlight-div-header"><div _ngcontent-evp-c106="" class="highlight-div-header-left"><div _ngcontent-evp-c106="" class="handle-button expand-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-evp-c106="" class="highlight-div-header-right"><div _ngcontent-evp-c106="" class="handle-button ai-button"></div><div _ngcontent-evp-c106="" class="handle-button line-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-evp-c106="" class="handle-button theme-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-evp-c106="" class="handle-button copy-button"><div _ngcontent-evp-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-evp-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-perl" id="ZH-CN_TOPIC_0000002478334482__screen86401354114020" data-highlighted="yes"><ol class="linenums"><li>{</li><li>  <span class="hljs-string">"dependencies"</span>: {</li><li>    <span class="hljs-regexp">//</span> tag标签引入，引入标签为<span class="hljs-string">"beta"</span>对应的版本号<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span></li><li>    <span class="hljs-string">"@ohos/axios"</span>: <span class="hljs-string">"tag:beta"</span></li><li>  }</li><li>  ...</li><li>  ...</li><li>}</li></ol></pre></div></div> </div> </div> </div> <div></div></div>