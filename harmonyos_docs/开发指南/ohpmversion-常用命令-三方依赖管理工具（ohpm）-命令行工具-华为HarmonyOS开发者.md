<h1 _ngcontent-ktx-c119="" class="doc-title ng-star-inserted" title="ohpm version"> ohpm version </h1>

<div _ngcontent-ktx-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div id="body0000001796516517"><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p942345054204137">管理模块版本。</p> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376462_命令格式">命令格式<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_命令格式" tips="复制节点链接"></i></h2><div _ngcontent-ktx-c106="" class="highlight-div"><div _ngcontent-ktx-c106="" class="highlight-div-header"><div _ngcontent-ktx-c106="" class="highlight-div-header-left"><div _ngcontent-ktx-c106="" class="handle-button expand-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ktx-c106="" class="highlight-div-header-right"><div _ngcontent-ktx-c106="" class="handle-button ai-button"></div><div _ngcontent-ktx-c106="" class="handle-button line-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ktx-c106="" class="handle-button theme-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ktx-c106="" class="handle-button copy-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ktx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-css" id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_screen335930511204137" data-highlighted="yes"><ol class="linenums"><li>ohpm version <span class="hljs-selector-attr">[options]</span> <span class="hljs-selector-attr">[&lt;newversion&gt; | major | minor | patch]</span></li></ol></pre></div></div> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376462_功能描述">功能描述<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_功能描述" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1358868286204137">在模块目录中运行此命令以获取或升级版本号，同时将数据回写入 oh-package.json5 中。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376462_参数说明">参数说明<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_参数说明" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001745376462_无参数" class="firsth2">无参数<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_无参数" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1237343170204137">当无参数使用ohpm version命令时，则会将当前模块的版本号打印至标准输出中。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001745376462_newversion">newversion<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_newversion" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p276233737204137">newversion 参数应为一个合法的语义化版本，命令会将当前模块版本改写为 newversion 并打印在标准输出中。</p> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001745376462_major">major<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_major" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p71167144204137">当参数为 major 时，有以下几种情况：</p> <ul id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_ul1702442073204137"><li id="zh-cn_topic_0000001745376462_li474155601204137">若无先行版本号，则将主版本号递增 1，其他位置为 0；</li><li id="zh-cn_topic_0000001745376462_li272971727204137">若存在先行版本号：<ul id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_ul1725313161204137"><li id="zh-cn_topic_0000001745376462_li948026617204137">当次版本号、修订号都为 0 时，则主版本号不变，而将先行版本号删掉。即 1.0.0-beta.1 升级为 1.0.0；</li><li id="zh-cn_topic_0000001745376462_li1743617195204137">当次版本号、修订号任意一个不为 0 时，则将主版本号递增1，其他位置为 0，并删除先行版本号。即 1.0.1-beta.1 升级为 2.0.0。</li></ul> </li></ul> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001745376462_minor">minor<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_minor" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p859801575204137">当参数为 minor 时，固定主版本号，变化次版本号与修订号，有以下几种情况：</p> <ul id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_ul1105471446204137"><li id="zh-cn_topic_0000001745376462_li246069723204137">若无先行版本号，则将次版本号递增 1，修订号置为 0；</li><li id="zh-cn_topic_0000001745376462_li1752116160204137">若存在先行版本号:<ul id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_ul840929078204137"><li id="zh-cn_topic_0000001745376462_li284387594204137">当修订号为 0 时，则次版本号不变，而将先行版本号删除。即 1.1.0-beta.1 升级为 1.1.0;</li><li id="zh-cn_topic_0000001745376462_li1995803972204137">当修订号不为 0 时，则将次版本号递增 1，修订号置为 0，同时删除先行版本号，即 1.1.1-beta.1 升级为 1.2.0。</li></ul> </li></ul> </div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001745376462_patch">patch<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_patch" tips="复制节点链接"></i></h3><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p794130875204137">当参数为 patch 时，固定主版本号与次版本号，变化修订号，有以下几种情况：</p> <ul id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_ul1966931222204137"><li id="zh-cn_topic_0000001745376462_li335602966204137">若无先行版本号，则修订号递增 1。即 1.0.0 升级为 1.0.1；</li><li id="zh-cn_topic_0000001745376462_li1750184639204137">若存在先行版本号，则仅删除先行版本号。即 1.0.0-beta.1 升级为 1.0.0。</li></ul> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376462_options">Options<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_options" tips="复制节点链接"></i></h2></div> <div class="tiledSection"><h3 id="zh-cn_topic_0000001745376462_prefix" class="firsth2">prefix<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_prefix" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_ul1230047982204137"><li id="zh-cn_topic_0000001745376462_li1684231274204137">默认值：""</li><li id="zh-cn_topic_0000001745376462_li441716108204137">类型： string</li></ul> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p504539103204137">可以在 version 命令后面配置 --prefix &lt;string&gt; 参数，用来指定包的根目录，该目录下必须存在 oh-package.json5 文件。</p> </div> <div class="tiledSection"><h3 id="section1617219566568">parameterFile<i class="anchor-icon anchor-icon-link" anchorid="section1617219566568" tips="复制节点链接"></i></h3><ul id="ZH-CN_TOPIC_0000002478334370__ul01721456175612"><li id="li71724567561">默认值：无</li><li id="li131729564565">类型： string</li><li id="li155280428585">别名：pf</li></ul> <p id="ZH-CN_TOPIC_0000002478334370__p117265619568">可以在 version 命令后面配置 --pf &lt;string&gt; 或者 --parameterFile &lt;string&gt; 参数，用来指定参数化配置文件地址。使用该命令前需保证项目级别的oh-package.json5中已配置parameterFile参数。</p> </div> <div class="tiledSection"><h2 id="zh-cn_topic_0000001745376462_示例">示例<i class="anchor-icon anchor-icon-link" anchorid="zh-cn_topic_0000001745376462_示例" tips="复制节点链接"></i></h2><p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1044729997204137">当前模块为 entry，版本号为 1.0.0，在当前模块的根目录执行：</p> <div _ngcontent-ktx-c106="" class="highlight-div"><div _ngcontent-ktx-c106="" class="highlight-div-header"><div _ngcontent-ktx-c106="" class="highlight-div-header-left"><div _ngcontent-ktx-c106="" class="handle-button expand-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ktx-c106="" class="highlight-div-header-right"><div _ngcontent-ktx-c106="" class="handle-button ai-button"></div><div _ngcontent-ktx-c106="" class="handle-button line-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ktx-c106="" class="handle-button theme-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ktx-c106="" class="handle-button copy-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ktx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_screen1775149687204137" data-highlighted="yes"><ol class="linenums"><li>ohpm version</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1696976211204137">结果示例：</p> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1845147274204137"><span><img height="84.18979800000001" originheight="77" originwidth="489" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104950.18020609929217405990394512220874:50001231000000:2800:30DFE045DBD26ED1A59F0286AB53B8B7195F2D661D686BA1A1C1C15C2CFF1D9B.png" title="点击放大" width="534.6600000000001"></span></p> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1453911716204137">接着执行：</p> <div _ngcontent-ktx-c106="" class="highlight-div"><div _ngcontent-ktx-c106="" class="highlight-div-header"><div _ngcontent-ktx-c106="" class="highlight-div-header-left"><div _ngcontent-ktx-c106="" class="handle-button expand-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ktx-c106="" class="highlight-div-header-right"><div _ngcontent-ktx-c106="" class="handle-button ai-button"></div><div _ngcontent-ktx-c106="" class="handle-button line-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ktx-c106="" class="handle-button theme-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ktx-c106="" class="handle-button copy-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ktx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_screen1152477610204137" data-highlighted="yes"><ol class="linenums"><li>ohpm version 1.0.1-beta.1</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p789786197204137">结果示例：</p> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p576186472204137"><span><img height="54.219977" originheight="61" originwidth="597" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104950.67582231309303736440780088564258:50001231000000:2800:521C88B15F703DCCDDD28043C909FD77DD15A42F4CFB4F138A8E5566848CC8BB.png" title="点击放大" width="530.6700000000001"></span></p> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1397687612204137">接着执行：</p> <div _ngcontent-ktx-c106="" class="highlight-div"><div _ngcontent-ktx-c106="" class="highlight-div-header"><div _ngcontent-ktx-c106="" class="highlight-div-header-left"><div _ngcontent-ktx-c106="" class="handle-button expand-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ktx-c106="" class="highlight-div-header-right"><div _ngcontent-ktx-c106="" class="handle-button ai-button"></div><div _ngcontent-ktx-c106="" class="handle-button line-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ktx-c106="" class="handle-button theme-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ktx-c106="" class="handle-button copy-button"><div _ngcontent-ktx-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ktx-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-undefined" id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_screen40652470204137" data-highlighted="yes"><ol class="linenums"><li>ohpm version major</li></ol></pre></div></div> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p199835124204137">结果示例：</p> <p id="ZH-CN_TOPIC_0000002478334370__zh-cn_topic_0000001745376462_p1531515932204137"><span><img height="62.928684000000004" originheight="65" originwidth="545" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251212104950.76659595852760588615871849782803:50001231000000:2800:2D407B4D0456CA48706CDCFBFD23F824BE3D3FD0A4E3EFFE61FD7EDBBD508FE6.png" title="点击放大" width="527.6775"></span></p> </div> </div> <div></div></div>